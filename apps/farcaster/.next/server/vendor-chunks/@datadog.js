"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@datadog";
exports.ids = ["vendor-chunks/@datadog"];
exports.modules = {

/***/ "(ssr)/../../node_modules/@datadog/browser-core/esm/boot/init.js":
/*!*****************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/boot/init.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   defineGlobal: () => (/* binding */ defineGlobal),\n/* harmony export */   makePublicApi: () => (/* binding */ makePublicApi)\n/* harmony export */ });\n/* harmony import */ var _tools_catchUserErrors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../tools/catchUserErrors */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/catchUserErrors.js\");\n/* harmony import */ var _tools_monitor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../tools/monitor */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/monitor.js\");\n/* harmony import */ var _tools_utils_polyfills__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../tools/utils/polyfills */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/polyfills.js\");\n\n\n\nfunction makePublicApi(stub) {\n    var publicApi = (0,_tools_utils_polyfills__WEBPACK_IMPORTED_MODULE_0__.assign)({\n        version: \"4.42.2\",\n        // This API method is intentionally not monitored, since the only thing executed is the\n        // user-provided 'callback'.  All SDK usages executed in the callback should be monitored, and\n        // we don't want to interfere with the user uncaught exceptions.\n        onReady: function (callback) {\n            callback();\n        },\n    }, stub);\n    // Add a \"hidden\" property to set debug mode. We define it that way to hide it\n    // as much as possible but of course it's not a real protection.\n    Object.defineProperty(publicApi, '_setDebug', {\n        get: function () {\n            return _tools_monitor__WEBPACK_IMPORTED_MODULE_1__.setDebugMode;\n        },\n        enumerable: false,\n    });\n    return publicApi;\n}\nfunction defineGlobal(global, name, api) {\n    var existingGlobalVariable = global[name];\n    global[name] = api;\n    if (existingGlobalVariable && existingGlobalVariable.q) {\n        existingGlobalVariable.q.forEach(function (fn) { return (0,_tools_catchUserErrors__WEBPACK_IMPORTED_MODULE_2__.catchUserErrors)(fn, 'onReady callback threw an error:')(); });\n    }\n}\n//# sourceMappingURL=init.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vYm9vdC9pbml0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQTJEO0FBQ1g7QUFDRTtBQUMzQztBQUNQLG9CQUFvQiw4REFBTTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHdEQUFZO0FBQy9CLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQSx5REFBeUQsT0FBTyx1RUFBZSw2Q0FBNkM7QUFDNUg7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFyY2FzdGVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLWNvcmUvZXNtL2Jvb3QvaW5pdC5qcz8yZWM4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNhdGNoVXNlckVycm9ycyB9IGZyb20gJy4uL3Rvb2xzL2NhdGNoVXNlckVycm9ycyc7XG5pbXBvcnQgeyBzZXREZWJ1Z01vZGUgfSBmcm9tICcuLi90b29scy9tb25pdG9yJztcbmltcG9ydCB7IGFzc2lnbiB9IGZyb20gJy4uL3Rvb2xzL3V0aWxzL3BvbHlmaWxscyc7XG5leHBvcnQgZnVuY3Rpb24gbWFrZVB1YmxpY0FwaShzdHViKSB7XG4gICAgdmFyIHB1YmxpY0FwaSA9IGFzc2lnbih7XG4gICAgICAgIHZlcnNpb246IFwiNC40Mi4yXCIsXG4gICAgICAgIC8vIFRoaXMgQVBJIG1ldGhvZCBpcyBpbnRlbnRpb25hbGx5IG5vdCBtb25pdG9yZWQsIHNpbmNlIHRoZSBvbmx5IHRoaW5nIGV4ZWN1dGVkIGlzIHRoZVxuICAgICAgICAvLyB1c2VyLXByb3ZpZGVkICdjYWxsYmFjaycuICBBbGwgU0RLIHVzYWdlcyBleGVjdXRlZCBpbiB0aGUgY2FsbGJhY2sgc2hvdWxkIGJlIG1vbml0b3JlZCwgYW5kXG4gICAgICAgIC8vIHdlIGRvbid0IHdhbnQgdG8gaW50ZXJmZXJlIHdpdGggdGhlIHVzZXIgdW5jYXVnaHQgZXhjZXB0aW9ucy5cbiAgICAgICAgb25SZWFkeTogZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICB9LFxuICAgIH0sIHN0dWIpO1xuICAgIC8vIEFkZCBhIFwiaGlkZGVuXCIgcHJvcGVydHkgdG8gc2V0IGRlYnVnIG1vZGUuIFdlIGRlZmluZSBpdCB0aGF0IHdheSB0byBoaWRlIGl0XG4gICAgLy8gYXMgbXVjaCBhcyBwb3NzaWJsZSBidXQgb2YgY291cnNlIGl0J3Mgbm90IGEgcmVhbCBwcm90ZWN0aW9uLlxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwdWJsaWNBcGksICdfc2V0RGVidWcnLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHNldERlYnVnTW9kZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgfSk7XG4gICAgcmV0dXJuIHB1YmxpY0FwaTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBkZWZpbmVHbG9iYWwoZ2xvYmFsLCBuYW1lLCBhcGkpIHtcbiAgICB2YXIgZXhpc3RpbmdHbG9iYWxWYXJpYWJsZSA9IGdsb2JhbFtuYW1lXTtcbiAgICBnbG9iYWxbbmFtZV0gPSBhcGk7XG4gICAgaWYgKGV4aXN0aW5nR2xvYmFsVmFyaWFibGUgJiYgZXhpc3RpbmdHbG9iYWxWYXJpYWJsZS5xKSB7XG4gICAgICAgIGV4aXN0aW5nR2xvYmFsVmFyaWFibGUucS5mb3JFYWNoKGZ1bmN0aW9uIChmbikgeyByZXR1cm4gY2F0Y2hVc2VyRXJyb3JzKGZuLCAnb25SZWFkeSBjYWxsYmFjayB0aHJldyBhbiBlcnJvcjonKSgpOyB9KTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbml0LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-core/esm/boot/init.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-core/esm/browser/addEventListener.js":
/*!********************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/browser/addEventListener.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addEventListener: () => (/* binding */ addEventListener),\n/* harmony export */   addEventListeners: () => (/* binding */ addEventListeners)\n/* harmony export */ });\n/* harmony import */ var _tools_monitor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../tools/monitor */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/monitor.js\");\n/* harmony import */ var _tools_getZoneJsOriginalValue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../tools/getZoneJsOriginalValue */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/getZoneJsOriginalValue.js\");\n\n\n/**\n * Add an event listener to an event target object (Window, Element, mock object...).  This provides\n * a few conveniences compared to using `element.addEventListener` directly:\n *\n * * supports IE11 by: using an option object only if needed and emulating the `once` option\n *\n * * wraps the listener with a `monitor` function\n *\n * * returns a `stop` function to remove the listener\n */\nfunction addEventListener(eventTarget, eventName, listener, options) {\n    return addEventListeners(eventTarget, [eventName], listener, options);\n}\n/**\n * Add event listeners to an event target object (Window, Element, mock object...).  This provides\n * a few conveniences compared to using `element.addEventListener` directly:\n *\n * * supports IE11 by: using an option object only if needed and emulating the `once` option\n *\n * * wraps the listener with a `monitor` function\n *\n * * returns a `stop` function to remove the listener\n *\n * * with `once: true`, the listener will be called at most once, even if different events are listened\n */\nfunction addEventListeners(eventTarget, eventNames, listener, _a) {\n    var _b = _a === void 0 ? {} : _a, once = _b.once, capture = _b.capture, passive = _b.passive;\n    var wrappedListener = (0,_tools_monitor__WEBPACK_IMPORTED_MODULE_0__.monitor)(once\n        ? function (event) {\n            stop();\n            listener(event);\n        }\n        : listener);\n    var options = passive ? { capture: capture, passive: passive } : capture;\n    var add = (0,_tools_getZoneJsOriginalValue__WEBPACK_IMPORTED_MODULE_1__.getZoneJsOriginalValue)(eventTarget, 'addEventListener');\n    eventNames.forEach(function (eventName) { return add.call(eventTarget, eventName, wrappedListener, options); });\n    function stop() {\n        var remove = (0,_tools_getZoneJsOriginalValue__WEBPACK_IMPORTED_MODULE_1__.getZoneJsOriginalValue)(eventTarget, 'removeEventListener');\n        eventNames.forEach(function (eventName) { return remove.call(eventTarget, eventName, wrappedListener, options); });\n    }\n    return {\n        stop: stop,\n    };\n}\n//# sourceMappingURL=addEventListener.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vYnJvd3Nlci9hZGRFdmVudExpc3RlbmVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBMkM7QUFDOEI7QUFDekU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLGdDQUFnQztBQUNoQywwQkFBMEIsdURBQU87QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixxQ0FBcUM7QUFDbkUsY0FBYyxxRkFBc0I7QUFDcEMsOENBQThDLG9FQUFvRTtBQUNsSDtBQUNBLHFCQUFxQixxRkFBc0I7QUFDM0Msa0RBQWtELHVFQUF1RTtBQUN6SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYXJjYXN0ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vYnJvd3Nlci9hZGRFdmVudExpc3RlbmVyLmpzPzEyYjIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbW9uaXRvciB9IGZyb20gJy4uL3Rvb2xzL21vbml0b3InO1xuaW1wb3J0IHsgZ2V0Wm9uZUpzT3JpZ2luYWxWYWx1ZSB9IGZyb20gJy4uL3Rvb2xzL2dldFpvbmVKc09yaWdpbmFsVmFsdWUnO1xuLyoqXG4gKiBBZGQgYW4gZXZlbnQgbGlzdGVuZXIgdG8gYW4gZXZlbnQgdGFyZ2V0IG9iamVjdCAoV2luZG93LCBFbGVtZW50LCBtb2NrIG9iamVjdC4uLikuICBUaGlzIHByb3ZpZGVzXG4gKiBhIGZldyBjb252ZW5pZW5jZXMgY29tcGFyZWQgdG8gdXNpbmcgYGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcmAgZGlyZWN0bHk6XG4gKlxuICogKiBzdXBwb3J0cyBJRTExIGJ5OiB1c2luZyBhbiBvcHRpb24gb2JqZWN0IG9ubHkgaWYgbmVlZGVkIGFuZCBlbXVsYXRpbmcgdGhlIGBvbmNlYCBvcHRpb25cbiAqXG4gKiAqIHdyYXBzIHRoZSBsaXN0ZW5lciB3aXRoIGEgYG1vbml0b3JgIGZ1bmN0aW9uXG4gKlxuICogKiByZXR1cm5zIGEgYHN0b3BgIGZ1bmN0aW9uIHRvIHJlbW92ZSB0aGUgbGlzdGVuZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXIoZXZlbnRUYXJnZXQsIGV2ZW50TmFtZSwgbGlzdGVuZXIsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gYWRkRXZlbnRMaXN0ZW5lcnMoZXZlbnRUYXJnZXQsIFtldmVudE5hbWVdLCBsaXN0ZW5lciwgb3B0aW9ucyk7XG59XG4vKipcbiAqIEFkZCBldmVudCBsaXN0ZW5lcnMgdG8gYW4gZXZlbnQgdGFyZ2V0IG9iamVjdCAoV2luZG93LCBFbGVtZW50LCBtb2NrIG9iamVjdC4uLikuICBUaGlzIHByb3ZpZGVzXG4gKiBhIGZldyBjb252ZW5pZW5jZXMgY29tcGFyZWQgdG8gdXNpbmcgYGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcmAgZGlyZWN0bHk6XG4gKlxuICogKiBzdXBwb3J0cyBJRTExIGJ5OiB1c2luZyBhbiBvcHRpb24gb2JqZWN0IG9ubHkgaWYgbmVlZGVkIGFuZCBlbXVsYXRpbmcgdGhlIGBvbmNlYCBvcHRpb25cbiAqXG4gKiAqIHdyYXBzIHRoZSBsaXN0ZW5lciB3aXRoIGEgYG1vbml0b3JgIGZ1bmN0aW9uXG4gKlxuICogKiByZXR1cm5zIGEgYHN0b3BgIGZ1bmN0aW9uIHRvIHJlbW92ZSB0aGUgbGlzdGVuZXJcbiAqXG4gKiAqIHdpdGggYG9uY2U6IHRydWVgLCB0aGUgbGlzdGVuZXIgd2lsbCBiZSBjYWxsZWQgYXQgbW9zdCBvbmNlLCBldmVuIGlmIGRpZmZlcmVudCBldmVudHMgYXJlIGxpc3RlbmVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRFdmVudExpc3RlbmVycyhldmVudFRhcmdldCwgZXZlbnROYW1lcywgbGlzdGVuZXIsIF9hKSB7XG4gICAgdmFyIF9iID0gX2EgPT09IHZvaWQgMCA/IHt9IDogX2EsIG9uY2UgPSBfYi5vbmNlLCBjYXB0dXJlID0gX2IuY2FwdHVyZSwgcGFzc2l2ZSA9IF9iLnBhc3NpdmU7XG4gICAgdmFyIHdyYXBwZWRMaXN0ZW5lciA9IG1vbml0b3Iob25jZVxuICAgICAgICA/IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgc3RvcCgpO1xuICAgICAgICAgICAgbGlzdGVuZXIoZXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIDogbGlzdGVuZXIpO1xuICAgIHZhciBvcHRpb25zID0gcGFzc2l2ZSA/IHsgY2FwdHVyZTogY2FwdHVyZSwgcGFzc2l2ZTogcGFzc2l2ZSB9IDogY2FwdHVyZTtcbiAgICB2YXIgYWRkID0gZ2V0Wm9uZUpzT3JpZ2luYWxWYWx1ZShldmVudFRhcmdldCwgJ2FkZEV2ZW50TGlzdGVuZXInKTtcbiAgICBldmVudE5hbWVzLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50TmFtZSkgeyByZXR1cm4gYWRkLmNhbGwoZXZlbnRUYXJnZXQsIGV2ZW50TmFtZSwgd3JhcHBlZExpc3RlbmVyLCBvcHRpb25zKTsgfSk7XG4gICAgZnVuY3Rpb24gc3RvcCgpIHtcbiAgICAgICAgdmFyIHJlbW92ZSA9IGdldFpvbmVKc09yaWdpbmFsVmFsdWUoZXZlbnRUYXJnZXQsICdyZW1vdmVFdmVudExpc3RlbmVyJyk7XG4gICAgICAgIGV2ZW50TmFtZXMuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnROYW1lKSB7IHJldHVybiByZW1vdmUuY2FsbChldmVudFRhcmdldCwgZXZlbnROYW1lLCB3cmFwcGVkTGlzdGVuZXIsIG9wdGlvbnMpOyB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc3RvcDogc3RvcCxcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YWRkRXZlbnRMaXN0ZW5lci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-core/esm/browser/addEventListener.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-core/esm/browser/cookie.js":
/*!**********************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/browser/cookie.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   COOKIE_ACCESS_DELAY: () => (/* binding */ COOKIE_ACCESS_DELAY),\n/* harmony export */   areCookiesAuthorized: () => (/* binding */ areCookiesAuthorized),\n/* harmony export */   deleteCookie: () => (/* binding */ deleteCookie),\n/* harmony export */   getCookie: () => (/* binding */ getCookie),\n/* harmony export */   getCurrentSite: () => (/* binding */ getCurrentSite),\n/* harmony export */   setCookie: () => (/* binding */ setCookie)\n/* harmony export */ });\n/* harmony import */ var _tools_display__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../tools/display */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/display.js\");\n/* harmony import */ var _tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../tools/utils/timeUtils */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js\");\n/* harmony import */ var _tools_utils_stringUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../tools/utils/stringUtils */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/stringUtils.js\");\n\n\n\nvar COOKIE_ACCESS_DELAY = _tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_0__.ONE_SECOND;\nfunction setCookie(name, value, expireDelay, options) {\n    var date = new Date();\n    date.setTime(date.getTime() + expireDelay);\n    var expires = \"expires=\".concat(date.toUTCString());\n    var sameSite = options && options.crossSite ? 'none' : 'strict';\n    var domain = options && options.domain ? \";domain=\".concat(options.domain) : '';\n    var secure = options && options.secure ? ';secure' : '';\n    document.cookie = \"\".concat(name, \"=\").concat(value, \";\").concat(expires, \";path=/;samesite=\").concat(sameSite).concat(domain).concat(secure);\n}\nfunction getCookie(name) {\n    return (0,_tools_utils_stringUtils__WEBPACK_IMPORTED_MODULE_1__.findCommaSeparatedValue)(document.cookie, name);\n}\nfunction deleteCookie(name, options) {\n    setCookie(name, '', 0, options);\n}\nfunction areCookiesAuthorized(options) {\n    if (document.cookie === undefined || document.cookie === null) {\n        return false;\n    }\n    try {\n        // Use a unique cookie name to avoid issues when the SDK is initialized multiple times during\n        // the test cookie lifetime\n        var testCookieName = \"dd_cookie_test_\".concat((0,_tools_utils_stringUtils__WEBPACK_IMPORTED_MODULE_1__.generateUUID)());\n        var testCookieValue = 'test';\n        setCookie(testCookieName, testCookieValue, _tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_0__.ONE_MINUTE, options);\n        var isCookieCorrectlySet = getCookie(testCookieName) === testCookieValue;\n        deleteCookie(testCookieName, options);\n        return isCookieCorrectlySet;\n    }\n    catch (error) {\n        _tools_display__WEBPACK_IMPORTED_MODULE_2__.display.error(error);\n        return false;\n    }\n}\n/**\n * No API to retrieve it, number of levels for subdomain and suffix are unknown\n * strategy: find the minimal domain on which cookies are allowed to be set\n * https://web.dev/same-site-same-origin/#site\n */\nvar getCurrentSiteCache;\nfunction getCurrentSite() {\n    if (getCurrentSiteCache === undefined) {\n        // Use a unique cookie name to avoid issues when the SDK is initialized multiple times during\n        // the test cookie lifetime\n        var testCookieName = \"dd_site_test_\".concat((0,_tools_utils_stringUtils__WEBPACK_IMPORTED_MODULE_1__.generateUUID)());\n        var testCookieValue = 'test';\n        var domainLevels = window.location.hostname.split('.');\n        var candidateDomain = domainLevels.pop();\n        while (domainLevels.length && !getCookie(testCookieName)) {\n            candidateDomain = \"\".concat(domainLevels.pop(), \".\").concat(candidateDomain);\n            setCookie(testCookieName, testCookieValue, _tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_0__.ONE_SECOND, { domain: candidateDomain });\n        }\n        deleteCookie(testCookieName, { domain: candidateDomain });\n        getCurrentSiteCache = candidateDomain;\n    }\n    return getCurrentSiteCache;\n}\n//# sourceMappingURL=cookie.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vYnJvd3Nlci9jb29raWUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQTJDO0FBQ3VCO0FBQ2lCO0FBQzVFLDBCQUEwQiw4REFBVTtBQUNwQztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQStDO0FBQy9DLCtDQUErQztBQUMvQywyREFBMkQscUJBQXFCLE9BQU87QUFDdkY7QUFDTztBQUNQLFdBQVcsaUZBQXVCO0FBQ2xDO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0Qsc0VBQVk7QUFDbEU7QUFDQSxtREFBbUQsOERBQVU7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsbURBQU87QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCxzRUFBWTtBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVELDhEQUFVLElBQUkseUJBQXlCO0FBQzlGO0FBQ0EsdUNBQXVDLHlCQUF5QjtBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFyY2FzdGVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLWNvcmUvZXNtL2Jyb3dzZXIvY29va2llLmpzPzBjOWYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZGlzcGxheSB9IGZyb20gJy4uL3Rvb2xzL2Rpc3BsYXknO1xuaW1wb3J0IHsgT05FX01JTlVURSwgT05FX1NFQ09ORCB9IGZyb20gJy4uL3Rvb2xzL3V0aWxzL3RpbWVVdGlscyc7XG5pbXBvcnQgeyBmaW5kQ29tbWFTZXBhcmF0ZWRWYWx1ZSwgZ2VuZXJhdGVVVUlEIH0gZnJvbSAnLi4vdG9vbHMvdXRpbHMvc3RyaW5nVXRpbHMnO1xuZXhwb3J0IHZhciBDT09LSUVfQUNDRVNTX0RFTEFZID0gT05FX1NFQ09ORDtcbmV4cG9ydCBmdW5jdGlvbiBzZXRDb29raWUobmFtZSwgdmFsdWUsIGV4cGlyZURlbGF5LCBvcHRpb25zKSB7XG4gICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSgpO1xuICAgIGRhdGUuc2V0VGltZShkYXRlLmdldFRpbWUoKSArIGV4cGlyZURlbGF5KTtcbiAgICB2YXIgZXhwaXJlcyA9IFwiZXhwaXJlcz1cIi5jb25jYXQoZGF0ZS50b1VUQ1N0cmluZygpKTtcbiAgICB2YXIgc2FtZVNpdGUgPSBvcHRpb25zICYmIG9wdGlvbnMuY3Jvc3NTaXRlID8gJ25vbmUnIDogJ3N0cmljdCc7XG4gICAgdmFyIGRvbWFpbiA9IG9wdGlvbnMgJiYgb3B0aW9ucy5kb21haW4gPyBcIjtkb21haW49XCIuY29uY2F0KG9wdGlvbnMuZG9tYWluKSA6ICcnO1xuICAgIHZhciBzZWN1cmUgPSBvcHRpb25zICYmIG9wdGlvbnMuc2VjdXJlID8gJztzZWN1cmUnIDogJyc7XG4gICAgZG9jdW1lbnQuY29va2llID0gXCJcIi5jb25jYXQobmFtZSwgXCI9XCIpLmNvbmNhdCh2YWx1ZSwgXCI7XCIpLmNvbmNhdChleHBpcmVzLCBcIjtwYXRoPS87c2FtZXNpdGU9XCIpLmNvbmNhdChzYW1lU2l0ZSkuY29uY2F0KGRvbWFpbikuY29uY2F0KHNlY3VyZSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29va2llKG5hbWUpIHtcbiAgICByZXR1cm4gZmluZENvbW1hU2VwYXJhdGVkVmFsdWUoZG9jdW1lbnQuY29va2llLCBuYW1lKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBkZWxldGVDb29raWUobmFtZSwgb3B0aW9ucykge1xuICAgIHNldENvb2tpZShuYW1lLCAnJywgMCwgb3B0aW9ucyk7XG59XG5leHBvcnQgZnVuY3Rpb24gYXJlQ29va2llc0F1dGhvcml6ZWQob3B0aW9ucykge1xuICAgIGlmIChkb2N1bWVudC5jb29raWUgPT09IHVuZGVmaW5lZCB8fCBkb2N1bWVudC5jb29raWUgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyBVc2UgYSB1bmlxdWUgY29va2llIG5hbWUgdG8gYXZvaWQgaXNzdWVzIHdoZW4gdGhlIFNESyBpcyBpbml0aWFsaXplZCBtdWx0aXBsZSB0aW1lcyBkdXJpbmdcbiAgICAgICAgLy8gdGhlIHRlc3QgY29va2llIGxpZmV0aW1lXG4gICAgICAgIHZhciB0ZXN0Q29va2llTmFtZSA9IFwiZGRfY29va2llX3Rlc3RfXCIuY29uY2F0KGdlbmVyYXRlVVVJRCgpKTtcbiAgICAgICAgdmFyIHRlc3RDb29raWVWYWx1ZSA9ICd0ZXN0JztcbiAgICAgICAgc2V0Q29va2llKHRlc3RDb29raWVOYW1lLCB0ZXN0Q29va2llVmFsdWUsIE9ORV9NSU5VVEUsIG9wdGlvbnMpO1xuICAgICAgICB2YXIgaXNDb29raWVDb3JyZWN0bHlTZXQgPSBnZXRDb29raWUodGVzdENvb2tpZU5hbWUpID09PSB0ZXN0Q29va2llVmFsdWU7XG4gICAgICAgIGRlbGV0ZUNvb2tpZSh0ZXN0Q29va2llTmFtZSwgb3B0aW9ucyk7XG4gICAgICAgIHJldHVybiBpc0Nvb2tpZUNvcnJlY3RseVNldDtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGRpc3BsYXkuZXJyb3IoZXJyb3IpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuLyoqXG4gKiBObyBBUEkgdG8gcmV0cmlldmUgaXQsIG51bWJlciBvZiBsZXZlbHMgZm9yIHN1YmRvbWFpbiBhbmQgc3VmZml4IGFyZSB1bmtub3duXG4gKiBzdHJhdGVneTogZmluZCB0aGUgbWluaW1hbCBkb21haW4gb24gd2hpY2ggY29va2llcyBhcmUgYWxsb3dlZCB0byBiZSBzZXRcbiAqIGh0dHBzOi8vd2ViLmRldi9zYW1lLXNpdGUtc2FtZS1vcmlnaW4vI3NpdGVcbiAqL1xudmFyIGdldEN1cnJlbnRTaXRlQ2FjaGU7XG5leHBvcnQgZnVuY3Rpb24gZ2V0Q3VycmVudFNpdGUoKSB7XG4gICAgaWYgKGdldEN1cnJlbnRTaXRlQ2FjaGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyBVc2UgYSB1bmlxdWUgY29va2llIG5hbWUgdG8gYXZvaWQgaXNzdWVzIHdoZW4gdGhlIFNESyBpcyBpbml0aWFsaXplZCBtdWx0aXBsZSB0aW1lcyBkdXJpbmdcbiAgICAgICAgLy8gdGhlIHRlc3QgY29va2llIGxpZmV0aW1lXG4gICAgICAgIHZhciB0ZXN0Q29va2llTmFtZSA9IFwiZGRfc2l0ZV90ZXN0X1wiLmNvbmNhdChnZW5lcmF0ZVVVSUQoKSk7XG4gICAgICAgIHZhciB0ZXN0Q29va2llVmFsdWUgPSAndGVzdCc7XG4gICAgICAgIHZhciBkb21haW5MZXZlbHMgPSB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUuc3BsaXQoJy4nKTtcbiAgICAgICAgdmFyIGNhbmRpZGF0ZURvbWFpbiA9IGRvbWFpbkxldmVscy5wb3AoKTtcbiAgICAgICAgd2hpbGUgKGRvbWFpbkxldmVscy5sZW5ndGggJiYgIWdldENvb2tpZSh0ZXN0Q29va2llTmFtZSkpIHtcbiAgICAgICAgICAgIGNhbmRpZGF0ZURvbWFpbiA9IFwiXCIuY29uY2F0KGRvbWFpbkxldmVscy5wb3AoKSwgXCIuXCIpLmNvbmNhdChjYW5kaWRhdGVEb21haW4pO1xuICAgICAgICAgICAgc2V0Q29va2llKHRlc3RDb29raWVOYW1lLCB0ZXN0Q29va2llVmFsdWUsIE9ORV9TRUNPTkQsIHsgZG9tYWluOiBjYW5kaWRhdGVEb21haW4gfSk7XG4gICAgICAgIH1cbiAgICAgICAgZGVsZXRlQ29va2llKHRlc3RDb29raWVOYW1lLCB7IGRvbWFpbjogY2FuZGlkYXRlRG9tYWluIH0pO1xuICAgICAgICBnZXRDdXJyZW50U2l0ZUNhY2hlID0gY2FuZGlkYXRlRG9tYWluO1xuICAgIH1cbiAgICByZXR1cm4gZ2V0Q3VycmVudFNpdGVDYWNoZTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvb2tpZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-core/esm/browser/cookie.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-core/esm/browser/fetchObservable.js":
/*!*******************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/browser/fetchObservable.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initFetchObservable: () => (/* binding */ initFetchObservable)\n/* harmony export */ });\n/* harmony import */ var _tools_instrumentMethod__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../tools/instrumentMethod */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/instrumentMethod.js\");\n/* harmony import */ var _tools_monitor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../tools/monitor */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/monitor.js\");\n/* harmony import */ var _tools_observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../tools/observable */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/observable.js\");\n/* harmony import */ var _tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../tools/utils/timeUtils */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js\");\n/* harmony import */ var _tools_utils_urlPolyfill__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../tools/utils/urlPolyfill */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/urlPolyfill.js\");\n\n\n\n\n\nvar fetchObservable;\nfunction initFetchObservable() {\n    if (!fetchObservable) {\n        fetchObservable = createFetchObservable();\n    }\n    return fetchObservable;\n}\nfunction createFetchObservable() {\n    var observable = new _tools_observable__WEBPACK_IMPORTED_MODULE_0__.Observable(function () {\n        if (!window.fetch) {\n            return;\n        }\n        var stop = (0,_tools_instrumentMethod__WEBPACK_IMPORTED_MODULE_1__.instrumentMethod)(window, 'fetch', function (originalFetch) {\n            return function (input, init) {\n                var responsePromise;\n                var context = (0,_tools_monitor__WEBPACK_IMPORTED_MODULE_2__.callMonitored)(beforeSend, null, [observable, input, init]);\n                if (context) {\n                    responsePromise = originalFetch.call(this, context.input, context.init);\n                    (0,_tools_monitor__WEBPACK_IMPORTED_MODULE_2__.callMonitored)(afterSend, null, [observable, responsePromise, context]);\n                }\n                else {\n                    responsePromise = originalFetch.call(this, input, init);\n                }\n                return responsePromise;\n            };\n        }).stop;\n        return stop;\n    });\n    return observable;\n}\nfunction beforeSend(observable, input, init) {\n    var method = (init && init.method) || (input instanceof Request && input.method) || 'GET';\n    var url = input instanceof Request ? input.url : (0,_tools_utils_urlPolyfill__WEBPACK_IMPORTED_MODULE_3__.normalizeUrl)(String(input));\n    var startClocks = (0,_tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_4__.clocksNow)();\n    var context = {\n        state: 'start',\n        init: init,\n        input: input,\n        method: method,\n        startClocks: startClocks,\n        url: url,\n    };\n    observable.notify(context);\n    return context;\n}\nfunction afterSend(observable, responsePromise, startContext) {\n    var reportFetch = function (response) {\n        var context = startContext;\n        context.state = 'resolve';\n        if ('stack' in response || response instanceof Error) {\n            context.status = 0;\n            context.isAborted = response instanceof DOMException && response.code === DOMException.ABORT_ERR;\n            context.error = response;\n        }\n        else if ('status' in response) {\n            context.response = response;\n            context.responseType = response.type;\n            context.status = response.status;\n            context.isAborted = false;\n        }\n        observable.notify(context);\n    };\n    responsePromise.then((0,_tools_monitor__WEBPACK_IMPORTED_MODULE_2__.monitor)(reportFetch), (0,_tools_monitor__WEBPACK_IMPORTED_MODULE_2__.monitor)(reportFetch));\n}\n//# sourceMappingURL=fetchObservable.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vYnJvd3Nlci9mZXRjaE9ic2VydmFibGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQTZEO0FBQ0g7QUFDVDtBQUNJO0FBQ0s7QUFDMUQ7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5Qix5REFBVTtBQUNuQztBQUNBO0FBQ0E7QUFDQSxtQkFBbUIseUVBQWdCO0FBQ25DO0FBQ0E7QUFDQSw4QkFBOEIsNkRBQWE7QUFDM0M7QUFDQTtBQUNBLG9CQUFvQiw2REFBYTtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQsc0VBQVk7QUFDakUsc0JBQXNCLGlFQUFTO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLHVEQUFPLGVBQWUsdURBQU87QUFDdEQ7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhcmNhc3Rlci8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS9icm93c2VyL2ZldGNoT2JzZXJ2YWJsZS5qcz8yNjBkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGluc3RydW1lbnRNZXRob2QgfSBmcm9tICcuLi90b29scy9pbnN0cnVtZW50TWV0aG9kJztcbmltcG9ydCB7IGNhbGxNb25pdG9yZWQsIG1vbml0b3IgfSBmcm9tICcuLi90b29scy9tb25pdG9yJztcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi90b29scy9vYnNlcnZhYmxlJztcbmltcG9ydCB7IGNsb2Nrc05vdyB9IGZyb20gJy4uL3Rvb2xzL3V0aWxzL3RpbWVVdGlscyc7XG5pbXBvcnQgeyBub3JtYWxpemVVcmwgfSBmcm9tICcuLi90b29scy91dGlscy91cmxQb2x5ZmlsbCc7XG52YXIgZmV0Y2hPYnNlcnZhYmxlO1xuZXhwb3J0IGZ1bmN0aW9uIGluaXRGZXRjaE9ic2VydmFibGUoKSB7XG4gICAgaWYgKCFmZXRjaE9ic2VydmFibGUpIHtcbiAgICAgICAgZmV0Y2hPYnNlcnZhYmxlID0gY3JlYXRlRmV0Y2hPYnNlcnZhYmxlKCk7XG4gICAgfVxuICAgIHJldHVybiBmZXRjaE9ic2VydmFibGU7XG59XG5mdW5jdGlvbiBjcmVhdGVGZXRjaE9ic2VydmFibGUoKSB7XG4gICAgdmFyIG9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghd2luZG93LmZldGNoKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN0b3AgPSBpbnN0cnVtZW50TWV0aG9kKHdpbmRvdywgJ2ZldGNoJywgZnVuY3Rpb24gKG9yaWdpbmFsRmV0Y2gpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoaW5wdXQsIGluaXQpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVzcG9uc2VQcm9taXNlO1xuICAgICAgICAgICAgICAgIHZhciBjb250ZXh0ID0gY2FsbE1vbml0b3JlZChiZWZvcmVTZW5kLCBudWxsLCBbb2JzZXJ2YWJsZSwgaW5wdXQsIGluaXRdKTtcbiAgICAgICAgICAgICAgICBpZiAoY29udGV4dCkge1xuICAgICAgICAgICAgICAgICAgICByZXNwb25zZVByb21pc2UgPSBvcmlnaW5hbEZldGNoLmNhbGwodGhpcywgY29udGV4dC5pbnB1dCwgY29udGV4dC5pbml0KTtcbiAgICAgICAgICAgICAgICAgICAgY2FsbE1vbml0b3JlZChhZnRlclNlbmQsIG51bGwsIFtvYnNlcnZhYmxlLCByZXNwb25zZVByb21pc2UsIGNvbnRleHRdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlUHJvbWlzZSA9IG9yaWdpbmFsRmV0Y2guY2FsbCh0aGlzLCBpbnB1dCwgaW5pdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZVByb21pc2U7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KS5zdG9wO1xuICAgICAgICByZXR1cm4gc3RvcDtcbiAgICB9KTtcbiAgICByZXR1cm4gb2JzZXJ2YWJsZTtcbn1cbmZ1bmN0aW9uIGJlZm9yZVNlbmQob2JzZXJ2YWJsZSwgaW5wdXQsIGluaXQpIHtcbiAgICB2YXIgbWV0aG9kID0gKGluaXQgJiYgaW5pdC5tZXRob2QpIHx8IChpbnB1dCBpbnN0YW5jZW9mIFJlcXVlc3QgJiYgaW5wdXQubWV0aG9kKSB8fCAnR0VUJztcbiAgICB2YXIgdXJsID0gaW5wdXQgaW5zdGFuY2VvZiBSZXF1ZXN0ID8gaW5wdXQudXJsIDogbm9ybWFsaXplVXJsKFN0cmluZyhpbnB1dCkpO1xuICAgIHZhciBzdGFydENsb2NrcyA9IGNsb2Nrc05vdygpO1xuICAgIHZhciBjb250ZXh0ID0ge1xuICAgICAgICBzdGF0ZTogJ3N0YXJ0JyxcbiAgICAgICAgaW5pdDogaW5pdCxcbiAgICAgICAgaW5wdXQ6IGlucHV0LFxuICAgICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgICAgc3RhcnRDbG9ja3M6IHN0YXJ0Q2xvY2tzLFxuICAgICAgICB1cmw6IHVybCxcbiAgICB9O1xuICAgIG9ic2VydmFibGUubm90aWZ5KGNvbnRleHQpO1xuICAgIHJldHVybiBjb250ZXh0O1xufVxuZnVuY3Rpb24gYWZ0ZXJTZW5kKG9ic2VydmFibGUsIHJlc3BvbnNlUHJvbWlzZSwgc3RhcnRDb250ZXh0KSB7XG4gICAgdmFyIHJlcG9ydEZldGNoID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIHZhciBjb250ZXh0ID0gc3RhcnRDb250ZXh0O1xuICAgICAgICBjb250ZXh0LnN0YXRlID0gJ3Jlc29sdmUnO1xuICAgICAgICBpZiAoJ3N0YWNrJyBpbiByZXNwb25zZSB8fCByZXNwb25zZSBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICBjb250ZXh0LnN0YXR1cyA9IDA7XG4gICAgICAgICAgICBjb250ZXh0LmlzQWJvcnRlZCA9IHJlc3BvbnNlIGluc3RhbmNlb2YgRE9NRXhjZXB0aW9uICYmIHJlc3BvbnNlLmNvZGUgPT09IERPTUV4Y2VwdGlvbi5BQk9SVF9FUlI7XG4gICAgICAgICAgICBjb250ZXh0LmVycm9yID0gcmVzcG9uc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoJ3N0YXR1cycgaW4gcmVzcG9uc2UpIHtcbiAgICAgICAgICAgIGNvbnRleHQucmVzcG9uc2UgPSByZXNwb25zZTtcbiAgICAgICAgICAgIGNvbnRleHQucmVzcG9uc2VUeXBlID0gcmVzcG9uc2UudHlwZTtcbiAgICAgICAgICAgIGNvbnRleHQuc3RhdHVzID0gcmVzcG9uc2Uuc3RhdHVzO1xuICAgICAgICAgICAgY29udGV4dC5pc0Fib3J0ZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBvYnNlcnZhYmxlLm5vdGlmeShjb250ZXh0KTtcbiAgICB9O1xuICAgIHJlc3BvbnNlUHJvbWlzZS50aGVuKG1vbml0b3IocmVwb3J0RmV0Y2gpLCBtb25pdG9yKHJlcG9ydEZldGNoKSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mZXRjaE9ic2VydmFibGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-core/esm/browser/fetchObservable.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-core/esm/browser/pageExitObservable.js":
/*!**********************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/browser/pageExitObservable.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PageExitReason: () => (/* binding */ PageExitReason),\n/* harmony export */   createPageExitObservable: () => (/* binding */ createPageExitObservable),\n/* harmony export */   isPageExitReason: () => (/* binding */ isPageExitReason)\n/* harmony export */ });\n/* harmony import */ var _tools_experimentalFeatures__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../tools/experimentalFeatures */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/experimentalFeatures.js\");\n/* harmony import */ var _tools_observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../tools/observable */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/observable.js\");\n/* harmony import */ var _tools_utils_polyfills__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../tools/utils/polyfills */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/polyfills.js\");\n/* harmony import */ var _tools_utils_functionUtils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../tools/utils/functionUtils */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/functionUtils.js\");\n/* harmony import */ var _addEventListener__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./addEventListener */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/browser/addEventListener.js\");\n\n\n\n\n\nvar PageExitReason = {\n    HIDDEN: 'visibility_hidden',\n    UNLOADING: 'before_unload',\n    PAGEHIDE: 'page_hide',\n    FROZEN: 'page_frozen',\n};\nfunction createPageExitObservable() {\n    var observable = new _tools_observable__WEBPACK_IMPORTED_MODULE_0__.Observable(function () {\n        var pagehideEnabled = (0,_tools_experimentalFeatures__WEBPACK_IMPORTED_MODULE_1__.isExperimentalFeatureEnabled)(_tools_experimentalFeatures__WEBPACK_IMPORTED_MODULE_1__.ExperimentalFeature.PAGEHIDE);\n        var stopListeners = (0,_addEventListener__WEBPACK_IMPORTED_MODULE_2__.addEventListeners)(window, [\"visibilitychange\" /* DOM_EVENT.VISIBILITY_CHANGE */, \"freeze\" /* DOM_EVENT.FREEZE */, \"pagehide\" /* DOM_EVENT.PAGE_HIDE */], function (event) {\n            if (event.type === \"pagehide\" /* DOM_EVENT.PAGE_HIDE */ && pagehideEnabled) {\n                /**\n                 * Only event that detect page unload events while being compatible with the back/forward cache (bfcache)\n                 */\n                observable.notify({ reason: PageExitReason.PAGEHIDE });\n            }\n            else if (event.type === \"visibilitychange\" /* DOM_EVENT.VISIBILITY_CHANGE */ && document.visibilityState === 'hidden') {\n                /**\n                 * Only event that guarantee to fire on mobile devices when the page transitions to background state\n                 * (e.g. when user switches to a different application, goes to homescreen, etc), or is being unloaded.\n                 */\n                observable.notify({ reason: PageExitReason.HIDDEN });\n            }\n            else if (event.type === \"freeze\" /* DOM_EVENT.FREEZE */) {\n                /**\n                 * After transitioning in background a tab can be freezed to preserve resources. (cf: https://developer.chrome.com/blog/page-lifecycle-api)\n                 * Allow to collect events happening between hidden and frozen state.\n                 */\n                observable.notify({ reason: PageExitReason.FROZEN });\n            }\n        }, { capture: true }).stop;\n        var stopBeforeUnloadListener = _tools_utils_functionUtils__WEBPACK_IMPORTED_MODULE_3__.noop;\n        if (!pagehideEnabled) {\n            stopBeforeUnloadListener = (0,_addEventListener__WEBPACK_IMPORTED_MODULE_2__.addEventListener)(window, \"beforeunload\" /* DOM_EVENT.BEFORE_UNLOAD */, function () {\n                observable.notify({ reason: PageExitReason.UNLOADING });\n            }).stop;\n        }\n        return function () {\n            stopListeners();\n            stopBeforeUnloadListener();\n        };\n    });\n    return observable;\n}\nfunction isPageExitReason(reason) {\n    return (0,_tools_utils_polyfills__WEBPACK_IMPORTED_MODULE_4__.includes)((0,_tools_utils_polyfills__WEBPACK_IMPORTED_MODULE_4__.objectValues)(PageExitReason), reason);\n}\n//# sourceMappingURL=pageExitObservable.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vYnJvd3Nlci9wYWdlRXhpdE9ic2VydmFibGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBa0c7QUFDakQ7QUFDaUI7QUFDZDtBQUNxQjtBQUNsRTtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLHlCQUF5Qix5REFBVTtBQUNuQyw4QkFBOEIseUZBQTRCLENBQUMsNEVBQW1CO0FBQzlFLDRCQUE0QixvRUFBaUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsaUNBQWlDO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQywrQkFBK0I7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLCtCQUErQjtBQUNuRTtBQUNBLFNBQVMsSUFBSSxlQUFlO0FBQzVCLHVDQUF1Qyw0REFBSTtBQUMzQztBQUNBLHVDQUF1QyxtRUFBZ0I7QUFDdkQsb0NBQW9DLGtDQUFrQztBQUN0RSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ087QUFDUCxXQUFXLGdFQUFRLENBQUMsb0VBQVk7QUFDaEM7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhcmNhc3Rlci8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS9icm93c2VyL3BhZ2VFeGl0T2JzZXJ2YWJsZS5qcz9mMTcxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzRXhwZXJpbWVudGFsRmVhdHVyZUVuYWJsZWQsIEV4cGVyaW1lbnRhbEZlYXR1cmUgfSBmcm9tICcuLi90b29scy9leHBlcmltZW50YWxGZWF0dXJlcyc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vdG9vbHMvb2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBvYmplY3RWYWx1ZXMsIGluY2x1ZGVzIH0gZnJvbSAnLi4vdG9vbHMvdXRpbHMvcG9seWZpbGxzJztcbmltcG9ydCB7IG5vb3AgfSBmcm9tICcuLi90b29scy91dGlscy9mdW5jdGlvblV0aWxzJztcbmltcG9ydCB7IGFkZEV2ZW50TGlzdGVuZXJzLCBhZGRFdmVudExpc3RlbmVyIH0gZnJvbSAnLi9hZGRFdmVudExpc3RlbmVyJztcbmV4cG9ydCB2YXIgUGFnZUV4aXRSZWFzb24gPSB7XG4gICAgSElEREVOOiAndmlzaWJpbGl0eV9oaWRkZW4nLFxuICAgIFVOTE9BRElORzogJ2JlZm9yZV91bmxvYWQnLFxuICAgIFBBR0VISURFOiAncGFnZV9oaWRlJyxcbiAgICBGUk9aRU46ICdwYWdlX2Zyb3plbicsXG59O1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVBhZ2VFeGl0T2JzZXJ2YWJsZSgpIHtcbiAgICB2YXIgb2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHBhZ2VoaWRlRW5hYmxlZCA9IGlzRXhwZXJpbWVudGFsRmVhdHVyZUVuYWJsZWQoRXhwZXJpbWVudGFsRmVhdHVyZS5QQUdFSElERSk7XG4gICAgICAgIHZhciBzdG9wTGlzdGVuZXJzID0gYWRkRXZlbnRMaXN0ZW5lcnMod2luZG93LCBbXCJ2aXNpYmlsaXR5Y2hhbmdlXCIgLyogRE9NX0VWRU5ULlZJU0lCSUxJVFlfQ0hBTkdFICovLCBcImZyZWV6ZVwiIC8qIERPTV9FVkVOVC5GUkVFWkUgKi8sIFwicGFnZWhpZGVcIiAvKiBET01fRVZFTlQuUEFHRV9ISURFICovXSwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICBpZiAoZXZlbnQudHlwZSA9PT0gXCJwYWdlaGlkZVwiIC8qIERPTV9FVkVOVC5QQUdFX0hJREUgKi8gJiYgcGFnZWhpZGVFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogT25seSBldmVudCB0aGF0IGRldGVjdCBwYWdlIHVubG9hZCBldmVudHMgd2hpbGUgYmVpbmcgY29tcGF0aWJsZSB3aXRoIHRoZSBiYWNrL2ZvcndhcmQgY2FjaGUgKGJmY2FjaGUpXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgb2JzZXJ2YWJsZS5ub3RpZnkoeyByZWFzb246IFBhZ2VFeGl0UmVhc29uLlBBR0VISURFIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZXZlbnQudHlwZSA9PT0gXCJ2aXNpYmlsaXR5Y2hhbmdlXCIgLyogRE9NX0VWRU5ULlZJU0lCSUxJVFlfQ0hBTkdFICovICYmIGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA9PT0gJ2hpZGRlbicpIHtcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBPbmx5IGV2ZW50IHRoYXQgZ3VhcmFudGVlIHRvIGZpcmUgb24gbW9iaWxlIGRldmljZXMgd2hlbiB0aGUgcGFnZSB0cmFuc2l0aW9ucyB0byBiYWNrZ3JvdW5kIHN0YXRlXG4gICAgICAgICAgICAgICAgICogKGUuZy4gd2hlbiB1c2VyIHN3aXRjaGVzIHRvIGEgZGlmZmVyZW50IGFwcGxpY2F0aW9uLCBnb2VzIHRvIGhvbWVzY3JlZW4sIGV0YyksIG9yIGlzIGJlaW5nIHVubG9hZGVkLlxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIG9ic2VydmFibGUubm90aWZ5KHsgcmVhc29uOiBQYWdlRXhpdFJlYXNvbi5ISURERU4gfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChldmVudC50eXBlID09PSBcImZyZWV6ZVwiIC8qIERPTV9FVkVOVC5GUkVFWkUgKi8pIHtcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBBZnRlciB0cmFuc2l0aW9uaW5nIGluIGJhY2tncm91bmQgYSB0YWIgY2FuIGJlIGZyZWV6ZWQgdG8gcHJlc2VydmUgcmVzb3VyY2VzLiAoY2Y6IGh0dHBzOi8vZGV2ZWxvcGVyLmNocm9tZS5jb20vYmxvZy9wYWdlLWxpZmVjeWNsZS1hcGkpXG4gICAgICAgICAgICAgICAgICogQWxsb3cgdG8gY29sbGVjdCBldmVudHMgaGFwcGVuaW5nIGJldHdlZW4gaGlkZGVuIGFuZCBmcm96ZW4gc3RhdGUuXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgb2JzZXJ2YWJsZS5ub3RpZnkoeyByZWFzb246IFBhZ2VFeGl0UmVhc29uLkZST1pFTiB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgeyBjYXB0dXJlOiB0cnVlIH0pLnN0b3A7XG4gICAgICAgIHZhciBzdG9wQmVmb3JlVW5sb2FkTGlzdGVuZXIgPSBub29wO1xuICAgICAgICBpZiAoIXBhZ2VoaWRlRW5hYmxlZCkge1xuICAgICAgICAgICAgc3RvcEJlZm9yZVVubG9hZExpc3RlbmVyID0gYWRkRXZlbnRMaXN0ZW5lcih3aW5kb3csIFwiYmVmb3JldW5sb2FkXCIgLyogRE9NX0VWRU5ULkJFRk9SRV9VTkxPQUQgKi8sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBvYnNlcnZhYmxlLm5vdGlmeSh7IHJlYXNvbjogUGFnZUV4aXRSZWFzb24uVU5MT0FESU5HIH0pO1xuICAgICAgICAgICAgfSkuc3RvcDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc3RvcExpc3RlbmVycygpO1xuICAgICAgICAgICAgc3RvcEJlZm9yZVVubG9hZExpc3RlbmVyKCk7XG4gICAgICAgIH07XG4gICAgfSk7XG4gICAgcmV0dXJuIG9ic2VydmFibGU7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNQYWdlRXhpdFJlYXNvbihyZWFzb24pIHtcbiAgICByZXR1cm4gaW5jbHVkZXMob2JqZWN0VmFsdWVzKFBhZ2VFeGl0UmVhc29uKSwgcmVhc29uKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VFeGl0T2JzZXJ2YWJsZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-core/esm/browser/pageExitObservable.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-core/esm/browser/runOnReadyState.js":
/*!*******************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/browser/runOnReadyState.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   runOnReadyState: () => (/* binding */ runOnReadyState)\n/* harmony export */ });\n/* harmony import */ var _addEventListener__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./addEventListener */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/browser/addEventListener.js\");\n\nfunction runOnReadyState(expectedReadyState, callback) {\n    if (document.readyState === expectedReadyState || document.readyState === 'complete') {\n        callback();\n    }\n    else {\n        var eventName = expectedReadyState === 'complete' ? \"load\" /* DOM_EVENT.LOAD */ : \"DOMContentLoaded\" /* DOM_EVENT.DOM_CONTENT_LOADED */;\n        (0,_addEventListener__WEBPACK_IMPORTED_MODULE_0__.addEventListener)(window, eventName, callback, { once: true });\n    }\n}\n//# sourceMappingURL=runOnReadyState.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vYnJvd3Nlci9ydW5PblJlYWR5U3RhdGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBc0Q7QUFDL0M7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxtRUFBZ0IsZ0NBQWdDLFlBQVk7QUFDcEU7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFyY2FzdGVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLWNvcmUvZXNtL2Jyb3dzZXIvcnVuT25SZWFkeVN0YXRlLmpzPzE0YjgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYWRkRXZlbnRMaXN0ZW5lciB9IGZyb20gJy4vYWRkRXZlbnRMaXN0ZW5lcic7XG5leHBvcnQgZnVuY3Rpb24gcnVuT25SZWFkeVN0YXRlKGV4cGVjdGVkUmVhZHlTdGF0ZSwgY2FsbGJhY2spIHtcbiAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gZXhwZWN0ZWRSZWFkeVN0YXRlIHx8IGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdjb21wbGV0ZScpIHtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZhciBldmVudE5hbWUgPSBleHBlY3RlZFJlYWR5U3RhdGUgPT09ICdjb21wbGV0ZScgPyBcImxvYWRcIiAvKiBET01fRVZFTlQuTE9BRCAqLyA6IFwiRE9NQ29udGVudExvYWRlZFwiIC8qIERPTV9FVkVOVC5ET01fQ09OVEVOVF9MT0FERUQgKi87XG4gICAgICAgIGFkZEV2ZW50TGlzdGVuZXIod2luZG93LCBldmVudE5hbWUsIGNhbGxiYWNrLCB7IG9uY2U6IHRydWUgfSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cnVuT25SZWFkeVN0YXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-core/esm/browser/runOnReadyState.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-core/esm/browser/xhrObservable.js":
/*!*****************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/browser/xhrObservable.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initXhrObservable: () => (/* binding */ initXhrObservable)\n/* harmony export */ });\n/* harmony import */ var _tools_instrumentMethod__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../tools/instrumentMethod */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/instrumentMethod.js\");\n/* harmony import */ var _tools_observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../tools/observable */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/observable.js\");\n/* harmony import */ var _tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../tools/utils/timeUtils */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js\");\n/* harmony import */ var _tools_utils_urlPolyfill__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../tools/utils/urlPolyfill */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/urlPolyfill.js\");\n/* harmony import */ var _tools_utils_objectUtils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../tools/utils/objectUtils */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/objectUtils.js\");\n/* harmony import */ var _addEventListener__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./addEventListener */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/browser/addEventListener.js\");\n\n\n\n\n\n\nvar xhrObservable;\nvar xhrContexts = new WeakMap();\nfunction initXhrObservable() {\n    if (!xhrObservable) {\n        xhrObservable = createXhrObservable();\n    }\n    return xhrObservable;\n}\nfunction createXhrObservable() {\n    var observable = new _tools_observable__WEBPACK_IMPORTED_MODULE_0__.Observable(function () {\n        var stopInstrumentingStart = (0,_tools_instrumentMethod__WEBPACK_IMPORTED_MODULE_1__.instrumentMethodAndCallOriginal)(XMLHttpRequest.prototype, 'open', {\n            before: openXhr,\n        }).stop;\n        var stopInstrumentingSend = (0,_tools_instrumentMethod__WEBPACK_IMPORTED_MODULE_1__.instrumentMethodAndCallOriginal)(XMLHttpRequest.prototype, 'send', {\n            before: function () {\n                sendXhr.call(this, observable);\n            },\n        }).stop;\n        var stopInstrumentingAbort = (0,_tools_instrumentMethod__WEBPACK_IMPORTED_MODULE_1__.instrumentMethodAndCallOriginal)(XMLHttpRequest.prototype, 'abort', {\n            before: abortXhr,\n        }).stop;\n        return function () {\n            stopInstrumentingStart();\n            stopInstrumentingSend();\n            stopInstrumentingAbort();\n        };\n    });\n    return observable;\n}\nfunction openXhr(method, url) {\n    xhrContexts.set(this, {\n        state: 'open',\n        method: method,\n        url: (0,_tools_utils_urlPolyfill__WEBPACK_IMPORTED_MODULE_2__.normalizeUrl)(String(url)),\n    });\n}\nfunction sendXhr(observable) {\n    var _this = this;\n    var context = xhrContexts.get(this);\n    if (!context) {\n        return;\n    }\n    var startContext = context;\n    startContext.state = 'start';\n    startContext.startTime = (0,_tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_3__.relativeNow)();\n    startContext.startClocks = (0,_tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_3__.clocksNow)();\n    startContext.isAborted = false;\n    startContext.xhr = this;\n    var hasBeenReported = false;\n    var stopInstrumentingOnReadyStateChange = (0,_tools_instrumentMethod__WEBPACK_IMPORTED_MODULE_1__.instrumentMethodAndCallOriginal)(this, 'onreadystatechange', {\n        before: function () {\n            if (this.readyState === XMLHttpRequest.DONE) {\n                // Try to report the XHR as soon as possible, because the XHR may be mutated by the\n                // application during a future event. For example, Angular is calling .abort() on\n                // completed requests during a onreadystatechange event, so the status becomes '0'\n                // before the request is collected.\n                onEnd();\n            }\n        },\n    }).stop;\n    var onEnd = function () {\n        unsubscribeLoadEndListener();\n        stopInstrumentingOnReadyStateChange();\n        if (hasBeenReported) {\n            return;\n        }\n        hasBeenReported = true;\n        var completeContext = context;\n        completeContext.state = 'complete';\n        completeContext.duration = (0,_tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_3__.elapsed)(startContext.startClocks.timeStamp, (0,_tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_3__.timeStampNow)());\n        completeContext.status = _this.status;\n        observable.notify((0,_tools_utils_objectUtils__WEBPACK_IMPORTED_MODULE_4__.shallowClone)(completeContext));\n    };\n    var unsubscribeLoadEndListener = (0,_addEventListener__WEBPACK_IMPORTED_MODULE_5__.addEventListener)(this, 'loadend', onEnd).stop;\n    observable.notify(startContext);\n}\nfunction abortXhr() {\n    var context = xhrContexts.get(this);\n    if (context) {\n        context.isAborted = true;\n    }\n}\n//# sourceMappingURL=xhrObservable.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vYnJvd3Nlci94aHJPYnNlcnZhYmxlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBNEU7QUFDM0I7QUFDd0M7QUFDL0I7QUFDQTtBQUNKO0FBQ3REO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5Qix5REFBVTtBQUNuQyxxQ0FBcUMsd0ZBQStCO0FBQ3BFO0FBQ0EsU0FBUztBQUNULG9DQUFvQyx3RkFBK0I7QUFDbkU7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1QscUNBQXFDLHdGQUErQjtBQUNwRTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsc0VBQVk7QUFDekIsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixtRUFBVztBQUN4QywrQkFBK0IsaUVBQVM7QUFDeEM7QUFDQTtBQUNBO0FBQ0EsOENBQThDLHdGQUErQjtBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsK0RBQU8scUNBQXFDLG9FQUFZO0FBQzNGO0FBQ0EsMEJBQTBCLHNFQUFZO0FBQ3RDO0FBQ0EscUNBQXFDLG1FQUFnQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYXJjYXN0ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vYnJvd3Nlci94aHJPYnNlcnZhYmxlLmpzP2NlYzYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaW5zdHJ1bWVudE1ldGhvZEFuZENhbGxPcmlnaW5hbCB9IGZyb20gJy4uL3Rvb2xzL2luc3RydW1lbnRNZXRob2QnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL3Rvb2xzL29ic2VydmFibGUnO1xuaW1wb3J0IHsgZWxhcHNlZCwgcmVsYXRpdmVOb3csIGNsb2Nrc05vdywgdGltZVN0YW1wTm93IH0gZnJvbSAnLi4vdG9vbHMvdXRpbHMvdGltZVV0aWxzJztcbmltcG9ydCB7IG5vcm1hbGl6ZVVybCB9IGZyb20gJy4uL3Rvb2xzL3V0aWxzL3VybFBvbHlmaWxsJztcbmltcG9ydCB7IHNoYWxsb3dDbG9uZSB9IGZyb20gJy4uL3Rvb2xzL3V0aWxzL29iamVjdFV0aWxzJztcbmltcG9ydCB7IGFkZEV2ZW50TGlzdGVuZXIgfSBmcm9tICcuL2FkZEV2ZW50TGlzdGVuZXInO1xudmFyIHhock9ic2VydmFibGU7XG52YXIgeGhyQ29udGV4dHMgPSBuZXcgV2Vha01hcCgpO1xuZXhwb3J0IGZ1bmN0aW9uIGluaXRYaHJPYnNlcnZhYmxlKCkge1xuICAgIGlmICgheGhyT2JzZXJ2YWJsZSkge1xuICAgICAgICB4aHJPYnNlcnZhYmxlID0gY3JlYXRlWGhyT2JzZXJ2YWJsZSgpO1xuICAgIH1cbiAgICByZXR1cm4geGhyT2JzZXJ2YWJsZTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVhock9ic2VydmFibGUoKSB7XG4gICAgdmFyIG9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzdG9wSW5zdHJ1bWVudGluZ1N0YXJ0ID0gaW5zdHJ1bWVudE1ldGhvZEFuZENhbGxPcmlnaW5hbChYTUxIdHRwUmVxdWVzdC5wcm90b3R5cGUsICdvcGVuJywge1xuICAgICAgICAgICAgYmVmb3JlOiBvcGVuWGhyLFxuICAgICAgICB9KS5zdG9wO1xuICAgICAgICB2YXIgc3RvcEluc3RydW1lbnRpbmdTZW5kID0gaW5zdHJ1bWVudE1ldGhvZEFuZENhbGxPcmlnaW5hbChYTUxIdHRwUmVxdWVzdC5wcm90b3R5cGUsICdzZW5kJywge1xuICAgICAgICAgICAgYmVmb3JlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgc2VuZFhoci5jYWxsKHRoaXMsIG9ic2VydmFibGUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSkuc3RvcDtcbiAgICAgICAgdmFyIHN0b3BJbnN0cnVtZW50aW5nQWJvcnQgPSBpbnN0cnVtZW50TWV0aG9kQW5kQ2FsbE9yaWdpbmFsKFhNTEh0dHBSZXF1ZXN0LnByb3RvdHlwZSwgJ2Fib3J0Jywge1xuICAgICAgICAgICAgYmVmb3JlOiBhYm9ydFhocixcbiAgICAgICAgfSkuc3RvcDtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHN0b3BJbnN0cnVtZW50aW5nU3RhcnQoKTtcbiAgICAgICAgICAgIHN0b3BJbnN0cnVtZW50aW5nU2VuZCgpO1xuICAgICAgICAgICAgc3RvcEluc3RydW1lbnRpbmdBYm9ydCgpO1xuICAgICAgICB9O1xuICAgIH0pO1xuICAgIHJldHVybiBvYnNlcnZhYmxlO1xufVxuZnVuY3Rpb24gb3BlblhocihtZXRob2QsIHVybCkge1xuICAgIHhockNvbnRleHRzLnNldCh0aGlzLCB7XG4gICAgICAgIHN0YXRlOiAnb3BlbicsXG4gICAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgICB1cmw6IG5vcm1hbGl6ZVVybChTdHJpbmcodXJsKSksXG4gICAgfSk7XG59XG5mdW5jdGlvbiBzZW5kWGhyKG9ic2VydmFibGUpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHZhciBjb250ZXh0ID0geGhyQ29udGV4dHMuZ2V0KHRoaXMpO1xuICAgIGlmICghY29udGV4dCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBzdGFydENvbnRleHQgPSBjb250ZXh0O1xuICAgIHN0YXJ0Q29udGV4dC5zdGF0ZSA9ICdzdGFydCc7XG4gICAgc3RhcnRDb250ZXh0LnN0YXJ0VGltZSA9IHJlbGF0aXZlTm93KCk7XG4gICAgc3RhcnRDb250ZXh0LnN0YXJ0Q2xvY2tzID0gY2xvY2tzTm93KCk7XG4gICAgc3RhcnRDb250ZXh0LmlzQWJvcnRlZCA9IGZhbHNlO1xuICAgIHN0YXJ0Q29udGV4dC54aHIgPSB0aGlzO1xuICAgIHZhciBoYXNCZWVuUmVwb3J0ZWQgPSBmYWxzZTtcbiAgICB2YXIgc3RvcEluc3RydW1lbnRpbmdPblJlYWR5U3RhdGVDaGFuZ2UgPSBpbnN0cnVtZW50TWV0aG9kQW5kQ2FsbE9yaWdpbmFsKHRoaXMsICdvbnJlYWR5c3RhdGVjaGFuZ2UnLCB7XG4gICAgICAgIGJlZm9yZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PT0gWE1MSHR0cFJlcXVlc3QuRE9ORSkge1xuICAgICAgICAgICAgICAgIC8vIFRyeSB0byByZXBvcnQgdGhlIFhIUiBhcyBzb29uIGFzIHBvc3NpYmxlLCBiZWNhdXNlIHRoZSBYSFIgbWF5IGJlIG11dGF0ZWQgYnkgdGhlXG4gICAgICAgICAgICAgICAgLy8gYXBwbGljYXRpb24gZHVyaW5nIGEgZnV0dXJlIGV2ZW50LiBGb3IgZXhhbXBsZSwgQW5ndWxhciBpcyBjYWxsaW5nIC5hYm9ydCgpIG9uXG4gICAgICAgICAgICAgICAgLy8gY29tcGxldGVkIHJlcXVlc3RzIGR1cmluZyBhIG9ucmVhZHlzdGF0ZWNoYW5nZSBldmVudCwgc28gdGhlIHN0YXR1cyBiZWNvbWVzICcwJ1xuICAgICAgICAgICAgICAgIC8vIGJlZm9yZSB0aGUgcmVxdWVzdCBpcyBjb2xsZWN0ZWQuXG4gICAgICAgICAgICAgICAgb25FbmQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICB9KS5zdG9wO1xuICAgIHZhciBvbkVuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdW5zdWJzY3JpYmVMb2FkRW5kTGlzdGVuZXIoKTtcbiAgICAgICAgc3RvcEluc3RydW1lbnRpbmdPblJlYWR5U3RhdGVDaGFuZ2UoKTtcbiAgICAgICAgaWYgKGhhc0JlZW5SZXBvcnRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGhhc0JlZW5SZXBvcnRlZCA9IHRydWU7XG4gICAgICAgIHZhciBjb21wbGV0ZUNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICBjb21wbGV0ZUNvbnRleHQuc3RhdGUgPSAnY29tcGxldGUnO1xuICAgICAgICBjb21wbGV0ZUNvbnRleHQuZHVyYXRpb24gPSBlbGFwc2VkKHN0YXJ0Q29udGV4dC5zdGFydENsb2Nrcy50aW1lU3RhbXAsIHRpbWVTdGFtcE5vdygpKTtcbiAgICAgICAgY29tcGxldGVDb250ZXh0LnN0YXR1cyA9IF90aGlzLnN0YXR1cztcbiAgICAgICAgb2JzZXJ2YWJsZS5ub3RpZnkoc2hhbGxvd0Nsb25lKGNvbXBsZXRlQ29udGV4dCkpO1xuICAgIH07XG4gICAgdmFyIHVuc3Vic2NyaWJlTG9hZEVuZExpc3RlbmVyID0gYWRkRXZlbnRMaXN0ZW5lcih0aGlzLCAnbG9hZGVuZCcsIG9uRW5kKS5zdG9wO1xuICAgIG9ic2VydmFibGUubm90aWZ5KHN0YXJ0Q29udGV4dCk7XG59XG5mdW5jdGlvbiBhYm9ydFhocigpIHtcbiAgICB2YXIgY29udGV4dCA9IHhockNvbnRleHRzLmdldCh0aGlzKTtcbiAgICBpZiAoY29udGV4dCkge1xuICAgICAgICBjb250ZXh0LmlzQWJvcnRlZCA9IHRydWU7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9eGhyT2JzZXJ2YWJsZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-core/esm/browser/xhrObservable.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-core/esm/domain/configuration/configuration.js":
/*!******************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/domain/configuration/configuration.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DefaultPrivacyLevel: () => (/* binding */ DefaultPrivacyLevel),\n/* harmony export */   buildCookieOptions: () => (/* binding */ buildCookieOptions),\n/* harmony export */   serializeConfiguration: () => (/* binding */ serializeConfiguration),\n/* harmony export */   validateAndBuildConfiguration: () => (/* binding */ validateAndBuildConfiguration)\n/* harmony export */ });\n/* harmony import */ var _browser_cookie__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../browser/cookie */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/browser/cookie.js\");\n/* harmony import */ var _tools_catchUserErrors__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../tools/catchUserErrors */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/catchUserErrors.js\");\n/* harmony import */ var _tools_display__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../tools/display */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/display.js\");\n/* harmony import */ var _tools_experimentalFeatures__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../tools/experimentalFeatures */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/experimentalFeatures.js\");\n/* harmony import */ var _tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../tools/utils/timeUtils */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js\");\n/* harmony import */ var _tools_utils_numberUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../tools/utils/numberUtils */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/numberUtils.js\");\n/* harmony import */ var _tools_utils_byteUtils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../tools/utils/byteUtils */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/byteUtils.js\");\n/* harmony import */ var _tools_utils_objectUtils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../tools/utils/objectUtils */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/objectUtils.js\");\n/* harmony import */ var _tools_utils_polyfills__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../tools/utils/polyfills */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/polyfills.js\");\n/* harmony import */ var _transportConfiguration__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./transportConfiguration */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/configuration/transportConfiguration.js\");\n\n\n\n\n\n\n\n\n\n\nvar DefaultPrivacyLevel = {\n    ALLOW: 'allow',\n    MASK: 'mask',\n    MASK_USER_INPUT: 'mask-user-input',\n};\nfunction validateAndBuildConfiguration(initConfiguration) {\n    var _a, _b, _c;\n    if (!initConfiguration || !initConfiguration.clientToken) {\n        _tools_display__WEBPACK_IMPORTED_MODULE_0__.display.error('Client Token is not configured, we will not send any data.');\n        return;\n    }\n    var sessionSampleRate = (_a = initConfiguration.sessionSampleRate) !== null && _a !== void 0 ? _a : initConfiguration.sampleRate;\n    if (sessionSampleRate !== undefined && !(0,_tools_utils_numberUtils__WEBPACK_IMPORTED_MODULE_1__.isPercentage)(sessionSampleRate)) {\n        _tools_display__WEBPACK_IMPORTED_MODULE_0__.display.error('Session Sample Rate should be a number between 0 and 100');\n        return;\n    }\n    if (initConfiguration.telemetrySampleRate !== undefined && !(0,_tools_utils_numberUtils__WEBPACK_IMPORTED_MODULE_1__.isPercentage)(initConfiguration.telemetrySampleRate)) {\n        _tools_display__WEBPACK_IMPORTED_MODULE_0__.display.error('Telemetry Sample Rate should be a number between 0 and 100');\n        return;\n    }\n    if (initConfiguration.telemetryConfigurationSampleRate !== undefined &&\n        !(0,_tools_utils_numberUtils__WEBPACK_IMPORTED_MODULE_1__.isPercentage)(initConfiguration.telemetryConfigurationSampleRate)) {\n        _tools_display__WEBPACK_IMPORTED_MODULE_0__.display.error('Telemetry Configuration Sample Rate should be a number between 0 and 100');\n        return;\n    }\n    // Set the experimental feature flags as early as possible, so we can use them in most places\n    if (Array.isArray(initConfiguration.enableExperimentalFeatures)) {\n        (0,_tools_experimentalFeatures__WEBPACK_IMPORTED_MODULE_2__.addExperimentalFeatures)(initConfiguration.enableExperimentalFeatures.filter(function (flag) {\n            return (0,_tools_utils_objectUtils__WEBPACK_IMPORTED_MODULE_3__.objectHasValue)(_tools_experimentalFeatures__WEBPACK_IMPORTED_MODULE_2__.ExperimentalFeature, flag);\n        }));\n    }\n    return (0,_tools_utils_polyfills__WEBPACK_IMPORTED_MODULE_4__.assign)({\n        beforeSend: initConfiguration.beforeSend && (0,_tools_catchUserErrors__WEBPACK_IMPORTED_MODULE_5__.catchUserErrors)(initConfiguration.beforeSend, 'beforeSend threw an error:'),\n        cookieOptions: buildCookieOptions(initConfiguration),\n        sessionSampleRate: sessionSampleRate !== null && sessionSampleRate !== void 0 ? sessionSampleRate : 100,\n        telemetrySampleRate: (_b = initConfiguration.telemetrySampleRate) !== null && _b !== void 0 ? _b : 20,\n        telemetryConfigurationSampleRate: (_c = initConfiguration.telemetryConfigurationSampleRate) !== null && _c !== void 0 ? _c : 5,\n        service: initConfiguration.service,\n        silentMultipleInit: !!initConfiguration.silentMultipleInit,\n        /**\n         * beacon payload max queue size implementation is 64kb\n         * ensure that we leave room for logs, rum and potential other users\n         */\n        batchBytesLimit: 16 * _tools_utils_byteUtils__WEBPACK_IMPORTED_MODULE_6__.ONE_KIBI_BYTE,\n        eventRateLimiterThreshold: 3000,\n        maxTelemetryEventsPerPage: 15,\n        /**\n         * flush automatically, aim to be lower than ALB connection timeout\n         * to maximize connection reuse.\n         */\n        flushTimeout: (30 * _tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_7__.ONE_SECOND),\n        /**\n         * Logs intake limit\n         */\n        batchMessagesLimit: 50,\n        messageBytesLimit: 256 * _tools_utils_byteUtils__WEBPACK_IMPORTED_MODULE_6__.ONE_KIBI_BYTE,\n    }, (0,_transportConfiguration__WEBPACK_IMPORTED_MODULE_8__.computeTransportConfiguration)(initConfiguration));\n}\nfunction buildCookieOptions(initConfiguration) {\n    var cookieOptions = {};\n    cookieOptions.secure = mustUseSecureCookie(initConfiguration);\n    cookieOptions.crossSite = !!initConfiguration.useCrossSiteSessionCookie;\n    if (initConfiguration.trackSessionAcrossSubdomains) {\n        cookieOptions.domain = (0,_browser_cookie__WEBPACK_IMPORTED_MODULE_9__.getCurrentSite)();\n    }\n    return cookieOptions;\n}\nfunction mustUseSecureCookie(initConfiguration) {\n    return !!initConfiguration.useSecureSessionCookie || !!initConfiguration.useCrossSiteSessionCookie;\n}\nfunction serializeConfiguration(configuration) {\n    var _a, _b;\n    var proxy = (_a = configuration.proxy) !== null && _a !== void 0 ? _a : configuration.proxyUrl;\n    return {\n        session_sample_rate: (_b = configuration.sessionSampleRate) !== null && _b !== void 0 ? _b : configuration.sampleRate,\n        telemetry_sample_rate: configuration.telemetrySampleRate,\n        telemetry_configuration_sample_rate: configuration.telemetryConfigurationSampleRate,\n        use_before_send: !!configuration.beforeSend,\n        use_cross_site_session_cookie: configuration.useCrossSiteSessionCookie,\n        use_secure_session_cookie: configuration.useSecureSessionCookie,\n        use_proxy: proxy !== undefined ? !!proxy : undefined,\n        silent_multiple_init: configuration.silentMultipleInit,\n        track_session_across_subdomains: configuration.trackSessionAcrossSubdomains,\n        track_resources: configuration.trackResources,\n        track_long_task: configuration.trackLongTasks,\n    };\n}\n//# sourceMappingURL=configuration.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL2NvbmZpZ3VyYXRpb24vY29uZmlndXJhdGlvbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFzRDtBQUNRO0FBQ2hCO0FBQ2tEO0FBQ3ZDO0FBQ0k7QUFDRDtBQUNHO0FBQ1Y7QUFDb0I7QUFDbEU7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLFFBQVEsbURBQU87QUFDZjtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsc0VBQVk7QUFDeEQsUUFBUSxtREFBTztBQUNmO0FBQ0E7QUFDQSxnRUFBZ0Usc0VBQVk7QUFDNUUsUUFBUSxtREFBTztBQUNmO0FBQ0E7QUFDQTtBQUNBLFNBQVMsc0VBQVk7QUFDckIsUUFBUSxtREFBTztBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxvRkFBdUI7QUFDL0IsbUJBQW1CLHdFQUFjLENBQUMsNEVBQW1CO0FBQ3JELFNBQVM7QUFDVDtBQUNBLFdBQVcsOERBQU07QUFDakIsb0RBQW9ELHVFQUFlO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLGlFQUFhO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0Qiw4REFBVTtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxpRUFBYTtBQUM5QyxLQUFLLEVBQUUsc0ZBQTZCO0FBQ3BDO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQiwrREFBYztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYXJjYXN0ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL2NvbmZpZ3VyYXRpb24vY29uZmlndXJhdGlvbi5qcz8wODM5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldEN1cnJlbnRTaXRlIH0gZnJvbSAnLi4vLi4vYnJvd3Nlci9jb29raWUnO1xuaW1wb3J0IHsgY2F0Y2hVc2VyRXJyb3JzIH0gZnJvbSAnLi4vLi4vdG9vbHMvY2F0Y2hVc2VyRXJyb3JzJztcbmltcG9ydCB7IGRpc3BsYXkgfSBmcm9tICcuLi8uLi90b29scy9kaXNwbGF5JztcbmltcG9ydCB7IEV4cGVyaW1lbnRhbEZlYXR1cmUsIGFkZEV4cGVyaW1lbnRhbEZlYXR1cmVzIH0gZnJvbSAnLi4vLi4vdG9vbHMvZXhwZXJpbWVudGFsRmVhdHVyZXMnO1xuaW1wb3J0IHsgT05FX1NFQ09ORCB9IGZyb20gJy4uLy4uL3Rvb2xzL3V0aWxzL3RpbWVVdGlscyc7XG5pbXBvcnQgeyBpc1BlcmNlbnRhZ2UgfSBmcm9tICcuLi8uLi90b29scy91dGlscy9udW1iZXJVdGlscyc7XG5pbXBvcnQgeyBPTkVfS0lCSV9CWVRFIH0gZnJvbSAnLi4vLi4vdG9vbHMvdXRpbHMvYnl0ZVV0aWxzJztcbmltcG9ydCB7IG9iamVjdEhhc1ZhbHVlIH0gZnJvbSAnLi4vLi4vdG9vbHMvdXRpbHMvb2JqZWN0VXRpbHMnO1xuaW1wb3J0IHsgYXNzaWduIH0gZnJvbSAnLi4vLi4vdG9vbHMvdXRpbHMvcG9seWZpbGxzJztcbmltcG9ydCB7IGNvbXB1dGVUcmFuc3BvcnRDb25maWd1cmF0aW9uIH0gZnJvbSAnLi90cmFuc3BvcnRDb25maWd1cmF0aW9uJztcbmV4cG9ydCB2YXIgRGVmYXVsdFByaXZhY3lMZXZlbCA9IHtcbiAgICBBTExPVzogJ2FsbG93JyxcbiAgICBNQVNLOiAnbWFzaycsXG4gICAgTUFTS19VU0VSX0lOUFVUOiAnbWFzay11c2VyLWlucHV0Jyxcbn07XG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVBbmRCdWlsZENvbmZpZ3VyYXRpb24oaW5pdENvbmZpZ3VyYXRpb24pIHtcbiAgICB2YXIgX2EsIF9iLCBfYztcbiAgICBpZiAoIWluaXRDb25maWd1cmF0aW9uIHx8ICFpbml0Q29uZmlndXJhdGlvbi5jbGllbnRUb2tlbikge1xuICAgICAgICBkaXNwbGF5LmVycm9yKCdDbGllbnQgVG9rZW4gaXMgbm90IGNvbmZpZ3VyZWQsIHdlIHdpbGwgbm90IHNlbmQgYW55IGRhdGEuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHNlc3Npb25TYW1wbGVSYXRlID0gKF9hID0gaW5pdENvbmZpZ3VyYXRpb24uc2Vzc2lvblNhbXBsZVJhdGUpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGluaXRDb25maWd1cmF0aW9uLnNhbXBsZVJhdGU7XG4gICAgaWYgKHNlc3Npb25TYW1wbGVSYXRlICE9PSB1bmRlZmluZWQgJiYgIWlzUGVyY2VudGFnZShzZXNzaW9uU2FtcGxlUmF0ZSkpIHtcbiAgICAgICAgZGlzcGxheS5lcnJvcignU2Vzc2lvbiBTYW1wbGUgUmF0ZSBzaG91bGQgYmUgYSBudW1iZXIgYmV0d2VlbiAwIGFuZCAxMDAnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoaW5pdENvbmZpZ3VyYXRpb24udGVsZW1ldHJ5U2FtcGxlUmF0ZSAhPT0gdW5kZWZpbmVkICYmICFpc1BlcmNlbnRhZ2UoaW5pdENvbmZpZ3VyYXRpb24udGVsZW1ldHJ5U2FtcGxlUmF0ZSkpIHtcbiAgICAgICAgZGlzcGxheS5lcnJvcignVGVsZW1ldHJ5IFNhbXBsZSBSYXRlIHNob3VsZCBiZSBhIG51bWJlciBiZXR3ZWVuIDAgYW5kIDEwMCcpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChpbml0Q29uZmlndXJhdGlvbi50ZWxlbWV0cnlDb25maWd1cmF0aW9uU2FtcGxlUmF0ZSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICFpc1BlcmNlbnRhZ2UoaW5pdENvbmZpZ3VyYXRpb24udGVsZW1ldHJ5Q29uZmlndXJhdGlvblNhbXBsZVJhdGUpKSB7XG4gICAgICAgIGRpc3BsYXkuZXJyb3IoJ1RlbGVtZXRyeSBDb25maWd1cmF0aW9uIFNhbXBsZSBSYXRlIHNob3VsZCBiZSBhIG51bWJlciBiZXR3ZWVuIDAgYW5kIDEwMCcpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIFNldCB0aGUgZXhwZXJpbWVudGFsIGZlYXR1cmUgZmxhZ3MgYXMgZWFybHkgYXMgcG9zc2libGUsIHNvIHdlIGNhbiB1c2UgdGhlbSBpbiBtb3N0IHBsYWNlc1xuICAgIGlmIChBcnJheS5pc0FycmF5KGluaXRDb25maWd1cmF0aW9uLmVuYWJsZUV4cGVyaW1lbnRhbEZlYXR1cmVzKSkge1xuICAgICAgICBhZGRFeHBlcmltZW50YWxGZWF0dXJlcyhpbml0Q29uZmlndXJhdGlvbi5lbmFibGVFeHBlcmltZW50YWxGZWF0dXJlcy5maWx0ZXIoZnVuY3Rpb24gKGZsYWcpIHtcbiAgICAgICAgICAgIHJldHVybiBvYmplY3RIYXNWYWx1ZShFeHBlcmltZW50YWxGZWF0dXJlLCBmbGFnKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICByZXR1cm4gYXNzaWduKHtcbiAgICAgICAgYmVmb3JlU2VuZDogaW5pdENvbmZpZ3VyYXRpb24uYmVmb3JlU2VuZCAmJiBjYXRjaFVzZXJFcnJvcnMoaW5pdENvbmZpZ3VyYXRpb24uYmVmb3JlU2VuZCwgJ2JlZm9yZVNlbmQgdGhyZXcgYW4gZXJyb3I6JyksXG4gICAgICAgIGNvb2tpZU9wdGlvbnM6IGJ1aWxkQ29va2llT3B0aW9ucyhpbml0Q29uZmlndXJhdGlvbiksXG4gICAgICAgIHNlc3Npb25TYW1wbGVSYXRlOiBzZXNzaW9uU2FtcGxlUmF0ZSAhPT0gbnVsbCAmJiBzZXNzaW9uU2FtcGxlUmF0ZSAhPT0gdm9pZCAwID8gc2Vzc2lvblNhbXBsZVJhdGUgOiAxMDAsXG4gICAgICAgIHRlbGVtZXRyeVNhbXBsZVJhdGU6IChfYiA9IGluaXRDb25maWd1cmF0aW9uLnRlbGVtZXRyeVNhbXBsZVJhdGUpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IDIwLFxuICAgICAgICB0ZWxlbWV0cnlDb25maWd1cmF0aW9uU2FtcGxlUmF0ZTogKF9jID0gaW5pdENvbmZpZ3VyYXRpb24udGVsZW1ldHJ5Q29uZmlndXJhdGlvblNhbXBsZVJhdGUpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IDUsXG4gICAgICAgIHNlcnZpY2U6IGluaXRDb25maWd1cmF0aW9uLnNlcnZpY2UsXG4gICAgICAgIHNpbGVudE11bHRpcGxlSW5pdDogISFpbml0Q29uZmlndXJhdGlvbi5zaWxlbnRNdWx0aXBsZUluaXQsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBiZWFjb24gcGF5bG9hZCBtYXggcXVldWUgc2l6ZSBpbXBsZW1lbnRhdGlvbiBpcyA2NGtiXG4gICAgICAgICAqIGVuc3VyZSB0aGF0IHdlIGxlYXZlIHJvb20gZm9yIGxvZ3MsIHJ1bSBhbmQgcG90ZW50aWFsIG90aGVyIHVzZXJzXG4gICAgICAgICAqL1xuICAgICAgICBiYXRjaEJ5dGVzTGltaXQ6IDE2ICogT05FX0tJQklfQllURSxcbiAgICAgICAgZXZlbnRSYXRlTGltaXRlclRocmVzaG9sZDogMzAwMCxcbiAgICAgICAgbWF4VGVsZW1ldHJ5RXZlbnRzUGVyUGFnZTogMTUsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBmbHVzaCBhdXRvbWF0aWNhbGx5LCBhaW0gdG8gYmUgbG93ZXIgdGhhbiBBTEIgY29ubmVjdGlvbiB0aW1lb3V0XG4gICAgICAgICAqIHRvIG1heGltaXplIGNvbm5lY3Rpb24gcmV1c2UuXG4gICAgICAgICAqL1xuICAgICAgICBmbHVzaFRpbWVvdXQ6ICgzMCAqIE9ORV9TRUNPTkQpLFxuICAgICAgICAvKipcbiAgICAgICAgICogTG9ncyBpbnRha2UgbGltaXRcbiAgICAgICAgICovXG4gICAgICAgIGJhdGNoTWVzc2FnZXNMaW1pdDogNTAsXG4gICAgICAgIG1lc3NhZ2VCeXRlc0xpbWl0OiAyNTYgKiBPTkVfS0lCSV9CWVRFLFxuICAgIH0sIGNvbXB1dGVUcmFuc3BvcnRDb25maWd1cmF0aW9uKGluaXRDb25maWd1cmF0aW9uKSk7XG59XG5leHBvcnQgZnVuY3Rpb24gYnVpbGRDb29raWVPcHRpb25zKGluaXRDb25maWd1cmF0aW9uKSB7XG4gICAgdmFyIGNvb2tpZU9wdGlvbnMgPSB7fTtcbiAgICBjb29raWVPcHRpb25zLnNlY3VyZSA9IG11c3RVc2VTZWN1cmVDb29raWUoaW5pdENvbmZpZ3VyYXRpb24pO1xuICAgIGNvb2tpZU9wdGlvbnMuY3Jvc3NTaXRlID0gISFpbml0Q29uZmlndXJhdGlvbi51c2VDcm9zc1NpdGVTZXNzaW9uQ29va2llO1xuICAgIGlmIChpbml0Q29uZmlndXJhdGlvbi50cmFja1Nlc3Npb25BY3Jvc3NTdWJkb21haW5zKSB7XG4gICAgICAgIGNvb2tpZU9wdGlvbnMuZG9tYWluID0gZ2V0Q3VycmVudFNpdGUoKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvb2tpZU9wdGlvbnM7XG59XG5mdW5jdGlvbiBtdXN0VXNlU2VjdXJlQ29va2llKGluaXRDb25maWd1cmF0aW9uKSB7XG4gICAgcmV0dXJuICEhaW5pdENvbmZpZ3VyYXRpb24udXNlU2VjdXJlU2Vzc2lvbkNvb2tpZSB8fCAhIWluaXRDb25maWd1cmF0aW9uLnVzZUNyb3NzU2l0ZVNlc3Npb25Db29raWU7XG59XG5leHBvcnQgZnVuY3Rpb24gc2VyaWFsaXplQ29uZmlndXJhdGlvbihjb25maWd1cmF0aW9uKSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICB2YXIgcHJveHkgPSAoX2EgPSBjb25maWd1cmF0aW9uLnByb3h5KSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBjb25maWd1cmF0aW9uLnByb3h5VXJsO1xuICAgIHJldHVybiB7XG4gICAgICAgIHNlc3Npb25fc2FtcGxlX3JhdGU6IChfYiA9IGNvbmZpZ3VyYXRpb24uc2Vzc2lvblNhbXBsZVJhdGUpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IGNvbmZpZ3VyYXRpb24uc2FtcGxlUmF0ZSxcbiAgICAgICAgdGVsZW1ldHJ5X3NhbXBsZV9yYXRlOiBjb25maWd1cmF0aW9uLnRlbGVtZXRyeVNhbXBsZVJhdGUsXG4gICAgICAgIHRlbGVtZXRyeV9jb25maWd1cmF0aW9uX3NhbXBsZV9yYXRlOiBjb25maWd1cmF0aW9uLnRlbGVtZXRyeUNvbmZpZ3VyYXRpb25TYW1wbGVSYXRlLFxuICAgICAgICB1c2VfYmVmb3JlX3NlbmQ6ICEhY29uZmlndXJhdGlvbi5iZWZvcmVTZW5kLFxuICAgICAgICB1c2VfY3Jvc3Nfc2l0ZV9zZXNzaW9uX2Nvb2tpZTogY29uZmlndXJhdGlvbi51c2VDcm9zc1NpdGVTZXNzaW9uQ29va2llLFxuICAgICAgICB1c2Vfc2VjdXJlX3Nlc3Npb25fY29va2llOiBjb25maWd1cmF0aW9uLnVzZVNlY3VyZVNlc3Npb25Db29raWUsXG4gICAgICAgIHVzZV9wcm94eTogcHJveHkgIT09IHVuZGVmaW5lZCA/ICEhcHJveHkgOiB1bmRlZmluZWQsXG4gICAgICAgIHNpbGVudF9tdWx0aXBsZV9pbml0OiBjb25maWd1cmF0aW9uLnNpbGVudE11bHRpcGxlSW5pdCxcbiAgICAgICAgdHJhY2tfc2Vzc2lvbl9hY3Jvc3Nfc3ViZG9tYWluczogY29uZmlndXJhdGlvbi50cmFja1Nlc3Npb25BY3Jvc3NTdWJkb21haW5zLFxuICAgICAgICB0cmFja19yZXNvdXJjZXM6IGNvbmZpZ3VyYXRpb24udHJhY2tSZXNvdXJjZXMsXG4gICAgICAgIHRyYWNrX2xvbmdfdGFzazogY29uZmlndXJhdGlvbi50cmFja0xvbmdUYXNrcyxcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uZmlndXJhdGlvbi5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-core/esm/domain/configuration/configuration.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-core/esm/domain/configuration/endpointBuilder.js":
/*!********************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/domain/configuration/endpointBuilder.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ENDPOINTS: () => (/* binding */ ENDPOINTS),\n/* harmony export */   createEndpointBuilder: () => (/* binding */ createEndpointBuilder)\n/* harmony export */ });\n/* harmony import */ var _tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../tools/utils/timeUtils */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js\");\n/* harmony import */ var _tools_utils_urlPolyfill__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../tools/utils/urlPolyfill */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/urlPolyfill.js\");\n/* harmony import */ var _tools_experimentalFeatures__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../tools/experimentalFeatures */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/experimentalFeatures.js\");\n/* harmony import */ var _tools_utils_stringUtils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../tools/utils/stringUtils */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/stringUtils.js\");\n/* harmony import */ var _intakeSites__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./intakeSites */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/configuration/intakeSites.js\");\n\n\n\n\n\nvar ENDPOINTS = {\n    logs: 'logs',\n    rum: 'rum',\n    sessionReplay: 'session-replay',\n};\nvar INTAKE_TRACKS = {\n    logs: 'logs',\n    rum: 'rum',\n    sessionReplay: 'replay',\n};\nfunction createEndpointBuilder(initConfiguration, endpointType, configurationTags) {\n    var buildUrlWithParameters = createEndpointUrlWithParametersBuilder(initConfiguration, endpointType);\n    return {\n        build: function (api, flushReason, retry) {\n            var parameters = buildEndpointParameters(initConfiguration, endpointType, configurationTags, api, flushReason, retry);\n            return buildUrlWithParameters(parameters);\n        },\n        urlPrefix: buildUrlWithParameters(''),\n        endpointType: endpointType,\n    };\n}\n/**\n * Create a function used to build a full endpoint url from provided parameters. The goal of this\n * function is to pre-compute some parts of the URL to avoid re-computing everything on every\n * request, as only parameters are changing.\n */\nfunction createEndpointUrlWithParametersBuilder(initConfiguration, endpointType) {\n    var path = \"/api/v2/\".concat(INTAKE_TRACKS[endpointType]);\n    var proxy = initConfiguration.proxy, proxyUrl = initConfiguration.proxyUrl;\n    if (proxy) {\n        var normalizedProxyUrl_1 = (0,_tools_utils_urlPolyfill__WEBPACK_IMPORTED_MODULE_0__.normalizeUrl)(proxy);\n        return function (parameters) { return \"\".concat(normalizedProxyUrl_1, \"?ddforward=\").concat(encodeURIComponent(\"\".concat(path, \"?\").concat(parameters))); };\n    }\n    var host = buildEndpointHost(initConfiguration, endpointType);\n    if (proxy === undefined && proxyUrl) {\n        // TODO: remove this in a future major.\n        var normalizedProxyUrl_2 = (0,_tools_utils_urlPolyfill__WEBPACK_IMPORTED_MODULE_0__.normalizeUrl)(proxyUrl);\n        return function (parameters) {\n            return \"\".concat(normalizedProxyUrl_2, \"?ddforward=\").concat(encodeURIComponent(\"https://\".concat(host).concat(path, \"?\").concat(parameters)));\n        };\n    }\n    return function (parameters) { return \"https://\".concat(host).concat(path, \"?\").concat(parameters); };\n}\nfunction buildEndpointHost(initConfiguration, endpointType) {\n    var _a = initConfiguration.site, site = _a === void 0 ? _intakeSites__WEBPACK_IMPORTED_MODULE_1__.INTAKE_SITE_US1 : _a, internalAnalyticsSubdomain = initConfiguration.internalAnalyticsSubdomain;\n    if (internalAnalyticsSubdomain && site === _intakeSites__WEBPACK_IMPORTED_MODULE_1__.INTAKE_SITE_US1) {\n        return \"\".concat(internalAnalyticsSubdomain, \".\").concat(_intakeSites__WEBPACK_IMPORTED_MODULE_1__.INTAKE_SITE_US1);\n    }\n    var domainParts = site.split('.');\n    var extension = domainParts.pop();\n    var subdomain = site !== _intakeSites__WEBPACK_IMPORTED_MODULE_1__.INTAKE_SITE_AP1 ? \"\".concat(ENDPOINTS[endpointType], \".\") : '';\n    return \"\".concat(subdomain, \"browser-intake-\").concat(domainParts.join('-'), \".\").concat(extension);\n}\n/**\n * Build parameters to be used for an intake request. Parameters should be re-built for each\n * request, as they change randomly.\n */\nfunction buildEndpointParameters(_a, endpointType, configurationTags, api, flushReason, retry) {\n    var clientToken = _a.clientToken, internalAnalyticsSubdomain = _a.internalAnalyticsSubdomain;\n    var tags = [\"sdk_version:\".concat(\"4.42.2\"), \"api:\".concat(api)].concat(configurationTags);\n    if (flushReason && (0,_tools_experimentalFeatures__WEBPACK_IMPORTED_MODULE_2__.isExperimentalFeatureEnabled)(_tools_experimentalFeatures__WEBPACK_IMPORTED_MODULE_2__.ExperimentalFeature.COLLECT_FLUSH_REASON)) {\n        tags.push(\"flush_reason:\".concat(flushReason));\n    }\n    if (retry) {\n        tags.push(\"retry_count:\".concat(retry.count), \"retry_after:\".concat(retry.lastFailureStatus));\n    }\n    var parameters = [\n        'ddsource=browser',\n        \"ddtags=\".concat(encodeURIComponent(tags.join(','))),\n        \"dd-api-key=\".concat(clientToken),\n        \"dd-evp-origin-version=\".concat(encodeURIComponent(\"4.42.2\")),\n        'dd-evp-origin=browser',\n        \"dd-request-id=\".concat((0,_tools_utils_stringUtils__WEBPACK_IMPORTED_MODULE_3__.generateUUID)()),\n    ];\n    if (endpointType === 'rum') {\n        parameters.push(\"batch_time=\".concat((0,_tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_4__.timeStampNow)()));\n    }\n    if (internalAnalyticsSubdomain) {\n        parameters.reverse();\n    }\n    return parameters.join('&');\n}\n//# sourceMappingURL=endpointBuilder.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL2NvbmZpZ3VyYXRpb24vZW5kcG9pbnRCdWlsZGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBMkQ7QUFDRTtBQUN3QztBQUN4QztBQUNJO0FBQzFEO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLHNFQUFZO0FBQy9DLHVDQUF1QztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxzRUFBWTtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQztBQUNuQztBQUNBO0FBQ0EsNERBQTRELHlEQUFlO0FBQzNFLCtDQUErQyx5REFBZTtBQUM5RCxpRUFBaUUseURBQWU7QUFDaEY7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLHlEQUFlO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qix5RkFBNEIsQ0FBQyw0RUFBbUI7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxzRUFBWTtBQUM1QztBQUNBO0FBQ0EsNkNBQTZDLG9FQUFZO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFyY2FzdGVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLWNvcmUvZXNtL2RvbWFpbi9jb25maWd1cmF0aW9uL2VuZHBvaW50QnVpbGRlci5qcz83OWRiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHRpbWVTdGFtcE5vdyB9IGZyb20gJy4uLy4uL3Rvb2xzL3V0aWxzL3RpbWVVdGlscyc7XG5pbXBvcnQgeyBub3JtYWxpemVVcmwgfSBmcm9tICcuLi8uLi90b29scy91dGlscy91cmxQb2x5ZmlsbCc7XG5pbXBvcnQgeyBFeHBlcmltZW50YWxGZWF0dXJlLCBpc0V4cGVyaW1lbnRhbEZlYXR1cmVFbmFibGVkIH0gZnJvbSAnLi4vLi4vdG9vbHMvZXhwZXJpbWVudGFsRmVhdHVyZXMnO1xuaW1wb3J0IHsgZ2VuZXJhdGVVVUlEIH0gZnJvbSAnLi4vLi4vdG9vbHMvdXRpbHMvc3RyaW5nVXRpbHMnO1xuaW1wb3J0IHsgSU5UQUtFX1NJVEVfQVAxLCBJTlRBS0VfU0lURV9VUzEgfSBmcm9tICcuL2ludGFrZVNpdGVzJztcbmV4cG9ydCB2YXIgRU5EUE9JTlRTID0ge1xuICAgIGxvZ3M6ICdsb2dzJyxcbiAgICBydW06ICdydW0nLFxuICAgIHNlc3Npb25SZXBsYXk6ICdzZXNzaW9uLXJlcGxheScsXG59O1xudmFyIElOVEFLRV9UUkFDS1MgPSB7XG4gICAgbG9nczogJ2xvZ3MnLFxuICAgIHJ1bTogJ3J1bScsXG4gICAgc2Vzc2lvblJlcGxheTogJ3JlcGxheScsXG59O1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUVuZHBvaW50QnVpbGRlcihpbml0Q29uZmlndXJhdGlvbiwgZW5kcG9pbnRUeXBlLCBjb25maWd1cmF0aW9uVGFncykge1xuICAgIHZhciBidWlsZFVybFdpdGhQYXJhbWV0ZXJzID0gY3JlYXRlRW5kcG9pbnRVcmxXaXRoUGFyYW1ldGVyc0J1aWxkZXIoaW5pdENvbmZpZ3VyYXRpb24sIGVuZHBvaW50VHlwZSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYnVpbGQ6IGZ1bmN0aW9uIChhcGksIGZsdXNoUmVhc29uLCByZXRyeSkge1xuICAgICAgICAgICAgdmFyIHBhcmFtZXRlcnMgPSBidWlsZEVuZHBvaW50UGFyYW1ldGVycyhpbml0Q29uZmlndXJhdGlvbiwgZW5kcG9pbnRUeXBlLCBjb25maWd1cmF0aW9uVGFncywgYXBpLCBmbHVzaFJlYXNvbiwgcmV0cnkpO1xuICAgICAgICAgICAgcmV0dXJuIGJ1aWxkVXJsV2l0aFBhcmFtZXRlcnMocGFyYW1ldGVycyk7XG4gICAgICAgIH0sXG4gICAgICAgIHVybFByZWZpeDogYnVpbGRVcmxXaXRoUGFyYW1ldGVycygnJyksXG4gICAgICAgIGVuZHBvaW50VHlwZTogZW5kcG9pbnRUeXBlLFxuICAgIH07XG59XG4vKipcbiAqIENyZWF0ZSBhIGZ1bmN0aW9uIHVzZWQgdG8gYnVpbGQgYSBmdWxsIGVuZHBvaW50IHVybCBmcm9tIHByb3ZpZGVkIHBhcmFtZXRlcnMuIFRoZSBnb2FsIG9mIHRoaXNcbiAqIGZ1bmN0aW9uIGlzIHRvIHByZS1jb21wdXRlIHNvbWUgcGFydHMgb2YgdGhlIFVSTCB0byBhdm9pZCByZS1jb21wdXRpbmcgZXZlcnl0aGluZyBvbiBldmVyeVxuICogcmVxdWVzdCwgYXMgb25seSBwYXJhbWV0ZXJzIGFyZSBjaGFuZ2luZy5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlRW5kcG9pbnRVcmxXaXRoUGFyYW1ldGVyc0J1aWxkZXIoaW5pdENvbmZpZ3VyYXRpb24sIGVuZHBvaW50VHlwZSkge1xuICAgIHZhciBwYXRoID0gXCIvYXBpL3YyL1wiLmNvbmNhdChJTlRBS0VfVFJBQ0tTW2VuZHBvaW50VHlwZV0pO1xuICAgIHZhciBwcm94eSA9IGluaXRDb25maWd1cmF0aW9uLnByb3h5LCBwcm94eVVybCA9IGluaXRDb25maWd1cmF0aW9uLnByb3h5VXJsO1xuICAgIGlmIChwcm94eSkge1xuICAgICAgICB2YXIgbm9ybWFsaXplZFByb3h5VXJsXzEgPSBub3JtYWxpemVVcmwocHJveHkpO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHBhcmFtZXRlcnMpIHsgcmV0dXJuIFwiXCIuY29uY2F0KG5vcm1hbGl6ZWRQcm94eVVybF8xLCBcIj9kZGZvcndhcmQ9XCIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoXCJcIi5jb25jYXQocGF0aCwgXCI/XCIpLmNvbmNhdChwYXJhbWV0ZXJzKSkpOyB9O1xuICAgIH1cbiAgICB2YXIgaG9zdCA9IGJ1aWxkRW5kcG9pbnRIb3N0KGluaXRDb25maWd1cmF0aW9uLCBlbmRwb2ludFR5cGUpO1xuICAgIGlmIChwcm94eSA9PT0gdW5kZWZpbmVkICYmIHByb3h5VXJsKSB7XG4gICAgICAgIC8vIFRPRE86IHJlbW92ZSB0aGlzIGluIGEgZnV0dXJlIG1ham9yLlxuICAgICAgICB2YXIgbm9ybWFsaXplZFByb3h5VXJsXzIgPSBub3JtYWxpemVVcmwocHJveHlVcmwpO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHBhcmFtZXRlcnMpIHtcbiAgICAgICAgICAgIHJldHVybiBcIlwiLmNvbmNhdChub3JtYWxpemVkUHJveHlVcmxfMiwgXCI/ZGRmb3J3YXJkPVwiKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KFwiaHR0cHM6Ly9cIi5jb25jYXQoaG9zdCkuY29uY2F0KHBhdGgsIFwiP1wiKS5jb25jYXQocGFyYW1ldGVycykpKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChwYXJhbWV0ZXJzKSB7IHJldHVybiBcImh0dHBzOi8vXCIuY29uY2F0KGhvc3QpLmNvbmNhdChwYXRoLCBcIj9cIikuY29uY2F0KHBhcmFtZXRlcnMpOyB9O1xufVxuZnVuY3Rpb24gYnVpbGRFbmRwb2ludEhvc3QoaW5pdENvbmZpZ3VyYXRpb24sIGVuZHBvaW50VHlwZSkge1xuICAgIHZhciBfYSA9IGluaXRDb25maWd1cmF0aW9uLnNpdGUsIHNpdGUgPSBfYSA9PT0gdm9pZCAwID8gSU5UQUtFX1NJVEVfVVMxIDogX2EsIGludGVybmFsQW5hbHl0aWNzU3ViZG9tYWluID0gaW5pdENvbmZpZ3VyYXRpb24uaW50ZXJuYWxBbmFseXRpY3NTdWJkb21haW47XG4gICAgaWYgKGludGVybmFsQW5hbHl0aWNzU3ViZG9tYWluICYmIHNpdGUgPT09IElOVEFLRV9TSVRFX1VTMSkge1xuICAgICAgICByZXR1cm4gXCJcIi5jb25jYXQoaW50ZXJuYWxBbmFseXRpY3NTdWJkb21haW4sIFwiLlwiKS5jb25jYXQoSU5UQUtFX1NJVEVfVVMxKTtcbiAgICB9XG4gICAgdmFyIGRvbWFpblBhcnRzID0gc2l0ZS5zcGxpdCgnLicpO1xuICAgIHZhciBleHRlbnNpb24gPSBkb21haW5QYXJ0cy5wb3AoKTtcbiAgICB2YXIgc3ViZG9tYWluID0gc2l0ZSAhPT0gSU5UQUtFX1NJVEVfQVAxID8gXCJcIi5jb25jYXQoRU5EUE9JTlRTW2VuZHBvaW50VHlwZV0sIFwiLlwiKSA6ICcnO1xuICAgIHJldHVybiBcIlwiLmNvbmNhdChzdWJkb21haW4sIFwiYnJvd3Nlci1pbnRha2UtXCIpLmNvbmNhdChkb21haW5QYXJ0cy5qb2luKCctJyksIFwiLlwiKS5jb25jYXQoZXh0ZW5zaW9uKTtcbn1cbi8qKlxuICogQnVpbGQgcGFyYW1ldGVycyB0byBiZSB1c2VkIGZvciBhbiBpbnRha2UgcmVxdWVzdC4gUGFyYW1ldGVycyBzaG91bGQgYmUgcmUtYnVpbHQgZm9yIGVhY2hcbiAqIHJlcXVlc3QsIGFzIHRoZXkgY2hhbmdlIHJhbmRvbWx5LlxuICovXG5mdW5jdGlvbiBidWlsZEVuZHBvaW50UGFyYW1ldGVycyhfYSwgZW5kcG9pbnRUeXBlLCBjb25maWd1cmF0aW9uVGFncywgYXBpLCBmbHVzaFJlYXNvbiwgcmV0cnkpIHtcbiAgICB2YXIgY2xpZW50VG9rZW4gPSBfYS5jbGllbnRUb2tlbiwgaW50ZXJuYWxBbmFseXRpY3NTdWJkb21haW4gPSBfYS5pbnRlcm5hbEFuYWx5dGljc1N1YmRvbWFpbjtcbiAgICB2YXIgdGFncyA9IFtcInNka192ZXJzaW9uOlwiLmNvbmNhdChcIjQuNDIuMlwiKSwgXCJhcGk6XCIuY29uY2F0KGFwaSldLmNvbmNhdChjb25maWd1cmF0aW9uVGFncyk7XG4gICAgaWYgKGZsdXNoUmVhc29uICYmIGlzRXhwZXJpbWVudGFsRmVhdHVyZUVuYWJsZWQoRXhwZXJpbWVudGFsRmVhdHVyZS5DT0xMRUNUX0ZMVVNIX1JFQVNPTikpIHtcbiAgICAgICAgdGFncy5wdXNoKFwiZmx1c2hfcmVhc29uOlwiLmNvbmNhdChmbHVzaFJlYXNvbikpO1xuICAgIH1cbiAgICBpZiAocmV0cnkpIHtcbiAgICAgICAgdGFncy5wdXNoKFwicmV0cnlfY291bnQ6XCIuY29uY2F0KHJldHJ5LmNvdW50KSwgXCJyZXRyeV9hZnRlcjpcIi5jb25jYXQocmV0cnkubGFzdEZhaWx1cmVTdGF0dXMpKTtcbiAgICB9XG4gICAgdmFyIHBhcmFtZXRlcnMgPSBbXG4gICAgICAgICdkZHNvdXJjZT1icm93c2VyJyxcbiAgICAgICAgXCJkZHRhZ3M9XCIuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudCh0YWdzLmpvaW4oJywnKSkpLFxuICAgICAgICBcImRkLWFwaS1rZXk9XCIuY29uY2F0KGNsaWVudFRva2VuKSxcbiAgICAgICAgXCJkZC1ldnAtb3JpZ2luLXZlcnNpb249XCIuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChcIjQuNDIuMlwiKSksXG4gICAgICAgICdkZC1ldnAtb3JpZ2luPWJyb3dzZXInLFxuICAgICAgICBcImRkLXJlcXVlc3QtaWQ9XCIuY29uY2F0KGdlbmVyYXRlVVVJRCgpKSxcbiAgICBdO1xuICAgIGlmIChlbmRwb2ludFR5cGUgPT09ICdydW0nKSB7XG4gICAgICAgIHBhcmFtZXRlcnMucHVzaChcImJhdGNoX3RpbWU9XCIuY29uY2F0KHRpbWVTdGFtcE5vdygpKSk7XG4gICAgfVxuICAgIGlmIChpbnRlcm5hbEFuYWx5dGljc1N1YmRvbWFpbikge1xuICAgICAgICBwYXJhbWV0ZXJzLnJldmVyc2UoKTtcbiAgICB9XG4gICAgcmV0dXJuIHBhcmFtZXRlcnMuam9pbignJicpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZW5kcG9pbnRCdWlsZGVyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-core/esm/domain/configuration/endpointBuilder.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-core/esm/domain/configuration/intakeSites.js":
/*!****************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/domain/configuration/intakeSites.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   INTAKE_SITE_AP1: () => (/* binding */ INTAKE_SITE_AP1),\n/* harmony export */   INTAKE_SITE_EU1: () => (/* binding */ INTAKE_SITE_EU1),\n/* harmony export */   INTAKE_SITE_STAGING: () => (/* binding */ INTAKE_SITE_STAGING),\n/* harmony export */   INTAKE_SITE_US1: () => (/* binding */ INTAKE_SITE_US1),\n/* harmony export */   INTAKE_SITE_US1_FED: () => (/* binding */ INTAKE_SITE_US1_FED)\n/* harmony export */ });\nvar INTAKE_SITE_STAGING = 'datad0g.com';\nvar INTAKE_SITE_US1 = 'datadoghq.com';\nvar INTAKE_SITE_EU1 = 'datadoghq.eu';\nvar INTAKE_SITE_AP1 = 'ap1.datadoghq.com';\nvar INTAKE_SITE_US1_FED = 'ddog-gov.com';\n//# sourceMappingURL=intakeSites.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL2NvbmZpZ3VyYXRpb24vaW50YWtlU2l0ZXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBTztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ1AiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYXJjYXN0ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL2NvbmZpZ3VyYXRpb24vaW50YWtlU2l0ZXMuanM/MTlmNyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgdmFyIElOVEFLRV9TSVRFX1NUQUdJTkcgPSAnZGF0YWQwZy5jb20nO1xuZXhwb3J0IHZhciBJTlRBS0VfU0lURV9VUzEgPSAnZGF0YWRvZ2hxLmNvbSc7XG5leHBvcnQgdmFyIElOVEFLRV9TSVRFX0VVMSA9ICdkYXRhZG9naHEuZXUnO1xuZXhwb3J0IHZhciBJTlRBS0VfU0lURV9BUDEgPSAnYXAxLmRhdGFkb2docS5jb20nO1xuZXhwb3J0IHZhciBJTlRBS0VfU0lURV9VUzFfRkVEID0gJ2Rkb2ctZ292LmNvbSc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbnRha2VTaXRlcy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-core/esm/domain/configuration/intakeSites.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-core/esm/domain/configuration/tags.js":
/*!*********************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/domain/configuration/tags.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TAG_SIZE_LIMIT: () => (/* binding */ TAG_SIZE_LIMIT),\n/* harmony export */   buildTag: () => (/* binding */ buildTag),\n/* harmony export */   buildTags: () => (/* binding */ buildTags)\n/* harmony export */ });\n/* harmony import */ var _tools_display__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../tools/display */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/display.js\");\n\nvar TAG_SIZE_LIMIT = 200;\nfunction buildTags(configuration) {\n    var env = configuration.env, service = configuration.service, version = configuration.version, datacenter = configuration.datacenter;\n    var tags = [];\n    if (env) {\n        tags.push(buildTag('env', env));\n    }\n    if (service) {\n        tags.push(buildTag('service', service));\n    }\n    if (version) {\n        tags.push(buildTag('version', version));\n    }\n    if (datacenter) {\n        tags.push(buildTag('datacenter', datacenter));\n    }\n    return tags;\n}\nvar FORBIDDEN_CHARACTERS = /[^a-z0-9_:./-]/;\nfunction buildTag(key, rawValue) {\n    // See https://docs.datadoghq.com/getting_started/tagging/#defining-tags for tags syntax. Note\n    // that the backend may not follow the exact same rules, so we only want to display an informal\n    // warning.\n    var valueSizeLimit = TAG_SIZE_LIMIT - key.length - 1;\n    if (rawValue.length > valueSizeLimit || FORBIDDEN_CHARACTERS.test(rawValue)) {\n        _tools_display__WEBPACK_IMPORTED_MODULE_0__.display.warn(\"\".concat(key, \" value doesn't meet tag requirements and will be sanitized\"));\n    }\n    // Let the backend do most of the sanitization, but still make sure multiple tags can't be crafted\n    // by forging a value containing commas.\n    var sanitizedValue = rawValue.replace(/,/g, '_');\n    return \"\".concat(key, \":\").concat(sanitizedValue);\n}\n//# sourceMappingURL=tags.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL2NvbmZpZ3VyYXRpb24vdGFncy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQThDO0FBQ3ZDO0FBQ0E7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxtREFBTztBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFyY2FzdGVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLWNvcmUvZXNtL2RvbWFpbi9jb25maWd1cmF0aW9uL3RhZ3MuanM/ODA5NCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkaXNwbGF5IH0gZnJvbSAnLi4vLi4vdG9vbHMvZGlzcGxheSc7XG5leHBvcnQgdmFyIFRBR19TSVpFX0xJTUlUID0gMjAwO1xuZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkVGFncyhjb25maWd1cmF0aW9uKSB7XG4gICAgdmFyIGVudiA9IGNvbmZpZ3VyYXRpb24uZW52LCBzZXJ2aWNlID0gY29uZmlndXJhdGlvbi5zZXJ2aWNlLCB2ZXJzaW9uID0gY29uZmlndXJhdGlvbi52ZXJzaW9uLCBkYXRhY2VudGVyID0gY29uZmlndXJhdGlvbi5kYXRhY2VudGVyO1xuICAgIHZhciB0YWdzID0gW107XG4gICAgaWYgKGVudikge1xuICAgICAgICB0YWdzLnB1c2goYnVpbGRUYWcoJ2VudicsIGVudikpO1xuICAgIH1cbiAgICBpZiAoc2VydmljZSkge1xuICAgICAgICB0YWdzLnB1c2goYnVpbGRUYWcoJ3NlcnZpY2UnLCBzZXJ2aWNlKSk7XG4gICAgfVxuICAgIGlmICh2ZXJzaW9uKSB7XG4gICAgICAgIHRhZ3MucHVzaChidWlsZFRhZygndmVyc2lvbicsIHZlcnNpb24pKTtcbiAgICB9XG4gICAgaWYgKGRhdGFjZW50ZXIpIHtcbiAgICAgICAgdGFncy5wdXNoKGJ1aWxkVGFnKCdkYXRhY2VudGVyJywgZGF0YWNlbnRlcikpO1xuICAgIH1cbiAgICByZXR1cm4gdGFncztcbn1cbnZhciBGT1JCSURERU5fQ0hBUkFDVEVSUyA9IC9bXmEtejAtOV86Li8tXS87XG5leHBvcnQgZnVuY3Rpb24gYnVpbGRUYWcoa2V5LCByYXdWYWx1ZSkge1xuICAgIC8vIFNlZSBodHRwczovL2RvY3MuZGF0YWRvZ2hxLmNvbS9nZXR0aW5nX3N0YXJ0ZWQvdGFnZ2luZy8jZGVmaW5pbmctdGFncyBmb3IgdGFncyBzeW50YXguIE5vdGVcbiAgICAvLyB0aGF0IHRoZSBiYWNrZW5kIG1heSBub3QgZm9sbG93IHRoZSBleGFjdCBzYW1lIHJ1bGVzLCBzbyB3ZSBvbmx5IHdhbnQgdG8gZGlzcGxheSBhbiBpbmZvcm1hbFxuICAgIC8vIHdhcm5pbmcuXG4gICAgdmFyIHZhbHVlU2l6ZUxpbWl0ID0gVEFHX1NJWkVfTElNSVQgLSBrZXkubGVuZ3RoIC0gMTtcbiAgICBpZiAocmF3VmFsdWUubGVuZ3RoID4gdmFsdWVTaXplTGltaXQgfHwgRk9SQklEREVOX0NIQVJBQ1RFUlMudGVzdChyYXdWYWx1ZSkpIHtcbiAgICAgICAgZGlzcGxheS53YXJuKFwiXCIuY29uY2F0KGtleSwgXCIgdmFsdWUgZG9lc24ndCBtZWV0IHRhZyByZXF1aXJlbWVudHMgYW5kIHdpbGwgYmUgc2FuaXRpemVkXCIpKTtcbiAgICB9XG4gICAgLy8gTGV0IHRoZSBiYWNrZW5kIGRvIG1vc3Qgb2YgdGhlIHNhbml0aXphdGlvbiwgYnV0IHN0aWxsIG1ha2Ugc3VyZSBtdWx0aXBsZSB0YWdzIGNhbid0IGJlIGNyYWZ0ZWRcbiAgICAvLyBieSBmb3JnaW5nIGEgdmFsdWUgY29udGFpbmluZyBjb21tYXMuXG4gICAgdmFyIHNhbml0aXplZFZhbHVlID0gcmF3VmFsdWUucmVwbGFjZSgvLC9nLCAnXycpO1xuICAgIHJldHVybiBcIlwiLmNvbmNhdChrZXksIFwiOlwiKS5jb25jYXQoc2FuaXRpemVkVmFsdWUpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGFncy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-core/esm/domain/configuration/tags.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-core/esm/domain/configuration/transportConfiguration.js":
/*!***************************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/domain/configuration/transportConfiguration.js ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   computeTransportConfiguration: () => (/* binding */ computeTransportConfiguration)\n/* harmony export */ });\n/* harmony import */ var _tools_utils_polyfills__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../tools/utils/polyfills */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/polyfills.js\");\n/* harmony import */ var _endpointBuilder__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./endpointBuilder */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/configuration/endpointBuilder.js\");\n/* harmony import */ var _tags__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./tags */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/configuration/tags.js\");\n/* harmony import */ var _intakeSites__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./intakeSites */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/configuration/intakeSites.js\");\n\n\n\n\nfunction computeTransportConfiguration(initConfiguration) {\n    var tags = (0,_tags__WEBPACK_IMPORTED_MODULE_0__.buildTags)(initConfiguration);\n    var endpointBuilders = computeEndpointBuilders(initConfiguration, tags);\n    var intakeUrlPrefixes = (0,_tools_utils_polyfills__WEBPACK_IMPORTED_MODULE_1__.objectValues)(endpointBuilders).map(function (builder) { return builder.urlPrefix; });\n    var replicaConfiguration = computeReplicaConfiguration(initConfiguration, intakeUrlPrefixes, tags);\n    return (0,_tools_utils_polyfills__WEBPACK_IMPORTED_MODULE_1__.assign)({\n        isIntakeUrl: function (url) { return intakeUrlPrefixes.some(function (intakeEndpoint) { return url.indexOf(intakeEndpoint) === 0; }); },\n        replica: replicaConfiguration,\n        site: initConfiguration.site || _intakeSites__WEBPACK_IMPORTED_MODULE_2__.INTAKE_SITE_US1,\n    }, endpointBuilders);\n}\nfunction computeEndpointBuilders(initConfiguration, tags) {\n    return {\n        logsEndpointBuilder: (0,_endpointBuilder__WEBPACK_IMPORTED_MODULE_3__.createEndpointBuilder)(initConfiguration, 'logs', tags),\n        rumEndpointBuilder: (0,_endpointBuilder__WEBPACK_IMPORTED_MODULE_3__.createEndpointBuilder)(initConfiguration, 'rum', tags),\n        sessionReplayEndpointBuilder: (0,_endpointBuilder__WEBPACK_IMPORTED_MODULE_3__.createEndpointBuilder)(initConfiguration, 'sessionReplay', tags),\n    };\n}\nfunction computeReplicaConfiguration(initConfiguration, intakeUrlPrefixes, tags) {\n    if (!initConfiguration.replica) {\n        return;\n    }\n    var replicaConfiguration = (0,_tools_utils_polyfills__WEBPACK_IMPORTED_MODULE_1__.assign)({}, initConfiguration, {\n        site: _intakeSites__WEBPACK_IMPORTED_MODULE_2__.INTAKE_SITE_US1,\n        clientToken: initConfiguration.replica.clientToken,\n    });\n    var replicaEndpointBuilders = {\n        logsEndpointBuilder: (0,_endpointBuilder__WEBPACK_IMPORTED_MODULE_3__.createEndpointBuilder)(replicaConfiguration, 'logs', tags),\n        rumEndpointBuilder: (0,_endpointBuilder__WEBPACK_IMPORTED_MODULE_3__.createEndpointBuilder)(replicaConfiguration, 'rum', tags),\n    };\n    intakeUrlPrefixes.push.apply(intakeUrlPrefixes, (0,_tools_utils_polyfills__WEBPACK_IMPORTED_MODULE_1__.objectValues)(replicaEndpointBuilders).map(function (builder) { return builder.urlPrefix; }));\n    return (0,_tools_utils_polyfills__WEBPACK_IMPORTED_MODULE_1__.assign)({ applicationId: initConfiguration.replica.applicationId }, replicaEndpointBuilders);\n}\n//# sourceMappingURL=transportConfiguration.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL2NvbmZpZ3VyYXRpb24vdHJhbnNwb3J0Q29uZmlndXJhdGlvbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFtRTtBQUNUO0FBQ3ZCO0FBQ2E7QUFDekM7QUFDUCxlQUFlLGdEQUFTO0FBQ3hCO0FBQ0EsNEJBQTRCLG9FQUFZLDRDQUE0QywyQkFBMkI7QUFDL0c7QUFDQSxXQUFXLDhEQUFNO0FBQ2pCLHNDQUFzQywwREFBMEQsMkNBQTJDLElBQUk7QUFDL0k7QUFDQSx3Q0FBd0MseURBQWU7QUFDdkQsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLDZCQUE2Qix1RUFBcUI7QUFDbEQsNEJBQTRCLHVFQUFxQjtBQUNqRCxzQ0FBc0MsdUVBQXFCO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQiw4REFBTSxHQUFHO0FBQ3hDLGNBQWMseURBQWU7QUFDN0I7QUFDQSxLQUFLO0FBQ0w7QUFDQSw2QkFBNkIsdUVBQXFCO0FBQ2xELDRCQUE0Qix1RUFBcUI7QUFDakQ7QUFDQSxvREFBb0Qsb0VBQVksbURBQW1ELDJCQUEyQjtBQUM5SSxXQUFXLDhEQUFNLEdBQUcsd0RBQXdEO0FBQzVFO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYXJjYXN0ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL2NvbmZpZ3VyYXRpb24vdHJhbnNwb3J0Q29uZmlndXJhdGlvbi5qcz9kZmI1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IG9iamVjdFZhbHVlcywgYXNzaWduIH0gZnJvbSAnLi4vLi4vdG9vbHMvdXRpbHMvcG9seWZpbGxzJztcbmltcG9ydCB7IGNyZWF0ZUVuZHBvaW50QnVpbGRlciB9IGZyb20gJy4vZW5kcG9pbnRCdWlsZGVyJztcbmltcG9ydCB7IGJ1aWxkVGFncyB9IGZyb20gJy4vdGFncyc7XG5pbXBvcnQgeyBJTlRBS0VfU0lURV9VUzEgfSBmcm9tICcuL2ludGFrZVNpdGVzJztcbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlVHJhbnNwb3J0Q29uZmlndXJhdGlvbihpbml0Q29uZmlndXJhdGlvbikge1xuICAgIHZhciB0YWdzID0gYnVpbGRUYWdzKGluaXRDb25maWd1cmF0aW9uKTtcbiAgICB2YXIgZW5kcG9pbnRCdWlsZGVycyA9IGNvbXB1dGVFbmRwb2ludEJ1aWxkZXJzKGluaXRDb25maWd1cmF0aW9uLCB0YWdzKTtcbiAgICB2YXIgaW50YWtlVXJsUHJlZml4ZXMgPSBvYmplY3RWYWx1ZXMoZW5kcG9pbnRCdWlsZGVycykubWFwKGZ1bmN0aW9uIChidWlsZGVyKSB7IHJldHVybiBidWlsZGVyLnVybFByZWZpeDsgfSk7XG4gICAgdmFyIHJlcGxpY2FDb25maWd1cmF0aW9uID0gY29tcHV0ZVJlcGxpY2FDb25maWd1cmF0aW9uKGluaXRDb25maWd1cmF0aW9uLCBpbnRha2VVcmxQcmVmaXhlcywgdGFncyk7XG4gICAgcmV0dXJuIGFzc2lnbih7XG4gICAgICAgIGlzSW50YWtlVXJsOiBmdW5jdGlvbiAodXJsKSB7IHJldHVybiBpbnRha2VVcmxQcmVmaXhlcy5zb21lKGZ1bmN0aW9uIChpbnRha2VFbmRwb2ludCkgeyByZXR1cm4gdXJsLmluZGV4T2YoaW50YWtlRW5kcG9pbnQpID09PSAwOyB9KTsgfSxcbiAgICAgICAgcmVwbGljYTogcmVwbGljYUNvbmZpZ3VyYXRpb24sXG4gICAgICAgIHNpdGU6IGluaXRDb25maWd1cmF0aW9uLnNpdGUgfHwgSU5UQUtFX1NJVEVfVVMxLFxuICAgIH0sIGVuZHBvaW50QnVpbGRlcnMpO1xufVxuZnVuY3Rpb24gY29tcHV0ZUVuZHBvaW50QnVpbGRlcnMoaW5pdENvbmZpZ3VyYXRpb24sIHRhZ3MpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBsb2dzRW5kcG9pbnRCdWlsZGVyOiBjcmVhdGVFbmRwb2ludEJ1aWxkZXIoaW5pdENvbmZpZ3VyYXRpb24sICdsb2dzJywgdGFncyksXG4gICAgICAgIHJ1bUVuZHBvaW50QnVpbGRlcjogY3JlYXRlRW5kcG9pbnRCdWlsZGVyKGluaXRDb25maWd1cmF0aW9uLCAncnVtJywgdGFncyksXG4gICAgICAgIHNlc3Npb25SZXBsYXlFbmRwb2ludEJ1aWxkZXI6IGNyZWF0ZUVuZHBvaW50QnVpbGRlcihpbml0Q29uZmlndXJhdGlvbiwgJ3Nlc3Npb25SZXBsYXknLCB0YWdzKSxcbiAgICB9O1xufVxuZnVuY3Rpb24gY29tcHV0ZVJlcGxpY2FDb25maWd1cmF0aW9uKGluaXRDb25maWd1cmF0aW9uLCBpbnRha2VVcmxQcmVmaXhlcywgdGFncykge1xuICAgIGlmICghaW5pdENvbmZpZ3VyYXRpb24ucmVwbGljYSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciByZXBsaWNhQ29uZmlndXJhdGlvbiA9IGFzc2lnbih7fSwgaW5pdENvbmZpZ3VyYXRpb24sIHtcbiAgICAgICAgc2l0ZTogSU5UQUtFX1NJVEVfVVMxLFxuICAgICAgICBjbGllbnRUb2tlbjogaW5pdENvbmZpZ3VyYXRpb24ucmVwbGljYS5jbGllbnRUb2tlbixcbiAgICB9KTtcbiAgICB2YXIgcmVwbGljYUVuZHBvaW50QnVpbGRlcnMgPSB7XG4gICAgICAgIGxvZ3NFbmRwb2ludEJ1aWxkZXI6IGNyZWF0ZUVuZHBvaW50QnVpbGRlcihyZXBsaWNhQ29uZmlndXJhdGlvbiwgJ2xvZ3MnLCB0YWdzKSxcbiAgICAgICAgcnVtRW5kcG9pbnRCdWlsZGVyOiBjcmVhdGVFbmRwb2ludEJ1aWxkZXIocmVwbGljYUNvbmZpZ3VyYXRpb24sICdydW0nLCB0YWdzKSxcbiAgICB9O1xuICAgIGludGFrZVVybFByZWZpeGVzLnB1c2guYXBwbHkoaW50YWtlVXJsUHJlZml4ZXMsIG9iamVjdFZhbHVlcyhyZXBsaWNhRW5kcG9pbnRCdWlsZGVycykubWFwKGZ1bmN0aW9uIChidWlsZGVyKSB7IHJldHVybiBidWlsZGVyLnVybFByZWZpeDsgfSkpO1xuICAgIHJldHVybiBhc3NpZ24oeyBhcHBsaWNhdGlvbklkOiBpbml0Q29uZmlndXJhdGlvbi5yZXBsaWNhLmFwcGxpY2F0aW9uSWQgfSwgcmVwbGljYUVuZHBvaW50QnVpbGRlcnMpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHJhbnNwb3J0Q29uZmlndXJhdGlvbi5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-core/esm/domain/configuration/transportConfiguration.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-core/esm/domain/console/consoleObservable.js":
/*!****************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/domain/console/consoleObservable.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initConsoleObservable: () => (/* binding */ initConsoleObservable),\n/* harmony export */   resetConsoleObservable: () => (/* binding */ resetConsoleObservable)\n/* harmony export */ });\n/* harmony import */ var _tracekit__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../tracekit */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/tracekit/computeStackTrace.js\");\n/* harmony import */ var _error_error__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../error/error */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/error/error.js\");\n/* harmony import */ var _tools_observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../tools/observable */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/observable.js\");\n/* harmony import */ var _tools_display__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../tools/display */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/display.js\");\n/* harmony import */ var _tools_monitor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../tools/monitor */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/monitor.js\");\n/* harmony import */ var _tools_serialisation_sanitize__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../tools/serialisation/sanitize */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/serialisation/sanitize.js\");\n/* harmony import */ var _tools_utils_polyfills__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../tools/utils/polyfills */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/polyfills.js\");\n/* harmony import */ var _tools_serialisation_jsonStringify__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../tools/serialisation/jsonStringify */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/serialisation/jsonStringify.js\");\n\n\n\n\n\n\n\n\nvar consoleObservablesByApi = {};\nfunction initConsoleObservable(apis) {\n    var consoleObservables = apis.map(function (api) {\n        if (!consoleObservablesByApi[api]) {\n            consoleObservablesByApi[api] = createConsoleObservable(api);\n        }\n        return consoleObservablesByApi[api];\n    });\n    return _tools_observable__WEBPACK_IMPORTED_MODULE_0__.mergeObservables.apply(void 0, consoleObservables);\n}\nfunction resetConsoleObservable() {\n    consoleObservablesByApi = {};\n}\nfunction createConsoleObservable(api) {\n    var observable = new _tools_observable__WEBPACK_IMPORTED_MODULE_0__.Observable(function () {\n        var originalConsoleApi = _tools_display__WEBPACK_IMPORTED_MODULE_1__.globalConsole[api];\n        _tools_display__WEBPACK_IMPORTED_MODULE_1__.globalConsole[api] = function () {\n            var params = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                params[_i] = arguments[_i];\n            }\n            originalConsoleApi.apply(console, params);\n            var handlingStack = (0,_error_error__WEBPACK_IMPORTED_MODULE_2__.createHandlingStack)();\n            (0,_tools_monitor__WEBPACK_IMPORTED_MODULE_3__.callMonitored)(function () {\n                observable.notify(buildConsoleLog(params, api, handlingStack));\n            });\n        };\n        return function () {\n            _tools_display__WEBPACK_IMPORTED_MODULE_1__.globalConsole[api] = originalConsoleApi;\n        };\n    });\n    return observable;\n}\nfunction buildConsoleLog(params, api, handlingStack) {\n    // Todo: remove console error prefix in the next major version\n    var message = params.map(function (param) { return formatConsoleParameters(param); }).join(' ');\n    var stack;\n    var fingerprint;\n    if (api === _tools_display__WEBPACK_IMPORTED_MODULE_1__.ConsoleApiName.error) {\n        var firstErrorParam = (0,_tools_utils_polyfills__WEBPACK_IMPORTED_MODULE_4__.find)(params, function (param) { return param instanceof Error; });\n        stack = firstErrorParam ? (0,_error_error__WEBPACK_IMPORTED_MODULE_2__.toStackTraceString)((0,_tracekit__WEBPACK_IMPORTED_MODULE_5__.computeStackTrace)(firstErrorParam)) : undefined;\n        fingerprint = (0,_error_error__WEBPACK_IMPORTED_MODULE_2__.tryToGetFingerprint)(firstErrorParam);\n        message = \"console error: \".concat(message);\n    }\n    return {\n        api: api,\n        message: message,\n        stack: stack,\n        handlingStack: handlingStack,\n        fingerprint: fingerprint,\n    };\n}\nfunction formatConsoleParameters(param) {\n    if (typeof param === 'string') {\n        return (0,_tools_serialisation_sanitize__WEBPACK_IMPORTED_MODULE_6__.sanitize)(param);\n    }\n    if (param instanceof Error) {\n        return (0,_error_error__WEBPACK_IMPORTED_MODULE_2__.formatErrorMessage)((0,_tracekit__WEBPACK_IMPORTED_MODULE_5__.computeStackTrace)(param));\n    }\n    return (0,_tools_serialisation_jsonStringify__WEBPACK_IMPORTED_MODULE_7__.jsonStringify)((0,_tools_serialisation_sanitize__WEBPACK_IMPORTED_MODULE_6__.sanitize)(param), undefined, 2);\n}\n//# sourceMappingURL=consoleObservable.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL2NvbnNvbGUvY29uc29sZU9ic2VydmFibGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFnRDtBQUNrRTtBQUM1QztBQUNGO0FBQ2hCO0FBQ1U7QUFDWDtBQUNxQjtBQUN4RTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxXQUFXLCtEQUFnQjtBQUMzQjtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLHlEQUFVO0FBQ25DLGlDQUFpQyx5REFBYTtBQUM5QyxRQUFRLHlEQUFhO0FBQ3JCO0FBQ0EsNkJBQTZCLHVCQUF1QjtBQUNwRDtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsaUVBQW1CO0FBQ25ELFlBQVksNkRBQWE7QUFDekI7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLFlBQVkseURBQWE7QUFDekI7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0Qsd0NBQXdDO0FBQ3hGO0FBQ0E7QUFDQSxnQkFBZ0IsMERBQWM7QUFDOUIsOEJBQThCLDREQUFJLDRCQUE0QixnQ0FBZ0M7QUFDOUYsa0NBQWtDLGdFQUFrQixDQUFDLDREQUFpQjtBQUN0RSxzQkFBc0IsaUVBQW1CO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsdUVBQVE7QUFDdkI7QUFDQTtBQUNBLGVBQWUsZ0VBQWtCLENBQUMsNERBQWlCO0FBQ25EO0FBQ0EsV0FBVyxpRkFBYSxDQUFDLHVFQUFRO0FBQ2pDO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYXJjYXN0ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL2NvbnNvbGUvY29uc29sZU9ic2VydmFibGUuanM/NTY2NCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjb21wdXRlU3RhY2tUcmFjZSB9IGZyb20gJy4uL3RyYWNla2l0JztcbmltcG9ydCB7IGNyZWF0ZUhhbmRsaW5nU3RhY2ssIGZvcm1hdEVycm9yTWVzc2FnZSwgdG9TdGFja1RyYWNlU3RyaW5nLCB0cnlUb0dldEZpbmdlcnByaW50IH0gZnJvbSAnLi4vZXJyb3IvZXJyb3InO1xuaW1wb3J0IHsgbWVyZ2VPYnNlcnZhYmxlcywgT2JzZXJ2YWJsZSB9IGZyb20gJy4uLy4uL3Rvb2xzL29ic2VydmFibGUnO1xuaW1wb3J0IHsgQ29uc29sZUFwaU5hbWUsIGdsb2JhbENvbnNvbGUgfSBmcm9tICcuLi8uLi90b29scy9kaXNwbGF5JztcbmltcG9ydCB7IGNhbGxNb25pdG9yZWQgfSBmcm9tICcuLi8uLi90b29scy9tb25pdG9yJztcbmltcG9ydCB7IHNhbml0aXplIH0gZnJvbSAnLi4vLi4vdG9vbHMvc2VyaWFsaXNhdGlvbi9zYW5pdGl6ZSc7XG5pbXBvcnQgeyBmaW5kIH0gZnJvbSAnLi4vLi4vdG9vbHMvdXRpbHMvcG9seWZpbGxzJztcbmltcG9ydCB7IGpzb25TdHJpbmdpZnkgfSBmcm9tICcuLi8uLi90b29scy9zZXJpYWxpc2F0aW9uL2pzb25TdHJpbmdpZnknO1xudmFyIGNvbnNvbGVPYnNlcnZhYmxlc0J5QXBpID0ge307XG5leHBvcnQgZnVuY3Rpb24gaW5pdENvbnNvbGVPYnNlcnZhYmxlKGFwaXMpIHtcbiAgICB2YXIgY29uc29sZU9ic2VydmFibGVzID0gYXBpcy5tYXAoZnVuY3Rpb24gKGFwaSkge1xuICAgICAgICBpZiAoIWNvbnNvbGVPYnNlcnZhYmxlc0J5QXBpW2FwaV0pIHtcbiAgICAgICAgICAgIGNvbnNvbGVPYnNlcnZhYmxlc0J5QXBpW2FwaV0gPSBjcmVhdGVDb25zb2xlT2JzZXJ2YWJsZShhcGkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb25zb2xlT2JzZXJ2YWJsZXNCeUFwaVthcGldO1xuICAgIH0pO1xuICAgIHJldHVybiBtZXJnZU9ic2VydmFibGVzLmFwcGx5KHZvaWQgMCwgY29uc29sZU9ic2VydmFibGVzKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiByZXNldENvbnNvbGVPYnNlcnZhYmxlKCkge1xuICAgIGNvbnNvbGVPYnNlcnZhYmxlc0J5QXBpID0ge307XG59XG5mdW5jdGlvbiBjcmVhdGVDb25zb2xlT2JzZXJ2YWJsZShhcGkpIHtcbiAgICB2YXIgb2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG9yaWdpbmFsQ29uc29sZUFwaSA9IGdsb2JhbENvbnNvbGVbYXBpXTtcbiAgICAgICAgZ2xvYmFsQ29uc29sZVthcGldID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHBhcmFtcyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICBwYXJhbXNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9yaWdpbmFsQ29uc29sZUFwaS5hcHBseShjb25zb2xlLCBwYXJhbXMpO1xuICAgICAgICAgICAgdmFyIGhhbmRsaW5nU3RhY2sgPSBjcmVhdGVIYW5kbGluZ1N0YWNrKCk7XG4gICAgICAgICAgICBjYWxsTW9uaXRvcmVkKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBvYnNlcnZhYmxlLm5vdGlmeShidWlsZENvbnNvbGVMb2cocGFyYW1zLCBhcGksIGhhbmRsaW5nU3RhY2spKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZ2xvYmFsQ29uc29sZVthcGldID0gb3JpZ2luYWxDb25zb2xlQXBpO1xuICAgICAgICB9O1xuICAgIH0pO1xuICAgIHJldHVybiBvYnNlcnZhYmxlO1xufVxuZnVuY3Rpb24gYnVpbGRDb25zb2xlTG9nKHBhcmFtcywgYXBpLCBoYW5kbGluZ1N0YWNrKSB7XG4gICAgLy8gVG9kbzogcmVtb3ZlIGNvbnNvbGUgZXJyb3IgcHJlZml4IGluIHRoZSBuZXh0IG1ham9yIHZlcnNpb25cbiAgICB2YXIgbWVzc2FnZSA9IHBhcmFtcy5tYXAoZnVuY3Rpb24gKHBhcmFtKSB7IHJldHVybiBmb3JtYXRDb25zb2xlUGFyYW1ldGVycyhwYXJhbSk7IH0pLmpvaW4oJyAnKTtcbiAgICB2YXIgc3RhY2s7XG4gICAgdmFyIGZpbmdlcnByaW50O1xuICAgIGlmIChhcGkgPT09IENvbnNvbGVBcGlOYW1lLmVycm9yKSB7XG4gICAgICAgIHZhciBmaXJzdEVycm9yUGFyYW0gPSBmaW5kKHBhcmFtcywgZnVuY3Rpb24gKHBhcmFtKSB7IHJldHVybiBwYXJhbSBpbnN0YW5jZW9mIEVycm9yOyB9KTtcbiAgICAgICAgc3RhY2sgPSBmaXJzdEVycm9yUGFyYW0gPyB0b1N0YWNrVHJhY2VTdHJpbmcoY29tcHV0ZVN0YWNrVHJhY2UoZmlyc3RFcnJvclBhcmFtKSkgOiB1bmRlZmluZWQ7XG4gICAgICAgIGZpbmdlcnByaW50ID0gdHJ5VG9HZXRGaW5nZXJwcmludChmaXJzdEVycm9yUGFyYW0pO1xuICAgICAgICBtZXNzYWdlID0gXCJjb25zb2xlIGVycm9yOiBcIi5jb25jYXQobWVzc2FnZSk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGFwaTogYXBpLFxuICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLFxuICAgICAgICBzdGFjazogc3RhY2ssXG4gICAgICAgIGhhbmRsaW5nU3RhY2s6IGhhbmRsaW5nU3RhY2ssXG4gICAgICAgIGZpbmdlcnByaW50OiBmaW5nZXJwcmludCxcbiAgICB9O1xufVxuZnVuY3Rpb24gZm9ybWF0Q29uc29sZVBhcmFtZXRlcnMocGFyYW0pIHtcbiAgICBpZiAodHlwZW9mIHBhcmFtID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gc2FuaXRpemUocGFyYW0pO1xuICAgIH1cbiAgICBpZiAocGFyYW0gaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICByZXR1cm4gZm9ybWF0RXJyb3JNZXNzYWdlKGNvbXB1dGVTdGFja1RyYWNlKHBhcmFtKSk7XG4gICAgfVxuICAgIHJldHVybiBqc29uU3RyaW5naWZ5KHNhbml0aXplKHBhcmFtKSwgdW5kZWZpbmVkLCAyKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnNvbGVPYnNlcnZhYmxlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-core/esm/domain/console/consoleObservable.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-core/esm/domain/error/error.js":
/*!**************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/domain/error/error.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NO_ERROR_STACK_PRESENT_MESSAGE: () => (/* binding */ NO_ERROR_STACK_PRESENT_MESSAGE),\n/* harmony export */   computeRawError: () => (/* binding */ computeRawError),\n/* harmony export */   createHandlingStack: () => (/* binding */ createHandlingStack),\n/* harmony export */   flattenErrorCauses: () => (/* binding */ flattenErrorCauses),\n/* harmony export */   formatErrorMessage: () => (/* binding */ formatErrorMessage),\n/* harmony export */   getFileFromStackTraceString: () => (/* binding */ getFileFromStackTraceString),\n/* harmony export */   toStackTraceString: () => (/* binding */ toStackTraceString),\n/* harmony export */   tryToGetFingerprint: () => (/* binding */ tryToGetFingerprint)\n/* harmony export */ });\n/* harmony import */ var _tracekit__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../tracekit */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/tracekit/computeStackTrace.js\");\n/* harmony import */ var _tools_monitor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../tools/monitor */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/monitor.js\");\n/* harmony import */ var _tools_serialisation_sanitize__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../tools/serialisation/sanitize */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/serialisation/sanitize.js\");\n/* harmony import */ var _tools_utils_functionUtils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../tools/utils/functionUtils */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/functionUtils.js\");\n/* harmony import */ var _tools_serialisation_jsonStringify__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../tools/serialisation/jsonStringify */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/serialisation/jsonStringify.js\");\n\n\n\n\n\nvar NO_ERROR_STACK_PRESENT_MESSAGE = 'No stack, consider using an instance of Error';\nfunction computeRawError(_a) {\n    var stackTrace = _a.stackTrace, originalError = _a.originalError, handlingStack = _a.handlingStack, startClocks = _a.startClocks, nonErrorPrefix = _a.nonErrorPrefix, source = _a.source, handling = _a.handling;\n    var isErrorInstance = originalError instanceof Error;\n    var message = computeMessage(stackTrace, isErrorInstance, nonErrorPrefix, originalError);\n    var stack = hasUsableStack(isErrorInstance, stackTrace)\n        ? toStackTraceString(stackTrace)\n        : NO_ERROR_STACK_PRESENT_MESSAGE;\n    var causes = isErrorInstance ? flattenErrorCauses(originalError, source) : undefined;\n    var type = stackTrace === null || stackTrace === void 0 ? void 0 : stackTrace.name;\n    var fingerprint = tryToGetFingerprint(originalError);\n    return {\n        startClocks: startClocks,\n        source: source,\n        handling: handling,\n        handlingStack: handlingStack,\n        originalError: originalError,\n        type: type,\n        message: message,\n        stack: stack,\n        causes: causes,\n        fingerprint: fingerprint,\n    };\n}\nfunction computeMessage(stackTrace, isErrorInstance, nonErrorPrefix, originalError) {\n    // Favor stackTrace message only if tracekit has really been able to extract something meaningful (message + name)\n    // TODO rework tracekit integration to avoid scattering error building logic\n    return (stackTrace === null || stackTrace === void 0 ? void 0 : stackTrace.message) && (stackTrace === null || stackTrace === void 0 ? void 0 : stackTrace.name)\n        ? stackTrace.message\n        : !isErrorInstance\n            ? \"\".concat(nonErrorPrefix, \" \").concat((0,_tools_serialisation_jsonStringify__WEBPACK_IMPORTED_MODULE_0__.jsonStringify)((0,_tools_serialisation_sanitize__WEBPACK_IMPORTED_MODULE_1__.sanitize)(originalError)))\n            : 'Empty message';\n}\nfunction hasUsableStack(isErrorInstance, stackTrace) {\n    if (stackTrace === undefined) {\n        return false;\n    }\n    if (isErrorInstance) {\n        return true;\n    }\n    // handle cases where tracekit return stack = [] or stack = [{url: undefined, line: undefined, column: undefined}]\n    // TODO rework tracekit integration to avoid generating those unusable stack\n    return stackTrace.stack.length > 0 && (stackTrace.stack.length > 1 || stackTrace.stack[0].url !== undefined);\n}\nfunction tryToGetFingerprint(originalError) {\n    return originalError instanceof Error && 'dd_fingerprint' in originalError\n        ? String(originalError.dd_fingerprint)\n        : undefined;\n}\nfunction toStackTraceString(stack) {\n    var result = formatErrorMessage(stack);\n    stack.stack.forEach(function (frame) {\n        var func = frame.func === '?' ? '<anonymous>' : frame.func;\n        var args = frame.args && frame.args.length > 0 ? \"(\".concat(frame.args.join(', '), \")\") : '';\n        var line = frame.line ? \":\".concat(frame.line) : '';\n        var column = frame.line && frame.column ? \":\".concat(frame.column) : '';\n        result += \"\\n  at \".concat(func).concat(args, \" @ \").concat(frame.url).concat(line).concat(column);\n    });\n    return result;\n}\nfunction getFileFromStackTraceString(stack) {\n    var _a;\n    return (_a = /@ (.+)/.exec(stack)) === null || _a === void 0 ? void 0 : _a[1];\n}\nfunction formatErrorMessage(stack) {\n    return \"\".concat(stack.name || 'Error', \": \").concat(stack.message);\n}\n/**\n Creates a stacktrace without SDK internal frames.\n \n Constraints:\n - Has to be called at the utmost position of the call stack.\n - No monitored function should encapsulate it, that is why we need to use callMonitored inside it.\n */\nfunction createHandlingStack() {\n    /**\n     * Skip the two internal frames:\n     * - SDK API (console.error, ...)\n     * - this function\n     * in order to keep only the user calls\n     */\n    var internalFramesToSkip = 2;\n    var error = new Error();\n    var formattedStack;\n    // IE needs to throw the error to fill in the stack trace\n    if (!error.stack) {\n        try {\n            throw error;\n        }\n        catch (e) {\n            (0,_tools_utils_functionUtils__WEBPACK_IMPORTED_MODULE_2__.noop)();\n        }\n    }\n    (0,_tools_monitor__WEBPACK_IMPORTED_MODULE_3__.callMonitored)(function () {\n        var stackTrace = (0,_tracekit__WEBPACK_IMPORTED_MODULE_4__.computeStackTrace)(error);\n        stackTrace.stack = stackTrace.stack.slice(internalFramesToSkip);\n        formattedStack = toStackTraceString(stackTrace);\n    });\n    return formattedStack;\n}\nfunction flattenErrorCauses(error, parentSource) {\n    var currentError = error;\n    var causes = [];\n    while ((currentError === null || currentError === void 0 ? void 0 : currentError.cause) instanceof Error && causes.length < 10) {\n        var stackTrace = (0,_tracekit__WEBPACK_IMPORTED_MODULE_4__.computeStackTrace)(currentError.cause);\n        causes.push({\n            message: currentError.cause.message,\n            source: parentSource,\n            type: stackTrace === null || stackTrace === void 0 ? void 0 : stackTrace.name,\n            stack: stackTrace && toStackTraceString(stackTrace),\n        });\n        currentError = currentError.cause;\n    }\n    return causes.length ? causes : undefined;\n}\n//# sourceMappingURL=error.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL2Vycm9yL2Vycm9yLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBZ0Q7QUFDSTtBQUNVO0FBQ1A7QUFDaUI7QUFDakU7QUFDQTtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0RBQW9ELGlGQUFhLENBQUMsdUVBQVE7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0VBQWtFLG1EQUFtRDtBQUNySDtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxnRUFBSTtBQUNoQjtBQUNBO0FBQ0EsSUFBSSw2REFBYTtBQUNqQix5QkFBeUIsNERBQWlCO0FBQzFDO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLDREQUFpQjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYXJjYXN0ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL2Vycm9yL2Vycm9yLmpzPzBlY2QiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY29tcHV0ZVN0YWNrVHJhY2UgfSBmcm9tICcuLi90cmFjZWtpdCc7XG5pbXBvcnQgeyBjYWxsTW9uaXRvcmVkIH0gZnJvbSAnLi4vLi4vdG9vbHMvbW9uaXRvcic7XG5pbXBvcnQgeyBzYW5pdGl6ZSB9IGZyb20gJy4uLy4uL3Rvb2xzL3NlcmlhbGlzYXRpb24vc2FuaXRpemUnO1xuaW1wb3J0IHsgbm9vcCB9IGZyb20gJy4uLy4uL3Rvb2xzL3V0aWxzL2Z1bmN0aW9uVXRpbHMnO1xuaW1wb3J0IHsganNvblN0cmluZ2lmeSB9IGZyb20gJy4uLy4uL3Rvb2xzL3NlcmlhbGlzYXRpb24vanNvblN0cmluZ2lmeSc7XG5leHBvcnQgdmFyIE5PX0VSUk9SX1NUQUNLX1BSRVNFTlRfTUVTU0FHRSA9ICdObyBzdGFjaywgY29uc2lkZXIgdXNpbmcgYW4gaW5zdGFuY2Ugb2YgRXJyb3InO1xuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVSYXdFcnJvcihfYSkge1xuICAgIHZhciBzdGFja1RyYWNlID0gX2Euc3RhY2tUcmFjZSwgb3JpZ2luYWxFcnJvciA9IF9hLm9yaWdpbmFsRXJyb3IsIGhhbmRsaW5nU3RhY2sgPSBfYS5oYW5kbGluZ1N0YWNrLCBzdGFydENsb2NrcyA9IF9hLnN0YXJ0Q2xvY2tzLCBub25FcnJvclByZWZpeCA9IF9hLm5vbkVycm9yUHJlZml4LCBzb3VyY2UgPSBfYS5zb3VyY2UsIGhhbmRsaW5nID0gX2EuaGFuZGxpbmc7XG4gICAgdmFyIGlzRXJyb3JJbnN0YW5jZSA9IG9yaWdpbmFsRXJyb3IgaW5zdGFuY2VvZiBFcnJvcjtcbiAgICB2YXIgbWVzc2FnZSA9IGNvbXB1dGVNZXNzYWdlKHN0YWNrVHJhY2UsIGlzRXJyb3JJbnN0YW5jZSwgbm9uRXJyb3JQcmVmaXgsIG9yaWdpbmFsRXJyb3IpO1xuICAgIHZhciBzdGFjayA9IGhhc1VzYWJsZVN0YWNrKGlzRXJyb3JJbnN0YW5jZSwgc3RhY2tUcmFjZSlcbiAgICAgICAgPyB0b1N0YWNrVHJhY2VTdHJpbmcoc3RhY2tUcmFjZSlcbiAgICAgICAgOiBOT19FUlJPUl9TVEFDS19QUkVTRU5UX01FU1NBR0U7XG4gICAgdmFyIGNhdXNlcyA9IGlzRXJyb3JJbnN0YW5jZSA/IGZsYXR0ZW5FcnJvckNhdXNlcyhvcmlnaW5hbEVycm9yLCBzb3VyY2UpIDogdW5kZWZpbmVkO1xuICAgIHZhciB0eXBlID0gc3RhY2tUcmFjZSA9PT0gbnVsbCB8fCBzdGFja1RyYWNlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzdGFja1RyYWNlLm5hbWU7XG4gICAgdmFyIGZpbmdlcnByaW50ID0gdHJ5VG9HZXRGaW5nZXJwcmludChvcmlnaW5hbEVycm9yKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBzdGFydENsb2Nrczogc3RhcnRDbG9ja3MsXG4gICAgICAgIHNvdXJjZTogc291cmNlLFxuICAgICAgICBoYW5kbGluZzogaGFuZGxpbmcsXG4gICAgICAgIGhhbmRsaW5nU3RhY2s6IGhhbmRsaW5nU3RhY2ssXG4gICAgICAgIG9yaWdpbmFsRXJyb3I6IG9yaWdpbmFsRXJyb3IsXG4gICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsXG4gICAgICAgIHN0YWNrOiBzdGFjayxcbiAgICAgICAgY2F1c2VzOiBjYXVzZXMsXG4gICAgICAgIGZpbmdlcnByaW50OiBmaW5nZXJwcmludCxcbiAgICB9O1xufVxuZnVuY3Rpb24gY29tcHV0ZU1lc3NhZ2Uoc3RhY2tUcmFjZSwgaXNFcnJvckluc3RhbmNlLCBub25FcnJvclByZWZpeCwgb3JpZ2luYWxFcnJvcikge1xuICAgIC8vIEZhdm9yIHN0YWNrVHJhY2UgbWVzc2FnZSBvbmx5IGlmIHRyYWNla2l0IGhhcyByZWFsbHkgYmVlbiBhYmxlIHRvIGV4dHJhY3Qgc29tZXRoaW5nIG1lYW5pbmdmdWwgKG1lc3NhZ2UgKyBuYW1lKVxuICAgIC8vIFRPRE8gcmV3b3JrIHRyYWNla2l0IGludGVncmF0aW9uIHRvIGF2b2lkIHNjYXR0ZXJpbmcgZXJyb3IgYnVpbGRpbmcgbG9naWNcbiAgICByZXR1cm4gKHN0YWNrVHJhY2UgPT09IG51bGwgfHwgc3RhY2tUcmFjZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogc3RhY2tUcmFjZS5tZXNzYWdlKSAmJiAoc3RhY2tUcmFjZSA9PT0gbnVsbCB8fCBzdGFja1RyYWNlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzdGFja1RyYWNlLm5hbWUpXG4gICAgICAgID8gc3RhY2tUcmFjZS5tZXNzYWdlXG4gICAgICAgIDogIWlzRXJyb3JJbnN0YW5jZVxuICAgICAgICAgICAgPyBcIlwiLmNvbmNhdChub25FcnJvclByZWZpeCwgXCIgXCIpLmNvbmNhdChqc29uU3RyaW5naWZ5KHNhbml0aXplKG9yaWdpbmFsRXJyb3IpKSlcbiAgICAgICAgICAgIDogJ0VtcHR5IG1lc3NhZ2UnO1xufVxuZnVuY3Rpb24gaGFzVXNhYmxlU3RhY2soaXNFcnJvckluc3RhbmNlLCBzdGFja1RyYWNlKSB7XG4gICAgaWYgKHN0YWNrVHJhY2UgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChpc0Vycm9ySW5zdGFuY2UpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8vIGhhbmRsZSBjYXNlcyB3aGVyZSB0cmFjZWtpdCByZXR1cm4gc3RhY2sgPSBbXSBvciBzdGFjayA9IFt7dXJsOiB1bmRlZmluZWQsIGxpbmU6IHVuZGVmaW5lZCwgY29sdW1uOiB1bmRlZmluZWR9XVxuICAgIC8vIFRPRE8gcmV3b3JrIHRyYWNla2l0IGludGVncmF0aW9uIHRvIGF2b2lkIGdlbmVyYXRpbmcgdGhvc2UgdW51c2FibGUgc3RhY2tcbiAgICByZXR1cm4gc3RhY2tUcmFjZS5zdGFjay5sZW5ndGggPiAwICYmIChzdGFja1RyYWNlLnN0YWNrLmxlbmd0aCA+IDEgfHwgc3RhY2tUcmFjZS5zdGFja1swXS51cmwgIT09IHVuZGVmaW5lZCk7XG59XG5leHBvcnQgZnVuY3Rpb24gdHJ5VG9HZXRGaW5nZXJwcmludChvcmlnaW5hbEVycm9yKSB7XG4gICAgcmV0dXJuIG9yaWdpbmFsRXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJiAnZGRfZmluZ2VycHJpbnQnIGluIG9yaWdpbmFsRXJyb3JcbiAgICAgICAgPyBTdHJpbmcob3JpZ2luYWxFcnJvci5kZF9maW5nZXJwcmludClcbiAgICAgICAgOiB1bmRlZmluZWQ7XG59XG5leHBvcnQgZnVuY3Rpb24gdG9TdGFja1RyYWNlU3RyaW5nKHN0YWNrKSB7XG4gICAgdmFyIHJlc3VsdCA9IGZvcm1hdEVycm9yTWVzc2FnZShzdGFjayk7XG4gICAgc3RhY2suc3RhY2suZm9yRWFjaChmdW5jdGlvbiAoZnJhbWUpIHtcbiAgICAgICAgdmFyIGZ1bmMgPSBmcmFtZS5mdW5jID09PSAnPycgPyAnPGFub255bW91cz4nIDogZnJhbWUuZnVuYztcbiAgICAgICAgdmFyIGFyZ3MgPSBmcmFtZS5hcmdzICYmIGZyYW1lLmFyZ3MubGVuZ3RoID4gMCA/IFwiKFwiLmNvbmNhdChmcmFtZS5hcmdzLmpvaW4oJywgJyksIFwiKVwiKSA6ICcnO1xuICAgICAgICB2YXIgbGluZSA9IGZyYW1lLmxpbmUgPyBcIjpcIi5jb25jYXQoZnJhbWUubGluZSkgOiAnJztcbiAgICAgICAgdmFyIGNvbHVtbiA9IGZyYW1lLmxpbmUgJiYgZnJhbWUuY29sdW1uID8gXCI6XCIuY29uY2F0KGZyYW1lLmNvbHVtbikgOiAnJztcbiAgICAgICAgcmVzdWx0ICs9IFwiXFxuICBhdCBcIi5jb25jYXQoZnVuYykuY29uY2F0KGFyZ3MsIFwiIEAgXCIpLmNvbmNhdChmcmFtZS51cmwpLmNvbmNhdChsaW5lKS5jb25jYXQoY29sdW1uKTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldEZpbGVGcm9tU3RhY2tUcmFjZVN0cmluZyhzdGFjaykge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gKF9hID0gL0AgKC4rKS8uZXhlYyhzdGFjaykpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYVsxXTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXRFcnJvck1lc3NhZ2Uoc3RhY2spIHtcbiAgICByZXR1cm4gXCJcIi5jb25jYXQoc3RhY2submFtZSB8fCAnRXJyb3InLCBcIjogXCIpLmNvbmNhdChzdGFjay5tZXNzYWdlKTtcbn1cbi8qKlxuIENyZWF0ZXMgYSBzdGFja3RyYWNlIHdpdGhvdXQgU0RLIGludGVybmFsIGZyYW1lcy5cbiBcbiBDb25zdHJhaW50czpcbiAtIEhhcyB0byBiZSBjYWxsZWQgYXQgdGhlIHV0bW9zdCBwb3NpdGlvbiBvZiB0aGUgY2FsbCBzdGFjay5cbiAtIE5vIG1vbml0b3JlZCBmdW5jdGlvbiBzaG91bGQgZW5jYXBzdWxhdGUgaXQsIHRoYXQgaXMgd2h5IHdlIG5lZWQgdG8gdXNlIGNhbGxNb25pdG9yZWQgaW5zaWRlIGl0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlSGFuZGxpbmdTdGFjaygpIHtcbiAgICAvKipcbiAgICAgKiBTa2lwIHRoZSB0d28gaW50ZXJuYWwgZnJhbWVzOlxuICAgICAqIC0gU0RLIEFQSSAoY29uc29sZS5lcnJvciwgLi4uKVxuICAgICAqIC0gdGhpcyBmdW5jdGlvblxuICAgICAqIGluIG9yZGVyIHRvIGtlZXAgb25seSB0aGUgdXNlciBjYWxsc1xuICAgICAqL1xuICAgIHZhciBpbnRlcm5hbEZyYW1lc1RvU2tpcCA9IDI7XG4gICAgdmFyIGVycm9yID0gbmV3IEVycm9yKCk7XG4gICAgdmFyIGZvcm1hdHRlZFN0YWNrO1xuICAgIC8vIElFIG5lZWRzIHRvIHRocm93IHRoZSBlcnJvciB0byBmaWxsIGluIHRoZSBzdGFjayB0cmFjZVxuICAgIGlmICghZXJyb3Iuc3RhY2spIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBub29wKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2FsbE1vbml0b3JlZChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzdGFja1RyYWNlID0gY29tcHV0ZVN0YWNrVHJhY2UoZXJyb3IpO1xuICAgICAgICBzdGFja1RyYWNlLnN0YWNrID0gc3RhY2tUcmFjZS5zdGFjay5zbGljZShpbnRlcm5hbEZyYW1lc1RvU2tpcCk7XG4gICAgICAgIGZvcm1hdHRlZFN0YWNrID0gdG9TdGFja1RyYWNlU3RyaW5nKHN0YWNrVHJhY2UpO1xuICAgIH0pO1xuICAgIHJldHVybiBmb3JtYXR0ZWRTdGFjaztcbn1cbmV4cG9ydCBmdW5jdGlvbiBmbGF0dGVuRXJyb3JDYXVzZXMoZXJyb3IsIHBhcmVudFNvdXJjZSkge1xuICAgIHZhciBjdXJyZW50RXJyb3IgPSBlcnJvcjtcbiAgICB2YXIgY2F1c2VzID0gW107XG4gICAgd2hpbGUgKChjdXJyZW50RXJyb3IgPT09IG51bGwgfHwgY3VycmVudEVycm9yID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjdXJyZW50RXJyb3IuY2F1c2UpIGluc3RhbmNlb2YgRXJyb3IgJiYgY2F1c2VzLmxlbmd0aCA8IDEwKSB7XG4gICAgICAgIHZhciBzdGFja1RyYWNlID0gY29tcHV0ZVN0YWNrVHJhY2UoY3VycmVudEVycm9yLmNhdXNlKTtcbiAgICAgICAgY2F1c2VzLnB1c2goe1xuICAgICAgICAgICAgbWVzc2FnZTogY3VycmVudEVycm9yLmNhdXNlLm1lc3NhZ2UsXG4gICAgICAgICAgICBzb3VyY2U6IHBhcmVudFNvdXJjZSxcbiAgICAgICAgICAgIHR5cGU6IHN0YWNrVHJhY2UgPT09IG51bGwgfHwgc3RhY2tUcmFjZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogc3RhY2tUcmFjZS5uYW1lLFxuICAgICAgICAgICAgc3RhY2s6IHN0YWNrVHJhY2UgJiYgdG9TdGFja1RyYWNlU3RyaW5nKHN0YWNrVHJhY2UpLFxuICAgICAgICB9KTtcbiAgICAgICAgY3VycmVudEVycm9yID0gY3VycmVudEVycm9yLmNhdXNlO1xuICAgIH1cbiAgICByZXR1cm4gY2F1c2VzLmxlbmd0aCA/IGNhdXNlcyA6IHVuZGVmaW5lZDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVycm9yLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-core/esm/domain/error/error.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-core/esm/domain/error/error.types.js":
/*!********************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/domain/error/error.types.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ErrorSource: () => (/* binding */ ErrorSource)\n/* harmony export */ });\nvar ErrorSource = {\n    AGENT: 'agent',\n    CONSOLE: 'console',\n    CUSTOM: 'custom',\n    LOGGER: 'logger',\n    NETWORK: 'network',\n    SOURCE: 'source',\n    REPORT: 'report',\n};\n//# sourceMappingURL=error.types.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL2Vycm9yL2Vycm9yLnR5cGVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhcmNhc3Rlci8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS9kb21haW4vZXJyb3IvZXJyb3IudHlwZXMuanM/MjQ4ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgdmFyIEVycm9yU291cmNlID0ge1xuICAgIEFHRU5UOiAnYWdlbnQnLFxuICAgIENPTlNPTEU6ICdjb25zb2xlJyxcbiAgICBDVVNUT006ICdjdXN0b20nLFxuICAgIExPR0dFUjogJ2xvZ2dlcicsXG4gICAgTkVUV09SSzogJ25ldHdvcmsnLFxuICAgIFNPVVJDRTogJ3NvdXJjZScsXG4gICAgUkVQT1JUOiAncmVwb3J0Jyxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lcnJvci50eXBlcy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-core/esm/domain/error/error.types.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-core/esm/domain/error/trackRuntimeError.js":
/*!**************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/domain/error/trackRuntimeError.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   trackRuntimeError: () => (/* binding */ trackRuntimeError)\n/* harmony export */ });\n/* harmony import */ var _tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../tools/utils/timeUtils */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js\");\n/* harmony import */ var _tracekit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../tracekit */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/tracekit/tracekit.js\");\n/* harmony import */ var _error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./error */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/error/error.js\");\n/* harmony import */ var _error_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./error.types */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/error/error.types.js\");\n\n\n\n\nfunction trackRuntimeError(errorObservable) {\n    return (0,_tracekit__WEBPACK_IMPORTED_MODULE_0__.startUnhandledErrorCollection)(function (stackTrace, originalError) {\n        errorObservable.notify((0,_error__WEBPACK_IMPORTED_MODULE_1__.computeRawError)({\n            stackTrace: stackTrace,\n            originalError: originalError,\n            startClocks: (0,_tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_2__.clocksNow)(),\n            nonErrorPrefix: \"Uncaught\" /* NonErrorPrefix.UNCAUGHT */,\n            source: _error_types__WEBPACK_IMPORTED_MODULE_3__.ErrorSource.SOURCE,\n            handling: \"unhandled\" /* ErrorHandling.UNHANDLED */,\n        }));\n    });\n}\n//# sourceMappingURL=trackRuntimeError.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL2Vycm9yL3RyYWNrUnVudGltZUVycm9yLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQXdEO0FBQ0k7QUFDbEI7QUFDRTtBQUNyQztBQUNQLFdBQVcsd0VBQTZCO0FBQ3hDLCtCQUErQix1REFBZTtBQUM5QztBQUNBO0FBQ0EseUJBQXlCLGlFQUFTO0FBQ2xDO0FBQ0Esb0JBQW9CLHFEQUFXO0FBQy9CO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFyY2FzdGVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLWNvcmUvZXNtL2RvbWFpbi9lcnJvci90cmFja1J1bnRpbWVFcnJvci5qcz8yYThhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNsb2Nrc05vdyB9IGZyb20gJy4uLy4uL3Rvb2xzL3V0aWxzL3RpbWVVdGlscyc7XG5pbXBvcnQgeyBzdGFydFVuaGFuZGxlZEVycm9yQ29sbGVjdGlvbiB9IGZyb20gJy4uL3RyYWNla2l0JztcbmltcG9ydCB7IGNvbXB1dGVSYXdFcnJvciB9IGZyb20gJy4vZXJyb3InO1xuaW1wb3J0IHsgRXJyb3JTb3VyY2UgfSBmcm9tICcuL2Vycm9yLnR5cGVzJztcbmV4cG9ydCBmdW5jdGlvbiB0cmFja1J1bnRpbWVFcnJvcihlcnJvck9ic2VydmFibGUpIHtcbiAgICByZXR1cm4gc3RhcnRVbmhhbmRsZWRFcnJvckNvbGxlY3Rpb24oZnVuY3Rpb24gKHN0YWNrVHJhY2UsIG9yaWdpbmFsRXJyb3IpIHtcbiAgICAgICAgZXJyb3JPYnNlcnZhYmxlLm5vdGlmeShjb21wdXRlUmF3RXJyb3Ioe1xuICAgICAgICAgICAgc3RhY2tUcmFjZTogc3RhY2tUcmFjZSxcbiAgICAgICAgICAgIG9yaWdpbmFsRXJyb3I6IG9yaWdpbmFsRXJyb3IsXG4gICAgICAgICAgICBzdGFydENsb2NrczogY2xvY2tzTm93KCksXG4gICAgICAgICAgICBub25FcnJvclByZWZpeDogXCJVbmNhdWdodFwiIC8qIE5vbkVycm9yUHJlZml4LlVOQ0FVR0hUICovLFxuICAgICAgICAgICAgc291cmNlOiBFcnJvclNvdXJjZS5TT1VSQ0UsXG4gICAgICAgICAgICBoYW5kbGluZzogXCJ1bmhhbmRsZWRcIiAvKiBFcnJvckhhbmRsaW5nLlVOSEFORExFRCAqLyxcbiAgICAgICAgfSkpO1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHJhY2tSdW50aW1lRXJyb3IuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-core/esm/domain/error/trackRuntimeError.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-core/esm/domain/eventRateLimiter/createEventRateLimiter.js":
/*!******************************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/domain/eventRateLimiter/createEventRateLimiter.js ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createEventRateLimiter: () => (/* binding */ createEventRateLimiter)\n/* harmony export */ });\n/* harmony import */ var _tools_timer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../tools/timer */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/timer.js\");\n/* harmony import */ var _tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../tools/utils/timeUtils */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js\");\n/* harmony import */ var _error_error_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../error/error.types */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/error/error.types.js\");\n\n\n\nfunction createEventRateLimiter(eventType, limit, onLimitReached) {\n    var eventCount = 0;\n    var allowNextEvent = false;\n    return {\n        isLimitReached: function () {\n            if (eventCount === 0) {\n                (0,_tools_timer__WEBPACK_IMPORTED_MODULE_0__.setTimeout)(function () {\n                    eventCount = 0;\n                }, _tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_1__.ONE_MINUTE);\n            }\n            eventCount += 1;\n            if (eventCount <= limit || allowNextEvent) {\n                allowNextEvent = false;\n                return false;\n            }\n            if (eventCount === limit + 1) {\n                allowNextEvent = true;\n                try {\n                    onLimitReached({\n                        message: \"Reached max number of \".concat(eventType, \"s by minute: \").concat(limit),\n                        source: _error_error_types__WEBPACK_IMPORTED_MODULE_2__.ErrorSource.AGENT,\n                        startClocks: (0,_tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_1__.clocksNow)(),\n                    });\n                }\n                finally {\n                    allowNextEvent = false;\n                }\n            }\n            return true;\n        },\n    };\n}\n//# sourceMappingURL=createEventRateLimiter.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL2V2ZW50UmF0ZUxpbWl0ZXIvY3JlYXRlRXZlbnRSYXRlTGltaXRlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQStDO0FBQ3FCO0FBQ2pCO0FBQzVDO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQix3REFBVTtBQUMxQjtBQUNBLGlCQUFpQixFQUFFLDhEQUFVO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsMkRBQVc7QUFDM0MscUNBQXFDLGlFQUFTO0FBQzlDLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFyY2FzdGVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLWNvcmUvZXNtL2RvbWFpbi9ldmVudFJhdGVMaW1pdGVyL2NyZWF0ZUV2ZW50UmF0ZUxpbWl0ZXIuanM/ZmQzMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzZXRUaW1lb3V0IH0gZnJvbSAnLi4vLi4vdG9vbHMvdGltZXInO1xuaW1wb3J0IHsgY2xvY2tzTm93LCBPTkVfTUlOVVRFIH0gZnJvbSAnLi4vLi4vdG9vbHMvdXRpbHMvdGltZVV0aWxzJztcbmltcG9ydCB7IEVycm9yU291cmNlIH0gZnJvbSAnLi4vZXJyb3IvZXJyb3IudHlwZXMnO1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUV2ZW50UmF0ZUxpbWl0ZXIoZXZlbnRUeXBlLCBsaW1pdCwgb25MaW1pdFJlYWNoZWQpIHtcbiAgICB2YXIgZXZlbnRDb3VudCA9IDA7XG4gICAgdmFyIGFsbG93TmV4dEV2ZW50ID0gZmFsc2U7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaXNMaW1pdFJlYWNoZWQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChldmVudENvdW50ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50Q291bnQgPSAwO1xuICAgICAgICAgICAgICAgIH0sIE9ORV9NSU5VVEUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZXZlbnRDb3VudCArPSAxO1xuICAgICAgICAgICAgaWYgKGV2ZW50Q291bnQgPD0gbGltaXQgfHwgYWxsb3dOZXh0RXZlbnQpIHtcbiAgICAgICAgICAgICAgICBhbGxvd05leHRFdmVudCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChldmVudENvdW50ID09PSBsaW1pdCArIDEpIHtcbiAgICAgICAgICAgICAgICBhbGxvd05leHRFdmVudCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgb25MaW1pdFJlYWNoZWQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJSZWFjaGVkIG1heCBudW1iZXIgb2YgXCIuY29uY2F0KGV2ZW50VHlwZSwgXCJzIGJ5IG1pbnV0ZTogXCIpLmNvbmNhdChsaW1pdCksXG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2U6IEVycm9yU291cmNlLkFHRU5ULFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRDbG9ja3M6IGNsb2Nrc05vdygpLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIGFsbG93TmV4dEV2ZW50ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNyZWF0ZUV2ZW50UmF0ZUxpbWl0ZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-core/esm/domain/eventRateLimiter/createEventRateLimiter.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-core/esm/domain/report/reportObservable.js":
/*!**************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/domain/report/reportObservable.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RawReportType: () => (/* binding */ RawReportType),\n/* harmony export */   initReportObservable: () => (/* binding */ initReportObservable)\n/* harmony export */ });\n/* harmony import */ var _error_error__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../error/error */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/error/error.js\");\n/* harmony import */ var _tools_monitor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../tools/monitor */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/monitor.js\");\n/* harmony import */ var _tools_observable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../tools/observable */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/observable.js\");\n/* harmony import */ var _browser_addEventListener__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../browser/addEventListener */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/browser/addEventListener.js\");\n/* harmony import */ var _tools_utils_polyfills__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../tools/utils/polyfills */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/polyfills.js\");\n/* harmony import */ var _tools_utils_stringUtils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../tools/utils/stringUtils */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/stringUtils.js\");\n\n\n\n\n\n\nvar RawReportType = {\n    intervention: 'intervention',\n    deprecation: 'deprecation',\n    cspViolation: 'csp_violation',\n};\nfunction initReportObservable(apis) {\n    var observables = [];\n    if ((0,_tools_utils_polyfills__WEBPACK_IMPORTED_MODULE_0__.includes)(apis, RawReportType.cspViolation)) {\n        observables.push(createCspViolationReportObservable());\n    }\n    var reportTypes = apis.filter(function (api) { return api !== RawReportType.cspViolation; });\n    if (reportTypes.length) {\n        observables.push(createReportObservable(reportTypes));\n    }\n    return _tools_observable__WEBPACK_IMPORTED_MODULE_1__.mergeObservables.apply(void 0, observables);\n}\nfunction createReportObservable(reportTypes) {\n    var observable = new _tools_observable__WEBPACK_IMPORTED_MODULE_1__.Observable(function () {\n        if (!window.ReportingObserver) {\n            return;\n        }\n        var handleReports = (0,_tools_monitor__WEBPACK_IMPORTED_MODULE_2__.monitor)(function (reports) {\n            return reports.forEach(function (report) {\n                observable.notify(buildRawReportFromReport(report));\n            });\n        });\n        var observer = new window.ReportingObserver(handleReports, {\n            types: reportTypes,\n            buffered: true,\n        });\n        observer.observe();\n        return function () {\n            observer.disconnect();\n        };\n    });\n    return observable;\n}\nfunction createCspViolationReportObservable() {\n    var observable = new _tools_observable__WEBPACK_IMPORTED_MODULE_1__.Observable(function () {\n        var stop = (0,_browser_addEventListener__WEBPACK_IMPORTED_MODULE_3__.addEventListener)(document, \"securitypolicyviolation\" /* DOM_EVENT.SECURITY_POLICY_VIOLATION */, function (event) {\n            observable.notify(buildRawReportFromCspViolation(event));\n        }).stop;\n        return stop;\n    });\n    return observable;\n}\nfunction buildRawReportFromReport(_a) {\n    var type = _a.type, body = _a.body;\n    return {\n        type: type,\n        subtype: body.id,\n        message: \"\".concat(type, \": \").concat(body.message),\n        stack: buildStack(body.id, body.message, body.sourceFile, body.lineNumber, body.columnNumber),\n    };\n}\nfunction buildRawReportFromCspViolation(event) {\n    var type = RawReportType.cspViolation;\n    var message = \"'\".concat(event.blockedURI, \"' blocked by '\").concat(event.effectiveDirective, \"' directive\");\n    return {\n        type: RawReportType.cspViolation,\n        subtype: event.effectiveDirective,\n        message: \"\".concat(type, \": \").concat(message),\n        stack: buildStack(event.effectiveDirective, event.originalPolicy\n            ? \"\".concat(message, \" of the policy \\\"\").concat((0,_tools_utils_stringUtils__WEBPACK_IMPORTED_MODULE_4__.safeTruncate)(event.originalPolicy, 100, '...'), \"\\\"\")\n            : 'no policy', event.sourceFile, event.lineNumber, event.columnNumber),\n    };\n}\nfunction buildStack(name, message, sourceFile, lineNumber, columnNumber) {\n    return (sourceFile &&\n        (0,_error_error__WEBPACK_IMPORTED_MODULE_5__.toStackTraceString)({\n            name: name,\n            message: message,\n            stack: [\n                {\n                    func: '?',\n                    url: sourceFile,\n                    line: lineNumber,\n                    column: columnNumber,\n                },\n            ],\n        }));\n}\n//# sourceMappingURL=reportObservable.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL3JlcG9ydC9yZXBvcnRPYnNlcnZhYmxlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQW9EO0FBQ047QUFDd0I7QUFDSjtBQUNYO0FBQ007QUFDdEQ7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSxRQUFRLGdFQUFRO0FBQ2hCO0FBQ0E7QUFDQSxtREFBbUQsNENBQTRDO0FBQy9GO0FBQ0E7QUFDQTtBQUNBLFdBQVcsK0RBQWdCO0FBQzNCO0FBQ0E7QUFDQSx5QkFBeUIseURBQVU7QUFDbkM7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLHVEQUFPO0FBQ25DO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIseURBQVU7QUFDbkMsbUJBQW1CLDJFQUFnQjtBQUNuQztBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RCxzRUFBWTtBQUN6RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxnRUFBa0I7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLFNBQVM7QUFDVDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFyY2FzdGVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLWNvcmUvZXNtL2RvbWFpbi9yZXBvcnQvcmVwb3J0T2JzZXJ2YWJsZS5qcz82YTVlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHRvU3RhY2tUcmFjZVN0cmluZyB9IGZyb20gJy4uL2Vycm9yL2Vycm9yJztcbmltcG9ydCB7IG1vbml0b3IgfSBmcm9tICcuLi8uLi90b29scy9tb25pdG9yJztcbmltcG9ydCB7IG1lcmdlT2JzZXJ2YWJsZXMsIE9ic2VydmFibGUgfSBmcm9tICcuLi8uLi90b29scy9vYnNlcnZhYmxlJztcbmltcG9ydCB7IGFkZEV2ZW50TGlzdGVuZXIgfSBmcm9tICcuLi8uLi9icm93c2VyL2FkZEV2ZW50TGlzdGVuZXInO1xuaW1wb3J0IHsgaW5jbHVkZXMgfSBmcm9tICcuLi8uLi90b29scy91dGlscy9wb2x5ZmlsbHMnO1xuaW1wb3J0IHsgc2FmZVRydW5jYXRlIH0gZnJvbSAnLi4vLi4vdG9vbHMvdXRpbHMvc3RyaW5nVXRpbHMnO1xuZXhwb3J0IHZhciBSYXdSZXBvcnRUeXBlID0ge1xuICAgIGludGVydmVudGlvbjogJ2ludGVydmVudGlvbicsXG4gICAgZGVwcmVjYXRpb246ICdkZXByZWNhdGlvbicsXG4gICAgY3NwVmlvbGF0aW9uOiAnY3NwX3Zpb2xhdGlvbicsXG59O1xuZXhwb3J0IGZ1bmN0aW9uIGluaXRSZXBvcnRPYnNlcnZhYmxlKGFwaXMpIHtcbiAgICB2YXIgb2JzZXJ2YWJsZXMgPSBbXTtcbiAgICBpZiAoaW5jbHVkZXMoYXBpcywgUmF3UmVwb3J0VHlwZS5jc3BWaW9sYXRpb24pKSB7XG4gICAgICAgIG9ic2VydmFibGVzLnB1c2goY3JlYXRlQ3NwVmlvbGF0aW9uUmVwb3J0T2JzZXJ2YWJsZSgpKTtcbiAgICB9XG4gICAgdmFyIHJlcG9ydFR5cGVzID0gYXBpcy5maWx0ZXIoZnVuY3Rpb24gKGFwaSkgeyByZXR1cm4gYXBpICE9PSBSYXdSZXBvcnRUeXBlLmNzcFZpb2xhdGlvbjsgfSk7XG4gICAgaWYgKHJlcG9ydFR5cGVzLmxlbmd0aCkge1xuICAgICAgICBvYnNlcnZhYmxlcy5wdXNoKGNyZWF0ZVJlcG9ydE9ic2VydmFibGUocmVwb3J0VHlwZXMpKTtcbiAgICB9XG4gICAgcmV0dXJuIG1lcmdlT2JzZXJ2YWJsZXMuYXBwbHkodm9pZCAwLCBvYnNlcnZhYmxlcyk7XG59XG5mdW5jdGlvbiBjcmVhdGVSZXBvcnRPYnNlcnZhYmxlKHJlcG9ydFR5cGVzKSB7XG4gICAgdmFyIG9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghd2luZG93LlJlcG9ydGluZ09ic2VydmVyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGhhbmRsZVJlcG9ydHMgPSBtb25pdG9yKGZ1bmN0aW9uIChyZXBvcnRzKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVwb3J0cy5mb3JFYWNoKGZ1bmN0aW9uIChyZXBvcnQpIHtcbiAgICAgICAgICAgICAgICBvYnNlcnZhYmxlLm5vdGlmeShidWlsZFJhd1JlcG9ydEZyb21SZXBvcnQocmVwb3J0KSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBvYnNlcnZlciA9IG5ldyB3aW5kb3cuUmVwb3J0aW5nT2JzZXJ2ZXIoaGFuZGxlUmVwb3J0cywge1xuICAgICAgICAgICAgdHlwZXM6IHJlcG9ydFR5cGVzLFxuICAgICAgICAgICAgYnVmZmVyZWQ6IHRydWUsXG4gICAgICAgIH0pO1xuICAgICAgICBvYnNlcnZlci5vYnNlcnZlKCk7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBvYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICAgIH07XG4gICAgfSk7XG4gICAgcmV0dXJuIG9ic2VydmFibGU7XG59XG5mdW5jdGlvbiBjcmVhdGVDc3BWaW9sYXRpb25SZXBvcnRPYnNlcnZhYmxlKCkge1xuICAgIHZhciBvYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc3RvcCA9IGFkZEV2ZW50TGlzdGVuZXIoZG9jdW1lbnQsIFwic2VjdXJpdHlwb2xpY3l2aW9sYXRpb25cIiAvKiBET01fRVZFTlQuU0VDVVJJVFlfUE9MSUNZX1ZJT0xBVElPTiAqLywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICBvYnNlcnZhYmxlLm5vdGlmeShidWlsZFJhd1JlcG9ydEZyb21Dc3BWaW9sYXRpb24oZXZlbnQpKTtcbiAgICAgICAgfSkuc3RvcDtcbiAgICAgICAgcmV0dXJuIHN0b3A7XG4gICAgfSk7XG4gICAgcmV0dXJuIG9ic2VydmFibGU7XG59XG5mdW5jdGlvbiBidWlsZFJhd1JlcG9ydEZyb21SZXBvcnQoX2EpIHtcbiAgICB2YXIgdHlwZSA9IF9hLnR5cGUsIGJvZHkgPSBfYS5ib2R5O1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgIHN1YnR5cGU6IGJvZHkuaWQsXG4gICAgICAgIG1lc3NhZ2U6IFwiXCIuY29uY2F0KHR5cGUsIFwiOiBcIikuY29uY2F0KGJvZHkubWVzc2FnZSksXG4gICAgICAgIHN0YWNrOiBidWlsZFN0YWNrKGJvZHkuaWQsIGJvZHkubWVzc2FnZSwgYm9keS5zb3VyY2VGaWxlLCBib2R5LmxpbmVOdW1iZXIsIGJvZHkuY29sdW1uTnVtYmVyKSxcbiAgICB9O1xufVxuZnVuY3Rpb24gYnVpbGRSYXdSZXBvcnRGcm9tQ3NwVmlvbGF0aW9uKGV2ZW50KSB7XG4gICAgdmFyIHR5cGUgPSBSYXdSZXBvcnRUeXBlLmNzcFZpb2xhdGlvbjtcbiAgICB2YXIgbWVzc2FnZSA9IFwiJ1wiLmNvbmNhdChldmVudC5ibG9ja2VkVVJJLCBcIicgYmxvY2tlZCBieSAnXCIpLmNvbmNhdChldmVudC5lZmZlY3RpdmVEaXJlY3RpdmUsIFwiJyBkaXJlY3RpdmVcIik7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogUmF3UmVwb3J0VHlwZS5jc3BWaW9sYXRpb24sXG4gICAgICAgIHN1YnR5cGU6IGV2ZW50LmVmZmVjdGl2ZURpcmVjdGl2ZSxcbiAgICAgICAgbWVzc2FnZTogXCJcIi5jb25jYXQodHlwZSwgXCI6IFwiKS5jb25jYXQobWVzc2FnZSksXG4gICAgICAgIHN0YWNrOiBidWlsZFN0YWNrKGV2ZW50LmVmZmVjdGl2ZURpcmVjdGl2ZSwgZXZlbnQub3JpZ2luYWxQb2xpY3lcbiAgICAgICAgICAgID8gXCJcIi5jb25jYXQobWVzc2FnZSwgXCIgb2YgdGhlIHBvbGljeSBcXFwiXCIpLmNvbmNhdChzYWZlVHJ1bmNhdGUoZXZlbnQub3JpZ2luYWxQb2xpY3ksIDEwMCwgJy4uLicpLCBcIlxcXCJcIilcbiAgICAgICAgICAgIDogJ25vIHBvbGljeScsIGV2ZW50LnNvdXJjZUZpbGUsIGV2ZW50LmxpbmVOdW1iZXIsIGV2ZW50LmNvbHVtbk51bWJlciksXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGJ1aWxkU3RhY2sobmFtZSwgbWVzc2FnZSwgc291cmNlRmlsZSwgbGluZU51bWJlciwgY29sdW1uTnVtYmVyKSB7XG4gICAgcmV0dXJuIChzb3VyY2VGaWxlICYmXG4gICAgICAgIHRvU3RhY2tUcmFjZVN0cmluZyh7XG4gICAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgICAgbWVzc2FnZTogbWVzc2FnZSxcbiAgICAgICAgICAgIHN0YWNrOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBmdW5jOiAnPycsXG4gICAgICAgICAgICAgICAgICAgIHVybDogc291cmNlRmlsZSxcbiAgICAgICAgICAgICAgICAgICAgbGluZTogbGluZU51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uOiBjb2x1bW5OdW1iZXIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgIH0pKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlcG9ydE9ic2VydmFibGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-core/esm/domain/report/reportObservable.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-core/esm/domain/session/oldCookiesMigration.js":
/*!******************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/domain/session/oldCookiesMigration.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LOGS_SESSION_KEY: () => (/* binding */ LOGS_SESSION_KEY),\n/* harmony export */   OLD_LOGS_COOKIE_NAME: () => (/* binding */ OLD_LOGS_COOKIE_NAME),\n/* harmony export */   OLD_RUM_COOKIE_NAME: () => (/* binding */ OLD_RUM_COOKIE_NAME),\n/* harmony export */   OLD_SESSION_COOKIE_NAME: () => (/* binding */ OLD_SESSION_COOKIE_NAME),\n/* harmony export */   RUM_SESSION_KEY: () => (/* binding */ RUM_SESSION_KEY),\n/* harmony export */   tryOldCookiesMigration: () => (/* binding */ tryOldCookiesMigration)\n/* harmony export */ });\n/* harmony import */ var _browser_cookie__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../browser/cookie */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/browser/cookie.js\");\n/* harmony import */ var _sessionCookieStore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./sessionCookieStore */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/session/sessionCookieStore.js\");\n\n\nvar OLD_SESSION_COOKIE_NAME = '_dd';\nvar OLD_RUM_COOKIE_NAME = '_dd_r';\nvar OLD_LOGS_COOKIE_NAME = '_dd_l';\n// duplicate values to avoid dependency issues\nvar RUM_SESSION_KEY = 'rum';\nvar LOGS_SESSION_KEY = 'logs';\n/**\n * This migration should remain in the codebase as long as older versions are available/live\n * to allow older sdk versions to be upgraded to newer versions without compatibility issues.\n */\nfunction tryOldCookiesMigration(options) {\n    var sessionString = (0,_browser_cookie__WEBPACK_IMPORTED_MODULE_0__.getCookie)(_sessionCookieStore__WEBPACK_IMPORTED_MODULE_1__.SESSION_COOKIE_NAME);\n    var oldSessionId = (0,_browser_cookie__WEBPACK_IMPORTED_MODULE_0__.getCookie)(OLD_SESSION_COOKIE_NAME);\n    var oldRumType = (0,_browser_cookie__WEBPACK_IMPORTED_MODULE_0__.getCookie)(OLD_RUM_COOKIE_NAME);\n    var oldLogsType = (0,_browser_cookie__WEBPACK_IMPORTED_MODULE_0__.getCookie)(OLD_LOGS_COOKIE_NAME);\n    if (!sessionString) {\n        var session = {};\n        if (oldSessionId) {\n            session.id = oldSessionId;\n        }\n        if (oldLogsType && /^[01]$/.test(oldLogsType)) {\n            session[LOGS_SESSION_KEY] = oldLogsType;\n        }\n        if (oldRumType && /^[012]$/.test(oldRumType)) {\n            session[RUM_SESSION_KEY] = oldRumType;\n        }\n        (0,_sessionCookieStore__WEBPACK_IMPORTED_MODULE_1__.persistSessionCookie)(session, options);\n    }\n}\n//# sourceMappingURL=oldCookiesMigration.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL3Nlc3Npb24vb2xkQ29va2llc01pZ3JhdGlvbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFpRDtBQUNnQztBQUMxRTtBQUNBO0FBQ0E7QUFDUDtBQUNPO0FBQ0E7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1Asd0JBQXdCLDBEQUFTLENBQUMsb0VBQW1CO0FBQ3JELHVCQUF1QiwwREFBUztBQUNoQyxxQkFBcUIsMERBQVM7QUFDOUIsc0JBQXNCLDBEQUFTO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHlFQUFvQjtBQUM1QjtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYXJjYXN0ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL3Nlc3Npb24vb2xkQ29va2llc01pZ3JhdGlvbi5qcz8wYzQ3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldENvb2tpZSB9IGZyb20gJy4uLy4uL2Jyb3dzZXIvY29va2llJztcbmltcG9ydCB7IFNFU1NJT05fQ09PS0lFX05BTUUsIHBlcnNpc3RTZXNzaW9uQ29va2llIH0gZnJvbSAnLi9zZXNzaW9uQ29va2llU3RvcmUnO1xuZXhwb3J0IHZhciBPTERfU0VTU0lPTl9DT09LSUVfTkFNRSA9ICdfZGQnO1xuZXhwb3J0IHZhciBPTERfUlVNX0NPT0tJRV9OQU1FID0gJ19kZF9yJztcbmV4cG9ydCB2YXIgT0xEX0xPR1NfQ09PS0lFX05BTUUgPSAnX2RkX2wnO1xuLy8gZHVwbGljYXRlIHZhbHVlcyB0byBhdm9pZCBkZXBlbmRlbmN5IGlzc3Vlc1xuZXhwb3J0IHZhciBSVU1fU0VTU0lPTl9LRVkgPSAncnVtJztcbmV4cG9ydCB2YXIgTE9HU19TRVNTSU9OX0tFWSA9ICdsb2dzJztcbi8qKlxuICogVGhpcyBtaWdyYXRpb24gc2hvdWxkIHJlbWFpbiBpbiB0aGUgY29kZWJhc2UgYXMgbG9uZyBhcyBvbGRlciB2ZXJzaW9ucyBhcmUgYXZhaWxhYmxlL2xpdmVcbiAqIHRvIGFsbG93IG9sZGVyIHNkayB2ZXJzaW9ucyB0byBiZSB1cGdyYWRlZCB0byBuZXdlciB2ZXJzaW9ucyB3aXRob3V0IGNvbXBhdGliaWxpdHkgaXNzdWVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJ5T2xkQ29va2llc01pZ3JhdGlvbihvcHRpb25zKSB7XG4gICAgdmFyIHNlc3Npb25TdHJpbmcgPSBnZXRDb29raWUoU0VTU0lPTl9DT09LSUVfTkFNRSk7XG4gICAgdmFyIG9sZFNlc3Npb25JZCA9IGdldENvb2tpZShPTERfU0VTU0lPTl9DT09LSUVfTkFNRSk7XG4gICAgdmFyIG9sZFJ1bVR5cGUgPSBnZXRDb29raWUoT0xEX1JVTV9DT09LSUVfTkFNRSk7XG4gICAgdmFyIG9sZExvZ3NUeXBlID0gZ2V0Q29va2llKE9MRF9MT0dTX0NPT0tJRV9OQU1FKTtcbiAgICBpZiAoIXNlc3Npb25TdHJpbmcpIHtcbiAgICAgICAgdmFyIHNlc3Npb24gPSB7fTtcbiAgICAgICAgaWYgKG9sZFNlc3Npb25JZCkge1xuICAgICAgICAgICAgc2Vzc2lvbi5pZCA9IG9sZFNlc3Npb25JZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAob2xkTG9nc1R5cGUgJiYgL15bMDFdJC8udGVzdChvbGRMb2dzVHlwZSkpIHtcbiAgICAgICAgICAgIHNlc3Npb25bTE9HU19TRVNTSU9OX0tFWV0gPSBvbGRMb2dzVHlwZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob2xkUnVtVHlwZSAmJiAvXlswMTJdJC8udGVzdChvbGRSdW1UeXBlKSkge1xuICAgICAgICAgICAgc2Vzc2lvbltSVU1fU0VTU0lPTl9LRVldID0gb2xkUnVtVHlwZTtcbiAgICAgICAgfVxuICAgICAgICBwZXJzaXN0U2Vzc2lvbkNvb2tpZShzZXNzaW9uLCBvcHRpb25zKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vbGRDb29raWVzTWlncmF0aW9uLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-core/esm/domain/session/oldCookiesMigration.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-core/esm/domain/session/sessionConstants.js":
/*!***************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/domain/session/sessionConstants.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SESSION_EXPIRATION_DELAY: () => (/* binding */ SESSION_EXPIRATION_DELAY),\n/* harmony export */   SESSION_TIME_OUT_DELAY: () => (/* binding */ SESSION_TIME_OUT_DELAY)\n/* harmony export */ });\n/* harmony import */ var _tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../tools/utils/timeUtils */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js\");\n\nvar SESSION_TIME_OUT_DELAY = 4 * _tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_0__.ONE_HOUR;\nvar SESSION_EXPIRATION_DELAY = 15 * _tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_0__.ONE_MINUTE;\n//# sourceMappingURL=sessionConstants.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL3Nlc3Npb24vc2Vzc2lvbkNvbnN0YW50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBbUU7QUFDNUQsaUNBQWlDLDREQUFRO0FBQ3pDLG9DQUFvQyw4REFBVTtBQUNyRCIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhcmNhc3Rlci8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS9kb21haW4vc2Vzc2lvbi9zZXNzaW9uQ29uc3RhbnRzLmpzPzU1NzEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgT05FX0hPVVIsIE9ORV9NSU5VVEUgfSBmcm9tICcuLi8uLi90b29scy91dGlscy90aW1lVXRpbHMnO1xuZXhwb3J0IHZhciBTRVNTSU9OX1RJTUVfT1VUX0RFTEFZID0gNCAqIE9ORV9IT1VSO1xuZXhwb3J0IHZhciBTRVNTSU9OX0VYUElSQVRJT05fREVMQVkgPSAxNSAqIE9ORV9NSU5VVEU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXNzaW9uQ29uc3RhbnRzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-core/esm/domain/session/sessionConstants.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-core/esm/domain/session/sessionCookieStore.js":
/*!*****************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/domain/session/sessionCookieStore.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LOCK_RETRY_DELAY: () => (/* binding */ LOCK_RETRY_DELAY),\n/* harmony export */   MAX_NUMBER_OF_LOCK_RETRIES: () => (/* binding */ MAX_NUMBER_OF_LOCK_RETRIES),\n/* harmony export */   SESSION_COOKIE_NAME: () => (/* binding */ SESSION_COOKIE_NAME),\n/* harmony export */   deleteSessionCookie: () => (/* binding */ deleteSessionCookie),\n/* harmony export */   persistSessionCookie: () => (/* binding */ persistSessionCookie),\n/* harmony export */   retrieveSessionCookie: () => (/* binding */ retrieveSessionCookie),\n/* harmony export */   toSessionString: () => (/* binding */ toSessionString),\n/* harmony export */   withCookieLockAccess: () => (/* binding */ withCookieLockAccess)\n/* harmony export */ });\n/* harmony import */ var _browser_cookie__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../browser/cookie */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/browser/cookie.js\");\n/* harmony import */ var _tools_timer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../tools/timer */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/timer.js\");\n/* harmony import */ var _tools_utils_browserDetection__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../tools/utils/browserDetection */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/browserDetection.js\");\n/* harmony import */ var _tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../tools/utils/timeUtils */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js\");\n/* harmony import */ var _tools_utils_polyfills__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../tools/utils/polyfills */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/polyfills.js\");\n/* harmony import */ var _tools_utils_objectUtils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../tools/utils/objectUtils */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/objectUtils.js\");\n/* harmony import */ var _tools_utils_stringUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../tools/utils/stringUtils */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/stringUtils.js\");\n/* harmony import */ var _sessionConstants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./sessionConstants */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/session/sessionConstants.js\");\n\n\n\n\n\n\n\n\nvar SESSION_ENTRY_REGEXP = /^([a-z]+)=([a-z0-9-]+)$/;\nvar SESSION_ENTRY_SEPARATOR = '&';\nvar SESSION_COOKIE_NAME = '_dd_s';\n// arbitrary values\nvar LOCK_RETRY_DELAY = 10;\nvar MAX_NUMBER_OF_LOCK_RETRIES = 100;\nvar bufferedOperations = [];\nvar ongoingOperations;\nfunction withCookieLockAccess(operations, numberOfRetries) {\n    var _a;\n    if (numberOfRetries === void 0) { numberOfRetries = 0; }\n    if (!ongoingOperations) {\n        ongoingOperations = operations;\n    }\n    if (operations !== ongoingOperations) {\n        bufferedOperations.push(operations);\n        return;\n    }\n    if (numberOfRetries >= MAX_NUMBER_OF_LOCK_RETRIES) {\n        next();\n        return;\n    }\n    var currentLock;\n    var currentSession = retrieveSessionCookie();\n    if (isCookieLockEnabled()) {\n        // if someone has lock, retry later\n        if (currentSession.lock) {\n            retryLater(operations, numberOfRetries);\n            return;\n        }\n        // acquire lock\n        currentLock = (0,_tools_utils_stringUtils__WEBPACK_IMPORTED_MODULE_0__.generateUUID)();\n        currentSession.lock = currentLock;\n        setSessionCookie(currentSession, operations.options);\n        // if lock is not acquired, retry later\n        currentSession = retrieveSessionCookie();\n        if (currentSession.lock !== currentLock) {\n            retryLater(operations, numberOfRetries);\n            return;\n        }\n    }\n    var processedSession = operations.process(currentSession);\n    if (isCookieLockEnabled()) {\n        // if lock corrupted after process, retry later\n        currentSession = retrieveSessionCookie();\n        if (currentSession.lock !== currentLock) {\n            retryLater(operations, numberOfRetries);\n            return;\n        }\n    }\n    if (processedSession) {\n        persistSessionCookie(processedSession, operations.options);\n    }\n    if (isCookieLockEnabled()) {\n        // correctly handle lock around expiration would require to handle this case properly at several levels\n        // since we don't have evidence of lock issues around expiration, let's just not do the corruption check for it\n        if (!(processedSession && isExpiredState(processedSession))) {\n            // if lock corrupted after persist, retry later\n            currentSession = retrieveSessionCookie();\n            if (currentSession.lock !== currentLock) {\n                retryLater(operations, numberOfRetries);\n                return;\n            }\n            delete currentSession.lock;\n            setSessionCookie(currentSession, operations.options);\n            processedSession = currentSession;\n        }\n    }\n    // call after even if session is not persisted in order to perform operations on\n    // up-to-date cookie value, the value could have been modified by another tab\n    (_a = operations.after) === null || _a === void 0 ? void 0 : _a.call(operations, processedSession || currentSession);\n    next();\n}\n/**\n * Cookie lock strategy allows mitigating issues due to concurrent access to cookie.\n * This issue concerns only chromium browsers and enabling this on firefox increase cookie write failures.\n */\nfunction isCookieLockEnabled() {\n    return (0,_tools_utils_browserDetection__WEBPACK_IMPORTED_MODULE_1__.isChromium)();\n}\nfunction retryLater(operations, currentNumberOfRetries) {\n    (0,_tools_timer__WEBPACK_IMPORTED_MODULE_2__.setTimeout)(function () {\n        withCookieLockAccess(operations, currentNumberOfRetries + 1);\n    }, LOCK_RETRY_DELAY);\n}\nfunction next() {\n    ongoingOperations = undefined;\n    var nextOperations = bufferedOperations.shift();\n    if (nextOperations) {\n        withCookieLockAccess(nextOperations);\n    }\n}\nfunction persistSessionCookie(session, options) {\n    if (isExpiredState(session)) {\n        deleteSessionCookie(options);\n        return;\n    }\n    session.expire = String((0,_tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_3__.dateNow)() + _sessionConstants__WEBPACK_IMPORTED_MODULE_4__.SESSION_EXPIRATION_DELAY);\n    setSessionCookie(session, options);\n}\nfunction setSessionCookie(session, options) {\n    (0,_browser_cookie__WEBPACK_IMPORTED_MODULE_5__.setCookie)(SESSION_COOKIE_NAME, toSessionString(session), _sessionConstants__WEBPACK_IMPORTED_MODULE_4__.SESSION_EXPIRATION_DELAY, options);\n}\nfunction toSessionString(session) {\n    return (0,_tools_utils_polyfills__WEBPACK_IMPORTED_MODULE_6__.objectEntries)(session)\n        .map(function (_a) {\n        var key = _a[0], value = _a[1];\n        return \"\".concat(key, \"=\").concat(value);\n    })\n        .join(SESSION_ENTRY_SEPARATOR);\n}\nfunction retrieveSessionCookie() {\n    var sessionString = (0,_browser_cookie__WEBPACK_IMPORTED_MODULE_5__.getCookie)(SESSION_COOKIE_NAME);\n    var session = {};\n    if (isValidSessionString(sessionString)) {\n        sessionString.split(SESSION_ENTRY_SEPARATOR).forEach(function (entry) {\n            var matches = SESSION_ENTRY_REGEXP.exec(entry);\n            if (matches !== null) {\n                var key = matches[1], value = matches[2];\n                session[key] = value;\n            }\n        });\n    }\n    return session;\n}\nfunction deleteSessionCookie(options) {\n    (0,_browser_cookie__WEBPACK_IMPORTED_MODULE_5__.deleteCookie)(SESSION_COOKIE_NAME, options);\n}\nfunction isValidSessionString(sessionString) {\n    return (sessionString !== undefined &&\n        (sessionString.indexOf(SESSION_ENTRY_SEPARATOR) !== -1 || SESSION_ENTRY_REGEXP.test(sessionString)));\n}\nfunction isExpiredState(session) {\n    return (0,_tools_utils_objectUtils__WEBPACK_IMPORTED_MODULE_7__.isEmptyObject)(session);\n}\n//# sourceMappingURL=sessionCookieStore.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL3Nlc3Npb24vc2Vzc2lvbkNvb2tpZVN0b3JlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBMEU7QUFDM0I7QUFDaUI7QUFDVjtBQUNNO0FBQ0U7QUFDRDtBQUNDO0FBQzlEO0FBQ0E7QUFDTztBQUNQO0FBQ087QUFDQTtBQUNQO0FBQ0E7QUFDTztBQUNQO0FBQ0Esc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0Isc0VBQVk7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLHlFQUFVO0FBQ3JCO0FBQ0E7QUFDQSxJQUFJLHdEQUFVO0FBQ2Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsK0RBQU8sS0FBSyx1RUFBd0I7QUFDaEU7QUFDQTtBQUNBO0FBQ0EsSUFBSSwwREFBUyxnREFBZ0QsdUVBQXdCO0FBQ3JGO0FBQ087QUFDUCxXQUFXLHFFQUFhO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ087QUFDUCx3QkFBd0IsMERBQVM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDTztBQUNQLElBQUksNkRBQVk7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyx1RUFBYTtBQUN4QjtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFyY2FzdGVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLWNvcmUvZXNtL2RvbWFpbi9zZXNzaW9uL3Nlc3Npb25Db29raWVTdG9yZS5qcz9iYmY0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGRlbGV0ZUNvb2tpZSwgZ2V0Q29va2llLCBzZXRDb29raWUgfSBmcm9tICcuLi8uLi9icm93c2VyL2Nvb2tpZSc7XG5pbXBvcnQgeyBzZXRUaW1lb3V0IH0gZnJvbSAnLi4vLi4vdG9vbHMvdGltZXInO1xuaW1wb3J0IHsgaXNDaHJvbWl1bSB9IGZyb20gJy4uLy4uL3Rvb2xzL3V0aWxzL2Jyb3dzZXJEZXRlY3Rpb24nO1xuaW1wb3J0IHsgZGF0ZU5vdyB9IGZyb20gJy4uLy4uL3Rvb2xzL3V0aWxzL3RpbWVVdGlscyc7XG5pbXBvcnQgeyBvYmplY3RFbnRyaWVzIH0gZnJvbSAnLi4vLi4vdG9vbHMvdXRpbHMvcG9seWZpbGxzJztcbmltcG9ydCB7IGlzRW1wdHlPYmplY3QgfSBmcm9tICcuLi8uLi90b29scy91dGlscy9vYmplY3RVdGlscyc7XG5pbXBvcnQgeyBnZW5lcmF0ZVVVSUQgfSBmcm9tICcuLi8uLi90b29scy91dGlscy9zdHJpbmdVdGlscyc7XG5pbXBvcnQgeyBTRVNTSU9OX0VYUElSQVRJT05fREVMQVkgfSBmcm9tICcuL3Nlc3Npb25Db25zdGFudHMnO1xudmFyIFNFU1NJT05fRU5UUllfUkVHRVhQID0gL14oW2Etel0rKT0oW2EtejAtOS1dKykkLztcbnZhciBTRVNTSU9OX0VOVFJZX1NFUEFSQVRPUiA9ICcmJztcbmV4cG9ydCB2YXIgU0VTU0lPTl9DT09LSUVfTkFNRSA9ICdfZGRfcyc7XG4vLyBhcmJpdHJhcnkgdmFsdWVzXG5leHBvcnQgdmFyIExPQ0tfUkVUUllfREVMQVkgPSAxMDtcbmV4cG9ydCB2YXIgTUFYX05VTUJFUl9PRl9MT0NLX1JFVFJJRVMgPSAxMDA7XG52YXIgYnVmZmVyZWRPcGVyYXRpb25zID0gW107XG52YXIgb25nb2luZ09wZXJhdGlvbnM7XG5leHBvcnQgZnVuY3Rpb24gd2l0aENvb2tpZUxvY2tBY2Nlc3Mob3BlcmF0aW9ucywgbnVtYmVyT2ZSZXRyaWVzKSB7XG4gICAgdmFyIF9hO1xuICAgIGlmIChudW1iZXJPZlJldHJpZXMgPT09IHZvaWQgMCkgeyBudW1iZXJPZlJldHJpZXMgPSAwOyB9XG4gICAgaWYgKCFvbmdvaW5nT3BlcmF0aW9ucykge1xuICAgICAgICBvbmdvaW5nT3BlcmF0aW9ucyA9IG9wZXJhdGlvbnM7XG4gICAgfVxuICAgIGlmIChvcGVyYXRpb25zICE9PSBvbmdvaW5nT3BlcmF0aW9ucykge1xuICAgICAgICBidWZmZXJlZE9wZXJhdGlvbnMucHVzaChvcGVyYXRpb25zKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAobnVtYmVyT2ZSZXRyaWVzID49IE1BWF9OVU1CRVJfT0ZfTE9DS19SRVRSSUVTKSB7XG4gICAgICAgIG5leHQoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgY3VycmVudExvY2s7XG4gICAgdmFyIGN1cnJlbnRTZXNzaW9uID0gcmV0cmlldmVTZXNzaW9uQ29va2llKCk7XG4gICAgaWYgKGlzQ29va2llTG9ja0VuYWJsZWQoKSkge1xuICAgICAgICAvLyBpZiBzb21lb25lIGhhcyBsb2NrLCByZXRyeSBsYXRlclxuICAgICAgICBpZiAoY3VycmVudFNlc3Npb24ubG9jaykge1xuICAgICAgICAgICAgcmV0cnlMYXRlcihvcGVyYXRpb25zLCBudW1iZXJPZlJldHJpZXMpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIGFjcXVpcmUgbG9ja1xuICAgICAgICBjdXJyZW50TG9jayA9IGdlbmVyYXRlVVVJRCgpO1xuICAgICAgICBjdXJyZW50U2Vzc2lvbi5sb2NrID0gY3VycmVudExvY2s7XG4gICAgICAgIHNldFNlc3Npb25Db29raWUoY3VycmVudFNlc3Npb24sIG9wZXJhdGlvbnMub3B0aW9ucyk7XG4gICAgICAgIC8vIGlmIGxvY2sgaXMgbm90IGFjcXVpcmVkLCByZXRyeSBsYXRlclxuICAgICAgICBjdXJyZW50U2Vzc2lvbiA9IHJldHJpZXZlU2Vzc2lvbkNvb2tpZSgpO1xuICAgICAgICBpZiAoY3VycmVudFNlc3Npb24ubG9jayAhPT0gY3VycmVudExvY2spIHtcbiAgICAgICAgICAgIHJldHJ5TGF0ZXIob3BlcmF0aW9ucywgbnVtYmVyT2ZSZXRyaWVzKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cbiAgICB2YXIgcHJvY2Vzc2VkU2Vzc2lvbiA9IG9wZXJhdGlvbnMucHJvY2VzcyhjdXJyZW50U2Vzc2lvbik7XG4gICAgaWYgKGlzQ29va2llTG9ja0VuYWJsZWQoKSkge1xuICAgICAgICAvLyBpZiBsb2NrIGNvcnJ1cHRlZCBhZnRlciBwcm9jZXNzLCByZXRyeSBsYXRlclxuICAgICAgICBjdXJyZW50U2Vzc2lvbiA9IHJldHJpZXZlU2Vzc2lvbkNvb2tpZSgpO1xuICAgICAgICBpZiAoY3VycmVudFNlc3Npb24ubG9jayAhPT0gY3VycmVudExvY2spIHtcbiAgICAgICAgICAgIHJldHJ5TGF0ZXIob3BlcmF0aW9ucywgbnVtYmVyT2ZSZXRyaWVzKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAocHJvY2Vzc2VkU2Vzc2lvbikge1xuICAgICAgICBwZXJzaXN0U2Vzc2lvbkNvb2tpZShwcm9jZXNzZWRTZXNzaW9uLCBvcGVyYXRpb25zLm9wdGlvbnMpO1xuICAgIH1cbiAgICBpZiAoaXNDb29raWVMb2NrRW5hYmxlZCgpKSB7XG4gICAgICAgIC8vIGNvcnJlY3RseSBoYW5kbGUgbG9jayBhcm91bmQgZXhwaXJhdGlvbiB3b3VsZCByZXF1aXJlIHRvIGhhbmRsZSB0aGlzIGNhc2UgcHJvcGVybHkgYXQgc2V2ZXJhbCBsZXZlbHNcbiAgICAgICAgLy8gc2luY2Ugd2UgZG9uJ3QgaGF2ZSBldmlkZW5jZSBvZiBsb2NrIGlzc3VlcyBhcm91bmQgZXhwaXJhdGlvbiwgbGV0J3MganVzdCBub3QgZG8gdGhlIGNvcnJ1cHRpb24gY2hlY2sgZm9yIGl0XG4gICAgICAgIGlmICghKHByb2Nlc3NlZFNlc3Npb24gJiYgaXNFeHBpcmVkU3RhdGUocHJvY2Vzc2VkU2Vzc2lvbikpKSB7XG4gICAgICAgICAgICAvLyBpZiBsb2NrIGNvcnJ1cHRlZCBhZnRlciBwZXJzaXN0LCByZXRyeSBsYXRlclxuICAgICAgICAgICAgY3VycmVudFNlc3Npb24gPSByZXRyaWV2ZVNlc3Npb25Db29raWUoKTtcbiAgICAgICAgICAgIGlmIChjdXJyZW50U2Vzc2lvbi5sb2NrICE9PSBjdXJyZW50TG9jaykge1xuICAgICAgICAgICAgICAgIHJldHJ5TGF0ZXIob3BlcmF0aW9ucywgbnVtYmVyT2ZSZXRyaWVzKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWxldGUgY3VycmVudFNlc3Npb24ubG9jaztcbiAgICAgICAgICAgIHNldFNlc3Npb25Db29raWUoY3VycmVudFNlc3Npb24sIG9wZXJhdGlvbnMub3B0aW9ucyk7XG4gICAgICAgICAgICBwcm9jZXNzZWRTZXNzaW9uID0gY3VycmVudFNlc3Npb247XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gY2FsbCBhZnRlciBldmVuIGlmIHNlc3Npb24gaXMgbm90IHBlcnNpc3RlZCBpbiBvcmRlciB0byBwZXJmb3JtIG9wZXJhdGlvbnMgb25cbiAgICAvLyB1cC10by1kYXRlIGNvb2tpZSB2YWx1ZSwgdGhlIHZhbHVlIGNvdWxkIGhhdmUgYmVlbiBtb2RpZmllZCBieSBhbm90aGVyIHRhYlxuICAgIChfYSA9IG9wZXJhdGlvbnMuYWZ0ZXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKG9wZXJhdGlvbnMsIHByb2Nlc3NlZFNlc3Npb24gfHwgY3VycmVudFNlc3Npb24pO1xuICAgIG5leHQoKTtcbn1cbi8qKlxuICogQ29va2llIGxvY2sgc3RyYXRlZ3kgYWxsb3dzIG1pdGlnYXRpbmcgaXNzdWVzIGR1ZSB0byBjb25jdXJyZW50IGFjY2VzcyB0byBjb29raWUuXG4gKiBUaGlzIGlzc3VlIGNvbmNlcm5zIG9ubHkgY2hyb21pdW0gYnJvd3NlcnMgYW5kIGVuYWJsaW5nIHRoaXMgb24gZmlyZWZveCBpbmNyZWFzZSBjb29raWUgd3JpdGUgZmFpbHVyZXMuXG4gKi9cbmZ1bmN0aW9uIGlzQ29va2llTG9ja0VuYWJsZWQoKSB7XG4gICAgcmV0dXJuIGlzQ2hyb21pdW0oKTtcbn1cbmZ1bmN0aW9uIHJldHJ5TGF0ZXIob3BlcmF0aW9ucywgY3VycmVudE51bWJlck9mUmV0cmllcykge1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICB3aXRoQ29va2llTG9ja0FjY2VzcyhvcGVyYXRpb25zLCBjdXJyZW50TnVtYmVyT2ZSZXRyaWVzICsgMSk7XG4gICAgfSwgTE9DS19SRVRSWV9ERUxBWSk7XG59XG5mdW5jdGlvbiBuZXh0KCkge1xuICAgIG9uZ29pbmdPcGVyYXRpb25zID0gdW5kZWZpbmVkO1xuICAgIHZhciBuZXh0T3BlcmF0aW9ucyA9IGJ1ZmZlcmVkT3BlcmF0aW9ucy5zaGlmdCgpO1xuICAgIGlmIChuZXh0T3BlcmF0aW9ucykge1xuICAgICAgICB3aXRoQ29va2llTG9ja0FjY2VzcyhuZXh0T3BlcmF0aW9ucyk7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIHBlcnNpc3RTZXNzaW9uQ29va2llKHNlc3Npb24sIG9wdGlvbnMpIHtcbiAgICBpZiAoaXNFeHBpcmVkU3RhdGUoc2Vzc2lvbikpIHtcbiAgICAgICAgZGVsZXRlU2Vzc2lvbkNvb2tpZShvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzZXNzaW9uLmV4cGlyZSA9IFN0cmluZyhkYXRlTm93KCkgKyBTRVNTSU9OX0VYUElSQVRJT05fREVMQVkpO1xuICAgIHNldFNlc3Npb25Db29raWUoc2Vzc2lvbiwgb3B0aW9ucyk7XG59XG5mdW5jdGlvbiBzZXRTZXNzaW9uQ29va2llKHNlc3Npb24sIG9wdGlvbnMpIHtcbiAgICBzZXRDb29raWUoU0VTU0lPTl9DT09LSUVfTkFNRSwgdG9TZXNzaW9uU3RyaW5nKHNlc3Npb24pLCBTRVNTSU9OX0VYUElSQVRJT05fREVMQVksIG9wdGlvbnMpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHRvU2Vzc2lvblN0cmluZyhzZXNzaW9uKSB7XG4gICAgcmV0dXJuIG9iamVjdEVudHJpZXMoc2Vzc2lvbilcbiAgICAgICAgLm1hcChmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIGtleSA9IF9hWzBdLCB2YWx1ZSA9IF9hWzFdO1xuICAgICAgICByZXR1cm4gXCJcIi5jb25jYXQoa2V5LCBcIj1cIikuY29uY2F0KHZhbHVlKTtcbiAgICB9KVxuICAgICAgICAuam9pbihTRVNTSU9OX0VOVFJZX1NFUEFSQVRPUik7XG59XG5leHBvcnQgZnVuY3Rpb24gcmV0cmlldmVTZXNzaW9uQ29va2llKCkge1xuICAgIHZhciBzZXNzaW9uU3RyaW5nID0gZ2V0Q29va2llKFNFU1NJT05fQ09PS0lFX05BTUUpO1xuICAgIHZhciBzZXNzaW9uID0ge307XG4gICAgaWYgKGlzVmFsaWRTZXNzaW9uU3RyaW5nKHNlc3Npb25TdHJpbmcpKSB7XG4gICAgICAgIHNlc3Npb25TdHJpbmcuc3BsaXQoU0VTU0lPTl9FTlRSWV9TRVBBUkFUT1IpLmZvckVhY2goZnVuY3Rpb24gKGVudHJ5KSB7XG4gICAgICAgICAgICB2YXIgbWF0Y2hlcyA9IFNFU1NJT05fRU5UUllfUkVHRVhQLmV4ZWMoZW50cnkpO1xuICAgICAgICAgICAgaWYgKG1hdGNoZXMgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0gbWF0Y2hlc1sxXSwgdmFsdWUgPSBtYXRjaGVzWzJdO1xuICAgICAgICAgICAgICAgIHNlc3Npb25ba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHNlc3Npb247XG59XG5leHBvcnQgZnVuY3Rpb24gZGVsZXRlU2Vzc2lvbkNvb2tpZShvcHRpb25zKSB7XG4gICAgZGVsZXRlQ29va2llKFNFU1NJT05fQ09PS0lFX05BTUUsIG9wdGlvbnMpO1xufVxuZnVuY3Rpb24gaXNWYWxpZFNlc3Npb25TdHJpbmcoc2Vzc2lvblN0cmluZykge1xuICAgIHJldHVybiAoc2Vzc2lvblN0cmluZyAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgIChzZXNzaW9uU3RyaW5nLmluZGV4T2YoU0VTU0lPTl9FTlRSWV9TRVBBUkFUT1IpICE9PSAtMSB8fCBTRVNTSU9OX0VOVFJZX1JFR0VYUC50ZXN0KHNlc3Npb25TdHJpbmcpKSk7XG59XG5mdW5jdGlvbiBpc0V4cGlyZWRTdGF0ZShzZXNzaW9uKSB7XG4gICAgcmV0dXJuIGlzRW1wdHlPYmplY3Qoc2Vzc2lvbik7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXNzaW9uQ29va2llU3RvcmUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-core/esm/domain/session/sessionCookieStore.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-core/esm/domain/session/sessionManager.js":
/*!*************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/domain/session/sessionManager.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   VISIBILITY_CHECK_DELAY: () => (/* binding */ VISIBILITY_CHECK_DELAY),\n/* harmony export */   startSessionManager: () => (/* binding */ startSessionManager),\n/* harmony export */   stopSessionManager: () => (/* binding */ stopSessionManager)\n/* harmony export */ });\n/* harmony import */ var _tools_valueHistory__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../tools/valueHistory */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/valueHistory.js\");\n/* harmony import */ var _tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../tools/utils/timeUtils */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js\");\n/* harmony import */ var _browser_addEventListener__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../browser/addEventListener */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/browser/addEventListener.js\");\n/* harmony import */ var _tools_timer__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../tools/timer */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/timer.js\");\n/* harmony import */ var _oldCookiesMigration__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./oldCookiesMigration */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/session/oldCookiesMigration.js\");\n/* harmony import */ var _sessionStore__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./sessionStore */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/session/sessionStore.js\");\n/* harmony import */ var _sessionConstants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./sessionConstants */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/session/sessionConstants.js\");\n\n\n\n\n\n\n\nvar VISIBILITY_CHECK_DELAY = _tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_0__.ONE_MINUTE;\nvar SESSION_CONTEXT_TIMEOUT_DELAY = _sessionConstants__WEBPACK_IMPORTED_MODULE_1__.SESSION_TIME_OUT_DELAY;\nvar stopCallbacks = [];\nfunction startSessionManager(options, productKey, computeSessionState) {\n    (0,_oldCookiesMigration__WEBPACK_IMPORTED_MODULE_2__.tryOldCookiesMigration)(options);\n    var sessionStore = (0,_sessionStore__WEBPACK_IMPORTED_MODULE_3__.startSessionStore)(options, productKey, computeSessionState);\n    stopCallbacks.push(function () { return sessionStore.stop(); });\n    var sessionContextHistory = new _tools_valueHistory__WEBPACK_IMPORTED_MODULE_4__.ValueHistory(SESSION_CONTEXT_TIMEOUT_DELAY);\n    stopCallbacks.push(function () { return sessionContextHistory.stop(); });\n    sessionStore.renewObservable.subscribe(function () {\n        sessionContextHistory.add(buildSessionContext(), (0,_tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_0__.relativeNow)());\n    });\n    sessionStore.expireObservable.subscribe(function () {\n        sessionContextHistory.closeActive((0,_tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_0__.relativeNow)());\n    });\n    sessionStore.expandOrRenewSession();\n    sessionContextHistory.add(buildSessionContext(), (0,_tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_0__.clocksOrigin)().relative);\n    trackActivity(function () { return sessionStore.expandOrRenewSession(); });\n    trackVisibility(function () { return sessionStore.expandSession(); });\n    function buildSessionContext() {\n        return {\n            id: sessionStore.getSession().id,\n            trackingType: sessionStore.getSession()[productKey],\n        };\n    }\n    return {\n        findActiveSession: function (startTime) { return sessionContextHistory.find(startTime); },\n        renewObservable: sessionStore.renewObservable,\n        expireObservable: sessionStore.expireObservable,\n        expire: sessionStore.expire,\n    };\n}\nfunction stopSessionManager() {\n    stopCallbacks.forEach(function (e) { return e(); });\n    stopCallbacks = [];\n}\nfunction trackActivity(expandOrRenewSession) {\n    var stop = (0,_browser_addEventListener__WEBPACK_IMPORTED_MODULE_5__.addEventListeners)(window, [\"click\" /* DOM_EVENT.CLICK */, \"touchstart\" /* DOM_EVENT.TOUCH_START */, \"keydown\" /* DOM_EVENT.KEY_DOWN */, \"scroll\" /* DOM_EVENT.SCROLL */], expandOrRenewSession, { capture: true, passive: true }).stop;\n    stopCallbacks.push(stop);\n}\nfunction trackVisibility(expandSession) {\n    var expandSessionWhenVisible = function () {\n        if (document.visibilityState === 'visible') {\n            expandSession();\n        }\n    };\n    var stop = (0,_browser_addEventListener__WEBPACK_IMPORTED_MODULE_5__.addEventListener)(document, \"visibilitychange\" /* DOM_EVENT.VISIBILITY_CHANGE */, expandSessionWhenVisible).stop;\n    stopCallbacks.push(stop);\n    var visibilityCheckInterval = (0,_tools_timer__WEBPACK_IMPORTED_MODULE_6__.setInterval)(expandSessionWhenVisible, VISIBILITY_CHECK_DELAY);\n    stopCallbacks.push(function () {\n        (0,_tools_timer__WEBPACK_IMPORTED_MODULE_6__.clearInterval)(visibilityCheckInterval);\n    });\n}\n//# sourceMappingURL=sessionManager.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL3Nlc3Npb24vc2Vzc2lvbk1hbmFnZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUF3RDtBQUM0QjtBQUNDO0FBQ3RCO0FBQ0E7QUFDWjtBQUNTO0FBQ3JELDZCQUE2Qiw4REFBVTtBQUM5QyxvQ0FBb0MscUVBQXNCO0FBQzFEO0FBQ087QUFDUCxJQUFJLDRFQUFzQjtBQUMxQix1QkFBdUIsZ0VBQWlCO0FBQ3hDLHFDQUFxQyw2QkFBNkI7QUFDbEUsb0NBQW9DLDZEQUFZO0FBQ2hELHFDQUFxQyxzQ0FBc0M7QUFDM0U7QUFDQSx5REFBeUQsbUVBQVc7QUFDcEUsS0FBSztBQUNMO0FBQ0EsMENBQTBDLG1FQUFXO0FBQ3JELEtBQUs7QUFDTDtBQUNBLHFEQUFxRCxvRUFBWTtBQUNqRSxnQ0FBZ0MsNkNBQTZDO0FBQzdFLGtDQUFrQyxzQ0FBc0M7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0QsK0NBQStDO0FBQ2pHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLHlDQUF5QyxhQUFhO0FBQ3REO0FBQ0E7QUFDQTtBQUNBLGVBQWUsNEVBQWlCLGlMQUFpTCw4QkFBOEI7QUFDL087QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsMkVBQWdCO0FBQy9CO0FBQ0Esa0NBQWtDLHlEQUFXO0FBQzdDO0FBQ0EsUUFBUSwyREFBYTtBQUNyQixLQUFLO0FBQ0w7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhcmNhc3Rlci8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS9kb21haW4vc2Vzc2lvbi9zZXNzaW9uTWFuYWdlci5qcz9kNzc4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFZhbHVlSGlzdG9yeSB9IGZyb20gJy4uLy4uL3Rvb2xzL3ZhbHVlSGlzdG9yeSc7XG5pbXBvcnQgeyByZWxhdGl2ZU5vdywgY2xvY2tzT3JpZ2luLCBPTkVfTUlOVVRFIH0gZnJvbSAnLi4vLi4vdG9vbHMvdXRpbHMvdGltZVV0aWxzJztcbmltcG9ydCB7IGFkZEV2ZW50TGlzdGVuZXIsIGFkZEV2ZW50TGlzdGVuZXJzIH0gZnJvbSAnLi4vLi4vYnJvd3Nlci9hZGRFdmVudExpc3RlbmVyJztcbmltcG9ydCB7IGNsZWFySW50ZXJ2YWwsIHNldEludGVydmFsIH0gZnJvbSAnLi4vLi4vdG9vbHMvdGltZXInO1xuaW1wb3J0IHsgdHJ5T2xkQ29va2llc01pZ3JhdGlvbiB9IGZyb20gJy4vb2xkQ29va2llc01pZ3JhdGlvbic7XG5pbXBvcnQgeyBzdGFydFNlc3Npb25TdG9yZSB9IGZyb20gJy4vc2Vzc2lvblN0b3JlJztcbmltcG9ydCB7IFNFU1NJT05fVElNRV9PVVRfREVMQVkgfSBmcm9tICcuL3Nlc3Npb25Db25zdGFudHMnO1xuZXhwb3J0IHZhciBWSVNJQklMSVRZX0NIRUNLX0RFTEFZID0gT05FX01JTlVURTtcbnZhciBTRVNTSU9OX0NPTlRFWFRfVElNRU9VVF9ERUxBWSA9IFNFU1NJT05fVElNRV9PVVRfREVMQVk7XG52YXIgc3RvcENhbGxiYWNrcyA9IFtdO1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0U2Vzc2lvbk1hbmFnZXIob3B0aW9ucywgcHJvZHVjdEtleSwgY29tcHV0ZVNlc3Npb25TdGF0ZSkge1xuICAgIHRyeU9sZENvb2tpZXNNaWdyYXRpb24ob3B0aW9ucyk7XG4gICAgdmFyIHNlc3Npb25TdG9yZSA9IHN0YXJ0U2Vzc2lvblN0b3JlKG9wdGlvbnMsIHByb2R1Y3RLZXksIGNvbXB1dGVTZXNzaW9uU3RhdGUpO1xuICAgIHN0b3BDYWxsYmFja3MucHVzaChmdW5jdGlvbiAoKSB7IHJldHVybiBzZXNzaW9uU3RvcmUuc3RvcCgpOyB9KTtcbiAgICB2YXIgc2Vzc2lvbkNvbnRleHRIaXN0b3J5ID0gbmV3IFZhbHVlSGlzdG9yeShTRVNTSU9OX0NPTlRFWFRfVElNRU9VVF9ERUxBWSk7XG4gICAgc3RvcENhbGxiYWNrcy5wdXNoKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNlc3Npb25Db250ZXh0SGlzdG9yeS5zdG9wKCk7IH0pO1xuICAgIHNlc3Npb25TdG9yZS5yZW5ld09ic2VydmFibGUuc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2Vzc2lvbkNvbnRleHRIaXN0b3J5LmFkZChidWlsZFNlc3Npb25Db250ZXh0KCksIHJlbGF0aXZlTm93KCkpO1xuICAgIH0pO1xuICAgIHNlc3Npb25TdG9yZS5leHBpcmVPYnNlcnZhYmxlLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNlc3Npb25Db250ZXh0SGlzdG9yeS5jbG9zZUFjdGl2ZShyZWxhdGl2ZU5vdygpKTtcbiAgICB9KTtcbiAgICBzZXNzaW9uU3RvcmUuZXhwYW5kT3JSZW5ld1Nlc3Npb24oKTtcbiAgICBzZXNzaW9uQ29udGV4dEhpc3RvcnkuYWRkKGJ1aWxkU2Vzc2lvbkNvbnRleHQoKSwgY2xvY2tzT3JpZ2luKCkucmVsYXRpdmUpO1xuICAgIHRyYWNrQWN0aXZpdHkoZnVuY3Rpb24gKCkgeyByZXR1cm4gc2Vzc2lvblN0b3JlLmV4cGFuZE9yUmVuZXdTZXNzaW9uKCk7IH0pO1xuICAgIHRyYWNrVmlzaWJpbGl0eShmdW5jdGlvbiAoKSB7IHJldHVybiBzZXNzaW9uU3RvcmUuZXhwYW5kU2Vzc2lvbigpOyB9KTtcbiAgICBmdW5jdGlvbiBidWlsZFNlc3Npb25Db250ZXh0KCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaWQ6IHNlc3Npb25TdG9yZS5nZXRTZXNzaW9uKCkuaWQsXG4gICAgICAgICAgICB0cmFja2luZ1R5cGU6IHNlc3Npb25TdG9yZS5nZXRTZXNzaW9uKClbcHJvZHVjdEtleV0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGZpbmRBY3RpdmVTZXNzaW9uOiBmdW5jdGlvbiAoc3RhcnRUaW1lKSB7IHJldHVybiBzZXNzaW9uQ29udGV4dEhpc3RvcnkuZmluZChzdGFydFRpbWUpOyB9LFxuICAgICAgICByZW5ld09ic2VydmFibGU6IHNlc3Npb25TdG9yZS5yZW5ld09ic2VydmFibGUsXG4gICAgICAgIGV4cGlyZU9ic2VydmFibGU6IHNlc3Npb25TdG9yZS5leHBpcmVPYnNlcnZhYmxlLFxuICAgICAgICBleHBpcmU6IHNlc3Npb25TdG9yZS5leHBpcmUsXG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzdG9wU2Vzc2lvbk1hbmFnZXIoKSB7XG4gICAgc3RvcENhbGxiYWNrcy5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7IHJldHVybiBlKCk7IH0pO1xuICAgIHN0b3BDYWxsYmFja3MgPSBbXTtcbn1cbmZ1bmN0aW9uIHRyYWNrQWN0aXZpdHkoZXhwYW5kT3JSZW5ld1Nlc3Npb24pIHtcbiAgICB2YXIgc3RvcCA9IGFkZEV2ZW50TGlzdGVuZXJzKHdpbmRvdywgW1wiY2xpY2tcIiAvKiBET01fRVZFTlQuQ0xJQ0sgKi8sIFwidG91Y2hzdGFydFwiIC8qIERPTV9FVkVOVC5UT1VDSF9TVEFSVCAqLywgXCJrZXlkb3duXCIgLyogRE9NX0VWRU5ULktFWV9ET1dOICovLCBcInNjcm9sbFwiIC8qIERPTV9FVkVOVC5TQ1JPTEwgKi9dLCBleHBhbmRPclJlbmV3U2Vzc2lvbiwgeyBjYXB0dXJlOiB0cnVlLCBwYXNzaXZlOiB0cnVlIH0pLnN0b3A7XG4gICAgc3RvcENhbGxiYWNrcy5wdXNoKHN0b3ApO1xufVxuZnVuY3Rpb24gdHJhY2tWaXNpYmlsaXR5KGV4cGFuZFNlc3Npb24pIHtcbiAgICB2YXIgZXhwYW5kU2Vzc2lvbldoZW5WaXNpYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlID09PSAndmlzaWJsZScpIHtcbiAgICAgICAgICAgIGV4cGFuZFNlc3Npb24oKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdmFyIHN0b3AgPSBhZGRFdmVudExpc3RlbmVyKGRvY3VtZW50LCBcInZpc2liaWxpdHljaGFuZ2VcIiAvKiBET01fRVZFTlQuVklTSUJJTElUWV9DSEFOR0UgKi8sIGV4cGFuZFNlc3Npb25XaGVuVmlzaWJsZSkuc3RvcDtcbiAgICBzdG9wQ2FsbGJhY2tzLnB1c2goc3RvcCk7XG4gICAgdmFyIHZpc2liaWxpdHlDaGVja0ludGVydmFsID0gc2V0SW50ZXJ2YWwoZXhwYW5kU2Vzc2lvbldoZW5WaXNpYmxlLCBWSVNJQklMSVRZX0NIRUNLX0RFTEFZKTtcbiAgICBzdG9wQ2FsbGJhY2tzLnB1c2goZnVuY3Rpb24gKCkge1xuICAgICAgICBjbGVhckludGVydmFsKHZpc2liaWxpdHlDaGVja0ludGVydmFsKTtcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNlc3Npb25NYW5hZ2VyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-core/esm/domain/session/sessionManager.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-core/esm/domain/session/sessionStore.js":
/*!***********************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/domain/session/sessionStore.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   startSessionStore: () => (/* binding */ startSessionStore)\n/* harmony export */ });\n/* harmony import */ var _browser_cookie__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../browser/cookie */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/browser/cookie.js\");\n/* harmony import */ var _tools_timer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../tools/timer */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/timer.js\");\n/* harmony import */ var _tools_observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../tools/observable */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/observable.js\");\n/* harmony import */ var _tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../tools/utils/timeUtils */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js\");\n/* harmony import */ var _tools_utils_functionUtils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../tools/utils/functionUtils */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/functionUtils.js\");\n/* harmony import */ var _tools_utils_stringUtils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../tools/utils/stringUtils */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/stringUtils.js\");\n/* harmony import */ var _sessionConstants__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./sessionConstants */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/session/sessionConstants.js\");\n/* harmony import */ var _sessionCookieStore__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./sessionCookieStore */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/session/sessionCookieStore.js\");\n\n\n\n\n\n\n\n\n/**\n * Different session concepts:\n * - tracked, the session has an id and is updated along the user navigation\n * - not tracked, the session does not have an id but it is updated along the user navigation\n * - inactive, no session in store or session expired, waiting for a renew session\n */\nfunction startSessionStore(options, productKey, computeSessionState) {\n    var renewObservable = new _tools_observable__WEBPACK_IMPORTED_MODULE_0__.Observable();\n    var expireObservable = new _tools_observable__WEBPACK_IMPORTED_MODULE_0__.Observable();\n    var watchSessionTimeoutId = (0,_tools_timer__WEBPACK_IMPORTED_MODULE_1__.setInterval)(watchSession, _browser_cookie__WEBPACK_IMPORTED_MODULE_2__.COOKIE_ACCESS_DELAY);\n    var sessionCache = retrieveActiveSession();\n    function expandOrRenewSession() {\n        var isTracked;\n        (0,_sessionCookieStore__WEBPACK_IMPORTED_MODULE_3__.withCookieLockAccess)({\n            options: options,\n            process: function (cookieSession) {\n                var synchronizedSession = synchronizeSession(cookieSession);\n                isTracked = expandOrRenewCookie(synchronizedSession);\n                return synchronizedSession;\n            },\n            after: function (cookieSession) {\n                if (isTracked && !hasSessionInCache()) {\n                    renewSessionInCache(cookieSession);\n                }\n                sessionCache = cookieSession;\n            },\n        });\n    }\n    function expandSession() {\n        (0,_sessionCookieStore__WEBPACK_IMPORTED_MODULE_3__.withCookieLockAccess)({\n            options: options,\n            process: function (cookieSession) { return (hasSessionInCache() ? synchronizeSession(cookieSession) : undefined); },\n        });\n    }\n    /**\n     * allows two behaviors:\n     * - if the session is active, synchronize the session cache without updating the session cookie\n     * - if the session is not active, clear the session cookie and expire the session cache\n     */\n    function watchSession() {\n        (0,_sessionCookieStore__WEBPACK_IMPORTED_MODULE_3__.withCookieLockAccess)({\n            options: options,\n            process: function (cookieSession) { return (!isActiveSession(cookieSession) ? {} : undefined); },\n            after: synchronizeSession,\n        });\n    }\n    function synchronizeSession(cookieSession) {\n        if (!isActiveSession(cookieSession)) {\n            cookieSession = {};\n        }\n        if (hasSessionInCache()) {\n            if (isSessionInCacheOutdated(cookieSession)) {\n                expireSessionInCache();\n            }\n            else {\n                sessionCache = cookieSession;\n            }\n        }\n        return cookieSession;\n    }\n    function expandOrRenewCookie(cookieSession) {\n        var _a = computeSessionState(cookieSession[productKey]), trackingType = _a.trackingType, isTracked = _a.isTracked;\n        cookieSession[productKey] = trackingType;\n        if (isTracked && !cookieSession.id) {\n            cookieSession.id = (0,_tools_utils_stringUtils__WEBPACK_IMPORTED_MODULE_4__.generateUUID)();\n            cookieSession.created = String((0,_tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_5__.dateNow)());\n        }\n        return isTracked;\n    }\n    function hasSessionInCache() {\n        return sessionCache[productKey] !== undefined;\n    }\n    function isSessionInCacheOutdated(cookieSession) {\n        return sessionCache.id !== cookieSession.id || sessionCache[productKey] !== cookieSession[productKey];\n    }\n    function expireSessionInCache() {\n        sessionCache = {};\n        expireObservable.notify();\n    }\n    function renewSessionInCache(cookieSession) {\n        sessionCache = cookieSession;\n        renewObservable.notify();\n    }\n    function retrieveActiveSession() {\n        var session = (0,_sessionCookieStore__WEBPACK_IMPORTED_MODULE_3__.retrieveSessionCookie)();\n        if (isActiveSession(session)) {\n            return session;\n        }\n        return {};\n    }\n    function isActiveSession(session) {\n        // created and expire can be undefined for versions which was not storing them\n        // these checks could be removed when older versions will not be available/live anymore\n        return ((session.created === undefined || (0,_tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_5__.dateNow)() - Number(session.created) < _sessionConstants__WEBPACK_IMPORTED_MODULE_6__.SESSION_TIME_OUT_DELAY) &&\n            (session.expire === undefined || (0,_tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_5__.dateNow)() < Number(session.expire)));\n    }\n    return {\n        expandOrRenewSession: (0,_tools_utils_functionUtils__WEBPACK_IMPORTED_MODULE_7__.throttle)(expandOrRenewSession, _browser_cookie__WEBPACK_IMPORTED_MODULE_2__.COOKIE_ACCESS_DELAY).throttled,\n        expandSession: expandSession,\n        getSession: function () { return sessionCache; },\n        renewObservable: renewObservable,\n        expireObservable: expireObservable,\n        expire: function () {\n            (0,_sessionCookieStore__WEBPACK_IMPORTED_MODULE_3__.deleteSessionCookie)(options);\n            synchronizeSession({});\n        },\n        stop: function () {\n            (0,_tools_timer__WEBPACK_IMPORTED_MODULE_1__.clearInterval)(watchSessionTimeoutId);\n        },\n    };\n}\n//# sourceMappingURL=sessionStore.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL3Nlc3Npb24vc2Vzc2lvblN0b3JlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUEyRDtBQUNJO0FBQ1g7QUFDRTtBQUNLO0FBQ0U7QUFDRDtBQUM0QztBQUN4RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLDhCQUE4Qix5REFBVTtBQUN4QywrQkFBK0IseURBQVU7QUFDekMsZ0NBQWdDLHlEQUFXLGVBQWUsZ0VBQW1CO0FBQzdFO0FBQ0E7QUFDQTtBQUNBLFFBQVEseUVBQW9CO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBLFFBQVEseUVBQW9CO0FBQzVCO0FBQ0EsZ0RBQWdELCtFQUErRTtBQUMvSCxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHlFQUFvQjtBQUM1QjtBQUNBLGdEQUFnRCw2Q0FBNkMsZUFBZTtBQUM1RztBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixzRUFBWTtBQUMzQywyQ0FBMkMsK0RBQU87QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLDBFQUFxQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELCtEQUFPLCtCQUErQixxRUFBc0I7QUFDOUcsNkNBQTZDLCtEQUFPO0FBQ3BEO0FBQ0E7QUFDQSw4QkFBOEIsb0VBQVEsdUJBQXVCLGdFQUFtQjtBQUNoRjtBQUNBLGtDQUFrQyxzQkFBc0I7QUFDeEQ7QUFDQTtBQUNBO0FBQ0EsWUFBWSx3RUFBbUI7QUFDL0IsaUNBQWlDO0FBQ2pDLFNBQVM7QUFDVDtBQUNBLFlBQVksMkRBQWE7QUFDekIsU0FBUztBQUNUO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhcmNhc3Rlci8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS9kb21haW4vc2Vzc2lvbi9zZXNzaW9uU3RvcmUuanM/ODQ2OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDT09LSUVfQUNDRVNTX0RFTEFZIH0gZnJvbSAnLi4vLi4vYnJvd3Nlci9jb29raWUnO1xuaW1wb3J0IHsgY2xlYXJJbnRlcnZhbCwgc2V0SW50ZXJ2YWwgfSBmcm9tICcuLi8uLi90b29scy90aW1lcic7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vLi4vdG9vbHMvb2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBkYXRlTm93IH0gZnJvbSAnLi4vLi4vdG9vbHMvdXRpbHMvdGltZVV0aWxzJztcbmltcG9ydCB7IHRocm90dGxlIH0gZnJvbSAnLi4vLi4vdG9vbHMvdXRpbHMvZnVuY3Rpb25VdGlscyc7XG5pbXBvcnQgeyBnZW5lcmF0ZVVVSUQgfSBmcm9tICcuLi8uLi90b29scy91dGlscy9zdHJpbmdVdGlscyc7XG5pbXBvcnQgeyBTRVNTSU9OX1RJTUVfT1VUX0RFTEFZIH0gZnJvbSAnLi9zZXNzaW9uQ29uc3RhbnRzJztcbmltcG9ydCB7IGRlbGV0ZVNlc3Npb25Db29raWUsIHJldHJpZXZlU2Vzc2lvbkNvb2tpZSwgd2l0aENvb2tpZUxvY2tBY2Nlc3MgfSBmcm9tICcuL3Nlc3Npb25Db29raWVTdG9yZSc7XG4vKipcbiAqIERpZmZlcmVudCBzZXNzaW9uIGNvbmNlcHRzOlxuICogLSB0cmFja2VkLCB0aGUgc2Vzc2lvbiBoYXMgYW4gaWQgYW5kIGlzIHVwZGF0ZWQgYWxvbmcgdGhlIHVzZXIgbmF2aWdhdGlvblxuICogLSBub3QgdHJhY2tlZCwgdGhlIHNlc3Npb24gZG9lcyBub3QgaGF2ZSBhbiBpZCBidXQgaXQgaXMgdXBkYXRlZCBhbG9uZyB0aGUgdXNlciBuYXZpZ2F0aW9uXG4gKiAtIGluYWN0aXZlLCBubyBzZXNzaW9uIGluIHN0b3JlIG9yIHNlc3Npb24gZXhwaXJlZCwgd2FpdGluZyBmb3IgYSByZW5ldyBzZXNzaW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdGFydFNlc3Npb25TdG9yZShvcHRpb25zLCBwcm9kdWN0S2V5LCBjb21wdXRlU2Vzc2lvblN0YXRlKSB7XG4gICAgdmFyIHJlbmV3T2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlKCk7XG4gICAgdmFyIGV4cGlyZU9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZSgpO1xuICAgIHZhciB3YXRjaFNlc3Npb25UaW1lb3V0SWQgPSBzZXRJbnRlcnZhbCh3YXRjaFNlc3Npb24sIENPT0tJRV9BQ0NFU1NfREVMQVkpO1xuICAgIHZhciBzZXNzaW9uQ2FjaGUgPSByZXRyaWV2ZUFjdGl2ZVNlc3Npb24oKTtcbiAgICBmdW5jdGlvbiBleHBhbmRPclJlbmV3U2Vzc2lvbigpIHtcbiAgICAgICAgdmFyIGlzVHJhY2tlZDtcbiAgICAgICAgd2l0aENvb2tpZUxvY2tBY2Nlc3Moe1xuICAgICAgICAgICAgb3B0aW9uczogb3B0aW9ucyxcbiAgICAgICAgICAgIHByb2Nlc3M6IGZ1bmN0aW9uIChjb29raWVTZXNzaW9uKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN5bmNocm9uaXplZFNlc3Npb24gPSBzeW5jaHJvbml6ZVNlc3Npb24oY29va2llU2Vzc2lvbik7XG4gICAgICAgICAgICAgICAgaXNUcmFja2VkID0gZXhwYW5kT3JSZW5ld0Nvb2tpZShzeW5jaHJvbml6ZWRTZXNzaW9uKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3luY2hyb25pemVkU2Vzc2lvbjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhZnRlcjogZnVuY3Rpb24gKGNvb2tpZVNlc3Npb24pIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNUcmFja2VkICYmICFoYXNTZXNzaW9uSW5DYWNoZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbmV3U2Vzc2lvbkluQ2FjaGUoY29va2llU2Vzc2lvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNlc3Npb25DYWNoZSA9IGNvb2tpZVNlc3Npb247XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZXhwYW5kU2Vzc2lvbigpIHtcbiAgICAgICAgd2l0aENvb2tpZUxvY2tBY2Nlc3Moe1xuICAgICAgICAgICAgb3B0aW9uczogb3B0aW9ucyxcbiAgICAgICAgICAgIHByb2Nlc3M6IGZ1bmN0aW9uIChjb29raWVTZXNzaW9uKSB7IHJldHVybiAoaGFzU2Vzc2lvbkluQ2FjaGUoKSA/IHN5bmNocm9uaXplU2Vzc2lvbihjb29raWVTZXNzaW9uKSA6IHVuZGVmaW5lZCk7IH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBhbGxvd3MgdHdvIGJlaGF2aW9yczpcbiAgICAgKiAtIGlmIHRoZSBzZXNzaW9uIGlzIGFjdGl2ZSwgc3luY2hyb25pemUgdGhlIHNlc3Npb24gY2FjaGUgd2l0aG91dCB1cGRhdGluZyB0aGUgc2Vzc2lvbiBjb29raWVcbiAgICAgKiAtIGlmIHRoZSBzZXNzaW9uIGlzIG5vdCBhY3RpdmUsIGNsZWFyIHRoZSBzZXNzaW9uIGNvb2tpZSBhbmQgZXhwaXJlIHRoZSBzZXNzaW9uIGNhY2hlXG4gICAgICovXG4gICAgZnVuY3Rpb24gd2F0Y2hTZXNzaW9uKCkge1xuICAgICAgICB3aXRoQ29va2llTG9ja0FjY2Vzcyh7XG4gICAgICAgICAgICBvcHRpb25zOiBvcHRpb25zLFxuICAgICAgICAgICAgcHJvY2VzczogZnVuY3Rpb24gKGNvb2tpZVNlc3Npb24pIHsgcmV0dXJuICghaXNBY3RpdmVTZXNzaW9uKGNvb2tpZVNlc3Npb24pID8ge30gOiB1bmRlZmluZWQpOyB9LFxuICAgICAgICAgICAgYWZ0ZXI6IHN5bmNocm9uaXplU2Vzc2lvbixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHN5bmNocm9uaXplU2Vzc2lvbihjb29raWVTZXNzaW9uKSB7XG4gICAgICAgIGlmICghaXNBY3RpdmVTZXNzaW9uKGNvb2tpZVNlc3Npb24pKSB7XG4gICAgICAgICAgICBjb29raWVTZXNzaW9uID0ge307XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhhc1Nlc3Npb25JbkNhY2hlKCkpIHtcbiAgICAgICAgICAgIGlmIChpc1Nlc3Npb25JbkNhY2hlT3V0ZGF0ZWQoY29va2llU2Vzc2lvbikpIHtcbiAgICAgICAgICAgICAgICBleHBpcmVTZXNzaW9uSW5DYWNoZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc2Vzc2lvbkNhY2hlID0gY29va2llU2Vzc2lvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29va2llU2Vzc2lvbjtcbiAgICB9XG4gICAgZnVuY3Rpb24gZXhwYW5kT3JSZW5ld0Nvb2tpZShjb29raWVTZXNzaW9uKSB7XG4gICAgICAgIHZhciBfYSA9IGNvbXB1dGVTZXNzaW9uU3RhdGUoY29va2llU2Vzc2lvbltwcm9kdWN0S2V5XSksIHRyYWNraW5nVHlwZSA9IF9hLnRyYWNraW5nVHlwZSwgaXNUcmFja2VkID0gX2EuaXNUcmFja2VkO1xuICAgICAgICBjb29raWVTZXNzaW9uW3Byb2R1Y3RLZXldID0gdHJhY2tpbmdUeXBlO1xuICAgICAgICBpZiAoaXNUcmFja2VkICYmICFjb29raWVTZXNzaW9uLmlkKSB7XG4gICAgICAgICAgICBjb29raWVTZXNzaW9uLmlkID0gZ2VuZXJhdGVVVUlEKCk7XG4gICAgICAgICAgICBjb29raWVTZXNzaW9uLmNyZWF0ZWQgPSBTdHJpbmcoZGF0ZU5vdygpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXNUcmFja2VkO1xuICAgIH1cbiAgICBmdW5jdGlvbiBoYXNTZXNzaW9uSW5DYWNoZSgpIHtcbiAgICAgICAgcmV0dXJuIHNlc3Npb25DYWNoZVtwcm9kdWN0S2V5XSAhPT0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc1Nlc3Npb25JbkNhY2hlT3V0ZGF0ZWQoY29va2llU2Vzc2lvbikge1xuICAgICAgICByZXR1cm4gc2Vzc2lvbkNhY2hlLmlkICE9PSBjb29raWVTZXNzaW9uLmlkIHx8IHNlc3Npb25DYWNoZVtwcm9kdWN0S2V5XSAhPT0gY29va2llU2Vzc2lvbltwcm9kdWN0S2V5XTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZXhwaXJlU2Vzc2lvbkluQ2FjaGUoKSB7XG4gICAgICAgIHNlc3Npb25DYWNoZSA9IHt9O1xuICAgICAgICBleHBpcmVPYnNlcnZhYmxlLm5vdGlmeSgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZW5ld1Nlc3Npb25JbkNhY2hlKGNvb2tpZVNlc3Npb24pIHtcbiAgICAgICAgc2Vzc2lvbkNhY2hlID0gY29va2llU2Vzc2lvbjtcbiAgICAgICAgcmVuZXdPYnNlcnZhYmxlLm5vdGlmeSgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXRyaWV2ZUFjdGl2ZVNlc3Npb24oKSB7XG4gICAgICAgIHZhciBzZXNzaW9uID0gcmV0cmlldmVTZXNzaW9uQ29va2llKCk7XG4gICAgICAgIGlmIChpc0FjdGl2ZVNlc3Npb24oc2Vzc2lvbikpIHtcbiAgICAgICAgICAgIHJldHVybiBzZXNzaW9uO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNBY3RpdmVTZXNzaW9uKHNlc3Npb24pIHtcbiAgICAgICAgLy8gY3JlYXRlZCBhbmQgZXhwaXJlIGNhbiBiZSB1bmRlZmluZWQgZm9yIHZlcnNpb25zIHdoaWNoIHdhcyBub3Qgc3RvcmluZyB0aGVtXG4gICAgICAgIC8vIHRoZXNlIGNoZWNrcyBjb3VsZCBiZSByZW1vdmVkIHdoZW4gb2xkZXIgdmVyc2lvbnMgd2lsbCBub3QgYmUgYXZhaWxhYmxlL2xpdmUgYW55bW9yZVxuICAgICAgICByZXR1cm4gKChzZXNzaW9uLmNyZWF0ZWQgPT09IHVuZGVmaW5lZCB8fCBkYXRlTm93KCkgLSBOdW1iZXIoc2Vzc2lvbi5jcmVhdGVkKSA8IFNFU1NJT05fVElNRV9PVVRfREVMQVkpICYmXG4gICAgICAgICAgICAoc2Vzc2lvbi5leHBpcmUgPT09IHVuZGVmaW5lZCB8fCBkYXRlTm93KCkgPCBOdW1iZXIoc2Vzc2lvbi5leHBpcmUpKSk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGV4cGFuZE9yUmVuZXdTZXNzaW9uOiB0aHJvdHRsZShleHBhbmRPclJlbmV3U2Vzc2lvbiwgQ09PS0lFX0FDQ0VTU19ERUxBWSkudGhyb3R0bGVkLFxuICAgICAgICBleHBhbmRTZXNzaW9uOiBleHBhbmRTZXNzaW9uLFxuICAgICAgICBnZXRTZXNzaW9uOiBmdW5jdGlvbiAoKSB7IHJldHVybiBzZXNzaW9uQ2FjaGU7IH0sXG4gICAgICAgIHJlbmV3T2JzZXJ2YWJsZTogcmVuZXdPYnNlcnZhYmxlLFxuICAgICAgICBleHBpcmVPYnNlcnZhYmxlOiBleHBpcmVPYnNlcnZhYmxlLFxuICAgICAgICBleHBpcmU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGRlbGV0ZVNlc3Npb25Db29raWUob3B0aW9ucyk7XG4gICAgICAgICAgICBzeW5jaHJvbml6ZVNlc3Npb24oe30pO1xuICAgICAgICB9LFxuICAgICAgICBzdG9wOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjbGVhckludGVydmFsKHdhdGNoU2Vzc2lvblRpbWVvdXRJZCk7XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNlc3Npb25TdG9yZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-core/esm/domain/session/sessionStore.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-core/esm/domain/synthetics/syntheticsWorkerValues.js":
/*!************************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/domain/synthetics/syntheticsWorkerValues.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SYNTHETICS_INJECTS_RUM_COOKIE_NAME: () => (/* binding */ SYNTHETICS_INJECTS_RUM_COOKIE_NAME),\n/* harmony export */   SYNTHETICS_RESULT_ID_COOKIE_NAME: () => (/* binding */ SYNTHETICS_RESULT_ID_COOKIE_NAME),\n/* harmony export */   SYNTHETICS_TEST_ID_COOKIE_NAME: () => (/* binding */ SYNTHETICS_TEST_ID_COOKIE_NAME),\n/* harmony export */   getSyntheticsResultId: () => (/* binding */ getSyntheticsResultId),\n/* harmony export */   getSyntheticsTestId: () => (/* binding */ getSyntheticsTestId),\n/* harmony export */   willSyntheticsInjectRum: () => (/* binding */ willSyntheticsInjectRum)\n/* harmony export */ });\n/* harmony import */ var _browser_cookie__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../browser/cookie */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/browser/cookie.js\");\n\nvar SYNTHETICS_TEST_ID_COOKIE_NAME = 'datadog-synthetics-public-id';\nvar SYNTHETICS_RESULT_ID_COOKIE_NAME = 'datadog-synthetics-result-id';\nvar SYNTHETICS_INJECTS_RUM_COOKIE_NAME = 'datadog-synthetics-injects-rum';\nfunction willSyntheticsInjectRum() {\n    return Boolean(window._DATADOG_SYNTHETICS_INJECTS_RUM || (0,_browser_cookie__WEBPACK_IMPORTED_MODULE_0__.getCookie)(SYNTHETICS_INJECTS_RUM_COOKIE_NAME));\n}\nfunction getSyntheticsTestId() {\n    var value = window._DATADOG_SYNTHETICS_PUBLIC_ID || (0,_browser_cookie__WEBPACK_IMPORTED_MODULE_0__.getCookie)(SYNTHETICS_TEST_ID_COOKIE_NAME);\n    return typeof value === 'string' ? value : undefined;\n}\nfunction getSyntheticsResultId() {\n    var value = window._DATADOG_SYNTHETICS_RESULT_ID || (0,_browser_cookie__WEBPACK_IMPORTED_MODULE_0__.getCookie)(SYNTHETICS_RESULT_ID_COOKIE_NAME);\n    return typeof value === 'string' ? value : undefined;\n}\n//# sourceMappingURL=syntheticsWorkerValues.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL3N5bnRoZXRpY3Mvc3ludGhldGljc1dvcmtlclZhbHVlcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQWlEO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ1AsNkRBQTZELDBEQUFTO0FBQ3RFO0FBQ087QUFDUCx3REFBd0QsMERBQVM7QUFDakU7QUFDQTtBQUNPO0FBQ1Asd0RBQXdELDBEQUFTO0FBQ2pFO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhcmNhc3Rlci8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS9kb21haW4vc3ludGhldGljcy9zeW50aGV0aWNzV29ya2VyVmFsdWVzLmpzPzhmZDQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0Q29va2llIH0gZnJvbSAnLi4vLi4vYnJvd3Nlci9jb29raWUnO1xuZXhwb3J0IHZhciBTWU5USEVUSUNTX1RFU1RfSURfQ09PS0lFX05BTUUgPSAnZGF0YWRvZy1zeW50aGV0aWNzLXB1YmxpYy1pZCc7XG5leHBvcnQgdmFyIFNZTlRIRVRJQ1NfUkVTVUxUX0lEX0NPT0tJRV9OQU1FID0gJ2RhdGFkb2ctc3ludGhldGljcy1yZXN1bHQtaWQnO1xuZXhwb3J0IHZhciBTWU5USEVUSUNTX0lOSkVDVFNfUlVNX0NPT0tJRV9OQU1FID0gJ2RhdGFkb2ctc3ludGhldGljcy1pbmplY3RzLXJ1bSc7XG5leHBvcnQgZnVuY3Rpb24gd2lsbFN5bnRoZXRpY3NJbmplY3RSdW0oKSB7XG4gICAgcmV0dXJuIEJvb2xlYW4od2luZG93Ll9EQVRBRE9HX1NZTlRIRVRJQ1NfSU5KRUNUU19SVU0gfHwgZ2V0Q29va2llKFNZTlRIRVRJQ1NfSU5KRUNUU19SVU1fQ09PS0lFX05BTUUpKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRTeW50aGV0aWNzVGVzdElkKCkge1xuICAgIHZhciB2YWx1ZSA9IHdpbmRvdy5fREFUQURPR19TWU5USEVUSUNTX1BVQkxJQ19JRCB8fCBnZXRDb29raWUoU1lOVEhFVElDU19URVNUX0lEX0NPT0tJRV9OQU1FKTtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyA/IHZhbHVlIDogdW5kZWZpbmVkO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldFN5bnRoZXRpY3NSZXN1bHRJZCgpIHtcbiAgICB2YXIgdmFsdWUgPSB3aW5kb3cuX0RBVEFET0dfU1lOVEhFVElDU19SRVNVTFRfSUQgfHwgZ2V0Q29va2llKFNZTlRIRVRJQ1NfUkVTVUxUX0lEX0NPT0tJRV9OQU1FKTtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyA/IHZhbHVlIDogdW5kZWZpbmVkO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3ludGhldGljc1dvcmtlclZhbHVlcy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-core/esm/domain/synthetics/syntheticsWorkerValues.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-core/esm/domain/telemetry/rawTelemetryEvent.types.js":
/*!************************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/domain/telemetry/rawTelemetryEvent.types.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TelemetryType: () => (/* binding */ TelemetryType)\n/* harmony export */ });\nvar TelemetryType = {\n    log: 'log',\n    configuration: 'configuration',\n};\n//# sourceMappingURL=rawTelemetryEvent.types.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL3RlbGVtZXRyeS9yYXdUZWxlbWV0cnlFdmVudC50eXBlcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhcmNhc3Rlci8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS9kb21haW4vdGVsZW1ldHJ5L3Jhd1RlbGVtZXRyeUV2ZW50LnR5cGVzLmpzP2Y1NzAiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHZhciBUZWxlbWV0cnlUeXBlID0ge1xuICAgIGxvZzogJ2xvZycsXG4gICAgY29uZmlndXJhdGlvbjogJ2NvbmZpZ3VyYXRpb24nLFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJhd1RlbGVtZXRyeUV2ZW50LnR5cGVzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-core/esm/domain/telemetry/rawTelemetryEvent.types.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-core/esm/domain/telemetry/telemetry.js":
/*!**********************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/domain/telemetry/telemetry.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addTelemetryConfiguration: () => (/* binding */ addTelemetryConfiguration),\n/* harmony export */   addTelemetryDebug: () => (/* binding */ addTelemetryDebug),\n/* harmony export */   addTelemetryError: () => (/* binding */ addTelemetryError),\n/* harmony export */   formatError: () => (/* binding */ formatError),\n/* harmony export */   isTelemetryReplicationAllowed: () => (/* binding */ isTelemetryReplicationAllowed),\n/* harmony export */   resetTelemetry: () => (/* binding */ resetTelemetry),\n/* harmony export */   scrubCustomerFrames: () => (/* binding */ scrubCustomerFrames),\n/* harmony export */   startFakeTelemetry: () => (/* binding */ startFakeTelemetry),\n/* harmony export */   startTelemetry: () => (/* binding */ startTelemetry)\n/* harmony export */ });\n/* harmony import */ var _tools_display__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../tools/display */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/display.js\");\n/* harmony import */ var _error_error__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../error/error */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/error/error.js\");\n/* harmony import */ var _tools_experimentalFeatures__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../tools/experimentalFeatures */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/experimentalFeatures.js\");\n/* harmony import */ var _configuration__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../configuration */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/configuration/intakeSites.js\");\n/* harmony import */ var _tracekit__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../tracekit */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/tracekit/computeStackTrace.js\");\n/* harmony import */ var _tools_observable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../tools/observable */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/observable.js\");\n/* harmony import */ var _tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../tools/utils/timeUtils */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js\");\n/* harmony import */ var _tools_monitor__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../tools/monitor */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/monitor.js\");\n/* harmony import */ var _tools_sendToExtension__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../tools/sendToExtension */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/sendToExtension.js\");\n/* harmony import */ var _tools_utils_polyfills__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../tools/utils/polyfills */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/polyfills.js\");\n/* harmony import */ var _tools_utils_numberUtils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../tools/utils/numberUtils */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/numberUtils.js\");\n/* harmony import */ var _tools_serialisation_jsonStringify__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../tools/serialisation/jsonStringify */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/serialisation/jsonStringify.js\");\n/* harmony import */ var _tools_mergeInto__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../tools/mergeInto */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/mergeInto.js\");\n/* harmony import */ var _rawTelemetryEvent_types__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./rawTelemetryEvent.types */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/telemetry/rawTelemetryEvent.types.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar ALLOWED_FRAME_URLS = [\n    'https://www.datadoghq-browser-agent.com',\n    'https://www.datad0g-browser-agent.com',\n    'http://localhost',\n    '<anonymous>',\n];\nvar TELEMETRY_EXCLUDED_SITES = [_configuration__WEBPACK_IMPORTED_MODULE_0__.INTAKE_SITE_US1_FED];\nvar telemetryConfiguration = { maxEventsPerPage: 0, sentEventCount: 0, telemetryEnabled: false, telemetryConfigurationEnabled: false };\nvar onRawTelemetryEventCollected;\nfunction startTelemetry(telemetryService, configuration) {\n    var contextProvider;\n    var observable = new _tools_observable__WEBPACK_IMPORTED_MODULE_1__.Observable();\n    telemetryConfiguration.telemetryEnabled =\n        !(0,_tools_utils_polyfills__WEBPACK_IMPORTED_MODULE_2__.includes)(TELEMETRY_EXCLUDED_SITES, configuration.site) && (0,_tools_utils_numberUtils__WEBPACK_IMPORTED_MODULE_3__.performDraw)(configuration.telemetrySampleRate);\n    telemetryConfiguration.telemetryConfigurationEnabled =\n        telemetryConfiguration.telemetryEnabled && (0,_tools_utils_numberUtils__WEBPACK_IMPORTED_MODULE_3__.performDraw)(configuration.telemetryConfigurationSampleRate);\n    onRawTelemetryEventCollected = function (rawEvent) {\n        if (telemetryConfiguration.telemetryEnabled) {\n            var event_1 = toTelemetryEvent(telemetryService, rawEvent);\n            observable.notify(event_1);\n            (0,_tools_sendToExtension__WEBPACK_IMPORTED_MODULE_4__.sendToExtension)('telemetry', event_1);\n        }\n    };\n    (0,_tools_monitor__WEBPACK_IMPORTED_MODULE_5__.startMonitorErrorCollection)(addTelemetryError);\n    (0,_tools_utils_polyfills__WEBPACK_IMPORTED_MODULE_2__.assign)(telemetryConfiguration, {\n        maxEventsPerPage: configuration.maxTelemetryEventsPerPage,\n        sentEventCount: 0,\n    });\n    function toTelemetryEvent(telemetryService, event) {\n        return (0,_tools_mergeInto__WEBPACK_IMPORTED_MODULE_6__.combine)({\n            type: 'telemetry',\n            date: (0,_tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_7__.timeStampNow)(),\n            service: telemetryService,\n            version: \"4.42.2\",\n            source: 'browser',\n            _dd: {\n                format_version: 2,\n            },\n            telemetry: event,\n            experimental_features: (0,_tools_utils_polyfills__WEBPACK_IMPORTED_MODULE_2__.arrayFrom)((0,_tools_experimentalFeatures__WEBPACK_IMPORTED_MODULE_8__.getExperimentalFeatures)()),\n        }, contextProvider !== undefined ? contextProvider() : {});\n    }\n    return {\n        setContextProvider: function (provider) {\n            contextProvider = provider;\n        },\n        observable: observable,\n        enabled: telemetryConfiguration.telemetryEnabled,\n    };\n}\nfunction startFakeTelemetry() {\n    var events = [];\n    (0,_tools_utils_polyfills__WEBPACK_IMPORTED_MODULE_2__.assign)(telemetryConfiguration, {\n        maxEventsPerPage: Infinity,\n        sentEventCount: 0,\n    });\n    onRawTelemetryEventCollected = function (event) {\n        events.push(event);\n    };\n    return events;\n}\nfunction resetTelemetry() {\n    onRawTelemetryEventCollected = undefined;\n}\n/**\n * Avoid mixing telemetry events from different data centers\n * but keep replicating staging events for reliability\n */\nfunction isTelemetryReplicationAllowed(configuration) {\n    return configuration.site === _configuration__WEBPACK_IMPORTED_MODULE_0__.INTAKE_SITE_STAGING;\n}\nfunction addTelemetryDebug(message, context) {\n    (0,_tools_monitor__WEBPACK_IMPORTED_MODULE_5__.displayIfDebugEnabled)(_tools_display__WEBPACK_IMPORTED_MODULE_9__.ConsoleApiName.debug, message, context);\n    addTelemetry((0,_tools_utils_polyfills__WEBPACK_IMPORTED_MODULE_2__.assign)({\n        type: _rawTelemetryEvent_types__WEBPACK_IMPORTED_MODULE_10__.TelemetryType.log,\n        message: message,\n        status: \"debug\" /* StatusType.debug */,\n    }, context));\n}\nfunction addTelemetryError(e) {\n    addTelemetry((0,_tools_utils_polyfills__WEBPACK_IMPORTED_MODULE_2__.assign)({\n        type: _rawTelemetryEvent_types__WEBPACK_IMPORTED_MODULE_10__.TelemetryType.log,\n        status: \"error\" /* StatusType.error */,\n    }, formatError(e)));\n}\nfunction addTelemetryConfiguration(configuration) {\n    if (telemetryConfiguration.telemetryConfigurationEnabled) {\n        addTelemetry({\n            type: _rawTelemetryEvent_types__WEBPACK_IMPORTED_MODULE_10__.TelemetryType.configuration,\n            configuration: configuration,\n        });\n    }\n}\nfunction addTelemetry(event) {\n    if (onRawTelemetryEventCollected && telemetryConfiguration.sentEventCount < telemetryConfiguration.maxEventsPerPage) {\n        telemetryConfiguration.sentEventCount += 1;\n        onRawTelemetryEventCollected(event);\n    }\n}\nfunction formatError(e) {\n    if (e instanceof Error) {\n        var stackTrace = (0,_tracekit__WEBPACK_IMPORTED_MODULE_11__.computeStackTrace)(e);\n        return {\n            error: {\n                kind: stackTrace.name,\n                stack: (0,_error_error__WEBPACK_IMPORTED_MODULE_12__.toStackTraceString)(scrubCustomerFrames(stackTrace)),\n            },\n            message: stackTrace.message,\n        };\n    }\n    return {\n        error: {\n            stack: _error_error__WEBPACK_IMPORTED_MODULE_12__.NO_ERROR_STACK_PRESENT_MESSAGE,\n        },\n        message: \"\".concat(\"Uncaught\" /* NonErrorPrefix.UNCAUGHT */, \" \").concat((0,_tools_serialisation_jsonStringify__WEBPACK_IMPORTED_MODULE_13__.jsonStringify)(e)),\n    };\n}\nfunction scrubCustomerFrames(stackTrace) {\n    stackTrace.stack = stackTrace.stack.filter(function (frame) { return !frame.url || ALLOWED_FRAME_URLS.some(function (allowedFrameUrl) { return (0,_tools_utils_polyfills__WEBPACK_IMPORTED_MODULE_2__.startsWith)(frame.url, allowedFrameUrl); }); });\n    return stackTrace;\n}\n//# sourceMappingURL=telemetry.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL3RlbGVtZXRyeS90ZWxlbWV0cnkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBcUQ7QUFDK0I7QUFDVDtBQUNDO0FBQzVCO0FBQ0k7QUFDTztBQUM4QjtBQUMzQjtBQUN3QjtBQUMxQjtBQUNZO0FBQ3hCO0FBQ1U7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLCtEQUFtQjtBQUNuRCwrQkFBK0I7QUFDL0I7QUFDTztBQUNQO0FBQ0EseUJBQXlCLHlEQUFVO0FBQ25DO0FBQ0EsU0FBUyxnRUFBUSxrREFBa0QscUVBQVc7QUFDOUU7QUFDQSxtREFBbUQscUVBQVc7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHVFQUFlO0FBQzNCO0FBQ0E7QUFDQSxJQUFJLDJFQUEyQjtBQUMvQixJQUFJLDhEQUFNO0FBQ1Y7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLGVBQWUseURBQU87QUFDdEI7QUFDQSxrQkFBa0Isb0VBQVk7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLG1DQUFtQyxpRUFBUyxDQUFDLG9GQUF1QjtBQUNwRSxTQUFTLHdEQUF3RDtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSxJQUFJLDhEQUFNO0FBQ1Y7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLGtDQUFrQywrREFBbUI7QUFDckQ7QUFDTztBQUNQLElBQUkscUVBQXFCLENBQUMsMERBQWM7QUFDeEMsaUJBQWlCLDhEQUFNO0FBQ3ZCLGNBQWMsb0VBQWE7QUFDM0I7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNPO0FBQ1AsaUJBQWlCLDhEQUFNO0FBQ3ZCLGNBQWMsb0VBQWE7QUFDM0I7QUFDQSxLQUFLO0FBQ0w7QUFDTztBQUNQO0FBQ0E7QUFDQSxrQkFBa0Isb0VBQWE7QUFDL0I7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSx5QkFBeUIsNkRBQWlCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixpRUFBa0I7QUFDekMsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIseUVBQThCO0FBQ2pELFNBQVM7QUFDVCxpRkFBaUYsa0ZBQWE7QUFDOUY7QUFDQTtBQUNPO0FBQ1Asa0VBQWtFLDBFQUEwRSxPQUFPLGtFQUFVLCtCQUErQixJQUFJO0FBQ2hNO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhcmNhc3Rlci8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS9kb21haW4vdGVsZW1ldHJ5L3RlbGVtZXRyeS5qcz9hNTgxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbnNvbGVBcGlOYW1lIH0gZnJvbSAnLi4vLi4vdG9vbHMvZGlzcGxheSc7XG5pbXBvcnQgeyB0b1N0YWNrVHJhY2VTdHJpbmcsIE5PX0VSUk9SX1NUQUNLX1BSRVNFTlRfTUVTU0FHRSB9IGZyb20gJy4uL2Vycm9yL2Vycm9yJztcbmltcG9ydCB7IGdldEV4cGVyaW1lbnRhbEZlYXR1cmVzIH0gZnJvbSAnLi4vLi4vdG9vbHMvZXhwZXJpbWVudGFsRmVhdHVyZXMnO1xuaW1wb3J0IHsgSU5UQUtFX1NJVEVfU1RBR0lORywgSU5UQUtFX1NJVEVfVVMxX0ZFRCB9IGZyb20gJy4uL2NvbmZpZ3VyYXRpb24nO1xuaW1wb3J0IHsgY29tcHV0ZVN0YWNrVHJhY2UgfSBmcm9tICcuLi90cmFjZWtpdCc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vLi4vdG9vbHMvb2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyB0aW1lU3RhbXBOb3cgfSBmcm9tICcuLi8uLi90b29scy91dGlscy90aW1lVXRpbHMnO1xuaW1wb3J0IHsgZGlzcGxheUlmRGVidWdFbmFibGVkLCBzdGFydE1vbml0b3JFcnJvckNvbGxlY3Rpb24gfSBmcm9tICcuLi8uLi90b29scy9tb25pdG9yJztcbmltcG9ydCB7IHNlbmRUb0V4dGVuc2lvbiB9IGZyb20gJy4uLy4uL3Rvb2xzL3NlbmRUb0V4dGVuc2lvbic7XG5pbXBvcnQgeyBzdGFydHNXaXRoLCBhcnJheUZyb20sIGluY2x1ZGVzLCBhc3NpZ24gfSBmcm9tICcuLi8uLi90b29scy91dGlscy9wb2x5ZmlsbHMnO1xuaW1wb3J0IHsgcGVyZm9ybURyYXcgfSBmcm9tICcuLi8uLi90b29scy91dGlscy9udW1iZXJVdGlscyc7XG5pbXBvcnQgeyBqc29uU3RyaW5naWZ5IH0gZnJvbSAnLi4vLi4vdG9vbHMvc2VyaWFsaXNhdGlvbi9qc29uU3RyaW5naWZ5JztcbmltcG9ydCB7IGNvbWJpbmUgfSBmcm9tICcuLi8uLi90b29scy9tZXJnZUludG8nO1xuaW1wb3J0IHsgVGVsZW1ldHJ5VHlwZSB9IGZyb20gJy4vcmF3VGVsZW1ldHJ5RXZlbnQudHlwZXMnO1xudmFyIEFMTE9XRURfRlJBTUVfVVJMUyA9IFtcbiAgICAnaHR0cHM6Ly93d3cuZGF0YWRvZ2hxLWJyb3dzZXItYWdlbnQuY29tJyxcbiAgICAnaHR0cHM6Ly93d3cuZGF0YWQwZy1icm93c2VyLWFnZW50LmNvbScsXG4gICAgJ2h0dHA6Ly9sb2NhbGhvc3QnLFxuICAgICc8YW5vbnltb3VzPicsXG5dO1xudmFyIFRFTEVNRVRSWV9FWENMVURFRF9TSVRFUyA9IFtJTlRBS0VfU0lURV9VUzFfRkVEXTtcbnZhciB0ZWxlbWV0cnlDb25maWd1cmF0aW9uID0geyBtYXhFdmVudHNQZXJQYWdlOiAwLCBzZW50RXZlbnRDb3VudDogMCwgdGVsZW1ldHJ5RW5hYmxlZDogZmFsc2UsIHRlbGVtZXRyeUNvbmZpZ3VyYXRpb25FbmFibGVkOiBmYWxzZSB9O1xudmFyIG9uUmF3VGVsZW1ldHJ5RXZlbnRDb2xsZWN0ZWQ7XG5leHBvcnQgZnVuY3Rpb24gc3RhcnRUZWxlbWV0cnkodGVsZW1ldHJ5U2VydmljZSwgY29uZmlndXJhdGlvbikge1xuICAgIHZhciBjb250ZXh0UHJvdmlkZXI7XG4gICAgdmFyIG9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZSgpO1xuICAgIHRlbGVtZXRyeUNvbmZpZ3VyYXRpb24udGVsZW1ldHJ5RW5hYmxlZCA9XG4gICAgICAgICFpbmNsdWRlcyhURUxFTUVUUllfRVhDTFVERURfU0lURVMsIGNvbmZpZ3VyYXRpb24uc2l0ZSkgJiYgcGVyZm9ybURyYXcoY29uZmlndXJhdGlvbi50ZWxlbWV0cnlTYW1wbGVSYXRlKTtcbiAgICB0ZWxlbWV0cnlDb25maWd1cmF0aW9uLnRlbGVtZXRyeUNvbmZpZ3VyYXRpb25FbmFibGVkID1cbiAgICAgICAgdGVsZW1ldHJ5Q29uZmlndXJhdGlvbi50ZWxlbWV0cnlFbmFibGVkICYmIHBlcmZvcm1EcmF3KGNvbmZpZ3VyYXRpb24udGVsZW1ldHJ5Q29uZmlndXJhdGlvblNhbXBsZVJhdGUpO1xuICAgIG9uUmF3VGVsZW1ldHJ5RXZlbnRDb2xsZWN0ZWQgPSBmdW5jdGlvbiAocmF3RXZlbnQpIHtcbiAgICAgICAgaWYgKHRlbGVtZXRyeUNvbmZpZ3VyYXRpb24udGVsZW1ldHJ5RW5hYmxlZCkge1xuICAgICAgICAgICAgdmFyIGV2ZW50XzEgPSB0b1RlbGVtZXRyeUV2ZW50KHRlbGVtZXRyeVNlcnZpY2UsIHJhd0V2ZW50KTtcbiAgICAgICAgICAgIG9ic2VydmFibGUubm90aWZ5KGV2ZW50XzEpO1xuICAgICAgICAgICAgc2VuZFRvRXh0ZW5zaW9uKCd0ZWxlbWV0cnknLCBldmVudF8xKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgc3RhcnRNb25pdG9yRXJyb3JDb2xsZWN0aW9uKGFkZFRlbGVtZXRyeUVycm9yKTtcbiAgICBhc3NpZ24odGVsZW1ldHJ5Q29uZmlndXJhdGlvbiwge1xuICAgICAgICBtYXhFdmVudHNQZXJQYWdlOiBjb25maWd1cmF0aW9uLm1heFRlbGVtZXRyeUV2ZW50c1BlclBhZ2UsXG4gICAgICAgIHNlbnRFdmVudENvdW50OiAwLFxuICAgIH0pO1xuICAgIGZ1bmN0aW9uIHRvVGVsZW1ldHJ5RXZlbnQodGVsZW1ldHJ5U2VydmljZSwgZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIGNvbWJpbmUoe1xuICAgICAgICAgICAgdHlwZTogJ3RlbGVtZXRyeScsXG4gICAgICAgICAgICBkYXRlOiB0aW1lU3RhbXBOb3coKSxcbiAgICAgICAgICAgIHNlcnZpY2U6IHRlbGVtZXRyeVNlcnZpY2UsXG4gICAgICAgICAgICB2ZXJzaW9uOiBcIjQuNDIuMlwiLFxuICAgICAgICAgICAgc291cmNlOiAnYnJvd3NlcicsXG4gICAgICAgICAgICBfZGQ6IHtcbiAgICAgICAgICAgICAgICBmb3JtYXRfdmVyc2lvbjogMixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0ZWxlbWV0cnk6IGV2ZW50LFxuICAgICAgICAgICAgZXhwZXJpbWVudGFsX2ZlYXR1cmVzOiBhcnJheUZyb20oZ2V0RXhwZXJpbWVudGFsRmVhdHVyZXMoKSksXG4gICAgICAgIH0sIGNvbnRleHRQcm92aWRlciAhPT0gdW5kZWZpbmVkID8gY29udGV4dFByb3ZpZGVyKCkgOiB7fSk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHNldENvbnRleHRQcm92aWRlcjogZnVuY3Rpb24gKHByb3ZpZGVyKSB7XG4gICAgICAgICAgICBjb250ZXh0UHJvdmlkZXIgPSBwcm92aWRlcjtcbiAgICAgICAgfSxcbiAgICAgICAgb2JzZXJ2YWJsZTogb2JzZXJ2YWJsZSxcbiAgICAgICAgZW5hYmxlZDogdGVsZW1ldHJ5Q29uZmlndXJhdGlvbi50ZWxlbWV0cnlFbmFibGVkLFxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gc3RhcnRGYWtlVGVsZW1ldHJ5KCkge1xuICAgIHZhciBldmVudHMgPSBbXTtcbiAgICBhc3NpZ24odGVsZW1ldHJ5Q29uZmlndXJhdGlvbiwge1xuICAgICAgICBtYXhFdmVudHNQZXJQYWdlOiBJbmZpbml0eSxcbiAgICAgICAgc2VudEV2ZW50Q291bnQ6IDAsXG4gICAgfSk7XG4gICAgb25SYXdUZWxlbWV0cnlFdmVudENvbGxlY3RlZCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBldmVudHMucHVzaChldmVudCk7XG4gICAgfTtcbiAgICByZXR1cm4gZXZlbnRzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlc2V0VGVsZW1ldHJ5KCkge1xuICAgIG9uUmF3VGVsZW1ldHJ5RXZlbnRDb2xsZWN0ZWQgPSB1bmRlZmluZWQ7XG59XG4vKipcbiAqIEF2b2lkIG1peGluZyB0ZWxlbWV0cnkgZXZlbnRzIGZyb20gZGlmZmVyZW50IGRhdGEgY2VudGVyc1xuICogYnV0IGtlZXAgcmVwbGljYXRpbmcgc3RhZ2luZyBldmVudHMgZm9yIHJlbGlhYmlsaXR5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1RlbGVtZXRyeVJlcGxpY2F0aW9uQWxsb3dlZChjb25maWd1cmF0aW9uKSB7XG4gICAgcmV0dXJuIGNvbmZpZ3VyYXRpb24uc2l0ZSA9PT0gSU5UQUtFX1NJVEVfU1RBR0lORztcbn1cbmV4cG9ydCBmdW5jdGlvbiBhZGRUZWxlbWV0cnlEZWJ1ZyhtZXNzYWdlLCBjb250ZXh0KSB7XG4gICAgZGlzcGxheUlmRGVidWdFbmFibGVkKENvbnNvbGVBcGlOYW1lLmRlYnVnLCBtZXNzYWdlLCBjb250ZXh0KTtcbiAgICBhZGRUZWxlbWV0cnkoYXNzaWduKHtcbiAgICAgICAgdHlwZTogVGVsZW1ldHJ5VHlwZS5sb2csXG4gICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsXG4gICAgICAgIHN0YXR1czogXCJkZWJ1Z1wiIC8qIFN0YXR1c1R5cGUuZGVidWcgKi8sXG4gICAgfSwgY29udGV4dCkpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGFkZFRlbGVtZXRyeUVycm9yKGUpIHtcbiAgICBhZGRUZWxlbWV0cnkoYXNzaWduKHtcbiAgICAgICAgdHlwZTogVGVsZW1ldHJ5VHlwZS5sb2csXG4gICAgICAgIHN0YXR1czogXCJlcnJvclwiIC8qIFN0YXR1c1R5cGUuZXJyb3IgKi8sXG4gICAgfSwgZm9ybWF0RXJyb3IoZSkpKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhZGRUZWxlbWV0cnlDb25maWd1cmF0aW9uKGNvbmZpZ3VyYXRpb24pIHtcbiAgICBpZiAodGVsZW1ldHJ5Q29uZmlndXJhdGlvbi50ZWxlbWV0cnlDb25maWd1cmF0aW9uRW5hYmxlZCkge1xuICAgICAgICBhZGRUZWxlbWV0cnkoe1xuICAgICAgICAgICAgdHlwZTogVGVsZW1ldHJ5VHlwZS5jb25maWd1cmF0aW9uLFxuICAgICAgICAgICAgY29uZmlndXJhdGlvbjogY29uZmlndXJhdGlvbixcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZnVuY3Rpb24gYWRkVGVsZW1ldHJ5KGV2ZW50KSB7XG4gICAgaWYgKG9uUmF3VGVsZW1ldHJ5RXZlbnRDb2xsZWN0ZWQgJiYgdGVsZW1ldHJ5Q29uZmlndXJhdGlvbi5zZW50RXZlbnRDb3VudCA8IHRlbGVtZXRyeUNvbmZpZ3VyYXRpb24ubWF4RXZlbnRzUGVyUGFnZSkge1xuICAgICAgICB0ZWxlbWV0cnlDb25maWd1cmF0aW9uLnNlbnRFdmVudENvdW50ICs9IDE7XG4gICAgICAgIG9uUmF3VGVsZW1ldHJ5RXZlbnRDb2xsZWN0ZWQoZXZlbnQpO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXRFcnJvcihlKSB7XG4gICAgaWYgKGUgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICB2YXIgc3RhY2tUcmFjZSA9IGNvbXB1dGVTdGFja1RyYWNlKGUpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZXJyb3I6IHtcbiAgICAgICAgICAgICAgICBraW5kOiBzdGFja1RyYWNlLm5hbWUsXG4gICAgICAgICAgICAgICAgc3RhY2s6IHRvU3RhY2tUcmFjZVN0cmluZyhzY3J1YkN1c3RvbWVyRnJhbWVzKHN0YWNrVHJhY2UpKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBtZXNzYWdlOiBzdGFja1RyYWNlLm1lc3NhZ2UsXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGVycm9yOiB7XG4gICAgICAgICAgICBzdGFjazogTk9fRVJST1JfU1RBQ0tfUFJFU0VOVF9NRVNTQUdFLFxuICAgICAgICB9LFxuICAgICAgICBtZXNzYWdlOiBcIlwiLmNvbmNhdChcIlVuY2F1Z2h0XCIgLyogTm9uRXJyb3JQcmVmaXguVU5DQVVHSFQgKi8sIFwiIFwiKS5jb25jYXQoanNvblN0cmluZ2lmeShlKSksXG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzY3J1YkN1c3RvbWVyRnJhbWVzKHN0YWNrVHJhY2UpIHtcbiAgICBzdGFja1RyYWNlLnN0YWNrID0gc3RhY2tUcmFjZS5zdGFjay5maWx0ZXIoZnVuY3Rpb24gKGZyYW1lKSB7IHJldHVybiAhZnJhbWUudXJsIHx8IEFMTE9XRURfRlJBTUVfVVJMUy5zb21lKGZ1bmN0aW9uIChhbGxvd2VkRnJhbWVVcmwpIHsgcmV0dXJuIHN0YXJ0c1dpdGgoZnJhbWUudXJsLCBhbGxvd2VkRnJhbWVVcmwpOyB9KTsgfSk7XG4gICAgcmV0dXJuIHN0YWNrVHJhY2U7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10ZWxlbWV0cnkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-core/esm/domain/telemetry/telemetry.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-core/esm/domain/tracekit/computeStackTrace.js":
/*!*****************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/domain/tracekit/computeStackTrace.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   computeStackTrace: () => (/* binding */ computeStackTrace)\n/* harmony export */ });\n/* harmony import */ var _tools_utils_polyfills__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../tools/utils/polyfills */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/polyfills.js\");\n\nvar UNKNOWN_FUNCTION = '?';\n/**\n * Computes a stack trace for an exception.\n */\nfunction computeStackTrace(ex) {\n    var stack = [];\n    var stackProperty = tryToGetString(ex, 'stack');\n    var exString = String(ex);\n    if (stackProperty && (0,_tools_utils_polyfills__WEBPACK_IMPORTED_MODULE_0__.startsWith)(stackProperty, exString)) {\n        stackProperty = stackProperty.slice(exString.length);\n    }\n    if (stackProperty) {\n        stackProperty.split('\\n').forEach(function (line) {\n            var stackFrame = parseChromeLine(line) || parseChromeAnonymousLine(line) || parseWinLine(line) || parseGeckoLine(line);\n            if (stackFrame) {\n                if (!stackFrame.func && stackFrame.line) {\n                    stackFrame.func = UNKNOWN_FUNCTION;\n                }\n                stack.push(stackFrame);\n            }\n        });\n    }\n    return {\n        message: tryToGetString(ex, 'message'),\n        name: tryToGetString(ex, 'name'),\n        stack: stack,\n    };\n}\nvar fileUrl = '((?:file|https?|blob|chrome-extension|native|eval|webpack|snippet|<anonymous>|\\\\w+\\\\.|\\\\/).*?)';\nvar filePosition = '(?::(\\\\d+))';\nvar CHROME_LINE_RE = new RegExp(\"^\\\\s*at (.*?) ?\\\\(\".concat(fileUrl).concat(filePosition, \"?\").concat(filePosition, \"?\\\\)?\\\\s*$\"), 'i');\nvar CHROME_EVAL_RE = new RegExp(\"\\\\((\\\\S*)\".concat(filePosition).concat(filePosition, \"\\\\)\"));\nfunction parseChromeLine(line) {\n    var parts = CHROME_LINE_RE.exec(line);\n    if (!parts) {\n        return;\n    }\n    var isNative = parts[2] && parts[2].indexOf('native') === 0; // start of line\n    var isEval = parts[2] && parts[2].indexOf('eval') === 0; // start of line\n    var submatch = CHROME_EVAL_RE.exec(parts[2]);\n    if (isEval && submatch) {\n        // throw out eval line/column and use top-most line/column number\n        parts[2] = submatch[1]; // url\n        parts[3] = submatch[2]; // line\n        parts[4] = submatch[3]; // column\n    }\n    return {\n        args: isNative ? [parts[2]] : [],\n        column: parts[4] ? +parts[4] : undefined,\n        func: parts[1] || UNKNOWN_FUNCTION,\n        line: parts[3] ? +parts[3] : undefined,\n        url: !isNative ? parts[2] : undefined,\n    };\n}\nvar CHROME_ANONYMOUS_FUNCTION_RE = new RegExp(\"^\\\\s*at ?\".concat(fileUrl).concat(filePosition, \"?\").concat(filePosition, \"??\\\\s*$\"), 'i');\nfunction parseChromeAnonymousLine(line) {\n    var parts = CHROME_ANONYMOUS_FUNCTION_RE.exec(line);\n    if (!parts) {\n        return;\n    }\n    return {\n        args: [],\n        column: parts[3] ? +parts[3] : undefined,\n        func: UNKNOWN_FUNCTION,\n        line: parts[2] ? +parts[2] : undefined,\n        url: parts[1],\n    };\n}\nvar WINJS_LINE_RE = /^\\s*at (?:((?:\\[object object\\])?.+) )?\\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\\d+)(?::(\\d+))?\\)?\\s*$/i;\nfunction parseWinLine(line) {\n    var parts = WINJS_LINE_RE.exec(line);\n    if (!parts) {\n        return;\n    }\n    return {\n        args: [],\n        column: parts[4] ? +parts[4] : undefined,\n        func: parts[1] || UNKNOWN_FUNCTION,\n        line: +parts[3],\n        url: parts[2],\n    };\n}\nvar GECKO_LINE_RE = /^\\s*(.*?)(?:\\((.*?)\\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|capacitor|\\[native).*?|[^@]*bundle)(?::(\\d+))?(?::(\\d+))?\\s*$/i;\nvar GECKO_EVAL_RE = /(\\S+) line (\\d+)(?: > eval line \\d+)* > eval/i;\nfunction parseGeckoLine(line) {\n    var parts = GECKO_LINE_RE.exec(line);\n    if (!parts) {\n        return;\n    }\n    var isEval = parts[3] && parts[3].indexOf(' > eval') > -1;\n    var submatch = GECKO_EVAL_RE.exec(parts[3]);\n    if (isEval && submatch) {\n        // throw out eval line/column and use top-most line number\n        parts[3] = submatch[1];\n        parts[4] = submatch[2];\n        parts[5] = undefined; // no column when eval\n    }\n    return {\n        args: parts[2] ? parts[2].split(',') : [],\n        column: parts[5] ? +parts[5] : undefined,\n        func: parts[1] || UNKNOWN_FUNCTION,\n        line: parts[4] ? +parts[4] : undefined,\n        url: parts[3],\n    };\n}\nfunction tryToGetString(candidate, property) {\n    if (typeof candidate !== 'object' || !candidate || !(property in candidate)) {\n        return undefined;\n    }\n    var value = candidate[property];\n    return typeof value === 'string' ? value : undefined;\n}\n//# sourceMappingURL=computeStackTrace.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL3RyYWNla2l0L2NvbXB1dGVTdGFja1RyYWNlLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXlEO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsa0VBQVU7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlFQUFpRTtBQUNqRSw2REFBNkQ7QUFDN0Q7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDO0FBQ2hDLGdDQUFnQztBQUNoQyxnQ0FBZ0M7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFyY2FzdGVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLWNvcmUvZXNtL2RvbWFpbi90cmFjZWtpdC9jb21wdXRlU3RhY2tUcmFjZS5qcz80NzIzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHN0YXJ0c1dpdGggfSBmcm9tICcuLi8uLi90b29scy91dGlscy9wb2x5ZmlsbHMnO1xudmFyIFVOS05PV05fRlVOQ1RJT04gPSAnPyc7XG4vKipcbiAqIENvbXB1dGVzIGEgc3RhY2sgdHJhY2UgZm9yIGFuIGV4Y2VwdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVTdGFja1RyYWNlKGV4KSB7XG4gICAgdmFyIHN0YWNrID0gW107XG4gICAgdmFyIHN0YWNrUHJvcGVydHkgPSB0cnlUb0dldFN0cmluZyhleCwgJ3N0YWNrJyk7XG4gICAgdmFyIGV4U3RyaW5nID0gU3RyaW5nKGV4KTtcbiAgICBpZiAoc3RhY2tQcm9wZXJ0eSAmJiBzdGFydHNXaXRoKHN0YWNrUHJvcGVydHksIGV4U3RyaW5nKSkge1xuICAgICAgICBzdGFja1Byb3BlcnR5ID0gc3RhY2tQcm9wZXJ0eS5zbGljZShleFN0cmluZy5sZW5ndGgpO1xuICAgIH1cbiAgICBpZiAoc3RhY2tQcm9wZXJ0eSkge1xuICAgICAgICBzdGFja1Byb3BlcnR5LnNwbGl0KCdcXG4nKS5mb3JFYWNoKGZ1bmN0aW9uIChsaW5lKSB7XG4gICAgICAgICAgICB2YXIgc3RhY2tGcmFtZSA9IHBhcnNlQ2hyb21lTGluZShsaW5lKSB8fCBwYXJzZUNocm9tZUFub255bW91c0xpbmUobGluZSkgfHwgcGFyc2VXaW5MaW5lKGxpbmUpIHx8IHBhcnNlR2Vja29MaW5lKGxpbmUpO1xuICAgICAgICAgICAgaWYgKHN0YWNrRnJhbWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXN0YWNrRnJhbWUuZnVuYyAmJiBzdGFja0ZyYW1lLmxpbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhY2tGcmFtZS5mdW5jID0gVU5LTk9XTl9GVU5DVElPTjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3RhY2sucHVzaChzdGFja0ZyYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIG1lc3NhZ2U6IHRyeVRvR2V0U3RyaW5nKGV4LCAnbWVzc2FnZScpLFxuICAgICAgICBuYW1lOiB0cnlUb0dldFN0cmluZyhleCwgJ25hbWUnKSxcbiAgICAgICAgc3RhY2s6IHN0YWNrLFxuICAgIH07XG59XG52YXIgZmlsZVVybCA9ICcoKD86ZmlsZXxodHRwcz98YmxvYnxjaHJvbWUtZXh0ZW5zaW9ufG5hdGl2ZXxldmFsfHdlYnBhY2t8c25pcHBldHw8YW5vbnltb3VzPnxcXFxcdytcXFxcLnxcXFxcLykuKj8pJztcbnZhciBmaWxlUG9zaXRpb24gPSAnKD86OihcXFxcZCspKSc7XG52YXIgQ0hST01FX0xJTkVfUkUgPSBuZXcgUmVnRXhwKFwiXlxcXFxzKmF0ICguKj8pID9cXFxcKFwiLmNvbmNhdChmaWxlVXJsKS5jb25jYXQoZmlsZVBvc2l0aW9uLCBcIj9cIikuY29uY2F0KGZpbGVQb3NpdGlvbiwgXCI/XFxcXCk/XFxcXHMqJFwiKSwgJ2knKTtcbnZhciBDSFJPTUVfRVZBTF9SRSA9IG5ldyBSZWdFeHAoXCJcXFxcKChcXFxcUyopXCIuY29uY2F0KGZpbGVQb3NpdGlvbikuY29uY2F0KGZpbGVQb3NpdGlvbiwgXCJcXFxcKVwiKSk7XG5mdW5jdGlvbiBwYXJzZUNocm9tZUxpbmUobGluZSkge1xuICAgIHZhciBwYXJ0cyA9IENIUk9NRV9MSU5FX1JFLmV4ZWMobGluZSk7XG4gICAgaWYgKCFwYXJ0cykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBpc05hdGl2ZSA9IHBhcnRzWzJdICYmIHBhcnRzWzJdLmluZGV4T2YoJ25hdGl2ZScpID09PSAwOyAvLyBzdGFydCBvZiBsaW5lXG4gICAgdmFyIGlzRXZhbCA9IHBhcnRzWzJdICYmIHBhcnRzWzJdLmluZGV4T2YoJ2V2YWwnKSA9PT0gMDsgLy8gc3RhcnQgb2YgbGluZVxuICAgIHZhciBzdWJtYXRjaCA9IENIUk9NRV9FVkFMX1JFLmV4ZWMocGFydHNbMl0pO1xuICAgIGlmIChpc0V2YWwgJiYgc3VibWF0Y2gpIHtcbiAgICAgICAgLy8gdGhyb3cgb3V0IGV2YWwgbGluZS9jb2x1bW4gYW5kIHVzZSB0b3AtbW9zdCBsaW5lL2NvbHVtbiBudW1iZXJcbiAgICAgICAgcGFydHNbMl0gPSBzdWJtYXRjaFsxXTsgLy8gdXJsXG4gICAgICAgIHBhcnRzWzNdID0gc3VibWF0Y2hbMl07IC8vIGxpbmVcbiAgICAgICAgcGFydHNbNF0gPSBzdWJtYXRjaFszXTsgLy8gY29sdW1uXG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGFyZ3M6IGlzTmF0aXZlID8gW3BhcnRzWzJdXSA6IFtdLFxuICAgICAgICBjb2x1bW46IHBhcnRzWzRdID8gK3BhcnRzWzRdIDogdW5kZWZpbmVkLFxuICAgICAgICBmdW5jOiBwYXJ0c1sxXSB8fCBVTktOT1dOX0ZVTkNUSU9OLFxuICAgICAgICBsaW5lOiBwYXJ0c1szXSA/ICtwYXJ0c1szXSA6IHVuZGVmaW5lZCxcbiAgICAgICAgdXJsOiAhaXNOYXRpdmUgPyBwYXJ0c1syXSA6IHVuZGVmaW5lZCxcbiAgICB9O1xufVxudmFyIENIUk9NRV9BTk9OWU1PVVNfRlVOQ1RJT05fUkUgPSBuZXcgUmVnRXhwKFwiXlxcXFxzKmF0ID9cIi5jb25jYXQoZmlsZVVybCkuY29uY2F0KGZpbGVQb3NpdGlvbiwgXCI/XCIpLmNvbmNhdChmaWxlUG9zaXRpb24sIFwiPz9cXFxccyokXCIpLCAnaScpO1xuZnVuY3Rpb24gcGFyc2VDaHJvbWVBbm9ueW1vdXNMaW5lKGxpbmUpIHtcbiAgICB2YXIgcGFydHMgPSBDSFJPTUVfQU5PTllNT1VTX0ZVTkNUSU9OX1JFLmV4ZWMobGluZSk7XG4gICAgaWYgKCFwYXJ0cykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGFyZ3M6IFtdLFxuICAgICAgICBjb2x1bW46IHBhcnRzWzNdID8gK3BhcnRzWzNdIDogdW5kZWZpbmVkLFxuICAgICAgICBmdW5jOiBVTktOT1dOX0ZVTkNUSU9OLFxuICAgICAgICBsaW5lOiBwYXJ0c1syXSA/ICtwYXJ0c1syXSA6IHVuZGVmaW5lZCxcbiAgICAgICAgdXJsOiBwYXJ0c1sxXSxcbiAgICB9O1xufVxudmFyIFdJTkpTX0xJTkVfUkUgPSAvXlxccyphdCAoPzooKD86XFxbb2JqZWN0IG9iamVjdFxcXSk/LispICk/XFwoPygoPzpmaWxlfG1zLWFwcHh8aHR0cHM/fHdlYnBhY2t8YmxvYik6Lio/KTooXFxkKykoPzo6KFxcZCspKT9cXCk/XFxzKiQvaTtcbmZ1bmN0aW9uIHBhcnNlV2luTGluZShsaW5lKSB7XG4gICAgdmFyIHBhcnRzID0gV0lOSlNfTElORV9SRS5leGVjKGxpbmUpO1xuICAgIGlmICghcGFydHMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBhcmdzOiBbXSxcbiAgICAgICAgY29sdW1uOiBwYXJ0c1s0XSA/ICtwYXJ0c1s0XSA6IHVuZGVmaW5lZCxcbiAgICAgICAgZnVuYzogcGFydHNbMV0gfHwgVU5LTk9XTl9GVU5DVElPTixcbiAgICAgICAgbGluZTogK3BhcnRzWzNdLFxuICAgICAgICB1cmw6IHBhcnRzWzJdLFxuICAgIH07XG59XG52YXIgR0VDS09fTElORV9SRSA9IC9eXFxzKiguKj8pKD86XFwoKC4qPylcXCkpPyg/Ol58QCkoKD86ZmlsZXxodHRwcz98YmxvYnxjaHJvbWV8d2VicGFja3xyZXNvdXJjZXxjYXBhY2l0b3J8XFxbbmF0aXZlKS4qP3xbXkBdKmJ1bmRsZSkoPzo6KFxcZCspKT8oPzo6KFxcZCspKT9cXHMqJC9pO1xudmFyIEdFQ0tPX0VWQUxfUkUgPSAvKFxcUyspIGxpbmUgKFxcZCspKD86ID4gZXZhbCBsaW5lIFxcZCspKiA+IGV2YWwvaTtcbmZ1bmN0aW9uIHBhcnNlR2Vja29MaW5lKGxpbmUpIHtcbiAgICB2YXIgcGFydHMgPSBHRUNLT19MSU5FX1JFLmV4ZWMobGluZSk7XG4gICAgaWYgKCFwYXJ0cykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBpc0V2YWwgPSBwYXJ0c1szXSAmJiBwYXJ0c1szXS5pbmRleE9mKCcgPiBldmFsJykgPiAtMTtcbiAgICB2YXIgc3VibWF0Y2ggPSBHRUNLT19FVkFMX1JFLmV4ZWMocGFydHNbM10pO1xuICAgIGlmIChpc0V2YWwgJiYgc3VibWF0Y2gpIHtcbiAgICAgICAgLy8gdGhyb3cgb3V0IGV2YWwgbGluZS9jb2x1bW4gYW5kIHVzZSB0b3AtbW9zdCBsaW5lIG51bWJlclxuICAgICAgICBwYXJ0c1szXSA9IHN1Ym1hdGNoWzFdO1xuICAgICAgICBwYXJ0c1s0XSA9IHN1Ym1hdGNoWzJdO1xuICAgICAgICBwYXJ0c1s1XSA9IHVuZGVmaW5lZDsgLy8gbm8gY29sdW1uIHdoZW4gZXZhbFxuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBhcmdzOiBwYXJ0c1syXSA/IHBhcnRzWzJdLnNwbGl0KCcsJykgOiBbXSxcbiAgICAgICAgY29sdW1uOiBwYXJ0c1s1XSA/ICtwYXJ0c1s1XSA6IHVuZGVmaW5lZCxcbiAgICAgICAgZnVuYzogcGFydHNbMV0gfHwgVU5LTk9XTl9GVU5DVElPTixcbiAgICAgICAgbGluZTogcGFydHNbNF0gPyArcGFydHNbNF0gOiB1bmRlZmluZWQsXG4gICAgICAgIHVybDogcGFydHNbM10sXG4gICAgfTtcbn1cbmZ1bmN0aW9uIHRyeVRvR2V0U3RyaW5nKGNhbmRpZGF0ZSwgcHJvcGVydHkpIHtcbiAgICBpZiAodHlwZW9mIGNhbmRpZGF0ZSAhPT0gJ29iamVjdCcgfHwgIWNhbmRpZGF0ZSB8fCAhKHByb3BlcnR5IGluIGNhbmRpZGF0ZSkpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgdmFyIHZhbHVlID0gY2FuZGlkYXRlW3Byb3BlcnR5XTtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyA/IHZhbHVlIDogdW5kZWZpbmVkO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tcHV0ZVN0YWNrVHJhY2UuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-core/esm/domain/tracekit/computeStackTrace.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-core/esm/domain/tracekit/tracekit.js":
/*!********************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/domain/tracekit/tracekit.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   startUnhandledErrorCollection: () => (/* binding */ startUnhandledErrorCollection)\n/* harmony export */ });\n/* harmony import */ var _tools_instrumentMethod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../tools/instrumentMethod */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/instrumentMethod.js\");\n/* harmony import */ var _computeStackTrace__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./computeStackTrace */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/tracekit/computeStackTrace.js\");\n\n\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error#Error_types\nvar ERROR_TYPES_RE = /^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;\n/**\n * Cross-browser collection of unhandled errors\n *\n * Supports:\n * - Firefox: full stack trace with line numbers, plus column number\n * on top frame; column number is not guaranteed\n * - Opera: full stack trace with line and column numbers\n * - Chrome: full stack trace with line and column numbers\n * - Safari: line and column number for the top frame only; some frames\n * may be missing, and column number is not guaranteed\n * - IE: line and column number for the top frame only; some frames\n * may be missing, and column number is not guaranteed\n *\n * In theory, TraceKit should work on all of the following versions:\n * - IE5.5+ (only 8.0 tested)\n * - Firefox 0.9+ (only 3.5+ tested)\n * - Opera 7+ (only 10.50 tested; versions 9 and earlier may require\n * Exceptions Have Stacktrace to be enabled in opera:config)\n * - Safari 3+ (only 4+ tested)\n * - Chrome 1+ (only 5+ tested)\n * - Konqueror 3.5+ (untested)\n *\n * Tries to catch all unhandled errors and report them to the\n * callback.\n *\n * Callbacks receive a StackTrace object as described in the\n * computeStackTrace docs.\n *\n * @memberof TraceKit\n * @namespace\n */\nfunction startUnhandledErrorCollection(callback) {\n    var stopInstrumentingOnError = instrumentOnError(callback).stop;\n    var stopInstrumentingOnUnhandledRejection = instrumentUnhandledRejection(callback).stop;\n    return {\n        stop: function () {\n            stopInstrumentingOnError();\n            stopInstrumentingOnUnhandledRejection();\n        },\n    };\n}\n/**\n * Install a global onerror handler\n */\nfunction instrumentOnError(callback) {\n    return (0,_tools_instrumentMethod__WEBPACK_IMPORTED_MODULE_0__.instrumentMethodAndCallOriginal)(window, 'onerror', {\n        before: function (messageObj, url, line, column, errorObj) {\n            var stackTrace;\n            if (errorObj instanceof Error) {\n                stackTrace = (0,_computeStackTrace__WEBPACK_IMPORTED_MODULE_1__.computeStackTrace)(errorObj);\n            }\n            else {\n                var stack = [{ url: url, column: column, line: line }];\n                var _a = tryToParseMessage(messageObj), name_1 = _a.name, message = _a.message;\n                stackTrace = {\n                    name: name_1,\n                    message: message,\n                    stack: stack,\n                };\n            }\n            callback(stackTrace, errorObj !== null && errorObj !== void 0 ? errorObj : messageObj);\n        },\n    });\n}\nfunction tryToParseMessage(messageObj) {\n    var _a;\n    var name;\n    var message;\n    if ({}.toString.call(messageObj) === '[object String]') {\n        ;\n        _a = ERROR_TYPES_RE.exec(messageObj), name = _a[1], message = _a[2];\n    }\n    return { name: name, message: message };\n}\n/**\n * Install a global onunhandledrejection handler\n */\nfunction instrumentUnhandledRejection(callback) {\n    return (0,_tools_instrumentMethod__WEBPACK_IMPORTED_MODULE_0__.instrumentMethodAndCallOriginal)(window, 'onunhandledrejection', {\n        before: function (e) {\n            var reason = e.reason || 'Empty reason';\n            var stack = (0,_computeStackTrace__WEBPACK_IMPORTED_MODULE_1__.computeStackTrace)(reason);\n            callback(stack, reason);\n        },\n    });\n}\n//# sourceMappingURL=tracekit.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL3RyYWNla2l0L3RyYWNla2l0LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUErRTtBQUN2QjtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsNERBQTREO0FBQzVEO0FBQ0Esd0RBQXdEO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsd0ZBQStCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixxRUFBaUI7QUFDOUM7QUFDQTtBQUNBLCtCQUErQixzQ0FBc0M7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsd0ZBQStCO0FBQzFDO0FBQ0E7QUFDQSx3QkFBd0IscUVBQWlCO0FBQ3pDO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFyY2FzdGVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLWNvcmUvZXNtL2RvbWFpbi90cmFjZWtpdC90cmFjZWtpdC5qcz81MTFiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGluc3RydW1lbnRNZXRob2RBbmRDYWxsT3JpZ2luYWwgfSBmcm9tICcuLi8uLi90b29scy9pbnN0cnVtZW50TWV0aG9kJztcbmltcG9ydCB7IGNvbXB1dGVTdGFja1RyYWNlIH0gZnJvbSAnLi9jb21wdXRlU3RhY2tUcmFjZSc7XG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9FcnJvciNFcnJvcl90eXBlc1xudmFyIEVSUk9SX1RZUEVTX1JFID0gL14oPzpbVXVdbmNhdWdodCAoPzpleGNlcHRpb246ICk/KT8oPzooKD86RXZhbHxJbnRlcm5hbHxSYW5nZXxSZWZlcmVuY2V8U3ludGF4fFR5cGV8VVJJfClFcnJvcik6ICk/KC4qKSQvO1xuLyoqXG4gKiBDcm9zcy1icm93c2VyIGNvbGxlY3Rpb24gb2YgdW5oYW5kbGVkIGVycm9yc1xuICpcbiAqIFN1cHBvcnRzOlxuICogLSBGaXJlZm94OiBmdWxsIHN0YWNrIHRyYWNlIHdpdGggbGluZSBudW1iZXJzLCBwbHVzIGNvbHVtbiBudW1iZXJcbiAqIG9uIHRvcCBmcmFtZTsgY29sdW1uIG51bWJlciBpcyBub3QgZ3VhcmFudGVlZFxuICogLSBPcGVyYTogZnVsbCBzdGFjayB0cmFjZSB3aXRoIGxpbmUgYW5kIGNvbHVtbiBudW1iZXJzXG4gKiAtIENocm9tZTogZnVsbCBzdGFjayB0cmFjZSB3aXRoIGxpbmUgYW5kIGNvbHVtbiBudW1iZXJzXG4gKiAtIFNhZmFyaTogbGluZSBhbmQgY29sdW1uIG51bWJlciBmb3IgdGhlIHRvcCBmcmFtZSBvbmx5OyBzb21lIGZyYW1lc1xuICogbWF5IGJlIG1pc3NpbmcsIGFuZCBjb2x1bW4gbnVtYmVyIGlzIG5vdCBndWFyYW50ZWVkXG4gKiAtIElFOiBsaW5lIGFuZCBjb2x1bW4gbnVtYmVyIGZvciB0aGUgdG9wIGZyYW1lIG9ubHk7IHNvbWUgZnJhbWVzXG4gKiBtYXkgYmUgbWlzc2luZywgYW5kIGNvbHVtbiBudW1iZXIgaXMgbm90IGd1YXJhbnRlZWRcbiAqXG4gKiBJbiB0aGVvcnksIFRyYWNlS2l0IHNob3VsZCB3b3JrIG9uIGFsbCBvZiB0aGUgZm9sbG93aW5nIHZlcnNpb25zOlxuICogLSBJRTUuNSsgKG9ubHkgOC4wIHRlc3RlZClcbiAqIC0gRmlyZWZveCAwLjkrIChvbmx5IDMuNSsgdGVzdGVkKVxuICogLSBPcGVyYSA3KyAob25seSAxMC41MCB0ZXN0ZWQ7IHZlcnNpb25zIDkgYW5kIGVhcmxpZXIgbWF5IHJlcXVpcmVcbiAqIEV4Y2VwdGlvbnMgSGF2ZSBTdGFja3RyYWNlIHRvIGJlIGVuYWJsZWQgaW4gb3BlcmE6Y29uZmlnKVxuICogLSBTYWZhcmkgMysgKG9ubHkgNCsgdGVzdGVkKVxuICogLSBDaHJvbWUgMSsgKG9ubHkgNSsgdGVzdGVkKVxuICogLSBLb25xdWVyb3IgMy41KyAodW50ZXN0ZWQpXG4gKlxuICogVHJpZXMgdG8gY2F0Y2ggYWxsIHVuaGFuZGxlZCBlcnJvcnMgYW5kIHJlcG9ydCB0aGVtIHRvIHRoZVxuICogY2FsbGJhY2suXG4gKlxuICogQ2FsbGJhY2tzIHJlY2VpdmUgYSBTdGFja1RyYWNlIG9iamVjdCBhcyBkZXNjcmliZWQgaW4gdGhlXG4gKiBjb21wdXRlU3RhY2tUcmFjZSBkb2NzLlxuICpcbiAqIEBtZW1iZXJvZiBUcmFjZUtpdFxuICogQG5hbWVzcGFjZVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRVbmhhbmRsZWRFcnJvckNvbGxlY3Rpb24oY2FsbGJhY2spIHtcbiAgICB2YXIgc3RvcEluc3RydW1lbnRpbmdPbkVycm9yID0gaW5zdHJ1bWVudE9uRXJyb3IoY2FsbGJhY2spLnN0b3A7XG4gICAgdmFyIHN0b3BJbnN0cnVtZW50aW5nT25VbmhhbmRsZWRSZWplY3Rpb24gPSBpbnN0cnVtZW50VW5oYW5kbGVkUmVqZWN0aW9uKGNhbGxiYWNrKS5zdG9wO1xuICAgIHJldHVybiB7XG4gICAgICAgIHN0b3A6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHN0b3BJbnN0cnVtZW50aW5nT25FcnJvcigpO1xuICAgICAgICAgICAgc3RvcEluc3RydW1lbnRpbmdPblVuaGFuZGxlZFJlamVjdGlvbigpO1xuICAgICAgICB9LFxuICAgIH07XG59XG4vKipcbiAqIEluc3RhbGwgYSBnbG9iYWwgb25lcnJvciBoYW5kbGVyXG4gKi9cbmZ1bmN0aW9uIGluc3RydW1lbnRPbkVycm9yKGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIGluc3RydW1lbnRNZXRob2RBbmRDYWxsT3JpZ2luYWwod2luZG93LCAnb25lcnJvcicsIHtcbiAgICAgICAgYmVmb3JlOiBmdW5jdGlvbiAobWVzc2FnZU9iaiwgdXJsLCBsaW5lLCBjb2x1bW4sIGVycm9yT2JqKSB7XG4gICAgICAgICAgICB2YXIgc3RhY2tUcmFjZTtcbiAgICAgICAgICAgIGlmIChlcnJvck9iaiBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICAgICAgc3RhY2tUcmFjZSA9IGNvbXB1dGVTdGFja1RyYWNlKGVycm9yT2JqKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBzdGFjayA9IFt7IHVybDogdXJsLCBjb2x1bW46IGNvbHVtbiwgbGluZTogbGluZSB9XTtcbiAgICAgICAgICAgICAgICB2YXIgX2EgPSB0cnlUb1BhcnNlTWVzc2FnZShtZXNzYWdlT2JqKSwgbmFtZV8xID0gX2EubmFtZSwgbWVzc2FnZSA9IF9hLm1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgc3RhY2tUcmFjZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogbmFtZV8xLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICBzdGFjazogc3RhY2ssXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhbGxiYWNrKHN0YWNrVHJhY2UsIGVycm9yT2JqICE9PSBudWxsICYmIGVycm9yT2JqICE9PSB2b2lkIDAgPyBlcnJvck9iaiA6IG1lc3NhZ2VPYmopO1xuICAgICAgICB9LFxuICAgIH0pO1xufVxuZnVuY3Rpb24gdHJ5VG9QYXJzZU1lc3NhZ2UobWVzc2FnZU9iaikge1xuICAgIHZhciBfYTtcbiAgICB2YXIgbmFtZTtcbiAgICB2YXIgbWVzc2FnZTtcbiAgICBpZiAoe30udG9TdHJpbmcuY2FsbChtZXNzYWdlT2JqKSA9PT0gJ1tvYmplY3QgU3RyaW5nXScpIHtcbiAgICAgICAgO1xuICAgICAgICBfYSA9IEVSUk9SX1RZUEVTX1JFLmV4ZWMobWVzc2FnZU9iaiksIG5hbWUgPSBfYVsxXSwgbWVzc2FnZSA9IF9hWzJdO1xuICAgIH1cbiAgICByZXR1cm4geyBuYW1lOiBuYW1lLCBtZXNzYWdlOiBtZXNzYWdlIH07XG59XG4vKipcbiAqIEluc3RhbGwgYSBnbG9iYWwgb251bmhhbmRsZWRyZWplY3Rpb24gaGFuZGxlclxuICovXG5mdW5jdGlvbiBpbnN0cnVtZW50VW5oYW5kbGVkUmVqZWN0aW9uKGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIGluc3RydW1lbnRNZXRob2RBbmRDYWxsT3JpZ2luYWwod2luZG93LCAnb251bmhhbmRsZWRyZWplY3Rpb24nLCB7XG4gICAgICAgIGJlZm9yZTogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHZhciByZWFzb24gPSBlLnJlYXNvbiB8fCAnRW1wdHkgcmVhc29uJztcbiAgICAgICAgICAgIHZhciBzdGFjayA9IGNvbXB1dGVTdGFja1RyYWNlKHJlYXNvbik7XG4gICAgICAgICAgICBjYWxsYmFjayhzdGFjaywgcmVhc29uKTtcbiAgICAgICAgfSxcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRyYWNla2l0LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-core/esm/domain/tracekit/tracekit.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-core/esm/domain/user/user.js":
/*!************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/domain/user/user.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   checkUser: () => (/* binding */ checkUser),\n/* harmony export */   sanitizeUser: () => (/* binding */ sanitizeUser)\n/* harmony export */ });\n/* harmony import */ var _tools_display__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../tools/display */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/display.js\");\n/* harmony import */ var _tools_utils_typeUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../tools/utils/typeUtils */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/typeUtils.js\");\n/* harmony import */ var _tools_utils_polyfills__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../tools/utils/polyfills */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/polyfills.js\");\n\n\n\n/**\n * Clone input data and ensure known user properties (id, name, email)\n * are strings, as defined here:\n * https://docs.datadoghq.com/logs/log_configuration/attributes_naming_convention/#user-related-attributes\n */\nfunction sanitizeUser(newUser) {\n    // We shallow clone only to prevent mutation of user data.\n    var user = (0,_tools_utils_polyfills__WEBPACK_IMPORTED_MODULE_0__.assign)({}, newUser);\n    var keys = ['id', 'name', 'email'];\n    keys.forEach(function (key) {\n        if (key in user) {\n            user[key] = String(user[key]);\n        }\n    });\n    return user;\n}\n/**\n * Simple check to ensure user is valid\n */\nfunction checkUser(newUser) {\n    var isValid = (0,_tools_utils_typeUtils__WEBPACK_IMPORTED_MODULE_1__.getType)(newUser) === 'object';\n    if (!isValid) {\n        _tools_display__WEBPACK_IMPORTED_MODULE_2__.display.error('Unsupported user:', newUser);\n    }\n    return isValid;\n}\n//# sourceMappingURL=user.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL3VzZXIvdXNlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUE4QztBQUNRO0FBQ0Q7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSxlQUFlLDhEQUFNLEdBQUc7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxrQkFBa0IsK0RBQU87QUFDekI7QUFDQSxRQUFRLG1EQUFPO0FBQ2Y7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYXJjYXN0ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vZG9tYWluL3VzZXIvdXNlci5qcz9hZWM1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGRpc3BsYXkgfSBmcm9tICcuLi8uLi90b29scy9kaXNwbGF5JztcbmltcG9ydCB7IGdldFR5cGUgfSBmcm9tICcuLi8uLi90b29scy91dGlscy90eXBlVXRpbHMnO1xuaW1wb3J0IHsgYXNzaWduIH0gZnJvbSAnLi4vLi4vdG9vbHMvdXRpbHMvcG9seWZpbGxzJztcbi8qKlxuICogQ2xvbmUgaW5wdXQgZGF0YSBhbmQgZW5zdXJlIGtub3duIHVzZXIgcHJvcGVydGllcyAoaWQsIG5hbWUsIGVtYWlsKVxuICogYXJlIHN0cmluZ3MsIGFzIGRlZmluZWQgaGVyZTpcbiAqIGh0dHBzOi8vZG9jcy5kYXRhZG9naHEuY29tL2xvZ3MvbG9nX2NvbmZpZ3VyYXRpb24vYXR0cmlidXRlc19uYW1pbmdfY29udmVudGlvbi8jdXNlci1yZWxhdGVkLWF0dHJpYnV0ZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNhbml0aXplVXNlcihuZXdVc2VyKSB7XG4gICAgLy8gV2Ugc2hhbGxvdyBjbG9uZSBvbmx5IHRvIHByZXZlbnQgbXV0YXRpb24gb2YgdXNlciBkYXRhLlxuICAgIHZhciB1c2VyID0gYXNzaWduKHt9LCBuZXdVc2VyKTtcbiAgICB2YXIga2V5cyA9IFsnaWQnLCAnbmFtZScsICdlbWFpbCddO1xuICAgIGtleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGlmIChrZXkgaW4gdXNlcikge1xuICAgICAgICAgICAgdXNlcltrZXldID0gU3RyaW5nKHVzZXJba2V5XSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gdXNlcjtcbn1cbi8qKlxuICogU2ltcGxlIGNoZWNrIHRvIGVuc3VyZSB1c2VyIGlzIHZhbGlkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjaGVja1VzZXIobmV3VXNlcikge1xuICAgIHZhciBpc1ZhbGlkID0gZ2V0VHlwZShuZXdVc2VyKSA9PT0gJ29iamVjdCc7XG4gICAgaWYgKCFpc1ZhbGlkKSB7XG4gICAgICAgIGRpc3BsYXkuZXJyb3IoJ1Vuc3VwcG9ydGVkIHVzZXI6JywgbmV3VXNlcik7XG4gICAgfVxuICAgIHJldHVybiBpc1ZhbGlkO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXNlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-core/esm/domain/user/user.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-core/esm/tools/abstractLifeCycle.js":
/*!*******************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/tools/abstractLifeCycle.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AbstractLifeCycle: () => (/* binding */ AbstractLifeCycle)\n/* harmony export */ });\nvar AbstractLifeCycle = /** @class */ (function () {\n    function AbstractLifeCycle() {\n        this.callbacks = {};\n    }\n    AbstractLifeCycle.prototype.notify = function (eventType, data) {\n        var eventCallbacks = this.callbacks[eventType];\n        if (eventCallbacks) {\n            eventCallbacks.forEach(function (callback) { return callback(data); });\n        }\n    };\n    AbstractLifeCycle.prototype.subscribe = function (eventType, callback) {\n        var _this = this;\n        if (!this.callbacks[eventType]) {\n            this.callbacks[eventType] = [];\n        }\n        this.callbacks[eventType].push(callback);\n        return {\n            unsubscribe: function () {\n                _this.callbacks[eventType] = _this.callbacks[eventType].filter(function (other) { return callback !== other; });\n            },\n        };\n    };\n    return AbstractLifeCycle;\n}());\n\n//# sourceMappingURL=abstractLifeCycle.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvYWJzdHJhY3RMaWZlQ3ljbGUuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQXlELHdCQUF3QjtBQUNqRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtHQUFrRyw0QkFBNEI7QUFDOUgsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDNEI7QUFDN0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYXJjYXN0ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvYWJzdHJhY3RMaWZlQ3ljbGUuanM/NDc0NCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgQWJzdHJhY3RMaWZlQ3ljbGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQWJzdHJhY3RMaWZlQ3ljbGUoKSB7XG4gICAgICAgIHRoaXMuY2FsbGJhY2tzID0ge307XG4gICAgfVxuICAgIEFic3RyYWN0TGlmZUN5Y2xlLnByb3RvdHlwZS5ub3RpZnkgPSBmdW5jdGlvbiAoZXZlbnRUeXBlLCBkYXRhKSB7XG4gICAgICAgIHZhciBldmVudENhbGxiYWNrcyA9IHRoaXMuY2FsbGJhY2tzW2V2ZW50VHlwZV07XG4gICAgICAgIGlmIChldmVudENhbGxiYWNrcykge1xuICAgICAgICAgICAgZXZlbnRDYWxsYmFja3MuZm9yRWFjaChmdW5jdGlvbiAoY2FsbGJhY2spIHsgcmV0dXJuIGNhbGxiYWNrKGRhdGEpOyB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQWJzdHJhY3RMaWZlQ3ljbGUucHJvdG90eXBlLnN1YnNjcmliZSA9IGZ1bmN0aW9uIChldmVudFR5cGUsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICghdGhpcy5jYWxsYmFja3NbZXZlbnRUeXBlXSkge1xuICAgICAgICAgICAgdGhpcy5jYWxsYmFja3NbZXZlbnRUeXBlXSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2FsbGJhY2tzW2V2ZW50VHlwZV0ucHVzaChjYWxsYmFjayk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB1bnN1YnNjcmliZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmNhbGxiYWNrc1tldmVudFR5cGVdID0gX3RoaXMuY2FsbGJhY2tzW2V2ZW50VHlwZV0uZmlsdGVyKGZ1bmN0aW9uIChvdGhlcikgeyByZXR1cm4gY2FsbGJhY2sgIT09IG90aGVyOyB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfTtcbiAgICByZXR1cm4gQWJzdHJhY3RMaWZlQ3ljbGU7XG59KCkpO1xuZXhwb3J0IHsgQWJzdHJhY3RMaWZlQ3ljbGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFic3RyYWN0TGlmZUN5Y2xlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-core/esm/tools/abstractLifeCycle.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-core/esm/tools/boundedBuffer.js":
/*!***************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/tools/boundedBuffer.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BoundedBuffer: () => (/* binding */ BoundedBuffer)\n/* harmony export */ });\nvar BUFFER_LIMIT = 500;\nvar BoundedBuffer = /** @class */ (function () {\n    function BoundedBuffer() {\n        this.buffer = [];\n    }\n    BoundedBuffer.prototype.add = function (callback) {\n        var length = this.buffer.push(callback);\n        if (length > BUFFER_LIMIT) {\n            this.buffer.splice(0, 1);\n        }\n    };\n    BoundedBuffer.prototype.drain = function () {\n        this.buffer.forEach(function (callback) { return callback(); });\n        this.buffer.length = 0;\n    };\n    return BoundedBuffer;\n}());\n\n//# sourceMappingURL=boundedBuffer.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvYm91bmRlZEJ1ZmZlci5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELG9CQUFvQjtBQUN0RTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ3dCO0FBQ3pCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFyY2FzdGVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLWNvcmUvZXNtL3Rvb2xzL2JvdW5kZWRCdWZmZXIuanM/OGZmOCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgQlVGRkVSX0xJTUlUID0gNTAwO1xudmFyIEJvdW5kZWRCdWZmZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQm91bmRlZEJ1ZmZlcigpIHtcbiAgICAgICAgdGhpcy5idWZmZXIgPSBbXTtcbiAgICB9XG4gICAgQm91bmRlZEJ1ZmZlci5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBsZW5ndGggPSB0aGlzLmJ1ZmZlci5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgaWYgKGxlbmd0aCA+IEJVRkZFUl9MSU1JVCkge1xuICAgICAgICAgICAgdGhpcy5idWZmZXIuc3BsaWNlKDAsIDEpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBCb3VuZGVkQnVmZmVyLnByb3RvdHlwZS5kcmFpbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5idWZmZXIuZm9yRWFjaChmdW5jdGlvbiAoY2FsbGJhY2spIHsgcmV0dXJuIGNhbGxiYWNrKCk7IH0pO1xuICAgICAgICB0aGlzLmJ1ZmZlci5sZW5ndGggPSAwO1xuICAgIH07XG4gICAgcmV0dXJuIEJvdW5kZWRCdWZmZXI7XG59KCkpO1xuZXhwb3J0IHsgQm91bmRlZEJ1ZmZlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Ym91bmRlZEJ1ZmZlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-core/esm/tools/boundedBuffer.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-core/esm/tools/catchUserErrors.js":
/*!*****************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/tools/catchUserErrors.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   catchUserErrors: () => (/* binding */ catchUserErrors)\n/* harmony export */ });\n/* harmony import */ var _display__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./display */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/display.js\");\n\nfunction catchUserErrors(fn, errorMsg) {\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        try {\n            return fn.apply(void 0, args);\n        }\n        catch (err) {\n            _display__WEBPACK_IMPORTED_MODULE_0__.display.error(errorMsg, err);\n        }\n    };\n}\n//# sourceMappingURL=catchUserErrors.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvY2F0Y2hVc2VyRXJyb3JzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQW9DO0FBQzdCO0FBQ1A7QUFDQTtBQUNBLHlCQUF5Qix1QkFBdUI7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSw2Q0FBTztBQUNuQjtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhcmNhc3Rlci8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS90b29scy9jYXRjaFVzZXJFcnJvcnMuanM/NWYxOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkaXNwbGF5IH0gZnJvbSAnLi9kaXNwbGF5JztcbmV4cG9ydCBmdW5jdGlvbiBjYXRjaFVzZXJFcnJvcnMoZm4sIGVycm9yTXNnKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIGZuLmFwcGx5KHZvaWQgMCwgYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgZGlzcGxheS5lcnJvcihlcnJvck1zZywgZXJyKTtcbiAgICAgICAgfVxuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jYXRjaFVzZXJFcnJvcnMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-core/esm/tools/catchUserErrors.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-core/esm/tools/display.js":
/*!*********************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/tools/display.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConsoleApiName: () => (/* binding */ ConsoleApiName),\n/* harmony export */   display: () => (/* binding */ display),\n/* harmony export */   globalConsole: () => (/* binding */ globalConsole)\n/* harmony export */ });\n/* eslint-disable local-rules/disallow-side-effects */\n/**\n * Keep references on console methods to avoid triggering patched behaviors\n *\n * NB: in some setup, console could already be patched by another SDK.\n * In this case, some display messages can be sent by the other SDK\n * but we should be safe from infinite loop nonetheless.\n */\nvar ConsoleApiName = {\n    log: 'log',\n    debug: 'debug',\n    info: 'info',\n    warn: 'warn',\n    error: 'error',\n};\nvar display = function (api) {\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n    }\n    if (!Object.prototype.hasOwnProperty.call(ConsoleApiName, api)) {\n        api = ConsoleApiName.log;\n    }\n    display[api].apply(display, args);\n};\n/**\n * When building JS bundles, some users might use a plugin[1] or configuration[2] to remove\n * \"console.*\" references. This causes some issue as we expect `console.*` to be defined.\n * As a workaround, let's use a variable alias, so those expressions won't be taken into account by\n * simple static analysis.\n *\n * [1]: https://babeljs.io/docs/babel-plugin-transform-remove-console/\n * [2]: https://github.com/terser/terser#compress-options (look for drop_console)\n */\nvar globalConsole = console;\ndisplay.debug = globalConsole.debug.bind(globalConsole);\ndisplay.log = globalConsole.log.bind(globalConsole);\ndisplay.info = globalConsole.info.bind(globalConsole);\ndisplay.warn = globalConsole.warn.bind(globalConsole);\ndisplay.error = globalConsole.error.bind(globalConsole);\n//# sourceMappingURL=display.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvZGlzcGxheS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0EscUJBQXFCLHVCQUF1QjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFyY2FzdGVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLWNvcmUvZXNtL3Rvb2xzL2Rpc3BsYXkuanM/N2VlZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBsb2NhbC1ydWxlcy9kaXNhbGxvdy1zaWRlLWVmZmVjdHMgKi9cbi8qKlxuICogS2VlcCByZWZlcmVuY2VzIG9uIGNvbnNvbGUgbWV0aG9kcyB0byBhdm9pZCB0cmlnZ2VyaW5nIHBhdGNoZWQgYmVoYXZpb3JzXG4gKlxuICogTkI6IGluIHNvbWUgc2V0dXAsIGNvbnNvbGUgY291bGQgYWxyZWFkeSBiZSBwYXRjaGVkIGJ5IGFub3RoZXIgU0RLLlxuICogSW4gdGhpcyBjYXNlLCBzb21lIGRpc3BsYXkgbWVzc2FnZXMgY2FuIGJlIHNlbnQgYnkgdGhlIG90aGVyIFNES1xuICogYnV0IHdlIHNob3VsZCBiZSBzYWZlIGZyb20gaW5maW5pdGUgbG9vcCBub25ldGhlbGVzcy5cbiAqL1xuZXhwb3J0IHZhciBDb25zb2xlQXBpTmFtZSA9IHtcbiAgICBsb2c6ICdsb2cnLFxuICAgIGRlYnVnOiAnZGVidWcnLFxuICAgIGluZm86ICdpbmZvJyxcbiAgICB3YXJuOiAnd2FybicsXG4gICAgZXJyb3I6ICdlcnJvcicsXG59O1xuZXhwb3J0IHZhciBkaXNwbGF5ID0gZnVuY3Rpb24gKGFwaSkge1xuICAgIHZhciBhcmdzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgYXJnc1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoQ29uc29sZUFwaU5hbWUsIGFwaSkpIHtcbiAgICAgICAgYXBpID0gQ29uc29sZUFwaU5hbWUubG9nO1xuICAgIH1cbiAgICBkaXNwbGF5W2FwaV0uYXBwbHkoZGlzcGxheSwgYXJncyk7XG59O1xuLyoqXG4gKiBXaGVuIGJ1aWxkaW5nIEpTIGJ1bmRsZXMsIHNvbWUgdXNlcnMgbWlnaHQgdXNlIGEgcGx1Z2luWzFdIG9yIGNvbmZpZ3VyYXRpb25bMl0gdG8gcmVtb3ZlXG4gKiBcImNvbnNvbGUuKlwiIHJlZmVyZW5jZXMuIFRoaXMgY2F1c2VzIHNvbWUgaXNzdWUgYXMgd2UgZXhwZWN0IGBjb25zb2xlLipgIHRvIGJlIGRlZmluZWQuXG4gKiBBcyBhIHdvcmthcm91bmQsIGxldCdzIHVzZSBhIHZhcmlhYmxlIGFsaWFzLCBzbyB0aG9zZSBleHByZXNzaW9ucyB3b24ndCBiZSB0YWtlbiBpbnRvIGFjY291bnQgYnlcbiAqIHNpbXBsZSBzdGF0aWMgYW5hbHlzaXMuXG4gKlxuICogWzFdOiBodHRwczovL2JhYmVsanMuaW8vZG9jcy9iYWJlbC1wbHVnaW4tdHJhbnNmb3JtLXJlbW92ZS1jb25zb2xlL1xuICogWzJdOiBodHRwczovL2dpdGh1Yi5jb20vdGVyc2VyL3RlcnNlciNjb21wcmVzcy1vcHRpb25zIChsb29rIGZvciBkcm9wX2NvbnNvbGUpXG4gKi9cbmV4cG9ydCB2YXIgZ2xvYmFsQ29uc29sZSA9IGNvbnNvbGU7XG5kaXNwbGF5LmRlYnVnID0gZ2xvYmFsQ29uc29sZS5kZWJ1Zy5iaW5kKGdsb2JhbENvbnNvbGUpO1xuZGlzcGxheS5sb2cgPSBnbG9iYWxDb25zb2xlLmxvZy5iaW5kKGdsb2JhbENvbnNvbGUpO1xuZGlzcGxheS5pbmZvID0gZ2xvYmFsQ29uc29sZS5pbmZvLmJpbmQoZ2xvYmFsQ29uc29sZSk7XG5kaXNwbGF5Lndhcm4gPSBnbG9iYWxDb25zb2xlLndhcm4uYmluZChnbG9iYWxDb25zb2xlKTtcbmRpc3BsYXkuZXJyb3IgPSBnbG9iYWxDb25zb2xlLmVycm9yLmJpbmQoZ2xvYmFsQ29uc29sZSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kaXNwbGF5LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-core/esm/tools/display.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-core/esm/tools/experimentalFeatures.js":
/*!**********************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/tools/experimentalFeatures.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ExperimentalFeature: () => (/* binding */ ExperimentalFeature),\n/* harmony export */   addExperimentalFeatures: () => (/* binding */ addExperimentalFeatures),\n/* harmony export */   getExperimentalFeatures: () => (/* binding */ getExperimentalFeatures),\n/* harmony export */   isExperimentalFeatureEnabled: () => (/* binding */ isExperimentalFeatureEnabled),\n/* harmony export */   resetExperimentalFeatures: () => (/* binding */ resetExperimentalFeatures)\n/* harmony export */ });\n/**\n * LIMITATION:\n * For NPM setup, this feature flag singleton is shared between RUM and Logs product.\n * This means that an experimental flag set on the RUM product will be set on the Logs product.\n * So keep in mind that in certain configurations, your experimental feature flag may affect other products.\n *\n * FORMAT:\n * All feature flags should be snake_cased\n */\n// We want to use a real enum (i.e. not a const enum) here, to be able to check whether an arbitrary\n// string is an expected feature flag\n// eslint-disable-next-line no-restricted-syntax\nvar ExperimentalFeature;\n(function (ExperimentalFeature) {\n    ExperimentalFeature[\"PAGEHIDE\"] = \"pagehide\";\n    ExperimentalFeature[\"FEATURE_FLAGS\"] = \"feature_flags\";\n    ExperimentalFeature[\"RESOURCE_PAGE_STATES\"] = \"resource_page_states\";\n    ExperimentalFeature[\"COLLECT_FLUSH_REASON\"] = \"collect_flush_reason\";\n})(ExperimentalFeature || (ExperimentalFeature = {}));\nvar enabledExperimentalFeatures = new Set();\nfunction addExperimentalFeatures(enabledFeatures) {\n    enabledFeatures.forEach(function (flag) {\n        enabledExperimentalFeatures.add(flag);\n    });\n}\nfunction isExperimentalFeatureEnabled(featureName) {\n    return enabledExperimentalFeatures.has(featureName);\n}\nfunction resetExperimentalFeatures() {\n    enabledExperimentalFeatures.clear();\n}\nfunction getExperimentalFeatures() {\n    return enabledExperimentalFeatures;\n}\n//# sourceMappingURL=experimentalFeatures.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvZXhwZXJpbWVudGFsRmVhdHVyZXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLGtEQUFrRDtBQUNuRDtBQUNPO0FBQ1A7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFyY2FzdGVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLWNvcmUvZXNtL3Rvb2xzL2V4cGVyaW1lbnRhbEZlYXR1cmVzLmpzPzk5MzciXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBMSU1JVEFUSU9OOlxuICogRm9yIE5QTSBzZXR1cCwgdGhpcyBmZWF0dXJlIGZsYWcgc2luZ2xldG9uIGlzIHNoYXJlZCBiZXR3ZWVuIFJVTSBhbmQgTG9ncyBwcm9kdWN0LlxuICogVGhpcyBtZWFucyB0aGF0IGFuIGV4cGVyaW1lbnRhbCBmbGFnIHNldCBvbiB0aGUgUlVNIHByb2R1Y3Qgd2lsbCBiZSBzZXQgb24gdGhlIExvZ3MgcHJvZHVjdC5cbiAqIFNvIGtlZXAgaW4gbWluZCB0aGF0IGluIGNlcnRhaW4gY29uZmlndXJhdGlvbnMsIHlvdXIgZXhwZXJpbWVudGFsIGZlYXR1cmUgZmxhZyBtYXkgYWZmZWN0IG90aGVyIHByb2R1Y3RzLlxuICpcbiAqIEZPUk1BVDpcbiAqIEFsbCBmZWF0dXJlIGZsYWdzIHNob3VsZCBiZSBzbmFrZV9jYXNlZFxuICovXG4vLyBXZSB3YW50IHRvIHVzZSBhIHJlYWwgZW51bSAoaS5lLiBub3QgYSBjb25zdCBlbnVtKSBoZXJlLCB0byBiZSBhYmxlIHRvIGNoZWNrIHdoZXRoZXIgYW4gYXJiaXRyYXJ5XG4vLyBzdHJpbmcgaXMgYW4gZXhwZWN0ZWQgZmVhdHVyZSBmbGFnXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVzdHJpY3RlZC1zeW50YXhcbmV4cG9ydCB2YXIgRXhwZXJpbWVudGFsRmVhdHVyZTtcbihmdW5jdGlvbiAoRXhwZXJpbWVudGFsRmVhdHVyZSkge1xuICAgIEV4cGVyaW1lbnRhbEZlYXR1cmVbXCJQQUdFSElERVwiXSA9IFwicGFnZWhpZGVcIjtcbiAgICBFeHBlcmltZW50YWxGZWF0dXJlW1wiRkVBVFVSRV9GTEFHU1wiXSA9IFwiZmVhdHVyZV9mbGFnc1wiO1xuICAgIEV4cGVyaW1lbnRhbEZlYXR1cmVbXCJSRVNPVVJDRV9QQUdFX1NUQVRFU1wiXSA9IFwicmVzb3VyY2VfcGFnZV9zdGF0ZXNcIjtcbiAgICBFeHBlcmltZW50YWxGZWF0dXJlW1wiQ09MTEVDVF9GTFVTSF9SRUFTT05cIl0gPSBcImNvbGxlY3RfZmx1c2hfcmVhc29uXCI7XG59KShFeHBlcmltZW50YWxGZWF0dXJlIHx8IChFeHBlcmltZW50YWxGZWF0dXJlID0ge30pKTtcbnZhciBlbmFibGVkRXhwZXJpbWVudGFsRmVhdHVyZXMgPSBuZXcgU2V0KCk7XG5leHBvcnQgZnVuY3Rpb24gYWRkRXhwZXJpbWVudGFsRmVhdHVyZXMoZW5hYmxlZEZlYXR1cmVzKSB7XG4gICAgZW5hYmxlZEZlYXR1cmVzLmZvckVhY2goZnVuY3Rpb24gKGZsYWcpIHtcbiAgICAgICAgZW5hYmxlZEV4cGVyaW1lbnRhbEZlYXR1cmVzLmFkZChmbGFnKTtcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0V4cGVyaW1lbnRhbEZlYXR1cmVFbmFibGVkKGZlYXR1cmVOYW1lKSB7XG4gICAgcmV0dXJuIGVuYWJsZWRFeHBlcmltZW50YWxGZWF0dXJlcy5oYXMoZmVhdHVyZU5hbWUpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlc2V0RXhwZXJpbWVudGFsRmVhdHVyZXMoKSB7XG4gICAgZW5hYmxlZEV4cGVyaW1lbnRhbEZlYXR1cmVzLmNsZWFyKCk7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0RXhwZXJpbWVudGFsRmVhdHVyZXMoKSB7XG4gICAgcmV0dXJuIGVuYWJsZWRFeHBlcmltZW50YWxGZWF0dXJlcztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV4cGVyaW1lbnRhbEZlYXR1cmVzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-core/esm/tools/experimentalFeatures.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-core/esm/tools/getGlobalObject.js":
/*!*****************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/tools/getGlobalObject.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getGlobalObject: () => (/* binding */ getGlobalObject)\n/* harmony export */ });\n/**\n * inspired by https://mathiasbynens.be/notes/globalthis\n */\nfunction getGlobalObject() {\n    if (typeof globalThis === 'object') {\n        return globalThis;\n    }\n    Object.defineProperty(Object.prototype, '_dd_temp_', {\n        get: function () {\n            return this;\n        },\n        configurable: true,\n    });\n    // @ts-ignore _dd_temp is defined using defineProperty\n    var globalObject = _dd_temp_;\n    // @ts-ignore _dd_temp is defined using defineProperty\n    delete Object.prototype._dd_temp_;\n    if (typeof globalObject !== 'object') {\n        // on safari _dd_temp_ is available on window but not globally\n        // fallback on other browser globals check\n        if (typeof self === 'object') {\n            globalObject = self;\n        }\n        else if (typeof window === 'object') {\n            globalObject = window;\n        }\n        else {\n            globalObject = {};\n        }\n    }\n    return globalObject;\n}\n//# sourceMappingURL=getGlobalObject.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvZ2V0R2xvYmFsT2JqZWN0LmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFyY2FzdGVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLWNvcmUvZXNtL3Rvb2xzL2dldEdsb2JhbE9iamVjdC5qcz9hYjUzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogaW5zcGlyZWQgYnkgaHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2dsb2JhbHRoaXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEdsb2JhbE9iamVjdCgpIHtcbiAgICBpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiBnbG9iYWxUaGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoT2JqZWN0LnByb3RvdHlwZSwgJ19kZF90ZW1wXycsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIH0pO1xuICAgIC8vIEB0cy1pZ25vcmUgX2RkX3RlbXAgaXMgZGVmaW5lZCB1c2luZyBkZWZpbmVQcm9wZXJ0eVxuICAgIHZhciBnbG9iYWxPYmplY3QgPSBfZGRfdGVtcF87XG4gICAgLy8gQHRzLWlnbm9yZSBfZGRfdGVtcCBpcyBkZWZpbmVkIHVzaW5nIGRlZmluZVByb3BlcnR5XG4gICAgZGVsZXRlIE9iamVjdC5wcm90b3R5cGUuX2RkX3RlbXBfO1xuICAgIGlmICh0eXBlb2YgZ2xvYmFsT2JqZWN0ICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAvLyBvbiBzYWZhcmkgX2RkX3RlbXBfIGlzIGF2YWlsYWJsZSBvbiB3aW5kb3cgYnV0IG5vdCBnbG9iYWxseVxuICAgICAgICAvLyBmYWxsYmFjayBvbiBvdGhlciBicm93c2VyIGdsb2JhbHMgY2hlY2tcbiAgICAgICAgaWYgKHR5cGVvZiBzZWxmID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgZ2xvYmFsT2JqZWN0ID0gc2VsZjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgZ2xvYmFsT2JqZWN0ID0gd2luZG93O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZ2xvYmFsT2JqZWN0ID0ge307XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGdsb2JhbE9iamVjdDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdldEdsb2JhbE9iamVjdC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-core/esm/tools/getGlobalObject.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-core/esm/tools/getZoneJsOriginalValue.js":
/*!************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/tools/getZoneJsOriginalValue.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getZoneJsOriginalValue: () => (/* binding */ getZoneJsOriginalValue)\n/* harmony export */ });\n/* harmony import */ var _getGlobalObject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./getGlobalObject */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/getGlobalObject.js\");\n\n/**\n * Gets the original value for a DOM API that was potentially patched by Zone.js.\n *\n * Zone.js[1] is a library that patches a bunch of JS and DOM APIs. It usually stores the original\n * value of the patched functions/constructors/methods in a hidden property prefixed by\n * __zone_symbol__.\n *\n * In multiple occasions, we observed that Zone.js is the culprit of important issues leading to\n * browser resource exhaustion (memory leak, high CPU usage). This method is used as a workaround to\n * use the original DOM API instead of the one patched by Zone.js.\n *\n * [1]: https://github.com/angular/angular/tree/main/packages/zone.js\n */\nfunction getZoneJsOriginalValue(target, name) {\n    var browserWindow = (0,_getGlobalObject__WEBPACK_IMPORTED_MODULE_0__.getGlobalObject)();\n    var original;\n    if (browserWindow.Zone && typeof browserWindow.Zone.__symbol__ === 'function') {\n        original = target[browserWindow.Zone.__symbol__(name)];\n    }\n    if (!original) {\n        original = target[name];\n    }\n    return original;\n}\n//# sourceMappingURL=getZoneJsOriginalValue.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvZ2V0Wm9uZUpzT3JpZ2luYWxWYWx1ZS5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFvRDtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1Asd0JBQXdCLGlFQUFlO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFyY2FzdGVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLWNvcmUvZXNtL3Rvb2xzL2dldFpvbmVKc09yaWdpbmFsVmFsdWUuanM/MWQxMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRHbG9iYWxPYmplY3QgfSBmcm9tICcuL2dldEdsb2JhbE9iamVjdCc7XG4vKipcbiAqIEdldHMgdGhlIG9yaWdpbmFsIHZhbHVlIGZvciBhIERPTSBBUEkgdGhhdCB3YXMgcG90ZW50aWFsbHkgcGF0Y2hlZCBieSBab25lLmpzLlxuICpcbiAqIFpvbmUuanNbMV0gaXMgYSBsaWJyYXJ5IHRoYXQgcGF0Y2hlcyBhIGJ1bmNoIG9mIEpTIGFuZCBET00gQVBJcy4gSXQgdXN1YWxseSBzdG9yZXMgdGhlIG9yaWdpbmFsXG4gKiB2YWx1ZSBvZiB0aGUgcGF0Y2hlZCBmdW5jdGlvbnMvY29uc3RydWN0b3JzL21ldGhvZHMgaW4gYSBoaWRkZW4gcHJvcGVydHkgcHJlZml4ZWQgYnlcbiAqIF9fem9uZV9zeW1ib2xfXy5cbiAqXG4gKiBJbiBtdWx0aXBsZSBvY2Nhc2lvbnMsIHdlIG9ic2VydmVkIHRoYXQgWm9uZS5qcyBpcyB0aGUgY3VscHJpdCBvZiBpbXBvcnRhbnQgaXNzdWVzIGxlYWRpbmcgdG9cbiAqIGJyb3dzZXIgcmVzb3VyY2UgZXhoYXVzdGlvbiAobWVtb3J5IGxlYWssIGhpZ2ggQ1BVIHVzYWdlKS4gVGhpcyBtZXRob2QgaXMgdXNlZCBhcyBhIHdvcmthcm91bmQgdG9cbiAqIHVzZSB0aGUgb3JpZ2luYWwgRE9NIEFQSSBpbnN0ZWFkIG9mIHRoZSBvbmUgcGF0Y2hlZCBieSBab25lLmpzLlxuICpcbiAqIFsxXTogaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci90cmVlL21haW4vcGFja2FnZXMvem9uZS5qc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Wm9uZUpzT3JpZ2luYWxWYWx1ZSh0YXJnZXQsIG5hbWUpIHtcbiAgICB2YXIgYnJvd3NlcldpbmRvdyA9IGdldEdsb2JhbE9iamVjdCgpO1xuICAgIHZhciBvcmlnaW5hbDtcbiAgICBpZiAoYnJvd3NlcldpbmRvdy5ab25lICYmIHR5cGVvZiBicm93c2VyV2luZG93LlpvbmUuX19zeW1ib2xfXyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBvcmlnaW5hbCA9IHRhcmdldFticm93c2VyV2luZG93LlpvbmUuX19zeW1ib2xfXyhuYW1lKV07XG4gICAgfVxuICAgIGlmICghb3JpZ2luYWwpIHtcbiAgICAgICAgb3JpZ2luYWwgPSB0YXJnZXRbbmFtZV07XG4gICAgfVxuICAgIHJldHVybiBvcmlnaW5hbDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdldFpvbmVKc09yaWdpbmFsVmFsdWUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-core/esm/tools/getZoneJsOriginalValue.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-core/esm/tools/instrumentMethod.js":
/*!******************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/tools/instrumentMethod.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   instrumentMethod: () => (/* binding */ instrumentMethod),\n/* harmony export */   instrumentMethodAndCallOriginal: () => (/* binding */ instrumentMethodAndCallOriginal),\n/* harmony export */   instrumentSetter: () => (/* binding */ instrumentSetter)\n/* harmony export */ });\n/* harmony import */ var _timer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./timer */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/timer.js\");\n/* harmony import */ var _monitor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./monitor */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/monitor.js\");\n/* harmony import */ var _utils_functionUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/functionUtils */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/functionUtils.js\");\n\n\n\nfunction instrumentMethod(object, method, instrumentationFactory) {\n    var original = object[method];\n    var instrumentation = instrumentationFactory(original);\n    var instrumentationWrapper = function () {\n        if (typeof instrumentation !== 'function') {\n            return undefined;\n        }\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-return\n        return instrumentation.apply(this, arguments);\n    };\n    object[method] = instrumentationWrapper;\n    return {\n        stop: function () {\n            if (object[method] === instrumentationWrapper) {\n                object[method] = original;\n            }\n            else {\n                instrumentation = original;\n            }\n        },\n    };\n}\nfunction instrumentMethodAndCallOriginal(object, method, _a) {\n    var before = _a.before, after = _a.after;\n    return instrumentMethod(object, method, function (original) {\n        return function () {\n            var args = arguments;\n            var result;\n            if (before) {\n                (0,_monitor__WEBPACK_IMPORTED_MODULE_0__.callMonitored)(before, this, args);\n            }\n            if (typeof original === 'function') {\n                // eslint-disable-next-line @typescript-eslint/no-unsafe-call\n                result = original.apply(this, args);\n            }\n            if (after) {\n                (0,_monitor__WEBPACK_IMPORTED_MODULE_0__.callMonitored)(after, this, args);\n            }\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-return\n            return result;\n        };\n    });\n}\nfunction instrumentSetter(object, property, after) {\n    var originalDescriptor = Object.getOwnPropertyDescriptor(object, property);\n    if (!originalDescriptor || !originalDescriptor.set || !originalDescriptor.configurable) {\n        return { stop: _utils_functionUtils__WEBPACK_IMPORTED_MODULE_1__.noop };\n    }\n    var instrumentation = function (thisObject, value) {\n        // put hooked setter into event loop to avoid of set latency\n        (0,_timer__WEBPACK_IMPORTED_MODULE_2__.setTimeout)(function () {\n            after(thisObject, value);\n        }, 0);\n    };\n    var instrumentationWrapper = function (value) {\n        originalDescriptor.set.call(this, value);\n        instrumentation(this, value);\n    };\n    Object.defineProperty(object, property, {\n        set: instrumentationWrapper,\n    });\n    return {\n        stop: function () {\n            var _a;\n            if (((_a = Object.getOwnPropertyDescriptor(object, property)) === null || _a === void 0 ? void 0 : _a.set) === instrumentationWrapper) {\n                Object.defineProperty(object, property, originalDescriptor);\n            }\n            else {\n                instrumentation = _utils_functionUtils__WEBPACK_IMPORTED_MODULE_1__.noop;\n            }\n        },\n    };\n}\n//# sourceMappingURL=instrumentMethod.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvaW5zdHJ1bWVudE1ldGhvZC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBcUM7QUFDSztBQUNHO0FBQ3RDO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQix1REFBYTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsdURBQWE7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDTztBQUNQO0FBQ0E7QUFDQSxpQkFBaUIsTUFBTSxzREFBSTtBQUMzQjtBQUNBO0FBQ0E7QUFDQSxRQUFRLGtEQUFVO0FBQ2xCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLHNEQUFJO0FBQ3RDO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhcmNhc3Rlci8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS90b29scy9pbnN0cnVtZW50TWV0aG9kLmpzPzZiMDYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc2V0VGltZW91dCB9IGZyb20gJy4vdGltZXInO1xuaW1wb3J0IHsgY2FsbE1vbml0b3JlZCB9IGZyb20gJy4vbW9uaXRvcic7XG5pbXBvcnQgeyBub29wIH0gZnJvbSAnLi91dGlscy9mdW5jdGlvblV0aWxzJztcbmV4cG9ydCBmdW5jdGlvbiBpbnN0cnVtZW50TWV0aG9kKG9iamVjdCwgbWV0aG9kLCBpbnN0cnVtZW50YXRpb25GYWN0b3J5KSB7XG4gICAgdmFyIG9yaWdpbmFsID0gb2JqZWN0W21ldGhvZF07XG4gICAgdmFyIGluc3RydW1lbnRhdGlvbiA9IGluc3RydW1lbnRhdGlvbkZhY3Rvcnkob3JpZ2luYWwpO1xuICAgIHZhciBpbnN0cnVtZW50YXRpb25XcmFwcGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodHlwZW9mIGluc3RydW1lbnRhdGlvbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1yZXR1cm5cbiAgICAgICAgcmV0dXJuIGluc3RydW1lbnRhdGlvbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG4gICAgb2JqZWN0W21ldGhvZF0gPSBpbnN0cnVtZW50YXRpb25XcmFwcGVyO1xuICAgIHJldHVybiB7XG4gICAgICAgIHN0b3A6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChvYmplY3RbbWV0aG9kXSA9PT0gaW5zdHJ1bWVudGF0aW9uV3JhcHBlcikge1xuICAgICAgICAgICAgICAgIG9iamVjdFttZXRob2RdID0gb3JpZ2luYWw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpbnN0cnVtZW50YXRpb24gPSBvcmlnaW5hbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGluc3RydW1lbnRNZXRob2RBbmRDYWxsT3JpZ2luYWwob2JqZWN0LCBtZXRob2QsIF9hKSB7XG4gICAgdmFyIGJlZm9yZSA9IF9hLmJlZm9yZSwgYWZ0ZXIgPSBfYS5hZnRlcjtcbiAgICByZXR1cm4gaW5zdHJ1bWVudE1ldGhvZChvYmplY3QsIG1ldGhvZCwgZnVuY3Rpb24gKG9yaWdpbmFsKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgICAgICBpZiAoYmVmb3JlKSB7XG4gICAgICAgICAgICAgICAgY2FsbE1vbml0b3JlZChiZWZvcmUsIHRoaXMsIGFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBvcmlnaW5hbCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLWNhbGxcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBvcmlnaW5hbC5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhZnRlcikge1xuICAgICAgICAgICAgICAgIGNhbGxNb25pdG9yZWQoYWZ0ZXIsIHRoaXMsIGFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtcmV0dXJuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9O1xuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGluc3RydW1lbnRTZXR0ZXIob2JqZWN0LCBwcm9wZXJ0eSwgYWZ0ZXIpIHtcbiAgICB2YXIgb3JpZ2luYWxEZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHByb3BlcnR5KTtcbiAgICBpZiAoIW9yaWdpbmFsRGVzY3JpcHRvciB8fCAhb3JpZ2luYWxEZXNjcmlwdG9yLnNldCB8fCAhb3JpZ2luYWxEZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSkge1xuICAgICAgICByZXR1cm4geyBzdG9wOiBub29wIH07XG4gICAgfVxuICAgIHZhciBpbnN0cnVtZW50YXRpb24gPSBmdW5jdGlvbiAodGhpc09iamVjdCwgdmFsdWUpIHtcbiAgICAgICAgLy8gcHV0IGhvb2tlZCBzZXR0ZXIgaW50byBldmVudCBsb29wIHRvIGF2b2lkIG9mIHNldCBsYXRlbmN5XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgYWZ0ZXIodGhpc09iamVjdCwgdmFsdWUpO1xuICAgICAgICB9LCAwKTtcbiAgICB9O1xuICAgIHZhciBpbnN0cnVtZW50YXRpb25XcmFwcGVyID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIG9yaWdpbmFsRGVzY3JpcHRvci5zZXQuY2FsbCh0aGlzLCB2YWx1ZSk7XG4gICAgICAgIGluc3RydW1lbnRhdGlvbih0aGlzLCB2YWx1ZSk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqZWN0LCBwcm9wZXJ0eSwge1xuICAgICAgICBzZXQ6IGluc3RydW1lbnRhdGlvbldyYXBwZXIsXG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc3RvcDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgaWYgKCgoX2EgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgcHJvcGVydHkpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2V0KSA9PT0gaW5zdHJ1bWVudGF0aW9uV3JhcHBlcikge1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmplY3QsIHByb3BlcnR5LCBvcmlnaW5hbERlc2NyaXB0b3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaW5zdHJ1bWVudGF0aW9uID0gbm9vcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5zdHJ1bWVudE1ldGhvZC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-core/esm/tools/instrumentMethod.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-core/esm/tools/matchOption.js":
/*!*************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/tools/matchOption.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isMatchOption: () => (/* binding */ isMatchOption),\n/* harmony export */   matchList: () => (/* binding */ matchList)\n/* harmony export */ });\n/* harmony import */ var _utils_polyfills__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/polyfills */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/polyfills.js\");\n/* harmony import */ var _display__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./display */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/display.js\");\n/* harmony import */ var _utils_typeUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/typeUtils */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/typeUtils.js\");\n\n\n\nfunction isMatchOption(item) {\n    var itemType = (0,_utils_typeUtils__WEBPACK_IMPORTED_MODULE_0__.getType)(item);\n    return itemType === 'string' || itemType === 'function' || item instanceof RegExp;\n}\n/**\n * Returns true if value can be matched by at least one of the provided MatchOptions.\n * When comparing strings, setting useStartsWith to true will compare the value with the start of\n * the option, instead of requiring an exact match.\n */\nfunction matchList(list, value, useStartsWith) {\n    if (useStartsWith === void 0) { useStartsWith = false; }\n    return list.some(function (item) {\n        try {\n            if (typeof item === 'function') {\n                return item(value);\n            }\n            else if (item instanceof RegExp) {\n                return item.test(value);\n            }\n            else if (typeof item === 'string') {\n                return useStartsWith ? (0,_utils_polyfills__WEBPACK_IMPORTED_MODULE_1__.startsWith)(value, item) : item === value;\n            }\n        }\n        catch (e) {\n            _display__WEBPACK_IMPORTED_MODULE_2__.display.error(e);\n        }\n        return false;\n    });\n}\n//# sourceMappingURL=matchOption.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvbWF0Y2hPcHRpb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBK0M7QUFDWDtBQUNRO0FBQ3JDO0FBQ1AsbUJBQW1CLHlEQUFPO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLDREQUFVO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBLFlBQVksNkNBQU87QUFDbkI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFyY2FzdGVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLWNvcmUvZXNtL3Rvb2xzL21hdGNoT3B0aW9uLmpzPzdlMjUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc3RhcnRzV2l0aCB9IGZyb20gJy4vdXRpbHMvcG9seWZpbGxzJztcbmltcG9ydCB7IGRpc3BsYXkgfSBmcm9tICcuL2Rpc3BsYXknO1xuaW1wb3J0IHsgZ2V0VHlwZSB9IGZyb20gJy4vdXRpbHMvdHlwZVV0aWxzJztcbmV4cG9ydCBmdW5jdGlvbiBpc01hdGNoT3B0aW9uKGl0ZW0pIHtcbiAgICB2YXIgaXRlbVR5cGUgPSBnZXRUeXBlKGl0ZW0pO1xuICAgIHJldHVybiBpdGVtVHlwZSA9PT0gJ3N0cmluZycgfHwgaXRlbVR5cGUgPT09ICdmdW5jdGlvbicgfHwgaXRlbSBpbnN0YW5jZW9mIFJlZ0V4cDtcbn1cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHZhbHVlIGNhbiBiZSBtYXRjaGVkIGJ5IGF0IGxlYXN0IG9uZSBvZiB0aGUgcHJvdmlkZWQgTWF0Y2hPcHRpb25zLlxuICogV2hlbiBjb21wYXJpbmcgc3RyaW5ncywgc2V0dGluZyB1c2VTdGFydHNXaXRoIHRvIHRydWUgd2lsbCBjb21wYXJlIHRoZSB2YWx1ZSB3aXRoIHRoZSBzdGFydCBvZlxuICogdGhlIG9wdGlvbiwgaW5zdGVhZCBvZiByZXF1aXJpbmcgYW4gZXhhY3QgbWF0Y2guXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtYXRjaExpc3QobGlzdCwgdmFsdWUsIHVzZVN0YXJ0c1dpdGgpIHtcbiAgICBpZiAodXNlU3RhcnRzV2l0aCA9PT0gdm9pZCAwKSB7IHVzZVN0YXJ0c1dpdGggPSBmYWxzZTsgfVxuICAgIHJldHVybiBsaXN0LnNvbWUoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgaXRlbSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIHJldHVybiBpdGVtKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGl0ZW0gaW5zdGFuY2VvZiBSZWdFeHApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS50ZXN0KHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBpdGVtID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHJldHVybiB1c2VTdGFydHNXaXRoID8gc3RhcnRzV2l0aCh2YWx1ZSwgaXRlbSkgOiBpdGVtID09PSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgZGlzcGxheS5lcnJvcihlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXRjaE9wdGlvbi5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-core/esm/tools/matchOption.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-core/esm/tools/mergeInto.js":
/*!***********************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/tools/mergeInto.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   combine: () => (/* binding */ combine),\n/* harmony export */   deepClone: () => (/* binding */ deepClone),\n/* harmony export */   mergeInto: () => (/* binding */ mergeInto)\n/* harmony export */ });\n/* harmony import */ var _utils_typeUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/typeUtils */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/typeUtils.js\");\n\n/**\n * Iterate over source and affect its sub values into destination, recursively.\n * If the source and destination can't be merged, return source.\n */\nfunction mergeInto(destination, source, circularReferenceChecker) {\n    if (circularReferenceChecker === void 0) { circularReferenceChecker = createCircularReferenceChecker(); }\n    // ignore the source if it is undefined\n    if (source === undefined) {\n        return destination;\n    }\n    if (typeof source !== 'object' || source === null) {\n        // primitive values - just return source\n        return source;\n    }\n    else if (source instanceof Date) {\n        return new Date(source.getTime());\n    }\n    else if (source instanceof RegExp) {\n        var flags = source.flags ||\n            // old browsers compatibility\n            [\n                source.global ? 'g' : '',\n                source.ignoreCase ? 'i' : '',\n                source.multiline ? 'm' : '',\n                source.sticky ? 'y' : '',\n                source.unicode ? 'u' : '',\n            ].join('');\n        return new RegExp(source.source, flags);\n    }\n    if (circularReferenceChecker.hasAlreadyBeenSeen(source)) {\n        // remove circular references\n        return undefined;\n    }\n    else if (Array.isArray(source)) {\n        var merged_1 = Array.isArray(destination) ? destination : [];\n        for (var i = 0; i < source.length; ++i) {\n            merged_1[i] = mergeInto(merged_1[i], source[i], circularReferenceChecker);\n        }\n        return merged_1;\n    }\n    var merged = (0,_utils_typeUtils__WEBPACK_IMPORTED_MODULE_0__.getType)(destination) === 'object' ? destination : {};\n    for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n            merged[key] = mergeInto(merged[key], source[key], circularReferenceChecker);\n        }\n    }\n    return merged;\n}\n/**\n * A simplistic implementation of a deep clone algorithm.\n * Caveats:\n * - It doesn't maintain prototype chains - don't use with instances of custom classes.\n * - It doesn't handle Map and Set\n */\nfunction deepClone(value) {\n    return mergeInto(undefined, value);\n}\nfunction combine() {\n    var sources = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        sources[_i] = arguments[_i];\n    }\n    var destination;\n    for (var _a = 0, sources_1 = sources; _a < sources_1.length; _a++) {\n        var source = sources_1[_a];\n        // Ignore any undefined or null sources.\n        if (source === undefined || source === null) {\n            continue;\n        }\n        destination = mergeInto(destination, source);\n    }\n    return destination;\n}\nfunction createCircularReferenceChecker() {\n    if (typeof WeakSet !== 'undefined') {\n        var set_1 = new WeakSet();\n        return {\n            hasAlreadyBeenSeen: function (value) {\n                var has = set_1.has(value);\n                if (!has) {\n                    set_1.add(value);\n                }\n                return has;\n            },\n        };\n    }\n    var array = [];\n    return {\n        hasAlreadyBeenSeen: function (value) {\n            var has = array.indexOf(value) >= 0;\n            if (!has) {\n                array.push(value);\n            }\n            return has;\n        },\n    };\n}\n//# sourceMappingURL=mergeInto.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvbWVyZ2VJbnRvLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBNEM7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLCtDQUErQztBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLG1CQUFtQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQix5REFBTztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQSxxQkFBcUIsdUJBQXVCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyx1QkFBdUI7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFyY2FzdGVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLWNvcmUvZXNtL3Rvb2xzL21lcmdlSW50by5qcz81YzMxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldFR5cGUgfSBmcm9tICcuL3V0aWxzL3R5cGVVdGlscyc7XG4vKipcbiAqIEl0ZXJhdGUgb3ZlciBzb3VyY2UgYW5kIGFmZmVjdCBpdHMgc3ViIHZhbHVlcyBpbnRvIGRlc3RpbmF0aW9uLCByZWN1cnNpdmVseS5cbiAqIElmIHRoZSBzb3VyY2UgYW5kIGRlc3RpbmF0aW9uIGNhbid0IGJlIG1lcmdlZCwgcmV0dXJuIHNvdXJjZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlSW50byhkZXN0aW5hdGlvbiwgc291cmNlLCBjaXJjdWxhclJlZmVyZW5jZUNoZWNrZXIpIHtcbiAgICBpZiAoY2lyY3VsYXJSZWZlcmVuY2VDaGVja2VyID09PSB2b2lkIDApIHsgY2lyY3VsYXJSZWZlcmVuY2VDaGVja2VyID0gY3JlYXRlQ2lyY3VsYXJSZWZlcmVuY2VDaGVja2VyKCk7IH1cbiAgICAvLyBpZ25vcmUgdGhlIHNvdXJjZSBpZiBpdCBpcyB1bmRlZmluZWRcbiAgICBpZiAoc291cmNlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGRlc3RpbmF0aW9uO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHNvdXJjZSAhPT0gJ29iamVjdCcgfHwgc291cmNlID09PSBudWxsKSB7XG4gICAgICAgIC8vIHByaW1pdGl2ZSB2YWx1ZXMgLSBqdXN0IHJldHVybiBzb3VyY2VcbiAgICAgICAgcmV0dXJuIHNvdXJjZTtcbiAgICB9XG4gICAgZWxzZSBpZiAoc291cmNlIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICByZXR1cm4gbmV3IERhdGUoc291cmNlLmdldFRpbWUoKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHNvdXJjZSBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuICAgICAgICB2YXIgZmxhZ3MgPSBzb3VyY2UuZmxhZ3MgfHxcbiAgICAgICAgICAgIC8vIG9sZCBicm93c2VycyBjb21wYXRpYmlsaXR5XG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgc291cmNlLmdsb2JhbCA/ICdnJyA6ICcnLFxuICAgICAgICAgICAgICAgIHNvdXJjZS5pZ25vcmVDYXNlID8gJ2knIDogJycsXG4gICAgICAgICAgICAgICAgc291cmNlLm11bHRpbGluZSA/ICdtJyA6ICcnLFxuICAgICAgICAgICAgICAgIHNvdXJjZS5zdGlja3kgPyAneScgOiAnJyxcbiAgICAgICAgICAgICAgICBzb3VyY2UudW5pY29kZSA/ICd1JyA6ICcnLFxuICAgICAgICAgICAgXS5qb2luKCcnKTtcbiAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoc291cmNlLnNvdXJjZSwgZmxhZ3MpO1xuICAgIH1cbiAgICBpZiAoY2lyY3VsYXJSZWZlcmVuY2VDaGVja2VyLmhhc0FscmVhZHlCZWVuU2Vlbihzb3VyY2UpKSB7XG4gICAgICAgIC8vIHJlbW92ZSBjaXJjdWxhciByZWZlcmVuY2VzXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoc291cmNlKSkge1xuICAgICAgICB2YXIgbWVyZ2VkXzEgPSBBcnJheS5pc0FycmF5KGRlc3RpbmF0aW9uKSA/IGRlc3RpbmF0aW9uIDogW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc291cmNlLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBtZXJnZWRfMVtpXSA9IG1lcmdlSW50byhtZXJnZWRfMVtpXSwgc291cmNlW2ldLCBjaXJjdWxhclJlZmVyZW5jZUNoZWNrZXIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXJnZWRfMTtcbiAgICB9XG4gICAgdmFyIG1lcmdlZCA9IGdldFR5cGUoZGVzdGluYXRpb24pID09PSAnb2JqZWN0JyA/IGRlc3RpbmF0aW9uIDoge307XG4gICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgICAgbWVyZ2VkW2tleV0gPSBtZXJnZUludG8obWVyZ2VkW2tleV0sIHNvdXJjZVtrZXldLCBjaXJjdWxhclJlZmVyZW5jZUNoZWNrZXIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXJnZWQ7XG59XG4vKipcbiAqIEEgc2ltcGxpc3RpYyBpbXBsZW1lbnRhdGlvbiBvZiBhIGRlZXAgY2xvbmUgYWxnb3JpdGhtLlxuICogQ2F2ZWF0czpcbiAqIC0gSXQgZG9lc24ndCBtYWludGFpbiBwcm90b3R5cGUgY2hhaW5zIC0gZG9uJ3QgdXNlIHdpdGggaW5zdGFuY2VzIG9mIGN1c3RvbSBjbGFzc2VzLlxuICogLSBJdCBkb2Vzbid0IGhhbmRsZSBNYXAgYW5kIFNldFxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVlcENsb25lKHZhbHVlKSB7XG4gICAgcmV0dXJuIG1lcmdlSW50byh1bmRlZmluZWQsIHZhbHVlKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjb21iaW5lKCkge1xuICAgIHZhciBzb3VyY2VzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgc291cmNlc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICB2YXIgZGVzdGluYXRpb247XG4gICAgZm9yICh2YXIgX2EgPSAwLCBzb3VyY2VzXzEgPSBzb3VyY2VzOyBfYSA8IHNvdXJjZXNfMS5sZW5ndGg7IF9hKyspIHtcbiAgICAgICAgdmFyIHNvdXJjZSA9IHNvdXJjZXNfMVtfYV07XG4gICAgICAgIC8vIElnbm9yZSBhbnkgdW5kZWZpbmVkIG9yIG51bGwgc291cmNlcy5cbiAgICAgICAgaWYgKHNvdXJjZSA9PT0gdW5kZWZpbmVkIHx8IHNvdXJjZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgZGVzdGluYXRpb24gPSBtZXJnZUludG8oZGVzdGluYXRpb24sIHNvdXJjZSk7XG4gICAgfVxuICAgIHJldHVybiBkZXN0aW5hdGlvbjtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUNpcmN1bGFyUmVmZXJlbmNlQ2hlY2tlcigpIHtcbiAgICBpZiAodHlwZW9mIFdlYWtTZXQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHZhciBzZXRfMSA9IG5ldyBXZWFrU2V0KCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBoYXNBbHJlYWR5QmVlblNlZW46IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHZhciBoYXMgPSBzZXRfMS5oYXModmFsdWUpO1xuICAgICAgICAgICAgICAgIGlmICghaGFzKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldF8xLmFkZCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBoYXM7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cbiAgICB2YXIgYXJyYXkgPSBbXTtcbiAgICByZXR1cm4ge1xuICAgICAgICBoYXNBbHJlYWR5QmVlblNlZW46IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIGhhcyA9IGFycmF5LmluZGV4T2YodmFsdWUpID49IDA7XG4gICAgICAgICAgICBpZiAoIWhhcykge1xuICAgICAgICAgICAgICAgIGFycmF5LnB1c2godmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGhhcztcbiAgICAgICAgfSxcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWVyZ2VJbnRvLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-core/esm/tools/mergeInto.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-core/esm/tools/monitor.js":
/*!*********************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/tools/monitor.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   callMonitored: () => (/* binding */ callMonitored),\n/* harmony export */   displayIfDebugEnabled: () => (/* binding */ displayIfDebugEnabled),\n/* harmony export */   monitor: () => (/* binding */ monitor),\n/* harmony export */   monitored: () => (/* binding */ monitored),\n/* harmony export */   resetMonitor: () => (/* binding */ resetMonitor),\n/* harmony export */   setDebugMode: () => (/* binding */ setDebugMode),\n/* harmony export */   startMonitorErrorCollection: () => (/* binding */ startMonitorErrorCollection)\n/* harmony export */ });\n/* harmony import */ var _display__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./display */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/display.js\");\nvar __spreadArray = (undefined && undefined.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\n\nvar onMonitorErrorCollected;\nvar debugMode = false;\nfunction startMonitorErrorCollection(newOnMonitorErrorCollected) {\n    onMonitorErrorCollected = newOnMonitorErrorCollected;\n}\nfunction setDebugMode(newDebugMode) {\n    debugMode = newDebugMode;\n}\nfunction resetMonitor() {\n    onMonitorErrorCollected = undefined;\n    debugMode = false;\n}\nfunction monitored(_, __, descriptor) {\n    var originalMethod = descriptor.value;\n    descriptor.value = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var decorated = onMonitorErrorCollected ? monitor(originalMethod) : originalMethod;\n        return decorated.apply(this, args);\n    };\n}\nfunction monitor(fn) {\n    return function () {\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-return\n        return callMonitored(fn, this, arguments);\n    }; // consider output type has input type\n}\nfunction callMonitored(fn, context, args) {\n    try {\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-return\n        return fn.apply(context, args);\n    }\n    catch (e) {\n        displayIfDebugEnabled(_display__WEBPACK_IMPORTED_MODULE_0__.ConsoleApiName.error, e);\n        if (onMonitorErrorCollected) {\n            try {\n                onMonitorErrorCollected(e);\n            }\n            catch (e) {\n                displayIfDebugEnabled(_display__WEBPACK_IMPORTED_MODULE_0__.ConsoleApiName.error, e);\n            }\n        }\n    }\n}\nfunction displayIfDebugEnabled(api) {\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n    }\n    if (debugMode) {\n        _display__WEBPACK_IMPORTED_MODULE_0__.display.apply(void 0, __spreadArray([api, '[MONITOR]'], args, false));\n    }\n}\n//# sourceMappingURL=monitor.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvbW9uaXRvci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBLHFCQUFxQixTQUFJLElBQUksU0FBSTtBQUNqQyw2RUFBNkUsT0FBTztBQUNwRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNvRDtBQUNwRDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBLHlCQUF5Qix1QkFBdUI7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsb0RBQWM7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxvREFBYztBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSxxQkFBcUIsdUJBQXVCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBLFFBQVEsNkNBQU87QUFDZjtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYXJjYXN0ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvbW9uaXRvci5qcz9lNjhmIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBfX3NwcmVhZEFycmF5ID0gKHRoaXMgJiYgdGhpcy5fX3NwcmVhZEFycmF5KSB8fCBmdW5jdGlvbiAodG8sIGZyb20sIHBhY2spIHtcbiAgICBpZiAocGFjayB8fCBhcmd1bWVudHMubGVuZ3RoID09PSAyKSBmb3IgKHZhciBpID0gMCwgbCA9IGZyb20ubGVuZ3RoLCBhcjsgaSA8IGw7IGkrKykge1xuICAgICAgICBpZiAoYXIgfHwgIShpIGluIGZyb20pKSB7XG4gICAgICAgICAgICBpZiAoIWFyKSBhciA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20sIDAsIGkpO1xuICAgICAgICAgICAgYXJbaV0gPSBmcm9tW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0by5jb25jYXQoYXIgfHwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSkpO1xufTtcbmltcG9ydCB7IENvbnNvbGVBcGlOYW1lLCBkaXNwbGF5IH0gZnJvbSAnLi9kaXNwbGF5JztcbnZhciBvbk1vbml0b3JFcnJvckNvbGxlY3RlZDtcbnZhciBkZWJ1Z01vZGUgPSBmYWxzZTtcbmV4cG9ydCBmdW5jdGlvbiBzdGFydE1vbml0b3JFcnJvckNvbGxlY3Rpb24obmV3T25Nb25pdG9yRXJyb3JDb2xsZWN0ZWQpIHtcbiAgICBvbk1vbml0b3JFcnJvckNvbGxlY3RlZCA9IG5ld09uTW9uaXRvckVycm9yQ29sbGVjdGVkO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNldERlYnVnTW9kZShuZXdEZWJ1Z01vZGUpIHtcbiAgICBkZWJ1Z01vZGUgPSBuZXdEZWJ1Z01vZGU7XG59XG5leHBvcnQgZnVuY3Rpb24gcmVzZXRNb25pdG9yKCkge1xuICAgIG9uTW9uaXRvckVycm9yQ29sbGVjdGVkID0gdW5kZWZpbmVkO1xuICAgIGRlYnVnTW9kZSA9IGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG1vbml0b3JlZChfLCBfXywgZGVzY3JpcHRvcikge1xuICAgIHZhciBvcmlnaW5hbE1ldGhvZCA9IGRlc2NyaXB0b3IudmFsdWU7XG4gICAgZGVzY3JpcHRvci52YWx1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZGVjb3JhdGVkID0gb25Nb25pdG9yRXJyb3JDb2xsZWN0ZWQgPyBtb25pdG9yKG9yaWdpbmFsTWV0aG9kKSA6IG9yaWdpbmFsTWV0aG9kO1xuICAgICAgICByZXR1cm4gZGVjb3JhdGVkLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gbW9uaXRvcihmbikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLXJldHVyblxuICAgICAgICByZXR1cm4gY2FsbE1vbml0b3JlZChmbiwgdGhpcywgYXJndW1lbnRzKTtcbiAgICB9OyAvLyBjb25zaWRlciBvdXRwdXQgdHlwZSBoYXMgaW5wdXQgdHlwZVxufVxuZXhwb3J0IGZ1bmN0aW9uIGNhbGxNb25pdG9yZWQoZm4sIGNvbnRleHQsIGFyZ3MpIHtcbiAgICB0cnkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1yZXR1cm5cbiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICBkaXNwbGF5SWZEZWJ1Z0VuYWJsZWQoQ29uc29sZUFwaU5hbWUuZXJyb3IsIGUpO1xuICAgICAgICBpZiAob25Nb25pdG9yRXJyb3JDb2xsZWN0ZWQpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgb25Nb25pdG9yRXJyb3JDb2xsZWN0ZWQoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGRpc3BsYXlJZkRlYnVnRW5hYmxlZChDb25zb2xlQXBpTmFtZS5lcnJvciwgZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gZGlzcGxheUlmRGVidWdFbmFibGVkKGFwaSkge1xuICAgIHZhciBhcmdzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgYXJnc1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgaWYgKGRlYnVnTW9kZSkge1xuICAgICAgICBkaXNwbGF5LmFwcGx5KHZvaWQgMCwgX19zcHJlYWRBcnJheShbYXBpLCAnW01PTklUT1JdJ10sIGFyZ3MsIGZhbHNlKSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bW9uaXRvci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-core/esm/tools/monitor.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-core/esm/tools/observable.js":
/*!************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/tools/observable.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Observable: () => (/* binding */ Observable),\n/* harmony export */   mergeObservables: () => (/* binding */ mergeObservables)\n/* harmony export */ });\nvar Observable = /** @class */ (function () {\n    function Observable(onFirstSubscribe) {\n        this.onFirstSubscribe = onFirstSubscribe;\n        this.observers = [];\n    }\n    Observable.prototype.subscribe = function (f) {\n        var _this = this;\n        if (!this.observers.length && this.onFirstSubscribe) {\n            this.onLastUnsubscribe = this.onFirstSubscribe() || undefined;\n        }\n        this.observers.push(f);\n        return {\n            unsubscribe: function () {\n                _this.observers = _this.observers.filter(function (other) { return f !== other; });\n                if (!_this.observers.length && _this.onLastUnsubscribe) {\n                    _this.onLastUnsubscribe();\n                }\n            },\n        };\n    };\n    Observable.prototype.notify = function (data) {\n        this.observers.forEach(function (observer) { return observer(data); });\n    };\n    return Observable;\n}());\n\nfunction mergeObservables() {\n    var observables = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        observables[_i] = arguments[_i];\n    }\n    var globalObservable = new Observable(function () {\n        var subscriptions = observables.map(function (observable) {\n            return observable.subscribe(function (data) { return globalObservable.notify(data); });\n        });\n        return function () { return subscriptions.forEach(function (subscription) { return subscription.unsubscribe(); }); };\n    });\n    return globalObservable;\n}\n//# sourceMappingURL=observable.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvb2JzZXJ2YWJsZS5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEVBQTRFLHFCQUFxQjtBQUNqRztBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EscURBQXFELHdCQUF3QjtBQUM3RTtBQUNBO0FBQ0EsQ0FBQztBQUNxQjtBQUNmO0FBQ1A7QUFDQSxxQkFBcUIsdUJBQXVCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMERBQTBELHVDQUF1QztBQUNqRyxTQUFTO0FBQ1QsNkJBQTZCLHVEQUF1RCxvQ0FBb0M7QUFDeEgsS0FBSztBQUNMO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhcmNhc3Rlci8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS90b29scy9vYnNlcnZhYmxlLmpzPzFiMWQiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIE9ic2VydmFibGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gT2JzZXJ2YWJsZShvbkZpcnN0U3Vic2NyaWJlKSB7XG4gICAgICAgIHRoaXMub25GaXJzdFN1YnNjcmliZSA9IG9uRmlyc3RTdWJzY3JpYmU7XG4gICAgICAgIHRoaXMub2JzZXJ2ZXJzID0gW107XG4gICAgfVxuICAgIE9ic2VydmFibGUucHJvdG90eXBlLnN1YnNjcmliZSA9IGZ1bmN0aW9uIChmKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICghdGhpcy5vYnNlcnZlcnMubGVuZ3RoICYmIHRoaXMub25GaXJzdFN1YnNjcmliZSkge1xuICAgICAgICAgICAgdGhpcy5vbkxhc3RVbnN1YnNjcmliZSA9IHRoaXMub25GaXJzdFN1YnNjcmliZSgpIHx8IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm9ic2VydmVycy5wdXNoKGYpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdW5zdWJzY3JpYmU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5vYnNlcnZlcnMgPSBfdGhpcy5vYnNlcnZlcnMuZmlsdGVyKGZ1bmN0aW9uIChvdGhlcikgeyByZXR1cm4gZiAhPT0gb3RoZXI7IH0pO1xuICAgICAgICAgICAgICAgIGlmICghX3RoaXMub2JzZXJ2ZXJzLmxlbmd0aCAmJiBfdGhpcy5vbkxhc3RVbnN1YnNjcmliZSkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5vbkxhc3RVbnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5ub3RpZnkgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB0aGlzLm9ic2VydmVycy5mb3JFYWNoKGZ1bmN0aW9uIChvYnNlcnZlcikgeyByZXR1cm4gb2JzZXJ2ZXIoZGF0YSk7IH0pO1xuICAgIH07XG4gICAgcmV0dXJuIE9ic2VydmFibGU7XG59KCkpO1xuZXhwb3J0IHsgT2JzZXJ2YWJsZSB9O1xuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlT2JzZXJ2YWJsZXMoKSB7XG4gICAgdmFyIG9ic2VydmFibGVzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgb2JzZXJ2YWJsZXNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgdmFyIGdsb2JhbE9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzdWJzY3JpcHRpb25zID0gb2JzZXJ2YWJsZXMubWFwKGZ1bmN0aW9uIChvYnNlcnZhYmxlKSB7XG4gICAgICAgICAgICByZXR1cm4gb2JzZXJ2YWJsZS5zdWJzY3JpYmUoZnVuY3Rpb24gKGRhdGEpIHsgcmV0dXJuIGdsb2JhbE9ic2VydmFibGUubm90aWZ5KGRhdGEpOyB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7IHJldHVybiBzdWJzY3JpcHRpb25zLmZvckVhY2goZnVuY3Rpb24gKHN1YnNjcmlwdGlvbikgeyByZXR1cm4gc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7IH0pOyB9O1xuICAgIH0pO1xuICAgIHJldHVybiBnbG9iYWxPYnNlcnZhYmxlO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b2JzZXJ2YWJsZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-core/esm/tools/observable.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-core/esm/tools/readBytesFromStream.js":
/*!*********************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/tools/readBytesFromStream.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   readBytesFromStream: () => (/* binding */ readBytesFromStream)\n/* harmony export */ });\n/* harmony import */ var _monitor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./monitor */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/monitor.js\");\n/* harmony import */ var _utils_functionUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/functionUtils */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/functionUtils.js\");\n\n\n/**\n * Read bytes from a ReadableStream until at least `limit` bytes have been read (or until the end of\n * the stream). The callback is invoked with the at most `limit` bytes, and indicates that the limit\n * has been exceeded if more bytes were available.\n */\nfunction readBytesFromStream(stream, callback, options) {\n    var reader = stream.getReader();\n    var chunks = [];\n    var readBytesCount = 0;\n    readMore();\n    function readMore() {\n        reader.read().then((0,_monitor__WEBPACK_IMPORTED_MODULE_0__.monitor)(function (result) {\n            if (result.done) {\n                onDone();\n                return;\n            }\n            if (options.collectStreamBody) {\n                chunks.push(result.value);\n            }\n            readBytesCount += result.value.length;\n            if (readBytesCount > options.bytesLimit) {\n                onDone();\n            }\n            else {\n                readMore();\n            }\n        }), (0,_monitor__WEBPACK_IMPORTED_MODULE_0__.monitor)(function (error) { return callback(error); }));\n    }\n    function onDone() {\n        reader.cancel().catch(\n        // we don't care if cancel fails, but we still need to catch the error to avoid reporting it\n        // as an unhandled rejection\n        _utils_functionUtils__WEBPACK_IMPORTED_MODULE_1__.noop);\n        var bytes;\n        var limitExceeded;\n        if (options.collectStreamBody) {\n            var completeBuffer_1;\n            if (chunks.length === 1) {\n                // optimization: if the response is small enough to fit in a single buffer (provided by the browser), just\n                // use it directly.\n                completeBuffer_1 = chunks[0];\n            }\n            else {\n                // else, we need to copy buffers into a larger buffer to concatenate them.\n                completeBuffer_1 = new Uint8Array(readBytesCount);\n                var offset_1 = 0;\n                chunks.forEach(function (chunk) {\n                    completeBuffer_1.set(chunk, offset_1);\n                    offset_1 += chunk.length;\n                });\n            }\n            bytes = completeBuffer_1.slice(0, options.bytesLimit);\n            limitExceeded = completeBuffer_1.length > options.bytesLimit;\n        }\n        callback(undefined, bytes, limitExceeded);\n    }\n}\n//# sourceMappingURL=readBytesFromStream.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvcmVhZEJ5dGVzRnJvbVN0cmVhbS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBb0M7QUFDUztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLGlEQUFPO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLEdBQUcsaURBQU8sb0JBQW9CLHlCQUF5QjtBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxzREFBSTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYXJjYXN0ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvcmVhZEJ5dGVzRnJvbVN0cmVhbS5qcz83NzAxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IG1vbml0b3IgfSBmcm9tICcuL21vbml0b3InO1xuaW1wb3J0IHsgbm9vcCB9IGZyb20gJy4vdXRpbHMvZnVuY3Rpb25VdGlscyc7XG4vKipcbiAqIFJlYWQgYnl0ZXMgZnJvbSBhIFJlYWRhYmxlU3RyZWFtIHVudGlsIGF0IGxlYXN0IGBsaW1pdGAgYnl0ZXMgaGF2ZSBiZWVuIHJlYWQgKG9yIHVudGlsIHRoZSBlbmQgb2ZcbiAqIHRoZSBzdHJlYW0pLiBUaGUgY2FsbGJhY2sgaXMgaW52b2tlZCB3aXRoIHRoZSBhdCBtb3N0IGBsaW1pdGAgYnl0ZXMsIGFuZCBpbmRpY2F0ZXMgdGhhdCB0aGUgbGltaXRcbiAqIGhhcyBiZWVuIGV4Y2VlZGVkIGlmIG1vcmUgYnl0ZXMgd2VyZSBhdmFpbGFibGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWFkQnl0ZXNGcm9tU3RyZWFtKHN0cmVhbSwgY2FsbGJhY2ssIG9wdGlvbnMpIHtcbiAgICB2YXIgcmVhZGVyID0gc3RyZWFtLmdldFJlYWRlcigpO1xuICAgIHZhciBjaHVua3MgPSBbXTtcbiAgICB2YXIgcmVhZEJ5dGVzQ291bnQgPSAwO1xuICAgIHJlYWRNb3JlKCk7XG4gICAgZnVuY3Rpb24gcmVhZE1vcmUoKSB7XG4gICAgICAgIHJlYWRlci5yZWFkKCkudGhlbihtb25pdG9yKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgIGlmIChyZXN1bHQuZG9uZSkge1xuICAgICAgICAgICAgICAgIG9uRG9uZSgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHRpb25zLmNvbGxlY3RTdHJlYW1Cb2R5KSB7XG4gICAgICAgICAgICAgICAgY2h1bmtzLnB1c2gocmVzdWx0LnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRCeXRlc0NvdW50ICs9IHJlc3VsdC52YWx1ZS5sZW5ndGg7XG4gICAgICAgICAgICBpZiAocmVhZEJ5dGVzQ291bnQgPiBvcHRpb25zLmJ5dGVzTGltaXQpIHtcbiAgICAgICAgICAgICAgICBvbkRvbmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlYWRNb3JlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLCBtb25pdG9yKGZ1bmN0aW9uIChlcnJvcikgeyByZXR1cm4gY2FsbGJhY2soZXJyb3IpOyB9KSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG9uRG9uZSgpIHtcbiAgICAgICAgcmVhZGVyLmNhbmNlbCgpLmNhdGNoKFxuICAgICAgICAvLyB3ZSBkb24ndCBjYXJlIGlmIGNhbmNlbCBmYWlscywgYnV0IHdlIHN0aWxsIG5lZWQgdG8gY2F0Y2ggdGhlIGVycm9yIHRvIGF2b2lkIHJlcG9ydGluZyBpdFxuICAgICAgICAvLyBhcyBhbiB1bmhhbmRsZWQgcmVqZWN0aW9uXG4gICAgICAgIG5vb3ApO1xuICAgICAgICB2YXIgYnl0ZXM7XG4gICAgICAgIHZhciBsaW1pdEV4Y2VlZGVkO1xuICAgICAgICBpZiAob3B0aW9ucy5jb2xsZWN0U3RyZWFtQm9keSkge1xuICAgICAgICAgICAgdmFyIGNvbXBsZXRlQnVmZmVyXzE7XG4gICAgICAgICAgICBpZiAoY2h1bmtzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgIC8vIG9wdGltaXphdGlvbjogaWYgdGhlIHJlc3BvbnNlIGlzIHNtYWxsIGVub3VnaCB0byBmaXQgaW4gYSBzaW5nbGUgYnVmZmVyIChwcm92aWRlZCBieSB0aGUgYnJvd3NlciksIGp1c3RcbiAgICAgICAgICAgICAgICAvLyB1c2UgaXQgZGlyZWN0bHkuXG4gICAgICAgICAgICAgICAgY29tcGxldGVCdWZmZXJfMSA9IGNodW5rc1swXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGVsc2UsIHdlIG5lZWQgdG8gY29weSBidWZmZXJzIGludG8gYSBsYXJnZXIgYnVmZmVyIHRvIGNvbmNhdGVuYXRlIHRoZW0uXG4gICAgICAgICAgICAgICAgY29tcGxldGVCdWZmZXJfMSA9IG5ldyBVaW50OEFycmF5KHJlYWRCeXRlc0NvdW50KTtcbiAgICAgICAgICAgICAgICB2YXIgb2Zmc2V0XzEgPSAwO1xuICAgICAgICAgICAgICAgIGNodW5rcy5mb3JFYWNoKGZ1bmN0aW9uIChjaHVuaykge1xuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZUJ1ZmZlcl8xLnNldChjaHVuaywgb2Zmc2V0XzEpO1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXRfMSArPSBjaHVuay5sZW5ndGg7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBieXRlcyA9IGNvbXBsZXRlQnVmZmVyXzEuc2xpY2UoMCwgb3B0aW9ucy5ieXRlc0xpbWl0KTtcbiAgICAgICAgICAgIGxpbWl0RXhjZWVkZWQgPSBjb21wbGV0ZUJ1ZmZlcl8xLmxlbmd0aCA+IG9wdGlvbnMuYnl0ZXNMaW1pdDtcbiAgICAgICAgfVxuICAgICAgICBjYWxsYmFjayh1bmRlZmluZWQsIGJ5dGVzLCBsaW1pdEV4Y2VlZGVkKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZWFkQnl0ZXNGcm9tU3RyZWFtLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-core/esm/tools/readBytesFromStream.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-core/esm/tools/sendToExtension.js":
/*!*****************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/tools/sendToExtension.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   sendToExtension: () => (/* binding */ sendToExtension)\n/* harmony export */ });\nfunction sendToExtension(type, payload) {\n    var callback = window.__ddBrowserSdkExtensionCallback;\n    if (callback) {\n        callback({ type: type, payload: payload });\n    }\n}\n//# sourceMappingURL=sendToExtension.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvc2VuZFRvRXh0ZW5zaW9uLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBTztBQUNQO0FBQ0E7QUFDQSxtQkFBbUIsOEJBQThCO0FBQ2pEO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhcmNhc3Rlci8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS90b29scy9zZW5kVG9FeHRlbnNpb24uanM/MDEyZSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gc2VuZFRvRXh0ZW5zaW9uKHR5cGUsIHBheWxvYWQpIHtcbiAgICB2YXIgY2FsbGJhY2sgPSB3aW5kb3cuX19kZEJyb3dzZXJTZGtFeHRlbnNpb25DYWxsYmFjaztcbiAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgY2FsbGJhY2soeyB0eXBlOiB0eXBlLCBwYXlsb2FkOiBwYXlsb2FkIH0pO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNlbmRUb0V4dGVuc2lvbi5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-core/esm/tools/sendToExtension.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-core/esm/tools/serialisation/contextManager.js":
/*!******************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/tools/serialisation/contextManager.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BYTES_COMPUTATION_THROTTLING_DELAY: () => (/* binding */ BYTES_COMPUTATION_THROTTLING_DELAY),\n/* harmony export */   createContextManager: () => (/* binding */ createContextManager)\n/* harmony export */ });\n/* harmony import */ var _utils_byteUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/byteUtils */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/byteUtils.js\");\n/* harmony import */ var _utils_functionUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/functionUtils */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/functionUtils.js\");\n/* harmony import */ var _mergeInto__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../mergeInto */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/mergeInto.js\");\n/* harmony import */ var _jsonStringify__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./jsonStringify */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/serialisation/jsonStringify.js\");\n/* harmony import */ var _sanitize__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./sanitize */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/serialisation/sanitize.js\");\n/* harmony import */ var _heavyCustomerDataWarning__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./heavyCustomerDataWarning */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/serialisation/heavyCustomerDataWarning.js\");\n\n\n\n\n\n\nvar BYTES_COMPUTATION_THROTTLING_DELAY = 200;\nfunction createContextManager(customerDataType, computeBytesCountImpl) {\n    if (computeBytesCountImpl === void 0) { computeBytesCountImpl = _utils_byteUtils__WEBPACK_IMPORTED_MODULE_0__.computeBytesCount; }\n    var context = {};\n    var bytesCountCache;\n    var alreadyWarned = false;\n    // Throttle the bytes computation to minimize the impact on performance.\n    // Especially useful if the user call context APIs synchronously multiple times in a row\n    var computeBytesCountThrottled = (0,_utils_functionUtils__WEBPACK_IMPORTED_MODULE_1__.throttle)(function (context) {\n        bytesCountCache = computeBytesCountImpl((0,_jsonStringify__WEBPACK_IMPORTED_MODULE_2__.jsonStringify)(context));\n        if (!alreadyWarned) {\n            alreadyWarned = (0,_heavyCustomerDataWarning__WEBPACK_IMPORTED_MODULE_3__.warnIfCustomerDataLimitReached)(bytesCountCache, customerDataType);\n        }\n    }, BYTES_COMPUTATION_THROTTLING_DELAY).throttled;\n    return {\n        getBytesCount: function () { return bytesCountCache; },\n        /** @deprecated use getContext instead */\n        get: function () { return context; },\n        /** @deprecated use setContextProperty instead */\n        add: function (key, value) {\n            context[key] = value;\n            computeBytesCountThrottled(context);\n        },\n        /** @deprecated renamed to removeContextProperty */\n        remove: function (key) {\n            delete context[key];\n            computeBytesCountThrottled(context);\n        },\n        /** @deprecated use setContext instead */\n        set: function (newContext) {\n            context = newContext;\n            computeBytesCountThrottled(context);\n        },\n        getContext: function () { return (0,_mergeInto__WEBPACK_IMPORTED_MODULE_4__.deepClone)(context); },\n        setContext: function (newContext) {\n            context = (0,_sanitize__WEBPACK_IMPORTED_MODULE_5__.sanitize)(newContext);\n            computeBytesCountThrottled(context);\n        },\n        setContextProperty: function (key, property) {\n            context[key] = (0,_sanitize__WEBPACK_IMPORTED_MODULE_5__.sanitize)(property);\n            computeBytesCountThrottled(context);\n        },\n        removeContextProperty: function (key) {\n            delete context[key];\n            computeBytesCountThrottled(context);\n        },\n        clearContext: function () {\n            context = {};\n            bytesCountCache = 0;\n        },\n    };\n}\n//# sourceMappingURL=contextManager.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvc2VyaWFsaXNhdGlvbi9jb250ZXh0TWFuYWdlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUF1RDtBQUNMO0FBQ1Q7QUFDTztBQUNWO0FBQ3NDO0FBQ3JFO0FBQ0E7QUFDUCw0Q0FBNEMsd0JBQXdCLCtEQUFpQjtBQUNyRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLDhEQUFRO0FBQzdDLGdEQUFnRCw2REFBYTtBQUM3RDtBQUNBLDRCQUE0Qix5RkFBOEI7QUFDMUQ7QUFDQSxLQUFLO0FBQ0w7QUFDQSxxQ0FBcUMseUJBQXlCO0FBQzlEO0FBQ0EsMkJBQTJCLGlCQUFpQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxrQ0FBa0MsT0FBTyxxREFBUyxZQUFZO0FBQzlEO0FBQ0Esc0JBQXNCLG1EQUFRO0FBQzlCO0FBQ0EsU0FBUztBQUNUO0FBQ0EsMkJBQTJCLG1EQUFRO0FBQ25DO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFyY2FzdGVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLWNvcmUvZXNtL3Rvb2xzL3NlcmlhbGlzYXRpb24vY29udGV4dE1hbmFnZXIuanM/ZjU1YSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjb21wdXRlQnl0ZXNDb3VudCB9IGZyb20gJy4uL3V0aWxzL2J5dGVVdGlscyc7XG5pbXBvcnQgeyB0aHJvdHRsZSB9IGZyb20gJy4uL3V0aWxzL2Z1bmN0aW9uVXRpbHMnO1xuaW1wb3J0IHsgZGVlcENsb25lIH0gZnJvbSAnLi4vbWVyZ2VJbnRvJztcbmltcG9ydCB7IGpzb25TdHJpbmdpZnkgfSBmcm9tICcuL2pzb25TdHJpbmdpZnknO1xuaW1wb3J0IHsgc2FuaXRpemUgfSBmcm9tICcuL3Nhbml0aXplJztcbmltcG9ydCB7IHdhcm5JZkN1c3RvbWVyRGF0YUxpbWl0UmVhY2hlZCB9IGZyb20gJy4vaGVhdnlDdXN0b21lckRhdGFXYXJuaW5nJztcbmV4cG9ydCB2YXIgQllURVNfQ09NUFVUQVRJT05fVEhST1RUTElOR19ERUxBWSA9IDIwMDtcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDb250ZXh0TWFuYWdlcihjdXN0b21lckRhdGFUeXBlLCBjb21wdXRlQnl0ZXNDb3VudEltcGwpIHtcbiAgICBpZiAoY29tcHV0ZUJ5dGVzQ291bnRJbXBsID09PSB2b2lkIDApIHsgY29tcHV0ZUJ5dGVzQ291bnRJbXBsID0gY29tcHV0ZUJ5dGVzQ291bnQ7IH1cbiAgICB2YXIgY29udGV4dCA9IHt9O1xuICAgIHZhciBieXRlc0NvdW50Q2FjaGU7XG4gICAgdmFyIGFscmVhZHlXYXJuZWQgPSBmYWxzZTtcbiAgICAvLyBUaHJvdHRsZSB0aGUgYnl0ZXMgY29tcHV0YXRpb24gdG8gbWluaW1pemUgdGhlIGltcGFjdCBvbiBwZXJmb3JtYW5jZS5cbiAgICAvLyBFc3BlY2lhbGx5IHVzZWZ1bCBpZiB0aGUgdXNlciBjYWxsIGNvbnRleHQgQVBJcyBzeW5jaHJvbm91c2x5IG11bHRpcGxlIHRpbWVzIGluIGEgcm93XG4gICAgdmFyIGNvbXB1dGVCeXRlc0NvdW50VGhyb3R0bGVkID0gdGhyb3R0bGUoZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgICAgYnl0ZXNDb3VudENhY2hlID0gY29tcHV0ZUJ5dGVzQ291bnRJbXBsKGpzb25TdHJpbmdpZnkoY29udGV4dCkpO1xuICAgICAgICBpZiAoIWFscmVhZHlXYXJuZWQpIHtcbiAgICAgICAgICAgIGFscmVhZHlXYXJuZWQgPSB3YXJuSWZDdXN0b21lckRhdGFMaW1pdFJlYWNoZWQoYnl0ZXNDb3VudENhY2hlLCBjdXN0b21lckRhdGFUeXBlKTtcbiAgICAgICAgfVxuICAgIH0sIEJZVEVTX0NPTVBVVEFUSU9OX1RIUk9UVExJTkdfREVMQVkpLnRocm90dGxlZDtcbiAgICByZXR1cm4ge1xuICAgICAgICBnZXRCeXRlc0NvdW50OiBmdW5jdGlvbiAoKSB7IHJldHVybiBieXRlc0NvdW50Q2FjaGU7IH0sXG4gICAgICAgIC8qKiBAZGVwcmVjYXRlZCB1c2UgZ2V0Q29udGV4dCBpbnN0ZWFkICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gY29udGV4dDsgfSxcbiAgICAgICAgLyoqIEBkZXByZWNhdGVkIHVzZSBzZXRDb250ZXh0UHJvcGVydHkgaW5zdGVhZCAqL1xuICAgICAgICBhZGQ6IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICBjb250ZXh0W2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIGNvbXB1dGVCeXRlc0NvdW50VGhyb3R0bGVkKGNvbnRleHQpO1xuICAgICAgICB9LFxuICAgICAgICAvKiogQGRlcHJlY2F0ZWQgcmVuYW1lZCB0byByZW1vdmVDb250ZXh0UHJvcGVydHkgKi9cbiAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICBkZWxldGUgY29udGV4dFtrZXldO1xuICAgICAgICAgICAgY29tcHV0ZUJ5dGVzQ291bnRUaHJvdHRsZWQoY29udGV4dCk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKiBAZGVwcmVjYXRlZCB1c2Ugc2V0Q29udGV4dCBpbnN0ZWFkICovXG4gICAgICAgIHNldDogZnVuY3Rpb24gKG5ld0NvbnRleHQpIHtcbiAgICAgICAgICAgIGNvbnRleHQgPSBuZXdDb250ZXh0O1xuICAgICAgICAgICAgY29tcHV0ZUJ5dGVzQ291bnRUaHJvdHRsZWQoY29udGV4dCk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldENvbnRleHQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRlZXBDbG9uZShjb250ZXh0KTsgfSxcbiAgICAgICAgc2V0Q29udGV4dDogZnVuY3Rpb24gKG5ld0NvbnRleHQpIHtcbiAgICAgICAgICAgIGNvbnRleHQgPSBzYW5pdGl6ZShuZXdDb250ZXh0KTtcbiAgICAgICAgICAgIGNvbXB1dGVCeXRlc0NvdW50VGhyb3R0bGVkKGNvbnRleHQpO1xuICAgICAgICB9LFxuICAgICAgICBzZXRDb250ZXh0UHJvcGVydHk6IGZ1bmN0aW9uIChrZXksIHByb3BlcnR5KSB7XG4gICAgICAgICAgICBjb250ZXh0W2tleV0gPSBzYW5pdGl6ZShwcm9wZXJ0eSk7XG4gICAgICAgICAgICBjb21wdXRlQnl0ZXNDb3VudFRocm90dGxlZChjb250ZXh0KTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVtb3ZlQ29udGV4dFByb3BlcnR5OiBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICBkZWxldGUgY29udGV4dFtrZXldO1xuICAgICAgICAgICAgY29tcHV0ZUJ5dGVzQ291bnRUaHJvdHRsZWQoY29udGV4dCk7XG4gICAgICAgIH0sXG4gICAgICAgIGNsZWFyQ29udGV4dDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY29udGV4dCA9IHt9O1xuICAgICAgICAgICAgYnl0ZXNDb3VudENhY2hlID0gMDtcbiAgICAgICAgfSxcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29udGV4dE1hbmFnZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-core/esm/tools/serialisation/contextManager.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-core/esm/tools/serialisation/heavyCustomerDataWarning.js":
/*!****************************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/tools/serialisation/heavyCustomerDataWarning.js ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CUSTOMER_DATA_BYTES_LIMIT: () => (/* binding */ CUSTOMER_DATA_BYTES_LIMIT),\n/* harmony export */   warnIfCustomerDataLimitReached: () => (/* binding */ warnIfCustomerDataLimitReached)\n/* harmony export */ });\n/* harmony import */ var _utils_byteUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/byteUtils */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/byteUtils.js\");\n/* harmony import */ var _display__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../display */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/display.js\");\n\n\n// RUM and logs batch bytes limit is 16KB\n// ensure that we leave room for other event attributes and maintain a decent amount of event per batch\n// (3KB (customer data) + 1KB (other attributes)) * 4 (events per batch) = 16KB\nvar CUSTOMER_DATA_BYTES_LIMIT = 3 * _utils_byteUtils__WEBPACK_IMPORTED_MODULE_0__.ONE_KIBI_BYTE;\nfunction warnIfCustomerDataLimitReached(bytesCount, customerDataType) {\n    if (bytesCount > CUSTOMER_DATA_BYTES_LIMIT) {\n        _display__WEBPACK_IMPORTED_MODULE_1__.display.warn(\"The \".concat(customerDataType, \" data is over \").concat(CUSTOMER_DATA_BYTES_LIMIT / _utils_byteUtils__WEBPACK_IMPORTED_MODULE_0__.ONE_KIBI_BYTE, \"KiB. On low connectivity, the SDK has the potential to exhaust the user's upload bandwidth.\"));\n        return true;\n    }\n    return false;\n}\n//# sourceMappingURL=heavyCustomerDataWarning.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvc2VyaWFsaXNhdGlvbi9oZWF2eUN1c3RvbWVyRGF0YVdhcm5pbmcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFtRDtBQUNkO0FBQ3JDO0FBQ0E7QUFDQTtBQUNPLG9DQUFvQywyREFBYTtBQUNqRDtBQUNQO0FBQ0EsUUFBUSw2Q0FBTywyRkFBMkYsMkRBQWE7QUFDdkg7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhcmNhc3Rlci8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS90b29scy9zZXJpYWxpc2F0aW9uL2hlYXZ5Q3VzdG9tZXJEYXRhV2FybmluZy5qcz9jNTE4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE9ORV9LSUJJX0JZVEUgfSBmcm9tICcuLi91dGlscy9ieXRlVXRpbHMnO1xuaW1wb3J0IHsgZGlzcGxheSB9IGZyb20gJy4uL2Rpc3BsYXknO1xuLy8gUlVNIGFuZCBsb2dzIGJhdGNoIGJ5dGVzIGxpbWl0IGlzIDE2S0Jcbi8vIGVuc3VyZSB0aGF0IHdlIGxlYXZlIHJvb20gZm9yIG90aGVyIGV2ZW50IGF0dHJpYnV0ZXMgYW5kIG1haW50YWluIGEgZGVjZW50IGFtb3VudCBvZiBldmVudCBwZXIgYmF0Y2hcbi8vICgzS0IgKGN1c3RvbWVyIGRhdGEpICsgMUtCIChvdGhlciBhdHRyaWJ1dGVzKSkgKiA0IChldmVudHMgcGVyIGJhdGNoKSA9IDE2S0JcbmV4cG9ydCB2YXIgQ1VTVE9NRVJfREFUQV9CWVRFU19MSU1JVCA9IDMgKiBPTkVfS0lCSV9CWVRFO1xuZXhwb3J0IGZ1bmN0aW9uIHdhcm5JZkN1c3RvbWVyRGF0YUxpbWl0UmVhY2hlZChieXRlc0NvdW50LCBjdXN0b21lckRhdGFUeXBlKSB7XG4gICAgaWYgKGJ5dGVzQ291bnQgPiBDVVNUT01FUl9EQVRBX0JZVEVTX0xJTUlUKSB7XG4gICAgICAgIGRpc3BsYXkud2FybihcIlRoZSBcIi5jb25jYXQoY3VzdG9tZXJEYXRhVHlwZSwgXCIgZGF0YSBpcyBvdmVyIFwiKS5jb25jYXQoQ1VTVE9NRVJfREFUQV9CWVRFU19MSU1JVCAvIE9ORV9LSUJJX0JZVEUsIFwiS2lCLiBPbiBsb3cgY29ubmVjdGl2aXR5LCB0aGUgU0RLIGhhcyB0aGUgcG90ZW50aWFsIHRvIGV4aGF1c3QgdGhlIHVzZXIncyB1cGxvYWQgYmFuZHdpZHRoLlwiKSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1oZWF2eUN1c3RvbWVyRGF0YVdhcm5pbmcuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-core/esm/tools/serialisation/heavyCustomerDataWarning.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-core/esm/tools/serialisation/jsonStringify.js":
/*!*****************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/tools/serialisation/jsonStringify.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   detachToJsonMethod: () => (/* binding */ detachToJsonMethod),\n/* harmony export */   jsonStringify: () => (/* binding */ jsonStringify)\n/* harmony export */ });\n/* harmony import */ var _utils_functionUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/functionUtils */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/functionUtils.js\");\n\n/**\n * Custom implementation of JSON.stringify that ignores some toJSON methods. We need to do that\n * because some sites badly override toJSON on certain objects. Removing all toJSON methods from\n * nested values would be too costly, so we just detach them from the root value, and native classes\n * used to build JSON values (Array and Object).\n *\n * Note: this still assumes that JSON.stringify is correct.\n */\nfunction jsonStringify(value, replacer, space) {\n    if (typeof value !== 'object' || value === null) {\n        return JSON.stringify(value);\n    }\n    // Note: The order matter here. We need to detach toJSON methods on parent classes before their\n    // subclasses.\n    var restoreObjectPrototypeToJson = detachToJsonMethod(Object.prototype);\n    var restoreArrayPrototypeToJson = detachToJsonMethod(Array.prototype);\n    var restoreValuePrototypeToJson = detachToJsonMethod(Object.getPrototypeOf(value));\n    var restoreValueToJson = detachToJsonMethod(value);\n    try {\n        return JSON.stringify(value, replacer, space);\n    }\n    catch (_a) {\n        return '<error: unable to serialize object>';\n    }\n    finally {\n        restoreObjectPrototypeToJson();\n        restoreArrayPrototypeToJson();\n        restoreValuePrototypeToJson();\n        restoreValueToJson();\n    }\n}\nfunction detachToJsonMethod(value) {\n    var object = value;\n    var objectToJson = object.toJSON;\n    if (objectToJson) {\n        delete object.toJSON;\n        return function () {\n            object.toJSON = objectToJson;\n        };\n    }\n    return _utils_functionUtils__WEBPACK_IMPORTED_MODULE_0__.noop;\n}\n//# sourceMappingURL=jsonStringify.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvc2VyaWFsaXNhdGlvbi9qc29uU3RyaW5naWZ5LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE4QztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsc0RBQUk7QUFDZjtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFyY2FzdGVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLWNvcmUvZXNtL3Rvb2xzL3NlcmlhbGlzYXRpb24vanNvblN0cmluZ2lmeS5qcz9iYTc0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IG5vb3AgfSBmcm9tICcuLi91dGlscy9mdW5jdGlvblV0aWxzJztcbi8qKlxuICogQ3VzdG9tIGltcGxlbWVudGF0aW9uIG9mIEpTT04uc3RyaW5naWZ5IHRoYXQgaWdub3JlcyBzb21lIHRvSlNPTiBtZXRob2RzLiBXZSBuZWVkIHRvIGRvIHRoYXRcbiAqIGJlY2F1c2Ugc29tZSBzaXRlcyBiYWRseSBvdmVycmlkZSB0b0pTT04gb24gY2VydGFpbiBvYmplY3RzLiBSZW1vdmluZyBhbGwgdG9KU09OIG1ldGhvZHMgZnJvbVxuICogbmVzdGVkIHZhbHVlcyB3b3VsZCBiZSB0b28gY29zdGx5LCBzbyB3ZSBqdXN0IGRldGFjaCB0aGVtIGZyb20gdGhlIHJvb3QgdmFsdWUsIGFuZCBuYXRpdmUgY2xhc3Nlc1xuICogdXNlZCB0byBidWlsZCBKU09OIHZhbHVlcyAoQXJyYXkgYW5kIE9iamVjdCkuXG4gKlxuICogTm90ZTogdGhpcyBzdGlsbCBhc3N1bWVzIHRoYXQgSlNPTi5zdHJpbmdpZnkgaXMgY29ycmVjdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGpzb25TdHJpbmdpZnkodmFsdWUsIHJlcGxhY2VyLCBzcGFjZSkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdvYmplY3QnIHx8IHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gICAgfVxuICAgIC8vIE5vdGU6IFRoZSBvcmRlciBtYXR0ZXIgaGVyZS4gV2UgbmVlZCB0byBkZXRhY2ggdG9KU09OIG1ldGhvZHMgb24gcGFyZW50IGNsYXNzZXMgYmVmb3JlIHRoZWlyXG4gICAgLy8gc3ViY2xhc3Nlcy5cbiAgICB2YXIgcmVzdG9yZU9iamVjdFByb3RvdHlwZVRvSnNvbiA9IGRldGFjaFRvSnNvbk1ldGhvZChPYmplY3QucHJvdG90eXBlKTtcbiAgICB2YXIgcmVzdG9yZUFycmF5UHJvdG90eXBlVG9Kc29uID0gZGV0YWNoVG9Kc29uTWV0aG9kKEFycmF5LnByb3RvdHlwZSk7XG4gICAgdmFyIHJlc3RvcmVWYWx1ZVByb3RvdHlwZVRvSnNvbiA9IGRldGFjaFRvSnNvbk1ldGhvZChPYmplY3QuZ2V0UHJvdG90eXBlT2YodmFsdWUpKTtcbiAgICB2YXIgcmVzdG9yZVZhbHVlVG9Kc29uID0gZGV0YWNoVG9Kc29uTWV0aG9kKHZhbHVlKTtcbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodmFsdWUsIHJlcGxhY2VyLCBzcGFjZSk7XG4gICAgfVxuICAgIGNhdGNoIChfYSkge1xuICAgICAgICByZXR1cm4gJzxlcnJvcjogdW5hYmxlIHRvIHNlcmlhbGl6ZSBvYmplY3Q+JztcbiAgICB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIHJlc3RvcmVPYmplY3RQcm90b3R5cGVUb0pzb24oKTtcbiAgICAgICAgcmVzdG9yZUFycmF5UHJvdG90eXBlVG9Kc29uKCk7XG4gICAgICAgIHJlc3RvcmVWYWx1ZVByb3RvdHlwZVRvSnNvbigpO1xuICAgICAgICByZXN0b3JlVmFsdWVUb0pzb24oKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gZGV0YWNoVG9Kc29uTWV0aG9kKHZhbHVlKSB7XG4gICAgdmFyIG9iamVjdCA9IHZhbHVlO1xuICAgIHZhciBvYmplY3RUb0pzb24gPSBvYmplY3QudG9KU09OO1xuICAgIGlmIChvYmplY3RUb0pzb24pIHtcbiAgICAgICAgZGVsZXRlIG9iamVjdC50b0pTT047XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBvYmplY3QudG9KU09OID0gb2JqZWN0VG9Kc29uO1xuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gbm9vcDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWpzb25TdHJpbmdpZnkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-core/esm/tools/serialisation/jsonStringify.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-core/esm/tools/serialisation/sanitize.js":
/*!************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/tools/serialisation/sanitize.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   sanitize: () => (/* binding */ sanitize)\n/* harmony export */ });\n/* harmony import */ var _display__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../display */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/display.js\");\n/* harmony import */ var _utils_byteUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/byteUtils */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/byteUtils.js\");\n/* harmony import */ var _jsonStringify__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./jsonStringify */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/serialisation/jsonStringify.js\");\n\n\n\n// The maximum size of a single event is 256KiB. By default, we ensure that user-provided data\n// going through sanitize fits inside our events, while leaving room for other contexts, metadata, ...\nvar SANITIZE_DEFAULT_MAX_CHARACTER_COUNT = 220 * _utils_byteUtils__WEBPACK_IMPORTED_MODULE_0__.ONE_KIBI_BYTE;\n// Symbol for the root element of the JSONPath used for visited objects\nvar JSON_PATH_ROOT_ELEMENT = '$';\n// When serializing (using JSON.stringify) a key of an object, { key: 42 } gets wrapped in quotes as \"key\".\n// With the separator (:), we need to add 3 characters to the count.\nvar KEY_DECORATION_LENGTH = 3;\nfunction sanitize(source, maxCharacterCount) {\n    var _a;\n    if (maxCharacterCount === void 0) { maxCharacterCount = SANITIZE_DEFAULT_MAX_CHARACTER_COUNT; }\n    // Unbind any toJSON function we may have on [] or {} prototypes\n    var restoreObjectPrototypeToJson = (0,_jsonStringify__WEBPACK_IMPORTED_MODULE_1__.detachToJsonMethod)(Object.prototype);\n    var restoreArrayPrototypeToJson = (0,_jsonStringify__WEBPACK_IMPORTED_MODULE_1__.detachToJsonMethod)(Array.prototype);\n    // Initial call to sanitizeProcessor - will populate containerQueue if source is an Array or a plain Object\n    var containerQueue = [];\n    var visitedObjectsWithPath = new WeakMap();\n    var sanitizedData = sanitizeProcessor(source, JSON_PATH_ROOT_ELEMENT, undefined, containerQueue, visitedObjectsWithPath);\n    var accumulatedCharacterCount = ((_a = JSON.stringify(sanitizedData)) === null || _a === void 0 ? void 0 : _a.length) || 0;\n    if (accumulatedCharacterCount > maxCharacterCount) {\n        warnOverCharacterLimit(maxCharacterCount, 'discarded', source);\n        return undefined;\n    }\n    while (containerQueue.length > 0 && accumulatedCharacterCount < maxCharacterCount) {\n        var containerToProcess = containerQueue.shift();\n        var separatorLength = 0; // 0 for the first element, 1 for subsequent elements\n        // Arrays and Objects have to be handled distinctly to ensure\n        // we do not pick up non-numerical properties from Arrays\n        if (Array.isArray(containerToProcess.source)) {\n            for (var key = 0; key < containerToProcess.source.length; key++) {\n                var targetData = sanitizeProcessor(containerToProcess.source[key], containerToProcess.path, key, containerQueue, visitedObjectsWithPath);\n                if (targetData !== undefined) {\n                    accumulatedCharacterCount += JSON.stringify(targetData).length;\n                }\n                else {\n                    // When an element of an Array (targetData) is undefined, it is serialized as null:\n                    // JSON.stringify([undefined]) => '[null]' - This accounts for 4 characters\n                    accumulatedCharacterCount += 4;\n                }\n                accumulatedCharacterCount += separatorLength;\n                separatorLength = 1;\n                if (accumulatedCharacterCount > maxCharacterCount) {\n                    warnOverCharacterLimit(maxCharacterCount, 'truncated', source);\n                    break;\n                }\n                ;\n                containerToProcess.target[key] = targetData;\n            }\n        }\n        else {\n            for (var key in containerToProcess.source) {\n                if (Object.prototype.hasOwnProperty.call(containerToProcess.source, key)) {\n                    var targetData = sanitizeProcessor(containerToProcess.source[key], containerToProcess.path, key, containerQueue, visitedObjectsWithPath);\n                    // When a property of an object has an undefined value, it will be dropped during serialization:\n                    // JSON.stringify({a:undefined}) => '{}'\n                    if (targetData !== undefined) {\n                        accumulatedCharacterCount +=\n                            JSON.stringify(targetData).length + separatorLength + key.length + KEY_DECORATION_LENGTH;\n                        separatorLength = 1;\n                    }\n                    if (accumulatedCharacterCount > maxCharacterCount) {\n                        warnOverCharacterLimit(maxCharacterCount, 'truncated', source);\n                        break;\n                    }\n                    ;\n                    containerToProcess.target[key] = targetData;\n                }\n            }\n        }\n    }\n    // Rebind detached toJSON functions\n    restoreObjectPrototypeToJson();\n    restoreArrayPrototypeToJson();\n    return sanitizedData;\n}\n/**\n * Internal function to factorize the process common to the\n * initial call to sanitize, and iterations for Arrays and Objects\n *\n */\nfunction sanitizeProcessor(source, parentPath, key, queue, visitedObjectsWithPath) {\n    // Start by handling toJSON, as we want to sanitize its output\n    var sourceToSanitize = tryToApplyToJSON(source);\n    if (!sourceToSanitize || typeof sourceToSanitize !== 'object') {\n        return sanitizePrimitivesAndFunctions(sourceToSanitize);\n    }\n    var sanitizedSource = sanitizeObjects(sourceToSanitize);\n    if (sanitizedSource !== '[Object]' && sanitizedSource !== '[Array]' && sanitizedSource !== '[Error]') {\n        return sanitizedSource;\n    }\n    // Handle potential cyclic references\n    // We need to use source as sourceToSanitize could be a reference to a new object\n    // At this stage, we know the source is an object type\n    var sourceAsObject = source;\n    if (visitedObjectsWithPath.has(sourceAsObject)) {\n        return \"[Reference seen at \".concat(visitedObjectsWithPath.get(sourceAsObject), \"]\");\n    }\n    // Add processed source to queue\n    var currentPath = key !== undefined ? \"\".concat(parentPath, \".\").concat(key) : parentPath;\n    var target = Array.isArray(sourceToSanitize) ? [] : {};\n    visitedObjectsWithPath.set(sourceAsObject, currentPath);\n    queue.push({ source: sourceToSanitize, target: target, path: currentPath });\n    return target;\n}\n/**\n * Handles sanitization of simple, non-object types\n *\n */\nfunction sanitizePrimitivesAndFunctions(value) {\n    // BigInt cannot be serialized by JSON.stringify(), convert it to a string representation\n    if (typeof value === 'bigint') {\n        return \"[BigInt] \".concat(value.toString());\n    }\n    // Functions cannot be serialized by JSON.stringify(). Moreover, if a faulty toJSON is present, it needs to be converted\n    // so it won't prevent stringify from serializing later\n    if (typeof value === 'function') {\n        return \"[Function] \".concat(value.name || 'unknown');\n    }\n    // JSON.stringify() does not serialize symbols.\n    if (typeof value === 'symbol') {\n        return \"[Symbol] \".concat(value.description || value.toString());\n    }\n    return value;\n}\n/**\n * Handles sanitization of object types\n *\n * LIMITATIONS\n * - If a class defines a toStringTag Symbol, it will fall in the catch-all method and prevent enumeration of properties.\n * To avoid this, a toJSON method can be defined.\n * - IE11 does not return a distinct type for objects such as Map, WeakMap, ... These objects will pass through and their\n * properties enumerated if any.\n *\n */\nfunction sanitizeObjects(value) {\n    try {\n        // Handle events - Keep a simple implementation to avoid breaking changes\n        if (value instanceof Event) {\n            return {\n                isTrusted: value.isTrusted,\n            };\n        }\n        // Handle all remaining object types in a generic way\n        var result = Object.prototype.toString.call(value);\n        var match = result.match(/\\[object (.*)\\]/);\n        if (match && match[1]) {\n            return \"[\".concat(match[1], \"]\");\n        }\n    }\n    catch (_a) {\n        // If the previous serialization attempts failed, and we cannot convert using\n        // Object.prototype.toString, declare the value unserializable\n    }\n    return '[Unserializable]';\n}\n/**\n * Checks if a toJSON function exists and tries to execute it\n *\n */\nfunction tryToApplyToJSON(value) {\n    var object = value;\n    if (object && typeof object.toJSON === 'function') {\n        try {\n            return object.toJSON();\n        }\n        catch (_a) {\n            // If toJSON fails, we continue by trying to serialize the value manually\n        }\n    }\n    return value;\n}\n/**\n * Helper function to display the warning when the accumulated character count is over the limit\n */\nfunction warnOverCharacterLimit(maxCharacterCount, changeType, source) {\n    _display__WEBPACK_IMPORTED_MODULE_2__.display.warn(\"The data provided has been \".concat(changeType, \" as it is over the limit of \").concat(maxCharacterCount, \" characters:\"), source);\n}\n//# sourceMappingURL=sanitize.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvc2VyaWFsaXNhdGlvbi9zYW5pdGl6ZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXFDO0FBQ2M7QUFDRTtBQUNyRDtBQUNBO0FBQ0EsaURBQWlELDJEQUFhO0FBQzlEO0FBQ0E7QUFDQSxpRUFBaUUsVUFBVTtBQUMzRTtBQUNBO0FBQ087QUFDUDtBQUNBLHdDQUF3QztBQUN4QywwREFBMEQ7QUFDMUQsdUNBQXVDLGtFQUFrQjtBQUN6RCxzQ0FBc0Msa0VBQWtCO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLHdDQUF3QztBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsWUFBWSxRQUFRO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLDZEQUE2RDtBQUM5RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksNkNBQU87QUFDWDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFyY2FzdGVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLWNvcmUvZXNtL3Rvb2xzL3NlcmlhbGlzYXRpb24vc2FuaXRpemUuanM/NTk3NSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkaXNwbGF5IH0gZnJvbSAnLi4vZGlzcGxheSc7XG5pbXBvcnQgeyBPTkVfS0lCSV9CWVRFIH0gZnJvbSAnLi4vdXRpbHMvYnl0ZVV0aWxzJztcbmltcG9ydCB7IGRldGFjaFRvSnNvbk1ldGhvZCB9IGZyb20gJy4vanNvblN0cmluZ2lmeSc7XG4vLyBUaGUgbWF4aW11bSBzaXplIG9mIGEgc2luZ2xlIGV2ZW50IGlzIDI1NktpQi4gQnkgZGVmYXVsdCwgd2UgZW5zdXJlIHRoYXQgdXNlci1wcm92aWRlZCBkYXRhXG4vLyBnb2luZyB0aHJvdWdoIHNhbml0aXplIGZpdHMgaW5zaWRlIG91ciBldmVudHMsIHdoaWxlIGxlYXZpbmcgcm9vbSBmb3Igb3RoZXIgY29udGV4dHMsIG1ldGFkYXRhLCAuLi5cbnZhciBTQU5JVElaRV9ERUZBVUxUX01BWF9DSEFSQUNURVJfQ09VTlQgPSAyMjAgKiBPTkVfS0lCSV9CWVRFO1xuLy8gU3ltYm9sIGZvciB0aGUgcm9vdCBlbGVtZW50IG9mIHRoZSBKU09OUGF0aCB1c2VkIGZvciB2aXNpdGVkIG9iamVjdHNcbnZhciBKU09OX1BBVEhfUk9PVF9FTEVNRU5UID0gJyQnO1xuLy8gV2hlbiBzZXJpYWxpemluZyAodXNpbmcgSlNPTi5zdHJpbmdpZnkpIGEga2V5IG9mIGFuIG9iamVjdCwgeyBrZXk6IDQyIH0gZ2V0cyB3cmFwcGVkIGluIHF1b3RlcyBhcyBcImtleVwiLlxuLy8gV2l0aCB0aGUgc2VwYXJhdG9yICg6KSwgd2UgbmVlZCB0byBhZGQgMyBjaGFyYWN0ZXJzIHRvIHRoZSBjb3VudC5cbnZhciBLRVlfREVDT1JBVElPTl9MRU5HVEggPSAzO1xuZXhwb3J0IGZ1bmN0aW9uIHNhbml0aXplKHNvdXJjZSwgbWF4Q2hhcmFjdGVyQ291bnQpIHtcbiAgICB2YXIgX2E7XG4gICAgaWYgKG1heENoYXJhY3RlckNvdW50ID09PSB2b2lkIDApIHsgbWF4Q2hhcmFjdGVyQ291bnQgPSBTQU5JVElaRV9ERUZBVUxUX01BWF9DSEFSQUNURVJfQ09VTlQ7IH1cbiAgICAvLyBVbmJpbmQgYW55IHRvSlNPTiBmdW5jdGlvbiB3ZSBtYXkgaGF2ZSBvbiBbXSBvciB7fSBwcm90b3R5cGVzXG4gICAgdmFyIHJlc3RvcmVPYmplY3RQcm90b3R5cGVUb0pzb24gPSBkZXRhY2hUb0pzb25NZXRob2QoT2JqZWN0LnByb3RvdHlwZSk7XG4gICAgdmFyIHJlc3RvcmVBcnJheVByb3RvdHlwZVRvSnNvbiA9IGRldGFjaFRvSnNvbk1ldGhvZChBcnJheS5wcm90b3R5cGUpO1xuICAgIC8vIEluaXRpYWwgY2FsbCB0byBzYW5pdGl6ZVByb2Nlc3NvciAtIHdpbGwgcG9wdWxhdGUgY29udGFpbmVyUXVldWUgaWYgc291cmNlIGlzIGFuIEFycmF5IG9yIGEgcGxhaW4gT2JqZWN0XG4gICAgdmFyIGNvbnRhaW5lclF1ZXVlID0gW107XG4gICAgdmFyIHZpc2l0ZWRPYmplY3RzV2l0aFBhdGggPSBuZXcgV2Vha01hcCgpO1xuICAgIHZhciBzYW5pdGl6ZWREYXRhID0gc2FuaXRpemVQcm9jZXNzb3Ioc291cmNlLCBKU09OX1BBVEhfUk9PVF9FTEVNRU5ULCB1bmRlZmluZWQsIGNvbnRhaW5lclF1ZXVlLCB2aXNpdGVkT2JqZWN0c1dpdGhQYXRoKTtcbiAgICB2YXIgYWNjdW11bGF0ZWRDaGFyYWN0ZXJDb3VudCA9ICgoX2EgPSBKU09OLnN0cmluZ2lmeShzYW5pdGl6ZWREYXRhKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmxlbmd0aCkgfHwgMDtcbiAgICBpZiAoYWNjdW11bGF0ZWRDaGFyYWN0ZXJDb3VudCA+IG1heENoYXJhY3RlckNvdW50KSB7XG4gICAgICAgIHdhcm5PdmVyQ2hhcmFjdGVyTGltaXQobWF4Q2hhcmFjdGVyQ291bnQsICdkaXNjYXJkZWQnLCBzb3VyY2UpO1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICB3aGlsZSAoY29udGFpbmVyUXVldWUubGVuZ3RoID4gMCAmJiBhY2N1bXVsYXRlZENoYXJhY3RlckNvdW50IDwgbWF4Q2hhcmFjdGVyQ291bnQpIHtcbiAgICAgICAgdmFyIGNvbnRhaW5lclRvUHJvY2VzcyA9IGNvbnRhaW5lclF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgIHZhciBzZXBhcmF0b3JMZW5ndGggPSAwOyAvLyAwIGZvciB0aGUgZmlyc3QgZWxlbWVudCwgMSBmb3Igc3Vic2VxdWVudCBlbGVtZW50c1xuICAgICAgICAvLyBBcnJheXMgYW5kIE9iamVjdHMgaGF2ZSB0byBiZSBoYW5kbGVkIGRpc3RpbmN0bHkgdG8gZW5zdXJlXG4gICAgICAgIC8vIHdlIGRvIG5vdCBwaWNrIHVwIG5vbi1udW1lcmljYWwgcHJvcGVydGllcyBmcm9tIEFycmF5c1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjb250YWluZXJUb1Byb2Nlc3Muc291cmNlKSkge1xuICAgICAgICAgICAgZm9yICh2YXIga2V5ID0gMDsga2V5IDwgY29udGFpbmVyVG9Qcm9jZXNzLnNvdXJjZS5sZW5ndGg7IGtleSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRhcmdldERhdGEgPSBzYW5pdGl6ZVByb2Nlc3Nvcihjb250YWluZXJUb1Byb2Nlc3Muc291cmNlW2tleV0sIGNvbnRhaW5lclRvUHJvY2Vzcy5wYXRoLCBrZXksIGNvbnRhaW5lclF1ZXVlLCB2aXNpdGVkT2JqZWN0c1dpdGhQYXRoKTtcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0RGF0YSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGFjY3VtdWxhdGVkQ2hhcmFjdGVyQ291bnQgKz0gSlNPTi5zdHJpbmdpZnkodGFyZ2V0RGF0YSkubGVuZ3RoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2hlbiBhbiBlbGVtZW50IG9mIGFuIEFycmF5ICh0YXJnZXREYXRhKSBpcyB1bmRlZmluZWQsIGl0IGlzIHNlcmlhbGl6ZWQgYXMgbnVsbDpcbiAgICAgICAgICAgICAgICAgICAgLy8gSlNPTi5zdHJpbmdpZnkoW3VuZGVmaW5lZF0pID0+ICdbbnVsbF0nIC0gVGhpcyBhY2NvdW50cyBmb3IgNCBjaGFyYWN0ZXJzXG4gICAgICAgICAgICAgICAgICAgIGFjY3VtdWxhdGVkQ2hhcmFjdGVyQ291bnQgKz0gNDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYWNjdW11bGF0ZWRDaGFyYWN0ZXJDb3VudCArPSBzZXBhcmF0b3JMZW5ndGg7XG4gICAgICAgICAgICAgICAgc2VwYXJhdG9yTGVuZ3RoID0gMTtcbiAgICAgICAgICAgICAgICBpZiAoYWNjdW11bGF0ZWRDaGFyYWN0ZXJDb3VudCA+IG1heENoYXJhY3RlckNvdW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHdhcm5PdmVyQ2hhcmFjdGVyTGltaXQobWF4Q2hhcmFjdGVyQ291bnQsICd0cnVuY2F0ZWQnLCBzb3VyY2UpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgO1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lclRvUHJvY2Vzcy50YXJnZXRba2V5XSA9IHRhcmdldERhdGE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gY29udGFpbmVyVG9Qcm9jZXNzLnNvdXJjZSkge1xuICAgICAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoY29udGFpbmVyVG9Qcm9jZXNzLnNvdXJjZSwga2V5KSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0RGF0YSA9IHNhbml0aXplUHJvY2Vzc29yKGNvbnRhaW5lclRvUHJvY2Vzcy5zb3VyY2Vba2V5XSwgY29udGFpbmVyVG9Qcm9jZXNzLnBhdGgsIGtleSwgY29udGFpbmVyUXVldWUsIHZpc2l0ZWRPYmplY3RzV2l0aFBhdGgpO1xuICAgICAgICAgICAgICAgICAgICAvLyBXaGVuIGEgcHJvcGVydHkgb2YgYW4gb2JqZWN0IGhhcyBhbiB1bmRlZmluZWQgdmFsdWUsIGl0IHdpbGwgYmUgZHJvcHBlZCBkdXJpbmcgc2VyaWFsaXphdGlvbjpcbiAgICAgICAgICAgICAgICAgICAgLy8gSlNPTi5zdHJpbmdpZnkoe2E6dW5kZWZpbmVkfSkgPT4gJ3t9J1xuICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0RGF0YSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY2N1bXVsYXRlZENoYXJhY3RlckNvdW50ICs9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkodGFyZ2V0RGF0YSkubGVuZ3RoICsgc2VwYXJhdG9yTGVuZ3RoICsga2V5Lmxlbmd0aCArIEtFWV9ERUNPUkFUSU9OX0xFTkdUSDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcGFyYXRvckxlbmd0aCA9IDE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGFjY3VtdWxhdGVkQ2hhcmFjdGVyQ291bnQgPiBtYXhDaGFyYWN0ZXJDb3VudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2Fybk92ZXJDaGFyYWN0ZXJMaW1pdChtYXhDaGFyYWN0ZXJDb3VudCwgJ3RydW5jYXRlZCcsIHNvdXJjZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICA7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lclRvUHJvY2Vzcy50YXJnZXRba2V5XSA9IHRhcmdldERhdGE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFJlYmluZCBkZXRhY2hlZCB0b0pTT04gZnVuY3Rpb25zXG4gICAgcmVzdG9yZU9iamVjdFByb3RvdHlwZVRvSnNvbigpO1xuICAgIHJlc3RvcmVBcnJheVByb3RvdHlwZVRvSnNvbigpO1xuICAgIHJldHVybiBzYW5pdGl6ZWREYXRhO1xufVxuLyoqXG4gKiBJbnRlcm5hbCBmdW5jdGlvbiB0byBmYWN0b3JpemUgdGhlIHByb2Nlc3MgY29tbW9uIHRvIHRoZVxuICogaW5pdGlhbCBjYWxsIHRvIHNhbml0aXplLCBhbmQgaXRlcmF0aW9ucyBmb3IgQXJyYXlzIGFuZCBPYmplY3RzXG4gKlxuICovXG5mdW5jdGlvbiBzYW5pdGl6ZVByb2Nlc3Nvcihzb3VyY2UsIHBhcmVudFBhdGgsIGtleSwgcXVldWUsIHZpc2l0ZWRPYmplY3RzV2l0aFBhdGgpIHtcbiAgICAvLyBTdGFydCBieSBoYW5kbGluZyB0b0pTT04sIGFzIHdlIHdhbnQgdG8gc2FuaXRpemUgaXRzIG91dHB1dFxuICAgIHZhciBzb3VyY2VUb1Nhbml0aXplID0gdHJ5VG9BcHBseVRvSlNPTihzb3VyY2UpO1xuICAgIGlmICghc291cmNlVG9TYW5pdGl6ZSB8fCB0eXBlb2Ygc291cmNlVG9TYW5pdGl6ZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIHNhbml0aXplUHJpbWl0aXZlc0FuZEZ1bmN0aW9ucyhzb3VyY2VUb1Nhbml0aXplKTtcbiAgICB9XG4gICAgdmFyIHNhbml0aXplZFNvdXJjZSA9IHNhbml0aXplT2JqZWN0cyhzb3VyY2VUb1Nhbml0aXplKTtcbiAgICBpZiAoc2FuaXRpemVkU291cmNlICE9PSAnW09iamVjdF0nICYmIHNhbml0aXplZFNvdXJjZSAhPT0gJ1tBcnJheV0nICYmIHNhbml0aXplZFNvdXJjZSAhPT0gJ1tFcnJvcl0nKSB7XG4gICAgICAgIHJldHVybiBzYW5pdGl6ZWRTb3VyY2U7XG4gICAgfVxuICAgIC8vIEhhbmRsZSBwb3RlbnRpYWwgY3ljbGljIHJlZmVyZW5jZXNcbiAgICAvLyBXZSBuZWVkIHRvIHVzZSBzb3VyY2UgYXMgc291cmNlVG9TYW5pdGl6ZSBjb3VsZCBiZSBhIHJlZmVyZW5jZSB0byBhIG5ldyBvYmplY3RcbiAgICAvLyBBdCB0aGlzIHN0YWdlLCB3ZSBrbm93IHRoZSBzb3VyY2UgaXMgYW4gb2JqZWN0IHR5cGVcbiAgICB2YXIgc291cmNlQXNPYmplY3QgPSBzb3VyY2U7XG4gICAgaWYgKHZpc2l0ZWRPYmplY3RzV2l0aFBhdGguaGFzKHNvdXJjZUFzT2JqZWN0KSkge1xuICAgICAgICByZXR1cm4gXCJbUmVmZXJlbmNlIHNlZW4gYXQgXCIuY29uY2F0KHZpc2l0ZWRPYmplY3RzV2l0aFBhdGguZ2V0KHNvdXJjZUFzT2JqZWN0KSwgXCJdXCIpO1xuICAgIH1cbiAgICAvLyBBZGQgcHJvY2Vzc2VkIHNvdXJjZSB0byBxdWV1ZVxuICAgIHZhciBjdXJyZW50UGF0aCA9IGtleSAhPT0gdW5kZWZpbmVkID8gXCJcIi5jb25jYXQocGFyZW50UGF0aCwgXCIuXCIpLmNvbmNhdChrZXkpIDogcGFyZW50UGF0aDtcbiAgICB2YXIgdGFyZ2V0ID0gQXJyYXkuaXNBcnJheShzb3VyY2VUb1Nhbml0aXplKSA/IFtdIDoge307XG4gICAgdmlzaXRlZE9iamVjdHNXaXRoUGF0aC5zZXQoc291cmNlQXNPYmplY3QsIGN1cnJlbnRQYXRoKTtcbiAgICBxdWV1ZS5wdXNoKHsgc291cmNlOiBzb3VyY2VUb1Nhbml0aXplLCB0YXJnZXQ6IHRhcmdldCwgcGF0aDogY3VycmVudFBhdGggfSk7XG4gICAgcmV0dXJuIHRhcmdldDtcbn1cbi8qKlxuICogSGFuZGxlcyBzYW5pdGl6YXRpb24gb2Ygc2ltcGxlLCBub24tb2JqZWN0IHR5cGVzXG4gKlxuICovXG5mdW5jdGlvbiBzYW5pdGl6ZVByaW1pdGl2ZXNBbmRGdW5jdGlvbnModmFsdWUpIHtcbiAgICAvLyBCaWdJbnQgY2Fubm90IGJlIHNlcmlhbGl6ZWQgYnkgSlNPTi5zdHJpbmdpZnkoKSwgY29udmVydCBpdCB0byBhIHN0cmluZyByZXByZXNlbnRhdGlvblxuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdiaWdpbnQnKSB7XG4gICAgICAgIHJldHVybiBcIltCaWdJbnRdIFwiLmNvbmNhdCh2YWx1ZS50b1N0cmluZygpKTtcbiAgICB9XG4gICAgLy8gRnVuY3Rpb25zIGNhbm5vdCBiZSBzZXJpYWxpemVkIGJ5IEpTT04uc3RyaW5naWZ5KCkuIE1vcmVvdmVyLCBpZiBhIGZhdWx0eSB0b0pTT04gaXMgcHJlc2VudCwgaXQgbmVlZHMgdG8gYmUgY29udmVydGVkXG4gICAgLy8gc28gaXQgd29uJ3QgcHJldmVudCBzdHJpbmdpZnkgZnJvbSBzZXJpYWxpemluZyBsYXRlclxuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIFwiW0Z1bmN0aW9uXSBcIi5jb25jYXQodmFsdWUubmFtZSB8fCAndW5rbm93bicpO1xuICAgIH1cbiAgICAvLyBKU09OLnN0cmluZ2lmeSgpIGRvZXMgbm90IHNlcmlhbGl6ZSBzeW1ib2xzLlxuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzeW1ib2wnKSB7XG4gICAgICAgIHJldHVybiBcIltTeW1ib2xdIFwiLmNvbmNhdCh2YWx1ZS5kZXNjcmlwdGlvbiB8fCB2YWx1ZS50b1N0cmluZygpKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuLyoqXG4gKiBIYW5kbGVzIHNhbml0aXphdGlvbiBvZiBvYmplY3QgdHlwZXNcbiAqXG4gKiBMSU1JVEFUSU9OU1xuICogLSBJZiBhIGNsYXNzIGRlZmluZXMgYSB0b1N0cmluZ1RhZyBTeW1ib2wsIGl0IHdpbGwgZmFsbCBpbiB0aGUgY2F0Y2gtYWxsIG1ldGhvZCBhbmQgcHJldmVudCBlbnVtZXJhdGlvbiBvZiBwcm9wZXJ0aWVzLlxuICogVG8gYXZvaWQgdGhpcywgYSB0b0pTT04gbWV0aG9kIGNhbiBiZSBkZWZpbmVkLlxuICogLSBJRTExIGRvZXMgbm90IHJldHVybiBhIGRpc3RpbmN0IHR5cGUgZm9yIG9iamVjdHMgc3VjaCBhcyBNYXAsIFdlYWtNYXAsIC4uLiBUaGVzZSBvYmplY3RzIHdpbGwgcGFzcyB0aHJvdWdoIGFuZCB0aGVpclxuICogcHJvcGVydGllcyBlbnVtZXJhdGVkIGlmIGFueS5cbiAqXG4gKi9cbmZ1bmN0aW9uIHNhbml0aXplT2JqZWN0cyh2YWx1ZSkge1xuICAgIHRyeSB7XG4gICAgICAgIC8vIEhhbmRsZSBldmVudHMgLSBLZWVwIGEgc2ltcGxlIGltcGxlbWVudGF0aW9uIHRvIGF2b2lkIGJyZWFraW5nIGNoYW5nZXNcbiAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgRXZlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgaXNUcnVzdGVkOiB2YWx1ZS5pc1RydXN0ZWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIC8vIEhhbmRsZSBhbGwgcmVtYWluaW5nIG9iamVjdCB0eXBlcyBpbiBhIGdlbmVyaWMgd2F5XG4gICAgICAgIHZhciByZXN1bHQgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICAgICAgICB2YXIgbWF0Y2ggPSByZXN1bHQubWF0Y2goL1xcW29iamVjdCAoLiopXFxdLyk7XG4gICAgICAgIGlmIChtYXRjaCAmJiBtYXRjaFsxXSkge1xuICAgICAgICAgICAgcmV0dXJuIFwiW1wiLmNvbmNhdChtYXRjaFsxXSwgXCJdXCIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChfYSkge1xuICAgICAgICAvLyBJZiB0aGUgcHJldmlvdXMgc2VyaWFsaXphdGlvbiBhdHRlbXB0cyBmYWlsZWQsIGFuZCB3ZSBjYW5ub3QgY29udmVydCB1c2luZ1xuICAgICAgICAvLyBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLCBkZWNsYXJlIHRoZSB2YWx1ZSB1bnNlcmlhbGl6YWJsZVxuICAgIH1cbiAgICByZXR1cm4gJ1tVbnNlcmlhbGl6YWJsZV0nO1xufVxuLyoqXG4gKiBDaGVja3MgaWYgYSB0b0pTT04gZnVuY3Rpb24gZXhpc3RzIGFuZCB0cmllcyB0byBleGVjdXRlIGl0XG4gKlxuICovXG5mdW5jdGlvbiB0cnlUb0FwcGx5VG9KU09OKHZhbHVlKSB7XG4gICAgdmFyIG9iamVjdCA9IHZhbHVlO1xuICAgIGlmIChvYmplY3QgJiYgdHlwZW9mIG9iamVjdC50b0pTT04gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBvYmplY3QudG9KU09OKCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKF9hKSB7XG4gICAgICAgICAgICAvLyBJZiB0b0pTT04gZmFpbHMsIHdlIGNvbnRpbnVlIGJ5IHRyeWluZyB0byBzZXJpYWxpemUgdGhlIHZhbHVlIG1hbnVhbGx5XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuLyoqXG4gKiBIZWxwZXIgZnVuY3Rpb24gdG8gZGlzcGxheSB0aGUgd2FybmluZyB3aGVuIHRoZSBhY2N1bXVsYXRlZCBjaGFyYWN0ZXIgY291bnQgaXMgb3ZlciB0aGUgbGltaXRcbiAqL1xuZnVuY3Rpb24gd2Fybk92ZXJDaGFyYWN0ZXJMaW1pdChtYXhDaGFyYWN0ZXJDb3VudCwgY2hhbmdlVHlwZSwgc291cmNlKSB7XG4gICAgZGlzcGxheS53YXJuKFwiVGhlIGRhdGEgcHJvdmlkZWQgaGFzIGJlZW4gXCIuY29uY2F0KGNoYW5nZVR5cGUsIFwiIGFzIGl0IGlzIG92ZXIgdGhlIGxpbWl0IG9mIFwiKS5jb25jYXQobWF4Q2hhcmFjdGVyQ291bnQsIFwiIGNoYXJhY3RlcnM6XCIpLCBzb3VyY2UpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2FuaXRpemUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-core/esm/tools/serialisation/sanitize.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-core/esm/tools/timer.js":
/*!*******************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/tools/timer.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clearInterval: () => (/* binding */ clearInterval),\n/* harmony export */   clearTimeout: () => (/* binding */ clearTimeout),\n/* harmony export */   setInterval: () => (/* binding */ setInterval),\n/* harmony export */   setTimeout: () => (/* binding */ setTimeout)\n/* harmony export */ });\n/* harmony import */ var _getZoneJsOriginalValue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./getZoneJsOriginalValue */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/getZoneJsOriginalValue.js\");\n/* harmony import */ var _monitor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./monitor */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/monitor.js\");\n/* harmony import */ var _getGlobalObject__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./getGlobalObject */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/getGlobalObject.js\");\n\n\n\nfunction setTimeout(callback, delay) {\n    return (0,_getZoneJsOriginalValue__WEBPACK_IMPORTED_MODULE_0__.getZoneJsOriginalValue)((0,_getGlobalObject__WEBPACK_IMPORTED_MODULE_1__.getGlobalObject)(), 'setTimeout')((0,_monitor__WEBPACK_IMPORTED_MODULE_2__.monitor)(callback), delay);\n}\nfunction clearTimeout(timeoutId) {\n    (0,_getZoneJsOriginalValue__WEBPACK_IMPORTED_MODULE_0__.getZoneJsOriginalValue)((0,_getGlobalObject__WEBPACK_IMPORTED_MODULE_1__.getGlobalObject)(), 'clearTimeout')(timeoutId);\n}\nfunction setInterval(callback, delay) {\n    return (0,_getZoneJsOriginalValue__WEBPACK_IMPORTED_MODULE_0__.getZoneJsOriginalValue)(window, 'setInterval')((0,_monitor__WEBPACK_IMPORTED_MODULE_2__.monitor)(callback), delay);\n}\nfunction clearInterval(timeoutId) {\n    (0,_getZoneJsOriginalValue__WEBPACK_IMPORTED_MODULE_0__.getZoneJsOriginalValue)(window, 'clearInterval')(timeoutId);\n}\n//# sourceMappingURL=timer.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvdGltZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFrRTtBQUM5QjtBQUNnQjtBQUM3QztBQUNQLFdBQVcsK0VBQXNCLENBQUMsaUVBQWUsa0JBQWtCLGlEQUFPO0FBQzFFO0FBQ087QUFDUCxJQUFJLCtFQUFzQixDQUFDLGlFQUFlO0FBQzFDO0FBQ087QUFDUCxXQUFXLCtFQUFzQix3QkFBd0IsaURBQU87QUFDaEU7QUFDTztBQUNQLElBQUksK0VBQXNCO0FBQzFCO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYXJjYXN0ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvdGltZXIuanM/NWM1ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRab25lSnNPcmlnaW5hbFZhbHVlIH0gZnJvbSAnLi9nZXRab25lSnNPcmlnaW5hbFZhbHVlJztcbmltcG9ydCB7IG1vbml0b3IgfSBmcm9tICcuL21vbml0b3InO1xuaW1wb3J0IHsgZ2V0R2xvYmFsT2JqZWN0IH0gZnJvbSAnLi9nZXRHbG9iYWxPYmplY3QnO1xuZXhwb3J0IGZ1bmN0aW9uIHNldFRpbWVvdXQoY2FsbGJhY2ssIGRlbGF5KSB7XG4gICAgcmV0dXJuIGdldFpvbmVKc09yaWdpbmFsVmFsdWUoZ2V0R2xvYmFsT2JqZWN0KCksICdzZXRUaW1lb3V0JykobW9uaXRvcihjYWxsYmFjayksIGRlbGF5KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjbGVhclRpbWVvdXQodGltZW91dElkKSB7XG4gICAgZ2V0Wm9uZUpzT3JpZ2luYWxWYWx1ZShnZXRHbG9iYWxPYmplY3QoKSwgJ2NsZWFyVGltZW91dCcpKHRpbWVvdXRJZCk7XG59XG5leHBvcnQgZnVuY3Rpb24gc2V0SW50ZXJ2YWwoY2FsbGJhY2ssIGRlbGF5KSB7XG4gICAgcmV0dXJuIGdldFpvbmVKc09yaWdpbmFsVmFsdWUod2luZG93LCAnc2V0SW50ZXJ2YWwnKShtb25pdG9yKGNhbGxiYWNrKSwgZGVsYXkpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFySW50ZXJ2YWwodGltZW91dElkKSB7XG4gICAgZ2V0Wm9uZUpzT3JpZ2luYWxWYWx1ZSh3aW5kb3csICdjbGVhckludGVydmFsJykodGltZW91dElkKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRpbWVyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-core/esm/tools/timer.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/arrayUtils.js":
/*!******************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/tools/utils/arrayUtils.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   removeDuplicates: () => (/* binding */ removeDuplicates)\n/* harmony export */ });\n/* harmony import */ var _polyfills__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./polyfills */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/polyfills.js\");\n\nfunction removeDuplicates(array) {\n    var set = new Set();\n    array.forEach(function (item) { return set.add(item); });\n    return (0,_polyfills__WEBPACK_IMPORTED_MODULE_0__.arrayFrom)(set);\n}\n//# sourceMappingURL=arrayUtils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvdXRpbHMvYXJyYXlVdGlscy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUF3QztBQUNqQztBQUNQO0FBQ0Esb0NBQW9DLHVCQUF1QjtBQUMzRCxXQUFXLHFEQUFTO0FBQ3BCO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYXJjYXN0ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvdXRpbHMvYXJyYXlVdGlscy5qcz9kZTllIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFycmF5RnJvbSB9IGZyb20gJy4vcG9seWZpbGxzJztcbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVEdXBsaWNhdGVzKGFycmF5KSB7XG4gICAgdmFyIHNldCA9IG5ldyBTZXQoKTtcbiAgICBhcnJheS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7IHJldHVybiBzZXQuYWRkKGl0ZW0pOyB9KTtcbiAgICByZXR1cm4gYXJyYXlGcm9tKHNldCk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcnJheVV0aWxzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/arrayUtils.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/browserDetection.js":
/*!************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/tools/utils/browserDetection.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isChromium: () => (/* binding */ isChromium),\n/* harmony export */   isIE: () => (/* binding */ isIE)\n/* harmony export */ });\nfunction isIE() {\n    return Boolean(document.documentMode);\n}\nfunction isChromium() {\n    return !!window.chrome || /HeadlessChrome/.test(window.navigator.userAgent);\n}\n//# sourceMappingURL=browserDetection.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvdXRpbHMvYnJvd3NlckRldGVjdGlvbi5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFyY2FzdGVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLWNvcmUvZXNtL3Rvb2xzL3V0aWxzL2Jyb3dzZXJEZXRlY3Rpb24uanM/YTgxYyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gaXNJRSgpIHtcbiAgICByZXR1cm4gQm9vbGVhbihkb2N1bWVudC5kb2N1bWVudE1vZGUpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQ2hyb21pdW0oKSB7XG4gICAgcmV0dXJuICEhd2luZG93LmNocm9tZSB8fCAvSGVhZGxlc3NDaHJvbWUvLnRlc3Qod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YnJvd3NlckRldGVjdGlvbi5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/browserDetection.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/byteUtils.js":
/*!*****************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/tools/utils/byteUtils.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ONE_KIBI_BYTE: () => (/* binding */ ONE_KIBI_BYTE),\n/* harmony export */   ONE_MEBI_BYTE: () => (/* binding */ ONE_MEBI_BYTE),\n/* harmony export */   computeBytesCount: () => (/* binding */ computeBytesCount)\n/* harmony export */ });\nvar ONE_KIBI_BYTE = 1024;\nvar ONE_MEBI_BYTE = 1024 * ONE_KIBI_BYTE;\n// eslint-disable-next-line no-control-regex\nvar HAS_MULTI_BYTES_CHARACTERS = /[^\\u0000-\\u007F]/;\nfunction computeBytesCount(candidate) {\n    // Accurate bytes count computations can degrade performances when there is a lot of events to process\n    if (!HAS_MULTI_BYTES_CHARACTERS.test(candidate)) {\n        return candidate.length;\n    }\n    if (window.TextEncoder !== undefined) {\n        return new TextEncoder().encode(candidate).length;\n    }\n    return new Blob([candidate]).size;\n}\n//# sourceMappingURL=byteUtils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvdXRpbHMvYnl0ZVV0aWxzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFPO0FBQ0E7QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhcmNhc3Rlci8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS90b29scy91dGlscy9ieXRlVXRpbHMuanM/ZDU4MCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgdmFyIE9ORV9LSUJJX0JZVEUgPSAxMDI0O1xuZXhwb3J0IHZhciBPTkVfTUVCSV9CWVRFID0gMTAyNCAqIE9ORV9LSUJJX0JZVEU7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29udHJvbC1yZWdleFxudmFyIEhBU19NVUxUSV9CWVRFU19DSEFSQUNURVJTID0gL1teXFx1MDAwMC1cXHUwMDdGXS87XG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZUJ5dGVzQ291bnQoY2FuZGlkYXRlKSB7XG4gICAgLy8gQWNjdXJhdGUgYnl0ZXMgY291bnQgY29tcHV0YXRpb25zIGNhbiBkZWdyYWRlIHBlcmZvcm1hbmNlcyB3aGVuIHRoZXJlIGlzIGEgbG90IG9mIGV2ZW50cyB0byBwcm9jZXNzXG4gICAgaWYgKCFIQVNfTVVMVElfQllURVNfQ0hBUkFDVEVSUy50ZXN0KGNhbmRpZGF0ZSkpIHtcbiAgICAgICAgcmV0dXJuIGNhbmRpZGF0ZS5sZW5ndGg7XG4gICAgfVxuICAgIGlmICh3aW5kb3cuVGV4dEVuY29kZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKGNhbmRpZGF0ZSkubGVuZ3RoO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IEJsb2IoW2NhbmRpZGF0ZV0pLnNpemU7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ieXRlVXRpbHMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/byteUtils.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/functionUtils.js":
/*!*********************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/tools/utils/functionUtils.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   noop: () => (/* binding */ noop),\n/* harmony export */   throttle: () => (/* binding */ throttle)\n/* harmony export */ });\n/* harmony import */ var _timer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../timer */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/timer.js\");\n\n// use lodash API\nfunction throttle(fn, wait, options) {\n    var needLeadingExecution = options && options.leading !== undefined ? options.leading : true;\n    var needTrailingExecution = options && options.trailing !== undefined ? options.trailing : true;\n    var inWaitPeriod = false;\n    var pendingExecutionWithParameters;\n    var pendingTimeoutId;\n    return {\n        throttled: function () {\n            var parameters = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                parameters[_i] = arguments[_i];\n            }\n            if (inWaitPeriod) {\n                pendingExecutionWithParameters = parameters;\n                return;\n            }\n            if (needLeadingExecution) {\n                fn.apply(void 0, parameters);\n            }\n            else {\n                pendingExecutionWithParameters = parameters;\n            }\n            inWaitPeriod = true;\n            pendingTimeoutId = (0,_timer__WEBPACK_IMPORTED_MODULE_0__.setTimeout)(function () {\n                if (needTrailingExecution && pendingExecutionWithParameters) {\n                    fn.apply(void 0, pendingExecutionWithParameters);\n                }\n                inWaitPeriod = false;\n                pendingExecutionWithParameters = undefined;\n            }, wait);\n        },\n        cancel: function () {\n            (0,_timer__WEBPACK_IMPORTED_MODULE_0__.clearTimeout)(pendingTimeoutId);\n            inWaitPeriod = false;\n            pendingExecutionWithParameters = undefined;\n        },\n    };\n}\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nfunction noop() { }\n//# sourceMappingURL=functionUtils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvdXRpbHMvZnVuY3Rpb25VdGlscy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBb0Q7QUFDcEQ7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsdUJBQXVCO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLGtEQUFVO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0EsWUFBWSxvREFBWTtBQUN4QjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNPO0FBQ1AiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYXJjYXN0ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvdXRpbHMvZnVuY3Rpb25VdGlscy5qcz8wMjMxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHNldFRpbWVvdXQsIGNsZWFyVGltZW91dCB9IGZyb20gJy4uL3RpbWVyJztcbi8vIHVzZSBsb2Rhc2ggQVBJXG5leHBvcnQgZnVuY3Rpb24gdGhyb3R0bGUoZm4sIHdhaXQsIG9wdGlvbnMpIHtcbiAgICB2YXIgbmVlZExlYWRpbmdFeGVjdXRpb24gPSBvcHRpb25zICYmIG9wdGlvbnMubGVhZGluZyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5sZWFkaW5nIDogdHJ1ZTtcbiAgICB2YXIgbmVlZFRyYWlsaW5nRXhlY3V0aW9uID0gb3B0aW9ucyAmJiBvcHRpb25zLnRyYWlsaW5nICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnRyYWlsaW5nIDogdHJ1ZTtcbiAgICB2YXIgaW5XYWl0UGVyaW9kID0gZmFsc2U7XG4gICAgdmFyIHBlbmRpbmdFeGVjdXRpb25XaXRoUGFyYW1ldGVycztcbiAgICB2YXIgcGVuZGluZ1RpbWVvdXRJZDtcbiAgICByZXR1cm4ge1xuICAgICAgICB0aHJvdHRsZWQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBwYXJhbWV0ZXJzID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIHBhcmFtZXRlcnNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpbldhaXRQZXJpb2QpIHtcbiAgICAgICAgICAgICAgICBwZW5kaW5nRXhlY3V0aW9uV2l0aFBhcmFtZXRlcnMgPSBwYXJhbWV0ZXJzO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChuZWVkTGVhZGluZ0V4ZWN1dGlvbikge1xuICAgICAgICAgICAgICAgIGZuLmFwcGx5KHZvaWQgMCwgcGFyYW1ldGVycyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZW5kaW5nRXhlY3V0aW9uV2l0aFBhcmFtZXRlcnMgPSBwYXJhbWV0ZXJzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW5XYWl0UGVyaW9kID0gdHJ1ZTtcbiAgICAgICAgICAgIHBlbmRpbmdUaW1lb3V0SWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAobmVlZFRyYWlsaW5nRXhlY3V0aW9uICYmIHBlbmRpbmdFeGVjdXRpb25XaXRoUGFyYW1ldGVycykge1xuICAgICAgICAgICAgICAgICAgICBmbi5hcHBseSh2b2lkIDAsIHBlbmRpbmdFeGVjdXRpb25XaXRoUGFyYW1ldGVycyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGluV2FpdFBlcmlvZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHBlbmRpbmdFeGVjdXRpb25XaXRoUGFyYW1ldGVycyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH0sIHdhaXQpO1xuICAgICAgICB9LFxuICAgICAgICBjYW5jZWw6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChwZW5kaW5nVGltZW91dElkKTtcbiAgICAgICAgICAgIGluV2FpdFBlcmlvZCA9IGZhbHNlO1xuICAgICAgICAgICAgcGVuZGluZ0V4ZWN1dGlvbldpdGhQYXJhbWV0ZXJzID0gdW5kZWZpbmVkO1xuICAgICAgICB9LFxuICAgIH07XG59XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWVtcHR5LWZ1bmN0aW9uXG5leHBvcnQgZnVuY3Rpb24gbm9vcCgpIHsgfVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZnVuY3Rpb25VdGlscy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/functionUtils.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/numberUtils.js":
/*!*******************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/tools/utils/numberUtils.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isNumber: () => (/* binding */ isNumber),\n/* harmony export */   isPercentage: () => (/* binding */ isPercentage),\n/* harmony export */   performDraw: () => (/* binding */ performDraw),\n/* harmony export */   round: () => (/* binding */ round)\n/* harmony export */ });\n/**\n * Return true if the draw is successful\n * @param threshold between 0 and 100\n */\nfunction performDraw(threshold) {\n    return threshold !== 0 && Math.random() * 100 <= threshold;\n}\nfunction round(num, decimals) {\n    return +num.toFixed(decimals);\n}\nfunction isPercentage(value) {\n    return isNumber(value) && value >= 0 && value <= 100;\n}\nfunction isNumber(value) {\n    return typeof value === 'number';\n}\n//# sourceMappingURL=numberUtils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvdXRpbHMvbnVtYmVyVXRpbHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYXJjYXN0ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvdXRpbHMvbnVtYmVyVXRpbHMuanM/NDU3NCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFJldHVybiB0cnVlIGlmIHRoZSBkcmF3IGlzIHN1Y2Nlc3NmdWxcbiAqIEBwYXJhbSB0aHJlc2hvbGQgYmV0d2VlbiAwIGFuZCAxMDBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBlcmZvcm1EcmF3KHRocmVzaG9sZCkge1xuICAgIHJldHVybiB0aHJlc2hvbGQgIT09IDAgJiYgTWF0aC5yYW5kb20oKSAqIDEwMCA8PSB0aHJlc2hvbGQ7XG59XG5leHBvcnQgZnVuY3Rpb24gcm91bmQobnVtLCBkZWNpbWFscykge1xuICAgIHJldHVybiArbnVtLnRvRml4ZWQoZGVjaW1hbHMpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzUGVyY2VudGFnZSh2YWx1ZSkge1xuICAgIHJldHVybiBpc051bWJlcih2YWx1ZSkgJiYgdmFsdWUgPj0gMCAmJiB2YWx1ZSA8PSAxMDA7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNOdW1iZXIodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW51bWJlclV0aWxzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/numberUtils.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/objectUtils.js":
/*!*******************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/tools/utils/objectUtils.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isEmptyObject: () => (/* binding */ isEmptyObject),\n/* harmony export */   mapValues: () => (/* binding */ mapValues),\n/* harmony export */   objectHasValue: () => (/* binding */ objectHasValue),\n/* harmony export */   shallowClone: () => (/* binding */ shallowClone)\n/* harmony export */ });\n/* harmony import */ var _polyfills__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./polyfills */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/polyfills.js\");\n\nfunction shallowClone(object) {\n    return (0,_polyfills__WEBPACK_IMPORTED_MODULE_0__.assign)({}, object);\n}\nfunction objectHasValue(object, value) {\n    return Object.keys(object).some(function (key) { return object[key] === value; });\n}\nfunction isEmptyObject(object) {\n    return Object.keys(object).length === 0;\n}\nfunction mapValues(object, fn) {\n    var newObject = {};\n    for (var _i = 0, _a = Object.keys(object); _i < _a.length; _i++) {\n        var key = _a[_i];\n        newObject[key] = fn(object[key]);\n    }\n    return newObject;\n}\n//# sourceMappingURL=objectUtils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvdXRpbHMvb2JqZWN0VXRpbHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBcUM7QUFDOUI7QUFDUCxXQUFXLGtEQUFNLEdBQUc7QUFDcEI7QUFDTztBQUNQLHFEQUFxRCwrQkFBK0I7QUFDcEY7QUFDTztBQUNQO0FBQ0E7QUFDTztBQUNQO0FBQ0EsK0NBQStDLGdCQUFnQjtBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYXJjYXN0ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvdXRpbHMvb2JqZWN0VXRpbHMuanM/OWRiZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhc3NpZ24gfSBmcm9tICcuL3BvbHlmaWxscyc7XG5leHBvcnQgZnVuY3Rpb24gc2hhbGxvd0Nsb25lKG9iamVjdCkge1xuICAgIHJldHVybiBhc3NpZ24oe30sIG9iamVjdCk7XG59XG5leHBvcnQgZnVuY3Rpb24gb2JqZWN0SGFzVmFsdWUob2JqZWN0LCB2YWx1ZSkge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhvYmplY3QpLnNvbWUoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gb2JqZWN0W2tleV0gPT09IHZhbHVlOyB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0VtcHR5T2JqZWN0KG9iamVjdCkge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhvYmplY3QpLmxlbmd0aCA9PT0gMDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBtYXBWYWx1ZXMob2JqZWN0LCBmbikge1xuICAgIHZhciBuZXdPYmplY3QgPSB7fTtcbiAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gT2JqZWN0LmtleXMob2JqZWN0KTsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgdmFyIGtleSA9IF9hW19pXTtcbiAgICAgICAgbmV3T2JqZWN0W2tleV0gPSBmbihvYmplY3Rba2V5XSk7XG4gICAgfVxuICAgIHJldHVybiBuZXdPYmplY3Q7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vYmplY3RVdGlscy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/objectUtils.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/polyfills.js":
/*!*****************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/tools/utils/polyfills.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   arrayFrom: () => (/* binding */ arrayFrom),\n/* harmony export */   assign: () => (/* binding */ assign),\n/* harmony export */   cssEscape: () => (/* binding */ cssEscape),\n/* harmony export */   elementMatches: () => (/* binding */ elementMatches),\n/* harmony export */   endsWith: () => (/* binding */ endsWith),\n/* harmony export */   find: () => (/* binding */ find),\n/* harmony export */   findLast: () => (/* binding */ findLast),\n/* harmony export */   forEach: () => (/* binding */ forEach),\n/* harmony export */   includes: () => (/* binding */ includes),\n/* harmony export */   objectEntries: () => (/* binding */ objectEntries),\n/* harmony export */   objectValues: () => (/* binding */ objectValues),\n/* harmony export */   startsWith: () => (/* binding */ startsWith)\n/* harmony export */ });\nfunction includes(candidate, search) {\n    return candidate.indexOf(search) !== -1;\n}\nfunction arrayFrom(arrayLike) {\n    if (Array.from) {\n        return Array.from(arrayLike);\n    }\n    var array = [];\n    if (arrayLike instanceof Set) {\n        arrayLike.forEach(function (item) { return array.push(item); });\n    }\n    else {\n        for (var i = 0; i < arrayLike.length; i++) {\n            array.push(arrayLike[i]);\n        }\n    }\n    return array;\n}\nfunction find(array, predicate) {\n    for (var i = 0; i < array.length; i += 1) {\n        var item = array[i];\n        if (predicate(item, i)) {\n            return item;\n        }\n    }\n    return undefined;\n}\nfunction findLast(array, predicate) {\n    for (var i = array.length - 1; i >= 0; i -= 1) {\n        var item = array[i];\n        if (predicate(item, i, array)) {\n            return item;\n        }\n    }\n    return undefined;\n}\nfunction forEach(list, callback) {\n    Array.prototype.forEach.call(list, callback);\n}\nfunction objectValues(object) {\n    return Object.keys(object).map(function (key) { return object[key]; });\n}\nfunction objectEntries(object) {\n    return Object.keys(object).map(function (key) { return [key, object[key]]; });\n}\nfunction startsWith(candidate, search) {\n    return candidate.slice(0, search.length) === search;\n}\nfunction endsWith(candidate, search) {\n    return candidate.slice(-search.length) === search;\n}\nfunction elementMatches(element, selector) {\n    if (element.matches) {\n        return element.matches(selector);\n    }\n    // IE11 support\n    if (element.msMatchesSelector) {\n        return element.msMatchesSelector(selector);\n    }\n    return false;\n}\n// https://github.com/jquery/jquery/blob/a684e6ba836f7c553968d7d026ed7941e1a612d8/src/selector/escapeSelector.js\nfunction cssEscape(str) {\n    if (window.CSS && window.CSS.escape) {\n        return window.CSS.escape(str);\n    }\n    // eslint-disable-next-line no-control-regex\n    return str.replace(/([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\x80-\\uFFFF\\w-]/g, function (ch, asCodePoint) {\n        if (asCodePoint) {\n            // U+0000 NULL becomes U+FFFD REPLACEMENT CHARACTER\n            if (ch === '\\0') {\n                return '\\uFFFD';\n            }\n            // Control characters and (dependent upon position) numbers get escaped as code points\n            return \"\".concat(ch.slice(0, -1), \"\\\\\").concat(ch.charCodeAt(ch.length - 1).toString(16), \" \");\n        }\n        // Other potentially-special ASCII characters get backslash-escaped\n        return \"\\\\\".concat(ch);\n    });\n}\nfunction assign(target) {\n    var toAssign = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        toAssign[_i - 1] = arguments[_i];\n    }\n    toAssign.forEach(function (source) {\n        for (var key in source) {\n            if (Object.prototype.hasOwnProperty.call(source, key)) {\n                target[key] = source[key];\n            }\n        }\n    });\n    return target;\n}\n//# sourceMappingURL=polyfills.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvdXRpbHMvcG9seWZpbGxzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QywwQkFBMEI7QUFDdEU7QUFDQTtBQUNBLHdCQUF3QixzQkFBc0I7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1Asb0JBQW9CLGtCQUFrQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsbUNBQW1DLFFBQVE7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDTztBQUNQLG9EQUFvRCxxQkFBcUI7QUFDekU7QUFDTztBQUNQLG9EQUFvRCw0QkFBNEI7QUFDaEY7QUFDTztBQUNQO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDTztBQUNQO0FBQ0EscUJBQXFCLHVCQUF1QjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhcmNhc3Rlci8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS90b29scy91dGlscy9wb2x5ZmlsbHMuanM/NDg5ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gaW5jbHVkZXMoY2FuZGlkYXRlLCBzZWFyY2gpIHtcbiAgICByZXR1cm4gY2FuZGlkYXRlLmluZGV4T2Yoc2VhcmNoKSAhPT0gLTE7XG59XG5leHBvcnQgZnVuY3Rpb24gYXJyYXlGcm9tKGFycmF5TGlrZSkge1xuICAgIGlmIChBcnJheS5mcm9tKSB7XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKGFycmF5TGlrZSk7XG4gICAgfVxuICAgIHZhciBhcnJheSA9IFtdO1xuICAgIGlmIChhcnJheUxpa2UgaW5zdGFuY2VvZiBTZXQpIHtcbiAgICAgICAgYXJyYXlMaWtlLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsgcmV0dXJuIGFycmF5LnB1c2goaXRlbSk7IH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheUxpa2UubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFycmF5LnB1c2goYXJyYXlMaWtlW2ldKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXJyYXk7XG59XG5leHBvcnQgZnVuY3Rpb24gZmluZChhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICB2YXIgaXRlbSA9IGFycmF5W2ldO1xuICAgICAgICBpZiAocHJlZGljYXRlKGl0ZW0sIGkpKSB7XG4gICAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZpbmRMYXN0KGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICBmb3IgKHZhciBpID0gYXJyYXkubGVuZ3RoIC0gMTsgaSA+PSAwOyBpIC09IDEpIHtcbiAgICAgICAgdmFyIGl0ZW0gPSBhcnJheVtpXTtcbiAgICAgICAgaWYgKHByZWRpY2F0ZShpdGVtLCBpLCBhcnJheSkpIHtcbiAgICAgICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5leHBvcnQgZnVuY3Rpb24gZm9yRWFjaChsaXN0LCBjYWxsYmFjaykge1xuICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwobGlzdCwgY2FsbGJhY2spO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG9iamVjdFZhbHVlcyhvYmplY3QpIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMob2JqZWN0KS5tYXAoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gb2JqZWN0W2tleV07IH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG9iamVjdEVudHJpZXMob2JqZWN0KSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKG9iamVjdCkubWFwKGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIFtrZXksIG9iamVjdFtrZXldXTsgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gc3RhcnRzV2l0aChjYW5kaWRhdGUsIHNlYXJjaCkge1xuICAgIHJldHVybiBjYW5kaWRhdGUuc2xpY2UoMCwgc2VhcmNoLmxlbmd0aCkgPT09IHNlYXJjaDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBlbmRzV2l0aChjYW5kaWRhdGUsIHNlYXJjaCkge1xuICAgIHJldHVybiBjYW5kaWRhdGUuc2xpY2UoLXNlYXJjaC5sZW5ndGgpID09PSBzZWFyY2g7XG59XG5leHBvcnQgZnVuY3Rpb24gZWxlbWVudE1hdGNoZXMoZWxlbWVudCwgc2VsZWN0b3IpIHtcbiAgICBpZiAoZWxlbWVudC5tYXRjaGVzKSB7XG4gICAgICAgIHJldHVybiBlbGVtZW50Lm1hdGNoZXMoc2VsZWN0b3IpO1xuICAgIH1cbiAgICAvLyBJRTExIHN1cHBvcnRcbiAgICBpZiAoZWxlbWVudC5tc01hdGNoZXNTZWxlY3Rvcikge1xuICAgICAgICByZXR1cm4gZWxlbWVudC5tc01hdGNoZXNTZWxlY3RvcihzZWxlY3Rvcik7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9qcXVlcnkvanF1ZXJ5L2Jsb2IvYTY4NGU2YmE4MzZmN2M1NTM5NjhkN2QwMjZlZDc5NDFlMWE2MTJkOC9zcmMvc2VsZWN0b3IvZXNjYXBlU2VsZWN0b3IuanNcbmV4cG9ydCBmdW5jdGlvbiBjc3NFc2NhcGUoc3RyKSB7XG4gICAgaWYgKHdpbmRvdy5DU1MgJiYgd2luZG93LkNTUy5lc2NhcGUpIHtcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5DU1MuZXNjYXBlKHN0cik7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb250cm9sLXJlZ2V4XG4gICAgcmV0dXJuIHN0ci5yZXBsYWNlKC8oW1xcMC1cXHgxZlxceDdmXXxeLT9cXGQpfF4tJHxbXlxceDgwLVxcdUZGRkZcXHctXS9nLCBmdW5jdGlvbiAoY2gsIGFzQ29kZVBvaW50KSB7XG4gICAgICAgIGlmIChhc0NvZGVQb2ludCkge1xuICAgICAgICAgICAgLy8gVSswMDAwIE5VTEwgYmVjb21lcyBVK0ZGRkQgUkVQTEFDRU1FTlQgQ0hBUkFDVEVSXG4gICAgICAgICAgICBpZiAoY2ggPT09ICdcXDAnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdcXHVGRkZEJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIENvbnRyb2wgY2hhcmFjdGVycyBhbmQgKGRlcGVuZGVudCB1cG9uIHBvc2l0aW9uKSBudW1iZXJzIGdldCBlc2NhcGVkIGFzIGNvZGUgcG9pbnRzXG4gICAgICAgICAgICByZXR1cm4gXCJcIi5jb25jYXQoY2guc2xpY2UoMCwgLTEpLCBcIlxcXFxcIikuY29uY2F0KGNoLmNoYXJDb2RlQXQoY2gubGVuZ3RoIC0gMSkudG9TdHJpbmcoMTYpLCBcIiBcIik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gT3RoZXIgcG90ZW50aWFsbHktc3BlY2lhbCBBU0NJSSBjaGFyYWN0ZXJzIGdldCBiYWNrc2xhc2gtZXNjYXBlZFxuICAgICAgICByZXR1cm4gXCJcXFxcXCIuY29uY2F0KGNoKTtcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhc3NpZ24odGFyZ2V0KSB7XG4gICAgdmFyIHRvQXNzaWduID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgdG9Bc3NpZ25bX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHRvQXNzaWduLmZvckVhY2goZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gdGFyZ2V0O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cG9seWZpbGxzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/polyfills.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/responseUtils.js":
/*!*********************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/tools/utils/responseUtils.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isServerError: () => (/* binding */ isServerError),\n/* harmony export */   tryToClone: () => (/* binding */ tryToClone)\n/* harmony export */ });\nfunction isServerError(status) {\n    return status >= 500;\n}\nfunction tryToClone(response) {\n    try {\n        return response.clone();\n    }\n    catch (e) {\n        // clone can throw if the response has already been used by another instrumentation or is disturbed\n        return;\n    }\n}\n//# sourceMappingURL=responseUtils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvdXRpbHMvcmVzcG9uc2VVdGlscy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFyY2FzdGVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLWNvcmUvZXNtL3Rvb2xzL3V0aWxzL3Jlc3BvbnNlVXRpbHMuanM/Y2U2OCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gaXNTZXJ2ZXJFcnJvcihzdGF0dXMpIHtcbiAgICByZXR1cm4gc3RhdHVzID49IDUwMDtcbn1cbmV4cG9ydCBmdW5jdGlvbiB0cnlUb0Nsb25lKHJlc3BvbnNlKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmNsb25lKCk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIC8vIGNsb25lIGNhbiB0aHJvdyBpZiB0aGUgcmVzcG9uc2UgaGFzIGFscmVhZHkgYmVlbiB1c2VkIGJ5IGFub3RoZXIgaW5zdHJ1bWVudGF0aW9uIG9yIGlzIGRpc3R1cmJlZFxuICAgICAgICByZXR1cm47XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVzcG9uc2VVdGlscy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/responseUtils.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/stringUtils.js":
/*!*******************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/tools/utils/stringUtils.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   findCommaSeparatedValue: () => (/* binding */ findCommaSeparatedValue),\n/* harmony export */   generateUUID: () => (/* binding */ generateUUID),\n/* harmony export */   safeTruncate: () => (/* binding */ safeTruncate)\n/* harmony export */ });\n/**\n * UUID v4\n * from https://gist.github.com/jed/982883\n */\nfunction generateUUID(placeholder) {\n    return placeholder\n        ? // eslint-disable-next-line  no-bitwise\n            (parseInt(placeholder, 10) ^ ((Math.random() * 16) >> (parseInt(placeholder, 10) / 4))).toString(16)\n        : \"\".concat(1e7, \"-\").concat(1e3, \"-\").concat(4e3, \"-\").concat(8e3, \"-\").concat(1e11).replace(/[018]/g, generateUUID);\n}\nfunction findCommaSeparatedValue(rawString, name) {\n    var regex = new RegExp(\"(?:^|;)\\\\s*\".concat(name, \"\\\\s*=\\\\s*([^;]+)\"));\n    var matches = regex.exec(rawString);\n    return matches ? matches[1] : undefined;\n}\nfunction safeTruncate(candidate, length, suffix) {\n    if (suffix === void 0) { suffix = ''; }\n    var lastChar = candidate.charCodeAt(length - 1);\n    var isLastCharSurrogatePair = lastChar >= 0xd800 && lastChar <= 0xdbff;\n    var correctedLength = isLastCharSurrogatePair ? length + 1 : length;\n    if (candidate.length <= correctedLength) {\n        return candidate;\n    }\n    return \"\".concat(candidate.slice(0, correctedLength)).concat(suffix);\n}\n//# sourceMappingURL=stringUtils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvdXRpbHMvc3RyaW5nVXRpbHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLGtDQUFrQyxrQ0FBa0M7QUFDcEU7QUFDQTtBQUNBO0FBQ087QUFDUCw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFyY2FzdGVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLWNvcmUvZXNtL3Rvb2xzL3V0aWxzL3N0cmluZ1V0aWxzLmpzP2ExMTciXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBVVUlEIHY0XG4gKiBmcm9tIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL2plZC85ODI4ODNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlVVVJRChwbGFjZWhvbGRlcikge1xuICAgIHJldHVybiBwbGFjZWhvbGRlclxuICAgICAgICA/IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSAgbm8tYml0d2lzZVxuICAgICAgICAgICAgKHBhcnNlSW50KHBsYWNlaG9sZGVyLCAxMCkgXiAoKE1hdGgucmFuZG9tKCkgKiAxNikgPj4gKHBhcnNlSW50KHBsYWNlaG9sZGVyLCAxMCkgLyA0KSkpLnRvU3RyaW5nKDE2KVxuICAgICAgICA6IFwiXCIuY29uY2F0KDFlNywgXCItXCIpLmNvbmNhdCgxZTMsIFwiLVwiKS5jb25jYXQoNGUzLCBcIi1cIikuY29uY2F0KDhlMywgXCItXCIpLmNvbmNhdCgxZTExKS5yZXBsYWNlKC9bMDE4XS9nLCBnZW5lcmF0ZVVVSUQpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZpbmRDb21tYVNlcGFyYXRlZFZhbHVlKHJhd1N0cmluZywgbmFtZSkge1xuICAgIHZhciByZWdleCA9IG5ldyBSZWdFeHAoXCIoPzpefDspXFxcXHMqXCIuY29uY2F0KG5hbWUsIFwiXFxcXHMqPVxcXFxzKihbXjtdKylcIikpO1xuICAgIHZhciBtYXRjaGVzID0gcmVnZXguZXhlYyhyYXdTdHJpbmcpO1xuICAgIHJldHVybiBtYXRjaGVzID8gbWF0Y2hlc1sxXSA6IHVuZGVmaW5lZDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzYWZlVHJ1bmNhdGUoY2FuZGlkYXRlLCBsZW5ndGgsIHN1ZmZpeCkge1xuICAgIGlmIChzdWZmaXggPT09IHZvaWQgMCkgeyBzdWZmaXggPSAnJzsgfVxuICAgIHZhciBsYXN0Q2hhciA9IGNhbmRpZGF0ZS5jaGFyQ29kZUF0KGxlbmd0aCAtIDEpO1xuICAgIHZhciBpc0xhc3RDaGFyU3Vycm9nYXRlUGFpciA9IGxhc3RDaGFyID49IDB4ZDgwMCAmJiBsYXN0Q2hhciA8PSAweGRiZmY7XG4gICAgdmFyIGNvcnJlY3RlZExlbmd0aCA9IGlzTGFzdENoYXJTdXJyb2dhdGVQYWlyID8gbGVuZ3RoICsgMSA6IGxlbmd0aDtcbiAgICBpZiAoY2FuZGlkYXRlLmxlbmd0aCA8PSBjb3JyZWN0ZWRMZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGNhbmRpZGF0ZTtcbiAgICB9XG4gICAgcmV0dXJuIFwiXCIuY29uY2F0KGNhbmRpZGF0ZS5zbGljZSgwLCBjb3JyZWN0ZWRMZW5ndGgpKS5jb25jYXQoc3VmZml4KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0cmluZ1V0aWxzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/stringUtils.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js":
/*!*****************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ONE_DAY: () => (/* binding */ ONE_DAY),\n/* harmony export */   ONE_HOUR: () => (/* binding */ ONE_HOUR),\n/* harmony export */   ONE_MINUTE: () => (/* binding */ ONE_MINUTE),\n/* harmony export */   ONE_SECOND: () => (/* binding */ ONE_SECOND),\n/* harmony export */   ONE_YEAR: () => (/* binding */ ONE_YEAR),\n/* harmony export */   addDuration: () => (/* binding */ addDuration),\n/* harmony export */   clocksNow: () => (/* binding */ clocksNow),\n/* harmony export */   clocksOrigin: () => (/* binding */ clocksOrigin),\n/* harmony export */   currentDrift: () => (/* binding */ currentDrift),\n/* harmony export */   dateNow: () => (/* binding */ dateNow),\n/* harmony export */   elapsed: () => (/* binding */ elapsed),\n/* harmony export */   getRelativeTime: () => (/* binding */ getRelativeTime),\n/* harmony export */   getTimeStamp: () => (/* binding */ getTimeStamp),\n/* harmony export */   looksLikeRelativeTime: () => (/* binding */ looksLikeRelativeTime),\n/* harmony export */   relativeNow: () => (/* binding */ relativeNow),\n/* harmony export */   relativeToClocks: () => (/* binding */ relativeToClocks),\n/* harmony export */   resetNavigationStart: () => (/* binding */ resetNavigationStart),\n/* harmony export */   timeStampNow: () => (/* binding */ timeStampNow),\n/* harmony export */   toServerDuration: () => (/* binding */ toServerDuration)\n/* harmony export */ });\n/* harmony import */ var _numberUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./numberUtils */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/numberUtils.js\");\n\nvar ONE_SECOND = 1000;\nvar ONE_MINUTE = 60 * ONE_SECOND;\nvar ONE_HOUR = 60 * ONE_MINUTE;\nvar ONE_DAY = 24 * ONE_HOUR;\nvar ONE_YEAR = 365 * ONE_DAY;\nfunction relativeToClocks(relative) {\n    return { relative: relative, timeStamp: getCorrectedTimeStamp(relative) };\n}\nfunction getCorrectedTimeStamp(relativeTime) {\n    var correctedOrigin = (dateNow() - performance.now());\n    // apply correction only for positive drift\n    if (correctedOrigin > getNavigationStart()) {\n        return Math.round(addDuration(correctedOrigin, relativeTime));\n    }\n    return getTimeStamp(relativeTime);\n}\nfunction currentDrift() {\n    return Math.round(dateNow() - addDuration(getNavigationStart(), performance.now()));\n}\nfunction toServerDuration(duration) {\n    if (!(0,_numberUtils__WEBPACK_IMPORTED_MODULE_0__.isNumber)(duration)) {\n        return duration;\n    }\n    return (0,_numberUtils__WEBPACK_IMPORTED_MODULE_0__.round)(duration * 1e6, 0);\n}\nfunction dateNow() {\n    // Do not use `Date.now` because sometimes websites are wrongly \"polyfilling\" it. For example, we\n    // had some users using a very old version of `datejs`, which patched `Date.now` to return a Date\n    // instance instead of a timestamp[1]. Those users are unlikely to fix this, so let's handle this\n    // case ourselves.\n    // [1]: https://github.com/datejs/Datejs/blob/97f5c7c58c5bc5accdab8aa7602b6ac56462d778/src/core-debug.js#L14-L16\n    return new Date().getTime();\n}\nfunction timeStampNow() {\n    return dateNow();\n}\nfunction relativeNow() {\n    return performance.now();\n}\nfunction clocksNow() {\n    return { relative: relativeNow(), timeStamp: timeStampNow() };\n}\nfunction clocksOrigin() {\n    return { relative: 0, timeStamp: getNavigationStart() };\n}\nfunction elapsed(start, end) {\n    return (end - start);\n}\nfunction addDuration(a, b) {\n    return a + b;\n}\n/**\n * Get the time since the navigation was started.\n *\n * Note: this does not use `performance.timeOrigin` because it doesn't seem to reflect the actual\n * time on which the navigation has started: it may be much farther in the past, at least in Firefox 71.\n * Related issue in Firefox: https://bugzilla.mozilla.org/show_bug.cgi?id=1429926\n */\nfunction getRelativeTime(timestamp) {\n    return (timestamp - getNavigationStart());\n}\nfunction getTimeStamp(relativeTime) {\n    return Math.round(addDuration(getNavigationStart(), relativeTime));\n}\nfunction looksLikeRelativeTime(time) {\n    return time < ONE_YEAR;\n}\n/**\n * Navigation start slightly change on some rare cases\n */\nvar navigationStart;\nfunction getNavigationStart() {\n    if (navigationStart === undefined) {\n        navigationStart = performance.timing.navigationStart;\n    }\n    return navigationStart;\n}\nfunction resetNavigationStart() {\n    navigationStart = undefined;\n}\n//# sourceMappingURL=timeUtils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvdXRpbHMvdGltZVV0aWxzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQWdEO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNQLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDTztBQUNQLFNBQVMsc0RBQVE7QUFDakI7QUFDQTtBQUNBLFdBQVcsbURBQUs7QUFDaEI7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUCxhQUFhO0FBQ2I7QUFDTztBQUNQLGFBQWE7QUFDYjtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhcmNhc3Rlci8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS90b29scy91dGlscy90aW1lVXRpbHMuanM/ZjllYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc051bWJlciwgcm91bmQgfSBmcm9tICcuL251bWJlclV0aWxzJztcbmV4cG9ydCB2YXIgT05FX1NFQ09ORCA9IDEwMDA7XG5leHBvcnQgdmFyIE9ORV9NSU5VVEUgPSA2MCAqIE9ORV9TRUNPTkQ7XG5leHBvcnQgdmFyIE9ORV9IT1VSID0gNjAgKiBPTkVfTUlOVVRFO1xuZXhwb3J0IHZhciBPTkVfREFZID0gMjQgKiBPTkVfSE9VUjtcbmV4cG9ydCB2YXIgT05FX1lFQVIgPSAzNjUgKiBPTkVfREFZO1xuZXhwb3J0IGZ1bmN0aW9uIHJlbGF0aXZlVG9DbG9ja3MocmVsYXRpdmUpIHtcbiAgICByZXR1cm4geyByZWxhdGl2ZTogcmVsYXRpdmUsIHRpbWVTdGFtcDogZ2V0Q29ycmVjdGVkVGltZVN0YW1wKHJlbGF0aXZlKSB9O1xufVxuZnVuY3Rpb24gZ2V0Q29ycmVjdGVkVGltZVN0YW1wKHJlbGF0aXZlVGltZSkge1xuICAgIHZhciBjb3JyZWN0ZWRPcmlnaW4gPSAoZGF0ZU5vdygpIC0gcGVyZm9ybWFuY2Uubm93KCkpO1xuICAgIC8vIGFwcGx5IGNvcnJlY3Rpb24gb25seSBmb3IgcG9zaXRpdmUgZHJpZnRcbiAgICBpZiAoY29ycmVjdGVkT3JpZ2luID4gZ2V0TmF2aWdhdGlvblN0YXJ0KCkpIHtcbiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQoYWRkRHVyYXRpb24oY29ycmVjdGVkT3JpZ2luLCByZWxhdGl2ZVRpbWUpKTtcbiAgICB9XG4gICAgcmV0dXJuIGdldFRpbWVTdGFtcChyZWxhdGl2ZVRpbWUpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGN1cnJlbnREcmlmdCgpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChkYXRlTm93KCkgLSBhZGREdXJhdGlvbihnZXROYXZpZ2F0aW9uU3RhcnQoKSwgcGVyZm9ybWFuY2Uubm93KCkpKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB0b1NlcnZlckR1cmF0aW9uKGR1cmF0aW9uKSB7XG4gICAgaWYgKCFpc051bWJlcihkdXJhdGlvbikpIHtcbiAgICAgICAgcmV0dXJuIGR1cmF0aW9uO1xuICAgIH1cbiAgICByZXR1cm4gcm91bmQoZHVyYXRpb24gKiAxZTYsIDApO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGRhdGVOb3coKSB7XG4gICAgLy8gRG8gbm90IHVzZSBgRGF0ZS5ub3dgIGJlY2F1c2Ugc29tZXRpbWVzIHdlYnNpdGVzIGFyZSB3cm9uZ2x5IFwicG9seWZpbGxpbmdcIiBpdC4gRm9yIGV4YW1wbGUsIHdlXG4gICAgLy8gaGFkIHNvbWUgdXNlcnMgdXNpbmcgYSB2ZXJ5IG9sZCB2ZXJzaW9uIG9mIGBkYXRlanNgLCB3aGljaCBwYXRjaGVkIGBEYXRlLm5vd2AgdG8gcmV0dXJuIGEgRGF0ZVxuICAgIC8vIGluc3RhbmNlIGluc3RlYWQgb2YgYSB0aW1lc3RhbXBbMV0uIFRob3NlIHVzZXJzIGFyZSB1bmxpa2VseSB0byBmaXggdGhpcywgc28gbGV0J3MgaGFuZGxlIHRoaXNcbiAgICAvLyBjYXNlIG91cnNlbHZlcy5cbiAgICAvLyBbMV06IGh0dHBzOi8vZ2l0aHViLmNvbS9kYXRlanMvRGF0ZWpzL2Jsb2IvOTdmNWM3YzU4YzViYzVhY2NkYWI4YWE3NjAyYjZhYzU2NDYyZDc3OC9zcmMvY29yZS1kZWJ1Zy5qcyNMMTQtTDE2XG4gICAgcmV0dXJuIG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHRpbWVTdGFtcE5vdygpIHtcbiAgICByZXR1cm4gZGF0ZU5vdygpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlbGF0aXZlTm93KCkge1xuICAgIHJldHVybiBwZXJmb3JtYW5jZS5ub3coKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjbG9ja3NOb3coKSB7XG4gICAgcmV0dXJuIHsgcmVsYXRpdmU6IHJlbGF0aXZlTm93KCksIHRpbWVTdGFtcDogdGltZVN0YW1wTm93KCkgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjbG9ja3NPcmlnaW4oKSB7XG4gICAgcmV0dXJuIHsgcmVsYXRpdmU6IDAsIHRpbWVTdGFtcDogZ2V0TmF2aWdhdGlvblN0YXJ0KCkgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBlbGFwc2VkKHN0YXJ0LCBlbmQpIHtcbiAgICByZXR1cm4gKGVuZCAtIHN0YXJ0KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhZGREdXJhdGlvbihhLCBiKSB7XG4gICAgcmV0dXJuIGEgKyBiO1xufVxuLyoqXG4gKiBHZXQgdGhlIHRpbWUgc2luY2UgdGhlIG5hdmlnYXRpb24gd2FzIHN0YXJ0ZWQuXG4gKlxuICogTm90ZTogdGhpcyBkb2VzIG5vdCB1c2UgYHBlcmZvcm1hbmNlLnRpbWVPcmlnaW5gIGJlY2F1c2UgaXQgZG9lc24ndCBzZWVtIHRvIHJlZmxlY3QgdGhlIGFjdHVhbFxuICogdGltZSBvbiB3aGljaCB0aGUgbmF2aWdhdGlvbiBoYXMgc3RhcnRlZDogaXQgbWF5IGJlIG11Y2ggZmFydGhlciBpbiB0aGUgcGFzdCwgYXQgbGVhc3QgaW4gRmlyZWZveCA3MS5cbiAqIFJlbGF0ZWQgaXNzdWUgaW4gRmlyZWZveDogaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTQyOTkyNlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmVsYXRpdmVUaW1lKHRpbWVzdGFtcCkge1xuICAgIHJldHVybiAodGltZXN0YW1wIC0gZ2V0TmF2aWdhdGlvblN0YXJ0KCkpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldFRpbWVTdGFtcChyZWxhdGl2ZVRpbWUpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChhZGREdXJhdGlvbihnZXROYXZpZ2F0aW9uU3RhcnQoKSwgcmVsYXRpdmVUaW1lKSk7XG59XG5leHBvcnQgZnVuY3Rpb24gbG9va3NMaWtlUmVsYXRpdmVUaW1lKHRpbWUpIHtcbiAgICByZXR1cm4gdGltZSA8IE9ORV9ZRUFSO1xufVxuLyoqXG4gKiBOYXZpZ2F0aW9uIHN0YXJ0IHNsaWdodGx5IGNoYW5nZSBvbiBzb21lIHJhcmUgY2FzZXNcbiAqL1xudmFyIG5hdmlnYXRpb25TdGFydDtcbmZ1bmN0aW9uIGdldE5hdmlnYXRpb25TdGFydCgpIHtcbiAgICBpZiAobmF2aWdhdGlvblN0YXJ0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbmF2aWdhdGlvblN0YXJ0ID0gcGVyZm9ybWFuY2UudGltaW5nLm5hdmlnYXRpb25TdGFydDtcbiAgICB9XG4gICAgcmV0dXJuIG5hdmlnYXRpb25TdGFydDtcbn1cbmV4cG9ydCBmdW5jdGlvbiByZXNldE5hdmlnYXRpb25TdGFydCgpIHtcbiAgICBuYXZpZ2F0aW9uU3RhcnQgPSB1bmRlZmluZWQ7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10aW1lVXRpbHMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/typeUtils.js":
/*!*****************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/tools/utils/typeUtils.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getType: () => (/* binding */ getType)\n/* harmony export */ });\n/**\n * Similar to `typeof`, but distinguish plain objects from `null` and arrays\n */\nfunction getType(value) {\n    if (value === null) {\n        return 'null';\n    }\n    if (Array.isArray(value)) {\n        return 'array';\n    }\n    return typeof value;\n}\n//# sourceMappingURL=typeUtils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvdXRpbHMvdHlwZVV0aWxzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhcmNhc3Rlci8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS90b29scy91dGlscy90eXBlVXRpbHMuanM/ZjQ5OCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFNpbWlsYXIgdG8gYHR5cGVvZmAsIGJ1dCBkaXN0aW5ndWlzaCBwbGFpbiBvYmplY3RzIGZyb20gYG51bGxgIGFuZCBhcnJheXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFR5cGUodmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuICdudWxsJztcbiAgICB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiAnYXJyYXknO1xuICAgIH1cbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHlwZVV0aWxzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/typeUtils.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/urlPolyfill.js":
/*!*******************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/tools/utils/urlPolyfill.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   buildUrl: () => (/* binding */ buildUrl),\n/* harmony export */   getHash: () => (/* binding */ getHash),\n/* harmony export */   getLinkElementOrigin: () => (/* binding */ getLinkElementOrigin),\n/* harmony export */   getLocationOrigin: () => (/* binding */ getLocationOrigin),\n/* harmony export */   getOrigin: () => (/* binding */ getOrigin),\n/* harmony export */   getPathName: () => (/* binding */ getPathName),\n/* harmony export */   getSearch: () => (/* binding */ getSearch),\n/* harmony export */   haveSameOrigin: () => (/* binding */ haveSameOrigin),\n/* harmony export */   isValidUrl: () => (/* binding */ isValidUrl),\n/* harmony export */   normalizeUrl: () => (/* binding */ normalizeUrl)\n/* harmony export */ });\n/* harmony import */ var _serialisation_jsonStringify__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../serialisation/jsonStringify */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/serialisation/jsonStringify.js\");\n\nfunction normalizeUrl(url) {\n    return buildUrl(url, getLocationOrigin()).href;\n}\nfunction isValidUrl(url) {\n    try {\n        return !!buildUrl(url);\n    }\n    catch (_a) {\n        return false;\n    }\n}\nfunction haveSameOrigin(url1, url2) {\n    return getOrigin(url1) === getOrigin(url2);\n}\nfunction getOrigin(url) {\n    return getLinkElementOrigin(buildUrl(url));\n}\nfunction getPathName(url) {\n    var pathname = buildUrl(url).pathname;\n    return pathname[0] === '/' ? pathname : \"/\".concat(pathname);\n}\nfunction getSearch(url) {\n    return buildUrl(url).search;\n}\nfunction getHash(url) {\n    return buildUrl(url).hash;\n}\nfunction buildUrl(url, base) {\n    var supportedURL = getSupportedUrl();\n    if (supportedURL) {\n        try {\n            return base !== undefined ? new supportedURL(url, base) : new supportedURL(url);\n        }\n        catch (error) {\n            throw new Error(\"Failed to construct URL: \".concat(String(error), \" \").concat((0,_serialisation_jsonStringify__WEBPACK_IMPORTED_MODULE_0__.jsonStringify)({ url: url, base: base })));\n        }\n    }\n    if (base === undefined && !/:/.test(url)) {\n        throw new Error(\"Invalid URL: '\".concat(url, \"'\"));\n    }\n    var doc = document;\n    var anchorElement = doc.createElement('a');\n    if (base !== undefined) {\n        doc = document.implementation.createHTMLDocument('');\n        var baseElement = doc.createElement('base');\n        baseElement.href = base;\n        doc.head.appendChild(baseElement);\n        doc.body.appendChild(anchorElement);\n    }\n    anchorElement.href = url;\n    return anchorElement;\n}\nvar originalURL = URL;\nvar isURLSupported;\nfunction getSupportedUrl() {\n    if (isURLSupported === undefined) {\n        try {\n            var url = new originalURL('http://test/path');\n            isURLSupported = url.href === 'http://test/path';\n        }\n        catch (_a) {\n            isURLSupported = false;\n        }\n    }\n    return isURLSupported ? originalURL : undefined;\n}\nfunction getLocationOrigin() {\n    return getLinkElementOrigin(window.location);\n}\n/**\n * IE fallback\n * https://developer.mozilla.org/en-US/docs/Web/API/HTMLHyperlinkElementUtils/origin\n */\nfunction getLinkElementOrigin(element) {\n    if (element.origin) {\n        return element.origin;\n    }\n    var sanitizedHost = element.host.replace(/(:80|:443)$/, '');\n    return \"\".concat(element.protocol, \"//\").concat(sanitizedHost);\n}\n//# sourceMappingURL=urlPolyfill.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvdXRpbHMvdXJsUG9seWZpbGwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBK0Q7QUFDeEQ7QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwRkFBMEYsMkVBQWEsR0FBRyxzQkFBc0I7QUFDaEk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYXJjYXN0ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvdXRpbHMvdXJsUG9seWZpbGwuanM/ZTY4MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBqc29uU3RyaW5naWZ5IH0gZnJvbSAnLi4vc2VyaWFsaXNhdGlvbi9qc29uU3RyaW5naWZ5JztcbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemVVcmwodXJsKSB7XG4gICAgcmV0dXJuIGJ1aWxkVXJsKHVybCwgZ2V0TG9jYXRpb25PcmlnaW4oKSkuaHJlZjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1ZhbGlkVXJsKHVybCkge1xuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiAhIWJ1aWxkVXJsKHVybCk7XG4gICAgfVxuICAgIGNhdGNoIChfYSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGhhdmVTYW1lT3JpZ2luKHVybDEsIHVybDIpIHtcbiAgICByZXR1cm4gZ2V0T3JpZ2luKHVybDEpID09PSBnZXRPcmlnaW4odXJsMik7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0T3JpZ2luKHVybCkge1xuICAgIHJldHVybiBnZXRMaW5rRWxlbWVudE9yaWdpbihidWlsZFVybCh1cmwpKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRQYXRoTmFtZSh1cmwpIHtcbiAgICB2YXIgcGF0aG5hbWUgPSBidWlsZFVybCh1cmwpLnBhdGhuYW1lO1xuICAgIHJldHVybiBwYXRobmFtZVswXSA9PT0gJy8nID8gcGF0aG5hbWUgOiBcIi9cIi5jb25jYXQocGF0aG5hbWUpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldFNlYXJjaCh1cmwpIHtcbiAgICByZXR1cm4gYnVpbGRVcmwodXJsKS5zZWFyY2g7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0SGFzaCh1cmwpIHtcbiAgICByZXR1cm4gYnVpbGRVcmwodXJsKS5oYXNoO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkVXJsKHVybCwgYmFzZSkge1xuICAgIHZhciBzdXBwb3J0ZWRVUkwgPSBnZXRTdXBwb3J0ZWRVcmwoKTtcbiAgICBpZiAoc3VwcG9ydGVkVVJMKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gYmFzZSAhPT0gdW5kZWZpbmVkID8gbmV3IHN1cHBvcnRlZFVSTCh1cmwsIGJhc2UpIDogbmV3IHN1cHBvcnRlZFVSTCh1cmwpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGNvbnN0cnVjdCBVUkw6IFwiLmNvbmNhdChTdHJpbmcoZXJyb3IpLCBcIiBcIikuY29uY2F0KGpzb25TdHJpbmdpZnkoeyB1cmw6IHVybCwgYmFzZTogYmFzZSB9KSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChiYXNlID09PSB1bmRlZmluZWQgJiYgIS86Ly50ZXN0KHVybCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBVUkw6ICdcIi5jb25jYXQodXJsLCBcIidcIikpO1xuICAgIH1cbiAgICB2YXIgZG9jID0gZG9jdW1lbnQ7XG4gICAgdmFyIGFuY2hvckVsZW1lbnQgPSBkb2MuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgIGlmIChiYXNlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZG9jID0gZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCcnKTtcbiAgICAgICAgdmFyIGJhc2VFbGVtZW50ID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ2Jhc2UnKTtcbiAgICAgICAgYmFzZUVsZW1lbnQuaHJlZiA9IGJhc2U7XG4gICAgICAgIGRvYy5oZWFkLmFwcGVuZENoaWxkKGJhc2VFbGVtZW50KTtcbiAgICAgICAgZG9jLmJvZHkuYXBwZW5kQ2hpbGQoYW5jaG9yRWxlbWVudCk7XG4gICAgfVxuICAgIGFuY2hvckVsZW1lbnQuaHJlZiA9IHVybDtcbiAgICByZXR1cm4gYW5jaG9yRWxlbWVudDtcbn1cbnZhciBvcmlnaW5hbFVSTCA9IFVSTDtcbnZhciBpc1VSTFN1cHBvcnRlZDtcbmZ1bmN0aW9uIGdldFN1cHBvcnRlZFVybCgpIHtcbiAgICBpZiAoaXNVUkxTdXBwb3J0ZWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIHVybCA9IG5ldyBvcmlnaW5hbFVSTCgnaHR0cDovL3Rlc3QvcGF0aCcpO1xuICAgICAgICAgICAgaXNVUkxTdXBwb3J0ZWQgPSB1cmwuaHJlZiA9PT0gJ2h0dHA6Ly90ZXN0L3BhdGgnO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChfYSkge1xuICAgICAgICAgICAgaXNVUkxTdXBwb3J0ZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaXNVUkxTdXBwb3J0ZWQgPyBvcmlnaW5hbFVSTCA6IHVuZGVmaW5lZDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRMb2NhdGlvbk9yaWdpbigpIHtcbiAgICByZXR1cm4gZ2V0TGlua0VsZW1lbnRPcmlnaW4od2luZG93LmxvY2F0aW9uKTtcbn1cbi8qKlxuICogSUUgZmFsbGJhY2tcbiAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9IVE1MSHlwZXJsaW5rRWxlbWVudFV0aWxzL29yaWdpblxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0TGlua0VsZW1lbnRPcmlnaW4oZWxlbWVudCkge1xuICAgIGlmIChlbGVtZW50Lm9yaWdpbikge1xuICAgICAgICByZXR1cm4gZWxlbWVudC5vcmlnaW47XG4gICAgfVxuICAgIHZhciBzYW5pdGl6ZWRIb3N0ID0gZWxlbWVudC5ob3N0LnJlcGxhY2UoLyg6ODB8OjQ0MykkLywgJycpO1xuICAgIHJldHVybiBcIlwiLmNvbmNhdChlbGVtZW50LnByb3RvY29sLCBcIi8vXCIpLmNvbmNhdChzYW5pdGl6ZWRIb3N0KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVybFBvbHlmaWxsLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/urlPolyfill.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-core/esm/tools/valueHistory.js":
/*!**************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/tools/valueHistory.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CLEAR_OLD_VALUES_INTERVAL: () => (/* binding */ CLEAR_OLD_VALUES_INTERVAL),\n/* harmony export */   ValueHistory: () => (/* binding */ ValueHistory)\n/* harmony export */ });\n/* harmony import */ var _timer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./timer */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/timer.js\");\n/* harmony import */ var _utils_timeUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/timeUtils */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js\");\n\n\nvar END_OF_TIMES = Infinity;\nvar CLEAR_OLD_VALUES_INTERVAL = _utils_timeUtils__WEBPACK_IMPORTED_MODULE_0__.ONE_MINUTE;\n/**\n * Store and keep track of values spans. This whole class assumes that values are added in\n * chronological order (i.e. all entries have an increasing start time).\n */\nvar ValueHistory = /** @class */ (function () {\n    function ValueHistory(expireDelay) {\n        var _this = this;\n        this.expireDelay = expireDelay;\n        this.entries = [];\n        this.clearOldValuesInterval = (0,_timer__WEBPACK_IMPORTED_MODULE_1__.setInterval)(function () { return _this.clearOldValues(); }, CLEAR_OLD_VALUES_INTERVAL);\n    }\n    /**\n     * Add a value to the history associated with a start time. Returns a reference to this newly\n     * added entry that can be removed or closed.\n     */\n    ValueHistory.prototype.add = function (value, startTime) {\n        var _this = this;\n        var entry = {\n            value: value,\n            startTime: startTime,\n            endTime: END_OF_TIMES,\n            remove: function () {\n                var index = _this.entries.indexOf(entry);\n                if (index >= 0) {\n                    _this.entries.splice(index, 1);\n                }\n            },\n            close: function (endTime) {\n                entry.endTime = endTime;\n            },\n        };\n        this.entries.unshift(entry);\n        return entry;\n    };\n    /**\n     * Return the latest value that was active during `startTime`, or the currently active value\n     * if no `startTime` is provided. This method assumes that entries are not overlapping.\n     */\n    ValueHistory.prototype.find = function (startTime) {\n        if (startTime === void 0) { startTime = END_OF_TIMES; }\n        for (var _i = 0, _a = this.entries; _i < _a.length; _i++) {\n            var entry = _a[_i];\n            if (entry.startTime <= startTime) {\n                if (startTime <= entry.endTime) {\n                    return entry.value;\n                }\n                break;\n            }\n        }\n    };\n    /**\n     * Helper function to close the currently active value, if any. This method assumes that entries\n     * are not overlapping.\n     */\n    ValueHistory.prototype.closeActive = function (endTime) {\n        var latestEntry = this.entries[0];\n        if (latestEntry && latestEntry.endTime === END_OF_TIMES) {\n            latestEntry.close(endTime);\n        }\n    };\n    /**\n     * Return all values that were active during `startTime`, or all currently active values if no\n     * `startTime` is provided.\n     */\n    ValueHistory.prototype.findAll = function (startTime) {\n        if (startTime === void 0) { startTime = END_OF_TIMES; }\n        return this.entries\n            .filter(function (entry) { return entry.startTime <= startTime && startTime <= entry.endTime; })\n            .map(function (entry) { return entry.value; });\n    };\n    /**\n     * Remove all entries from this collection.\n     */\n    ValueHistory.prototype.reset = function () {\n        this.entries = [];\n    };\n    /**\n     * Stop internal garbage collection of past entries.\n     */\n    ValueHistory.prototype.stop = function () {\n        (0,_timer__WEBPACK_IMPORTED_MODULE_1__.clearInterval)(this.clearOldValuesInterval);\n    };\n    ValueHistory.prototype.clearOldValues = function () {\n        var oldTimeThreshold = (0,_utils_timeUtils__WEBPACK_IMPORTED_MODULE_0__.relativeNow)() - this.expireDelay;\n        while (this.entries.length > 0 && this.entries[this.entries.length - 1].endTime < oldTimeThreshold) {\n            this.entries.pop();\n        }\n    };\n    return ValueHistory;\n}());\n\n//# sourceMappingURL=valueHistory.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdG9vbHMvdmFsdWVIaXN0b3J5LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBcUQ7QUFDTztBQUM1RDtBQUNPLGdDQUFnQyx3REFBVTtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsbURBQVcsZUFBZSxnQ0FBZ0M7QUFDaEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEMsNENBQTRDLGdCQUFnQjtBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQSx1Q0FBdUMsb0VBQW9FO0FBQzNHLG9DQUFvQyxxQkFBcUI7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEscURBQWE7QUFDckI7QUFDQTtBQUNBLCtCQUErQiw2REFBVztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUN1QjtBQUN4QiIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhcmNhc3Rlci8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS90b29scy92YWx1ZUhpc3RvcnkuanM/OGU1MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzZXRJbnRlcnZhbCwgY2xlYXJJbnRlcnZhbCB9IGZyb20gJy4vdGltZXInO1xuaW1wb3J0IHsgcmVsYXRpdmVOb3csIE9ORV9NSU5VVEUgfSBmcm9tICcuL3V0aWxzL3RpbWVVdGlscyc7XG52YXIgRU5EX09GX1RJTUVTID0gSW5maW5pdHk7XG5leHBvcnQgdmFyIENMRUFSX09MRF9WQUxVRVNfSU5URVJWQUwgPSBPTkVfTUlOVVRFO1xuLyoqXG4gKiBTdG9yZSBhbmQga2VlcCB0cmFjayBvZiB2YWx1ZXMgc3BhbnMuIFRoaXMgd2hvbGUgY2xhc3MgYXNzdW1lcyB0aGF0IHZhbHVlcyBhcmUgYWRkZWQgaW5cbiAqIGNocm9ub2xvZ2ljYWwgb3JkZXIgKGkuZS4gYWxsIGVudHJpZXMgaGF2ZSBhbiBpbmNyZWFzaW5nIHN0YXJ0IHRpbWUpLlxuICovXG52YXIgVmFsdWVIaXN0b3J5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFZhbHVlSGlzdG9yeShleHBpcmVEZWxheSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLmV4cGlyZURlbGF5ID0gZXhwaXJlRGVsYXk7XG4gICAgICAgIHRoaXMuZW50cmllcyA9IFtdO1xuICAgICAgICB0aGlzLmNsZWFyT2xkVmFsdWVzSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5jbGVhck9sZFZhbHVlcygpOyB9LCBDTEVBUl9PTERfVkFMVUVTX0lOVEVSVkFMKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkIGEgdmFsdWUgdG8gdGhlIGhpc3RvcnkgYXNzb2NpYXRlZCB3aXRoIGEgc3RhcnQgdGltZS4gUmV0dXJucyBhIHJlZmVyZW5jZSB0byB0aGlzIG5ld2x5XG4gICAgICogYWRkZWQgZW50cnkgdGhhdCBjYW4gYmUgcmVtb3ZlZCBvciBjbG9zZWQuXG4gICAgICovXG4gICAgVmFsdWVIaXN0b3J5LnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAodmFsdWUsIHN0YXJ0VGltZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgZW50cnkgPSB7XG4gICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICBzdGFydFRpbWU6IHN0YXJ0VGltZSxcbiAgICAgICAgICAgIGVuZFRpbWU6IEVORF9PRl9USU1FUyxcbiAgICAgICAgICAgIHJlbW92ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IF90aGlzLmVudHJpZXMuaW5kZXhPZihlbnRyeSk7XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZW50cmllcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjbG9zZTogZnVuY3Rpb24gKGVuZFRpbWUpIHtcbiAgICAgICAgICAgICAgICBlbnRyeS5lbmRUaW1lID0gZW5kVGltZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZW50cmllcy51bnNoaWZ0KGVudHJ5KTtcbiAgICAgICAgcmV0dXJuIGVudHJ5O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBsYXRlc3QgdmFsdWUgdGhhdCB3YXMgYWN0aXZlIGR1cmluZyBgc3RhcnRUaW1lYCwgb3IgdGhlIGN1cnJlbnRseSBhY3RpdmUgdmFsdWVcbiAgICAgKiBpZiBubyBgc3RhcnRUaW1lYCBpcyBwcm92aWRlZC4gVGhpcyBtZXRob2QgYXNzdW1lcyB0aGF0IGVudHJpZXMgYXJlIG5vdCBvdmVybGFwcGluZy5cbiAgICAgKi9cbiAgICBWYWx1ZUhpc3RvcnkucHJvdG90eXBlLmZpbmQgPSBmdW5jdGlvbiAoc3RhcnRUaW1lKSB7XG4gICAgICAgIGlmIChzdGFydFRpbWUgPT09IHZvaWQgMCkgeyBzdGFydFRpbWUgPSBFTkRfT0ZfVElNRVM7IH1cbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHRoaXMuZW50cmllczsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHZhciBlbnRyeSA9IF9hW19pXTtcbiAgICAgICAgICAgIGlmIChlbnRyeS5zdGFydFRpbWUgPD0gc3RhcnRUaW1lKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXJ0VGltZSA8PSBlbnRyeS5lbmRUaW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlbnRyeS52YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0byBjbG9zZSB0aGUgY3VycmVudGx5IGFjdGl2ZSB2YWx1ZSwgaWYgYW55LiBUaGlzIG1ldGhvZCBhc3N1bWVzIHRoYXQgZW50cmllc1xuICAgICAqIGFyZSBub3Qgb3ZlcmxhcHBpbmcuXG4gICAgICovXG4gICAgVmFsdWVIaXN0b3J5LnByb3RvdHlwZS5jbG9zZUFjdGl2ZSA9IGZ1bmN0aW9uIChlbmRUaW1lKSB7XG4gICAgICAgIHZhciBsYXRlc3RFbnRyeSA9IHRoaXMuZW50cmllc1swXTtcbiAgICAgICAgaWYgKGxhdGVzdEVudHJ5ICYmIGxhdGVzdEVudHJ5LmVuZFRpbWUgPT09IEVORF9PRl9USU1FUykge1xuICAgICAgICAgICAgbGF0ZXN0RW50cnkuY2xvc2UoZW5kVGltZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybiBhbGwgdmFsdWVzIHRoYXQgd2VyZSBhY3RpdmUgZHVyaW5nIGBzdGFydFRpbWVgLCBvciBhbGwgY3VycmVudGx5IGFjdGl2ZSB2YWx1ZXMgaWYgbm9cbiAgICAgKiBgc3RhcnRUaW1lYCBpcyBwcm92aWRlZC5cbiAgICAgKi9cbiAgICBWYWx1ZUhpc3RvcnkucHJvdG90eXBlLmZpbmRBbGwgPSBmdW5jdGlvbiAoc3RhcnRUaW1lKSB7XG4gICAgICAgIGlmIChzdGFydFRpbWUgPT09IHZvaWQgMCkgeyBzdGFydFRpbWUgPSBFTkRfT0ZfVElNRVM7IH1cbiAgICAgICAgcmV0dXJuIHRoaXMuZW50cmllc1xuICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoZW50cnkpIHsgcmV0dXJuIGVudHJ5LnN0YXJ0VGltZSA8PSBzdGFydFRpbWUgJiYgc3RhcnRUaW1lIDw9IGVudHJ5LmVuZFRpbWU7IH0pXG4gICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChlbnRyeSkgeyByZXR1cm4gZW50cnkudmFsdWU7IH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGFsbCBlbnRyaWVzIGZyb20gdGhpcyBjb2xsZWN0aW9uLlxuICAgICAqL1xuICAgIFZhbHVlSGlzdG9yeS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZW50cmllcyA9IFtdO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU3RvcCBpbnRlcm5hbCBnYXJiYWdlIGNvbGxlY3Rpb24gb2YgcGFzdCBlbnRyaWVzLlxuICAgICAqL1xuICAgIFZhbHVlSGlzdG9yeS5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmNsZWFyT2xkVmFsdWVzSW50ZXJ2YWwpO1xuICAgIH07XG4gICAgVmFsdWVIaXN0b3J5LnByb3RvdHlwZS5jbGVhck9sZFZhbHVlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG9sZFRpbWVUaHJlc2hvbGQgPSByZWxhdGl2ZU5vdygpIC0gdGhpcy5leHBpcmVEZWxheTtcbiAgICAgICAgd2hpbGUgKHRoaXMuZW50cmllcy5sZW5ndGggPiAwICYmIHRoaXMuZW50cmllc1t0aGlzLmVudHJpZXMubGVuZ3RoIC0gMV0uZW5kVGltZSA8IG9sZFRpbWVUaHJlc2hvbGQpIHtcbiAgICAgICAgICAgIHRoaXMuZW50cmllcy5wb3AoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFZhbHVlSGlzdG9yeTtcbn0oKSk7XG5leHBvcnQgeyBWYWx1ZUhpc3RvcnkgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZhbHVlSGlzdG9yeS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-core/esm/tools/valueHistory.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-core/esm/transport/batch.js":
/*!***********************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/transport/batch.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Batch: () => (/* binding */ Batch)\n/* harmony export */ });\n/* harmony import */ var _tools_display__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../tools/display */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/display.js\");\n/* harmony import */ var _tools_utils_polyfills__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../tools/utils/polyfills */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/polyfills.js\");\n/* harmony import */ var _browser_pageExitObservable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../browser/pageExitObservable */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/browser/pageExitObservable.js\");\n/* harmony import */ var _tools_utils_byteUtils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../tools/utils/byteUtils */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/byteUtils.js\");\n/* harmony import */ var _tools_serialisation_jsonStringify__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../tools/serialisation/jsonStringify */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/serialisation/jsonStringify.js\");\n\n\n\n\n\nvar Batch = /** @class */ (function () {\n    function Batch(request, flushController, messageBytesLimit) {\n        var _this = this;\n        this.request = request;\n        this.flushController = flushController;\n        this.messageBytesLimit = messageBytesLimit;\n        this.pushOnlyBuffer = [];\n        this.upsertBuffer = {};\n        this.flushController.flushObservable.subscribe(function (event) { return _this.flush(event); });\n    }\n    Batch.prototype.add = function (message) {\n        this.addOrUpdate(message);\n    };\n    Batch.prototype.upsert = function (message, key) {\n        this.addOrUpdate(message, key);\n    };\n    Batch.prototype.flush = function (event) {\n        var messages = this.pushOnlyBuffer.concat((0,_tools_utils_polyfills__WEBPACK_IMPORTED_MODULE_0__.objectValues)(this.upsertBuffer));\n        this.pushOnlyBuffer = [];\n        this.upsertBuffer = {};\n        var payload = { data: messages.join('\\n'), bytesCount: event.bytesCount, flushReason: event.reason };\n        if ((0,_browser_pageExitObservable__WEBPACK_IMPORTED_MODULE_1__.isPageExitReason)(event.reason)) {\n            this.request.sendOnExit(payload);\n        }\n        else {\n            this.request.send(payload);\n        }\n    };\n    Batch.prototype.addOrUpdate = function (message, key) {\n        var _a = this.process(message), processedMessage = _a.processedMessage, messageBytesCount = _a.messageBytesCount;\n        if (messageBytesCount >= this.messageBytesLimit) {\n            _tools_display__WEBPACK_IMPORTED_MODULE_2__.display.warn(\"Discarded a message whose size was bigger than the maximum allowed size \".concat(this.messageBytesLimit, \"KB.\"));\n            return;\n        }\n        if (this.hasMessageFor(key)) {\n            this.remove(key);\n        }\n        this.push(processedMessage, messageBytesCount, key);\n    };\n    Batch.prototype.process = function (message) {\n        var processedMessage = (0,_tools_serialisation_jsonStringify__WEBPACK_IMPORTED_MODULE_3__.jsonStringify)(message);\n        var messageBytesCount = (0,_tools_utils_byteUtils__WEBPACK_IMPORTED_MODULE_4__.computeBytesCount)(processedMessage);\n        return { processedMessage: processedMessage, messageBytesCount: messageBytesCount };\n    };\n    Batch.prototype.push = function (processedMessage, messageBytesCount, key) {\n        // If there are other messages, a '\\n' will be added at serialization\n        var separatorBytesCount = this.flushController.messagesCount > 0 ? 1 : 0;\n        this.flushController.notifyBeforeAddMessage(messageBytesCount + separatorBytesCount);\n        if (key !== undefined) {\n            this.upsertBuffer[key] = processedMessage;\n        }\n        else {\n            this.pushOnlyBuffer.push(processedMessage);\n        }\n        this.flushController.notifyAfterAddMessage();\n    };\n    Batch.prototype.remove = function (key) {\n        var removedMessage = this.upsertBuffer[key];\n        delete this.upsertBuffer[key];\n        var messageBytesCount = (0,_tools_utils_byteUtils__WEBPACK_IMPORTED_MODULE_4__.computeBytesCount)(removedMessage);\n        // If there are other messages, a '\\n' will be added at serialization\n        var separatorBytesCount = this.flushController.messagesCount > 1 ? 1 : 0;\n        this.flushController.notifyAfterRemoveMessage(messageBytesCount + separatorBytesCount);\n    };\n    Batch.prototype.hasMessageFor = function (key) {\n        return key !== undefined && this.upsertBuffer[key] !== undefined;\n    };\n    return Batch;\n}());\n\n//# sourceMappingURL=batch.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdHJhbnNwb3J0L2JhdGNoLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUEyQztBQUNhO0FBQ1M7QUFDSjtBQUNRO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwRUFBMEUsNEJBQTRCO0FBQ3RHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0Qsb0VBQVk7QUFDOUQ7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QixZQUFZLDZFQUFnQjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLG1EQUFPO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsaUZBQWE7QUFDNUMsZ0NBQWdDLHlFQUFpQjtBQUNqRCxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MseUVBQWlCO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ2dCO0FBQ2pCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFyY2FzdGVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLWNvcmUvZXNtL3RyYW5zcG9ydC9iYXRjaC5qcz8xYjBiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGRpc3BsYXkgfSBmcm9tICcuLi90b29scy9kaXNwbGF5JztcbmltcG9ydCB7IG9iamVjdFZhbHVlcyB9IGZyb20gJy4uL3Rvb2xzL3V0aWxzL3BvbHlmaWxscyc7XG5pbXBvcnQgeyBpc1BhZ2VFeGl0UmVhc29uIH0gZnJvbSAnLi4vYnJvd3Nlci9wYWdlRXhpdE9ic2VydmFibGUnO1xuaW1wb3J0IHsgY29tcHV0ZUJ5dGVzQ291bnQgfSBmcm9tICcuLi90b29scy91dGlscy9ieXRlVXRpbHMnO1xuaW1wb3J0IHsganNvblN0cmluZ2lmeSB9IGZyb20gJy4uL3Rvb2xzL3NlcmlhbGlzYXRpb24vanNvblN0cmluZ2lmeSc7XG52YXIgQmF0Y2ggPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQmF0Y2gocmVxdWVzdCwgZmx1c2hDb250cm9sbGVyLCBtZXNzYWdlQnl0ZXNMaW1pdCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLnJlcXVlc3QgPSByZXF1ZXN0O1xuICAgICAgICB0aGlzLmZsdXNoQ29udHJvbGxlciA9IGZsdXNoQ29udHJvbGxlcjtcbiAgICAgICAgdGhpcy5tZXNzYWdlQnl0ZXNMaW1pdCA9IG1lc3NhZ2VCeXRlc0xpbWl0O1xuICAgICAgICB0aGlzLnB1c2hPbmx5QnVmZmVyID0gW107XG4gICAgICAgIHRoaXMudXBzZXJ0QnVmZmVyID0ge307XG4gICAgICAgIHRoaXMuZmx1c2hDb250cm9sbGVyLmZsdXNoT2JzZXJ2YWJsZS5zdWJzY3JpYmUoZnVuY3Rpb24gKGV2ZW50KSB7IHJldHVybiBfdGhpcy5mbHVzaChldmVudCk7IH0pO1xuICAgIH1cbiAgICBCYXRjaC5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgdGhpcy5hZGRPclVwZGF0ZShtZXNzYWdlKTtcbiAgICB9O1xuICAgIEJhdGNoLnByb3RvdHlwZS51cHNlcnQgPSBmdW5jdGlvbiAobWVzc2FnZSwga2V5KSB7XG4gICAgICAgIHRoaXMuYWRkT3JVcGRhdGUobWVzc2FnZSwga2V5KTtcbiAgICB9O1xuICAgIEJhdGNoLnByb3RvdHlwZS5mbHVzaCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgbWVzc2FnZXMgPSB0aGlzLnB1c2hPbmx5QnVmZmVyLmNvbmNhdChvYmplY3RWYWx1ZXModGhpcy51cHNlcnRCdWZmZXIpKTtcbiAgICAgICAgdGhpcy5wdXNoT25seUJ1ZmZlciA9IFtdO1xuICAgICAgICB0aGlzLnVwc2VydEJ1ZmZlciA9IHt9O1xuICAgICAgICB2YXIgcGF5bG9hZCA9IHsgZGF0YTogbWVzc2FnZXMuam9pbignXFxuJyksIGJ5dGVzQ291bnQ6IGV2ZW50LmJ5dGVzQ291bnQsIGZsdXNoUmVhc29uOiBldmVudC5yZWFzb24gfTtcbiAgICAgICAgaWYgKGlzUGFnZUV4aXRSZWFzb24oZXZlbnQucmVhc29uKSkge1xuICAgICAgICAgICAgdGhpcy5yZXF1ZXN0LnNlbmRPbkV4aXQocGF5bG9hZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJlcXVlc3Quc2VuZChwYXlsb2FkKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQmF0Y2gucHJvdG90eXBlLmFkZE9yVXBkYXRlID0gZnVuY3Rpb24gKG1lc3NhZ2UsIGtleSkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLnByb2Nlc3MobWVzc2FnZSksIHByb2Nlc3NlZE1lc3NhZ2UgPSBfYS5wcm9jZXNzZWRNZXNzYWdlLCBtZXNzYWdlQnl0ZXNDb3VudCA9IF9hLm1lc3NhZ2VCeXRlc0NvdW50O1xuICAgICAgICBpZiAobWVzc2FnZUJ5dGVzQ291bnQgPj0gdGhpcy5tZXNzYWdlQnl0ZXNMaW1pdCkge1xuICAgICAgICAgICAgZGlzcGxheS53YXJuKFwiRGlzY2FyZGVkIGEgbWVzc2FnZSB3aG9zZSBzaXplIHdhcyBiaWdnZXIgdGhhbiB0aGUgbWF4aW11bSBhbGxvd2VkIHNpemUgXCIuY29uY2F0KHRoaXMubWVzc2FnZUJ5dGVzTGltaXQsIFwiS0IuXCIpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5oYXNNZXNzYWdlRm9yKGtleSkpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wdXNoKHByb2Nlc3NlZE1lc3NhZ2UsIG1lc3NhZ2VCeXRlc0NvdW50LCBrZXkpO1xuICAgIH07XG4gICAgQmF0Y2gucHJvdG90eXBlLnByb2Nlc3MgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgICB2YXIgcHJvY2Vzc2VkTWVzc2FnZSA9IGpzb25TdHJpbmdpZnkobWVzc2FnZSk7XG4gICAgICAgIHZhciBtZXNzYWdlQnl0ZXNDb3VudCA9IGNvbXB1dGVCeXRlc0NvdW50KHByb2Nlc3NlZE1lc3NhZ2UpO1xuICAgICAgICByZXR1cm4geyBwcm9jZXNzZWRNZXNzYWdlOiBwcm9jZXNzZWRNZXNzYWdlLCBtZXNzYWdlQnl0ZXNDb3VudDogbWVzc2FnZUJ5dGVzQ291bnQgfTtcbiAgICB9O1xuICAgIEJhdGNoLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKHByb2Nlc3NlZE1lc3NhZ2UsIG1lc3NhZ2VCeXRlc0NvdW50LCBrZXkpIHtcbiAgICAgICAgLy8gSWYgdGhlcmUgYXJlIG90aGVyIG1lc3NhZ2VzLCBhICdcXG4nIHdpbGwgYmUgYWRkZWQgYXQgc2VyaWFsaXphdGlvblxuICAgICAgICB2YXIgc2VwYXJhdG9yQnl0ZXNDb3VudCA9IHRoaXMuZmx1c2hDb250cm9sbGVyLm1lc3NhZ2VzQ291bnQgPiAwID8gMSA6IDA7XG4gICAgICAgIHRoaXMuZmx1c2hDb250cm9sbGVyLm5vdGlmeUJlZm9yZUFkZE1lc3NhZ2UobWVzc2FnZUJ5dGVzQ291bnQgKyBzZXBhcmF0b3JCeXRlc0NvdW50KTtcbiAgICAgICAgaWYgKGtleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnVwc2VydEJ1ZmZlcltrZXldID0gcHJvY2Vzc2VkTWVzc2FnZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucHVzaE9ubHlCdWZmZXIucHVzaChwcm9jZXNzZWRNZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZsdXNoQ29udHJvbGxlci5ub3RpZnlBZnRlckFkZE1lc3NhZ2UoKTtcbiAgICB9O1xuICAgIEJhdGNoLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHZhciByZW1vdmVkTWVzc2FnZSA9IHRoaXMudXBzZXJ0QnVmZmVyW2tleV07XG4gICAgICAgIGRlbGV0ZSB0aGlzLnVwc2VydEJ1ZmZlcltrZXldO1xuICAgICAgICB2YXIgbWVzc2FnZUJ5dGVzQ291bnQgPSBjb21wdXRlQnl0ZXNDb3VudChyZW1vdmVkTWVzc2FnZSk7XG4gICAgICAgIC8vIElmIHRoZXJlIGFyZSBvdGhlciBtZXNzYWdlcywgYSAnXFxuJyB3aWxsIGJlIGFkZGVkIGF0IHNlcmlhbGl6YXRpb25cbiAgICAgICAgdmFyIHNlcGFyYXRvckJ5dGVzQ291bnQgPSB0aGlzLmZsdXNoQ29udHJvbGxlci5tZXNzYWdlc0NvdW50ID4gMSA/IDEgOiAwO1xuICAgICAgICB0aGlzLmZsdXNoQ29udHJvbGxlci5ub3RpZnlBZnRlclJlbW92ZU1lc3NhZ2UobWVzc2FnZUJ5dGVzQ291bnQgKyBzZXBhcmF0b3JCeXRlc0NvdW50KTtcbiAgICB9O1xuICAgIEJhdGNoLnByb3RvdHlwZS5oYXNNZXNzYWdlRm9yID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICByZXR1cm4ga2V5ICE9PSB1bmRlZmluZWQgJiYgdGhpcy51cHNlcnRCdWZmZXJba2V5XSAhPT0gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgcmV0dXJuIEJhdGNoO1xufSgpKTtcbmV4cG9ydCB7IEJhdGNoIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1iYXRjaC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-core/esm/transport/batch.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-core/esm/transport/eventBridge.js":
/*!*****************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/transport/eventBridge.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   canUseEventBridge: () => (/* binding */ canUseEventBridge),\n/* harmony export */   getEventBridge: () => (/* binding */ getEventBridge)\n/* harmony export */ });\n/* harmony import */ var _tools_utils_polyfills__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../tools/utils/polyfills */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/polyfills.js\");\n/* harmony import */ var _tools_getGlobalObject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../tools/getGlobalObject */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/getGlobalObject.js\");\n\n\nfunction getEventBridge() {\n    var eventBridgeGlobal = getEventBridgeGlobal();\n    if (!eventBridgeGlobal) {\n        return;\n    }\n    return {\n        getAllowedWebViewHosts: function () {\n            return JSON.parse(eventBridgeGlobal.getAllowedWebViewHosts());\n        },\n        send: function (eventType, event) {\n            eventBridgeGlobal.send(JSON.stringify({ eventType: eventType, event: event }));\n        },\n    };\n}\nfunction canUseEventBridge(currentHost) {\n    var _a;\n    if (currentHost === void 0) { currentHost = (_a = (0,_tools_getGlobalObject__WEBPACK_IMPORTED_MODULE_0__.getGlobalObject)().location) === null || _a === void 0 ? void 0 : _a.hostname; }\n    var bridge = getEventBridge();\n    return (!!bridge &&\n        bridge\n            .getAllowedWebViewHosts()\n            .some(function (allowedHost) { return currentHost === allowedHost || (0,_tools_utils_polyfills__WEBPACK_IMPORTED_MODULE_1__.endsWith)(currentHost, \".\".concat(allowedHost)); }));\n}\nfunction getEventBridgeGlobal() {\n    return (0,_tools_getGlobalObject__WEBPACK_IMPORTED_MODULE_0__.getGlobalObject)().DatadogEventBridge;\n}\n//# sourceMappingURL=eventBridge.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdHJhbnNwb3J0L2V2ZW50QnJpZGdlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBb0Q7QUFDTztBQUNwRDtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0Esb0RBQW9ELG9DQUFvQztBQUN4RixTQUFTO0FBQ1Q7QUFDQTtBQUNPO0FBQ1A7QUFDQSxrQ0FBa0Msb0JBQW9CLHVFQUFlO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLHNDQUFzQyxnRUFBUSx5Q0FBeUM7QUFDbEk7QUFDQTtBQUNBLFdBQVcsdUVBQWU7QUFDMUI7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhcmNhc3Rlci8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1jb3JlL2VzbS90cmFuc3BvcnQvZXZlbnRCcmlkZ2UuanM/M2ExOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBlbmRzV2l0aCB9IGZyb20gJy4uL3Rvb2xzL3V0aWxzL3BvbHlmaWxscyc7XG5pbXBvcnQgeyBnZXRHbG9iYWxPYmplY3QgfSBmcm9tICcuLi90b29scy9nZXRHbG9iYWxPYmplY3QnO1xuZXhwb3J0IGZ1bmN0aW9uIGdldEV2ZW50QnJpZGdlKCkge1xuICAgIHZhciBldmVudEJyaWRnZUdsb2JhbCA9IGdldEV2ZW50QnJpZGdlR2xvYmFsKCk7XG4gICAgaWYgKCFldmVudEJyaWRnZUdsb2JhbCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGdldEFsbG93ZWRXZWJWaWV3SG9zdHM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKGV2ZW50QnJpZGdlR2xvYmFsLmdldEFsbG93ZWRXZWJWaWV3SG9zdHMoKSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNlbmQ6IGZ1bmN0aW9uIChldmVudFR5cGUsIGV2ZW50KSB7XG4gICAgICAgICAgICBldmVudEJyaWRnZUdsb2JhbC5zZW5kKEpTT04uc3RyaW5naWZ5KHsgZXZlbnRUeXBlOiBldmVudFR5cGUsIGV2ZW50OiBldmVudCB9KSk7XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjYW5Vc2VFdmVudEJyaWRnZShjdXJyZW50SG9zdCkge1xuICAgIHZhciBfYTtcbiAgICBpZiAoY3VycmVudEhvc3QgPT09IHZvaWQgMCkgeyBjdXJyZW50SG9zdCA9IChfYSA9IGdldEdsb2JhbE9iamVjdCgpLmxvY2F0aW9uKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaG9zdG5hbWU7IH1cbiAgICB2YXIgYnJpZGdlID0gZ2V0RXZlbnRCcmlkZ2UoKTtcbiAgICByZXR1cm4gKCEhYnJpZGdlICYmXG4gICAgICAgIGJyaWRnZVxuICAgICAgICAgICAgLmdldEFsbG93ZWRXZWJWaWV3SG9zdHMoKVxuICAgICAgICAgICAgLnNvbWUoZnVuY3Rpb24gKGFsbG93ZWRIb3N0KSB7IHJldHVybiBjdXJyZW50SG9zdCA9PT0gYWxsb3dlZEhvc3QgfHwgZW5kc1dpdGgoY3VycmVudEhvc3QsIFwiLlwiLmNvbmNhdChhbGxvd2VkSG9zdCkpOyB9KSk7XG59XG5mdW5jdGlvbiBnZXRFdmVudEJyaWRnZUdsb2JhbCgpIHtcbiAgICByZXR1cm4gZ2V0R2xvYmFsT2JqZWN0KCkuRGF0YWRvZ0V2ZW50QnJpZGdlO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXZlbnRCcmlkZ2UuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-core/esm/transport/eventBridge.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-core/esm/transport/flushController.js":
/*!*********************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/transport/flushController.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createFlushController: () => (/* binding */ createFlushController)\n/* harmony export */ });\n/* harmony import */ var _tools_observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../tools/observable */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/observable.js\");\n/* harmony import */ var _tools_timer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../tools/timer */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/timer.js\");\n\n\n/**\n * Returns a \"flush controller\", responsible of notifying when flushing a pool of pending data needs\n * to happen. The implementation is designed to support both synchronous and asynchronous usages,\n * but relies on invariants described in each method documentation to keep a coherent state.\n */\nfunction createFlushController(_a) {\n    var messagesLimit = _a.messagesLimit, bytesLimit = _a.bytesLimit, durationLimit = _a.durationLimit, pageExitObservable = _a.pageExitObservable, sessionExpireObservable = _a.sessionExpireObservable;\n    var flushObservable = new _tools_observable__WEBPACK_IMPORTED_MODULE_0__.Observable();\n    pageExitObservable.subscribe(function (event) { return flush(event.reason); });\n    sessionExpireObservable.subscribe(function () { return flush('session_expire'); });\n    var currentBytesCount = 0;\n    var currentMessagesCount = 0;\n    function flush(flushReason) {\n        if (currentMessagesCount === 0) {\n            return;\n        }\n        var messagesCount = currentMessagesCount;\n        var bytesCount = currentBytesCount;\n        currentMessagesCount = 0;\n        currentBytesCount = 0;\n        cancelDurationLimitTimeout();\n        flushObservable.notify({\n            reason: flushReason,\n            messagesCount: messagesCount,\n            bytesCount: bytesCount,\n        });\n    }\n    var durationLimitTimeoutId;\n    function scheduleDurationLimitTimeout() {\n        if (durationLimitTimeoutId === undefined) {\n            durationLimitTimeoutId = (0,_tools_timer__WEBPACK_IMPORTED_MODULE_1__.setTimeout)(function () {\n                flush('duration_limit');\n            }, durationLimit);\n        }\n    }\n    function cancelDurationLimitTimeout() {\n        (0,_tools_timer__WEBPACK_IMPORTED_MODULE_1__.clearTimeout)(durationLimitTimeoutId);\n        durationLimitTimeoutId = undefined;\n    }\n    return {\n        flushObservable: flushObservable,\n        get messagesCount() {\n            return currentMessagesCount;\n        },\n        /**\n         * Notifies that a message will be added to a pool of pending messages waiting to be flushed.\n         *\n         * This function needs to be called synchronously, right before adding the message, so no flush\n         * event can happen after `notifyBeforeAddMessage` and before adding the message.\n         */\n        notifyBeforeAddMessage: function (messageBytesCount) {\n            if (currentBytesCount + messageBytesCount >= bytesLimit) {\n                flush('bytes_limit');\n            }\n            // Consider the message to be added now rather than in `notifyAfterAddMessage`, because if no\n            // message was added yet and `notifyAfterAddMessage` is called asynchronously, we still want\n            // to notify when a flush is needed (for example on page exit).\n            currentMessagesCount += 1;\n            currentBytesCount += messageBytesCount;\n            scheduleDurationLimitTimeout();\n        },\n        /**\n         * Notifies that a message *was* added to a pool of pending messages waiting to be flushed.\n         *\n         * This function can be called asynchronously after the message was added, but in this case it\n         * should not be called if a flush event occurred in between.\n         */\n        notifyAfterAddMessage: function () {\n            if (currentMessagesCount >= messagesLimit) {\n                flush('messages_limit');\n            }\n            else if (currentBytesCount >= bytesLimit) {\n                flush('bytes_limit');\n            }\n        },\n        /**\n         * Notifies that a message was removed from a pool of pending messages waiting to be flushed.\n         *\n         * This function needs to be called synchronously, right after removing the message, so no flush\n         * event can happen after removing the message and before `notifyAfterRemoveMessage`.\n         */\n        notifyAfterRemoveMessage: function (messageBytesCount) {\n            currentBytesCount -= messageBytesCount;\n            currentMessagesCount -= 1;\n            if (currentMessagesCount === 0) {\n                cancelDurationLimitTimeout();\n            }\n        },\n    };\n}\n//# sourceMappingURL=flushController.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdHJhbnNwb3J0L2ZsdXNoQ29udHJvbGxlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBaUQ7QUFDUztBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLDhCQUE4Qix5REFBVTtBQUN4QyxvREFBb0QsNkJBQTZCO0FBQ2pGLG9EQUFvRCxpQ0FBaUM7QUFDckY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLHdEQUFVO0FBQy9DO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLFFBQVEsMERBQVk7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYXJjYXN0ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdHJhbnNwb3J0L2ZsdXNoQ29udHJvbGxlci5qcz9mNzYyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi90b29scy9vYnNlcnZhYmxlJztcbmltcG9ydCB7IGNsZWFyVGltZW91dCwgc2V0VGltZW91dCB9IGZyb20gJy4uL3Rvb2xzL3RpbWVyJztcbi8qKlxuICogUmV0dXJucyBhIFwiZmx1c2ggY29udHJvbGxlclwiLCByZXNwb25zaWJsZSBvZiBub3RpZnlpbmcgd2hlbiBmbHVzaGluZyBhIHBvb2wgb2YgcGVuZGluZyBkYXRhIG5lZWRzXG4gKiB0byBoYXBwZW4uIFRoZSBpbXBsZW1lbnRhdGlvbiBpcyBkZXNpZ25lZCB0byBzdXBwb3J0IGJvdGggc3luY2hyb25vdXMgYW5kIGFzeW5jaHJvbm91cyB1c2FnZXMsXG4gKiBidXQgcmVsaWVzIG9uIGludmFyaWFudHMgZGVzY3JpYmVkIGluIGVhY2ggbWV0aG9kIGRvY3VtZW50YXRpb24gdG8ga2VlcCBhIGNvaGVyZW50IHN0YXRlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRmx1c2hDb250cm9sbGVyKF9hKSB7XG4gICAgdmFyIG1lc3NhZ2VzTGltaXQgPSBfYS5tZXNzYWdlc0xpbWl0LCBieXRlc0xpbWl0ID0gX2EuYnl0ZXNMaW1pdCwgZHVyYXRpb25MaW1pdCA9IF9hLmR1cmF0aW9uTGltaXQsIHBhZ2VFeGl0T2JzZXJ2YWJsZSA9IF9hLnBhZ2VFeGl0T2JzZXJ2YWJsZSwgc2Vzc2lvbkV4cGlyZU9ic2VydmFibGUgPSBfYS5zZXNzaW9uRXhwaXJlT2JzZXJ2YWJsZTtcbiAgICB2YXIgZmx1c2hPYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGUoKTtcbiAgICBwYWdlRXhpdE9ic2VydmFibGUuc3Vic2NyaWJlKGZ1bmN0aW9uIChldmVudCkgeyByZXR1cm4gZmx1c2goZXZlbnQucmVhc29uKTsgfSk7XG4gICAgc2Vzc2lvbkV4cGlyZU9ic2VydmFibGUuc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZsdXNoKCdzZXNzaW9uX2V4cGlyZScpOyB9KTtcbiAgICB2YXIgY3VycmVudEJ5dGVzQ291bnQgPSAwO1xuICAgIHZhciBjdXJyZW50TWVzc2FnZXNDb3VudCA9IDA7XG4gICAgZnVuY3Rpb24gZmx1c2goZmx1c2hSZWFzb24pIHtcbiAgICAgICAgaWYgKGN1cnJlbnRNZXNzYWdlc0NvdW50ID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG1lc3NhZ2VzQ291bnQgPSBjdXJyZW50TWVzc2FnZXNDb3VudDtcbiAgICAgICAgdmFyIGJ5dGVzQ291bnQgPSBjdXJyZW50Qnl0ZXNDb3VudDtcbiAgICAgICAgY3VycmVudE1lc3NhZ2VzQ291bnQgPSAwO1xuICAgICAgICBjdXJyZW50Qnl0ZXNDb3VudCA9IDA7XG4gICAgICAgIGNhbmNlbER1cmF0aW9uTGltaXRUaW1lb3V0KCk7XG4gICAgICAgIGZsdXNoT2JzZXJ2YWJsZS5ub3RpZnkoe1xuICAgICAgICAgICAgcmVhc29uOiBmbHVzaFJlYXNvbixcbiAgICAgICAgICAgIG1lc3NhZ2VzQ291bnQ6IG1lc3NhZ2VzQ291bnQsXG4gICAgICAgICAgICBieXRlc0NvdW50OiBieXRlc0NvdW50LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgdmFyIGR1cmF0aW9uTGltaXRUaW1lb3V0SWQ7XG4gICAgZnVuY3Rpb24gc2NoZWR1bGVEdXJhdGlvbkxpbWl0VGltZW91dCgpIHtcbiAgICAgICAgaWYgKGR1cmF0aW9uTGltaXRUaW1lb3V0SWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZHVyYXRpb25MaW1pdFRpbWVvdXRJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGZsdXNoKCdkdXJhdGlvbl9saW1pdCcpO1xuICAgICAgICAgICAgfSwgZHVyYXRpb25MaW1pdCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gY2FuY2VsRHVyYXRpb25MaW1pdFRpbWVvdXQoKSB7XG4gICAgICAgIGNsZWFyVGltZW91dChkdXJhdGlvbkxpbWl0VGltZW91dElkKTtcbiAgICAgICAgZHVyYXRpb25MaW1pdFRpbWVvdXRJZCA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZmx1c2hPYnNlcnZhYmxlOiBmbHVzaE9ic2VydmFibGUsXG4gICAgICAgIGdldCBtZXNzYWdlc0NvdW50KCkge1xuICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRNZXNzYWdlc0NvdW50O1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogTm90aWZpZXMgdGhhdCBhIG1lc3NhZ2Ugd2lsbCBiZSBhZGRlZCB0byBhIHBvb2wgb2YgcGVuZGluZyBtZXNzYWdlcyB3YWl0aW5nIHRvIGJlIGZsdXNoZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoaXMgZnVuY3Rpb24gbmVlZHMgdG8gYmUgY2FsbGVkIHN5bmNocm9ub3VzbHksIHJpZ2h0IGJlZm9yZSBhZGRpbmcgdGhlIG1lc3NhZ2UsIHNvIG5vIGZsdXNoXG4gICAgICAgICAqIGV2ZW50IGNhbiBoYXBwZW4gYWZ0ZXIgYG5vdGlmeUJlZm9yZUFkZE1lc3NhZ2VgIGFuZCBiZWZvcmUgYWRkaW5nIHRoZSBtZXNzYWdlLlxuICAgICAgICAgKi9cbiAgICAgICAgbm90aWZ5QmVmb3JlQWRkTWVzc2FnZTogZnVuY3Rpb24gKG1lc3NhZ2VCeXRlc0NvdW50KSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudEJ5dGVzQ291bnQgKyBtZXNzYWdlQnl0ZXNDb3VudCA+PSBieXRlc0xpbWl0KSB7XG4gICAgICAgICAgICAgICAgZmx1c2goJ2J5dGVzX2xpbWl0Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBDb25zaWRlciB0aGUgbWVzc2FnZSB0byBiZSBhZGRlZCBub3cgcmF0aGVyIHRoYW4gaW4gYG5vdGlmeUFmdGVyQWRkTWVzc2FnZWAsIGJlY2F1c2UgaWYgbm9cbiAgICAgICAgICAgIC8vIG1lc3NhZ2Ugd2FzIGFkZGVkIHlldCBhbmQgYG5vdGlmeUFmdGVyQWRkTWVzc2FnZWAgaXMgY2FsbGVkIGFzeW5jaHJvbm91c2x5LCB3ZSBzdGlsbCB3YW50XG4gICAgICAgICAgICAvLyB0byBub3RpZnkgd2hlbiBhIGZsdXNoIGlzIG5lZWRlZCAoZm9yIGV4YW1wbGUgb24gcGFnZSBleGl0KS5cbiAgICAgICAgICAgIGN1cnJlbnRNZXNzYWdlc0NvdW50ICs9IDE7XG4gICAgICAgICAgICBjdXJyZW50Qnl0ZXNDb3VudCArPSBtZXNzYWdlQnl0ZXNDb3VudDtcbiAgICAgICAgICAgIHNjaGVkdWxlRHVyYXRpb25MaW1pdFRpbWVvdXQoKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE5vdGlmaWVzIHRoYXQgYSBtZXNzYWdlICp3YXMqIGFkZGVkIHRvIGEgcG9vbCBvZiBwZW5kaW5nIG1lc3NhZ2VzIHdhaXRpbmcgdG8gYmUgZmx1c2hlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhpcyBmdW5jdGlvbiBjYW4gYmUgY2FsbGVkIGFzeW5jaHJvbm91c2x5IGFmdGVyIHRoZSBtZXNzYWdlIHdhcyBhZGRlZCwgYnV0IGluIHRoaXMgY2FzZSBpdFxuICAgICAgICAgKiBzaG91bGQgbm90IGJlIGNhbGxlZCBpZiBhIGZsdXNoIGV2ZW50IG9jY3VycmVkIGluIGJldHdlZW4uXG4gICAgICAgICAqL1xuICAgICAgICBub3RpZnlBZnRlckFkZE1lc3NhZ2U6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50TWVzc2FnZXNDb3VudCA+PSBtZXNzYWdlc0xpbWl0KSB7XG4gICAgICAgICAgICAgICAgZmx1c2goJ21lc3NhZ2VzX2xpbWl0Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjdXJyZW50Qnl0ZXNDb3VudCA+PSBieXRlc0xpbWl0KSB7XG4gICAgICAgICAgICAgICAgZmx1c2goJ2J5dGVzX2xpbWl0Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBOb3RpZmllcyB0aGF0IGEgbWVzc2FnZSB3YXMgcmVtb3ZlZCBmcm9tIGEgcG9vbCBvZiBwZW5kaW5nIG1lc3NhZ2VzIHdhaXRpbmcgdG8gYmUgZmx1c2hlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhpcyBmdW5jdGlvbiBuZWVkcyB0byBiZSBjYWxsZWQgc3luY2hyb25vdXNseSwgcmlnaHQgYWZ0ZXIgcmVtb3ZpbmcgdGhlIG1lc3NhZ2UsIHNvIG5vIGZsdXNoXG4gICAgICAgICAqIGV2ZW50IGNhbiBoYXBwZW4gYWZ0ZXIgcmVtb3ZpbmcgdGhlIG1lc3NhZ2UgYW5kIGJlZm9yZSBgbm90aWZ5QWZ0ZXJSZW1vdmVNZXNzYWdlYC5cbiAgICAgICAgICovXG4gICAgICAgIG5vdGlmeUFmdGVyUmVtb3ZlTWVzc2FnZTogZnVuY3Rpb24gKG1lc3NhZ2VCeXRlc0NvdW50KSB7XG4gICAgICAgICAgICBjdXJyZW50Qnl0ZXNDb3VudCAtPSBtZXNzYWdlQnl0ZXNDb3VudDtcbiAgICAgICAgICAgIGN1cnJlbnRNZXNzYWdlc0NvdW50IC09IDE7XG4gICAgICAgICAgICBpZiAoY3VycmVudE1lc3NhZ2VzQ291bnQgPT09IDApIHtcbiAgICAgICAgICAgICAgICBjYW5jZWxEdXJhdGlvbkxpbWl0VGltZW91dCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mbHVzaENvbnRyb2xsZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-core/esm/transport/flushController.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-core/esm/transport/httpRequest.js":
/*!*****************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/transport/httpRequest.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createHttpRequest: () => (/* binding */ createHttpRequest),\n/* harmony export */   fetchKeepAliveStrategy: () => (/* binding */ fetchKeepAliveStrategy),\n/* harmony export */   sendXHR: () => (/* binding */ sendXHR)\n/* harmony export */ });\n/* harmony import */ var _domain_telemetry__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../domain/telemetry */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/telemetry/telemetry.js\");\n/* harmony import */ var _tools_monitor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../tools/monitor */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/monitor.js\");\n/* harmony import */ var _browser_addEventListener__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../browser/addEventListener */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/browser/addEventListener.js\");\n/* harmony import */ var _sendWithRetryStrategy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./sendWithRetryStrategy */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/transport/sendWithRetryStrategy.js\");\n\n\n\n\nfunction createHttpRequest(endpointBuilder, bytesLimit, reportError) {\n    var retryState = (0,_sendWithRetryStrategy__WEBPACK_IMPORTED_MODULE_0__.newRetryState)();\n    var sendStrategyForRetry = function (payload, onResponse) {\n        return fetchKeepAliveStrategy(endpointBuilder, bytesLimit, payload, onResponse);\n    };\n    return {\n        send: function (payload) {\n            (0,_sendWithRetryStrategy__WEBPACK_IMPORTED_MODULE_0__.sendWithRetryStrategy)(payload, retryState, sendStrategyForRetry, endpointBuilder.endpointType, reportError);\n        },\n        /**\n         * Since fetch keepalive behaves like regular fetch on Firefox,\n         * keep using sendBeaconStrategy on exit\n         */\n        sendOnExit: function (payload) {\n            sendBeaconStrategy(endpointBuilder, bytesLimit, payload);\n        },\n    };\n}\nfunction sendBeaconStrategy(endpointBuilder, bytesLimit, _a) {\n    var data = _a.data, bytesCount = _a.bytesCount, flushReason = _a.flushReason;\n    var canUseBeacon = !!navigator.sendBeacon && bytesCount < bytesLimit;\n    if (canUseBeacon) {\n        try {\n            var beaconUrl = endpointBuilder.build('beacon', flushReason);\n            var isQueued = navigator.sendBeacon(beaconUrl, data);\n            if (isQueued) {\n                return;\n            }\n        }\n        catch (e) {\n            reportBeaconError(e);\n        }\n    }\n    var xhrUrl = endpointBuilder.build('xhr', flushReason);\n    sendXHR(xhrUrl, data);\n}\nvar hasReportedBeaconError = false;\nfunction reportBeaconError(e) {\n    if (!hasReportedBeaconError) {\n        hasReportedBeaconError = true;\n        (0,_domain_telemetry__WEBPACK_IMPORTED_MODULE_1__.addTelemetryError)(e);\n    }\n}\nfunction fetchKeepAliveStrategy(endpointBuilder, bytesLimit, _a, onResponse) {\n    var data = _a.data, bytesCount = _a.bytesCount, flushReason = _a.flushReason, retry = _a.retry;\n    var canUseKeepAlive = isKeepAliveSupported() && bytesCount < bytesLimit;\n    if (canUseKeepAlive) {\n        var fetchUrl = endpointBuilder.build('fetch', flushReason, retry);\n        fetch(fetchUrl, { method: 'POST', body: data, keepalive: true, mode: 'cors' }).then((0,_tools_monitor__WEBPACK_IMPORTED_MODULE_2__.monitor)(function (response) { return onResponse === null || onResponse === void 0 ? void 0 : onResponse({ status: response.status, type: response.type }); }), (0,_tools_monitor__WEBPACK_IMPORTED_MODULE_2__.monitor)(function () {\n            var xhrUrl = endpointBuilder.build('xhr', flushReason, retry);\n            // failed to queue the request\n            sendXHR(xhrUrl, data, onResponse);\n        }));\n    }\n    else {\n        var xhrUrl = endpointBuilder.build('xhr', flushReason, retry);\n        sendXHR(xhrUrl, data, onResponse);\n    }\n}\nfunction isKeepAliveSupported() {\n    // Request can throw, cf https://developer.mozilla.org/en-US/docs/Web/API/Request/Request#errors\n    try {\n        return window.Request && 'keepalive' in new Request('http://a');\n    }\n    catch (_a) {\n        return false;\n    }\n}\nfunction sendXHR(url, data, onResponse) {\n    var request = new XMLHttpRequest();\n    request.open('POST', url, true);\n    (0,_browser_addEventListener__WEBPACK_IMPORTED_MODULE_3__.addEventListener)(request, 'loadend', function () {\n        onResponse === null || onResponse === void 0 ? void 0 : onResponse({ status: request.status });\n    }, {\n        // prevent multiple onResponse callbacks\n        // if the xhr instance is reused by a third party\n        once: true,\n    });\n    request.send(data);\n}\n//# sourceMappingURL=httpRequest.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdHJhbnNwb3J0L2h0dHBSZXF1ZXN0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBd0Q7QUFDYjtBQUNvQjtBQUNnQjtBQUN4RTtBQUNQLHFCQUFxQixxRUFBYTtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSw2RUFBcUI7QUFDakMsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLG9FQUFpQjtBQUN6QjtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQiwyREFBMkQsT0FBTyx1REFBTyx1QkFBdUIsNEVBQTRFLDhDQUE4QyxJQUFJLEdBQUcsdURBQU87QUFDbFE7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLElBQUksMkVBQWdCO0FBQ3BCLDZFQUE2RSx3QkFBd0I7QUFDckcsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYXJjYXN0ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdHJhbnNwb3J0L2h0dHBSZXF1ZXN0LmpzP2UxOTMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYWRkVGVsZW1ldHJ5RXJyb3IgfSBmcm9tICcuLi9kb21haW4vdGVsZW1ldHJ5JztcbmltcG9ydCB7IG1vbml0b3IgfSBmcm9tICcuLi90b29scy9tb25pdG9yJztcbmltcG9ydCB7IGFkZEV2ZW50TGlzdGVuZXIgfSBmcm9tICcuLi9icm93c2VyL2FkZEV2ZW50TGlzdGVuZXInO1xuaW1wb3J0IHsgbmV3UmV0cnlTdGF0ZSwgc2VuZFdpdGhSZXRyeVN0cmF0ZWd5IH0gZnJvbSAnLi9zZW5kV2l0aFJldHJ5U3RyYXRlZ3knO1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUh0dHBSZXF1ZXN0KGVuZHBvaW50QnVpbGRlciwgYnl0ZXNMaW1pdCwgcmVwb3J0RXJyb3IpIHtcbiAgICB2YXIgcmV0cnlTdGF0ZSA9IG5ld1JldHJ5U3RhdGUoKTtcbiAgICB2YXIgc2VuZFN0cmF0ZWd5Rm9yUmV0cnkgPSBmdW5jdGlvbiAocGF5bG9hZCwgb25SZXNwb25zZSkge1xuICAgICAgICByZXR1cm4gZmV0Y2hLZWVwQWxpdmVTdHJhdGVneShlbmRwb2ludEJ1aWxkZXIsIGJ5dGVzTGltaXQsIHBheWxvYWQsIG9uUmVzcG9uc2UpO1xuICAgIH07XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2VuZDogZnVuY3Rpb24gKHBheWxvYWQpIHtcbiAgICAgICAgICAgIHNlbmRXaXRoUmV0cnlTdHJhdGVneShwYXlsb2FkLCByZXRyeVN0YXRlLCBzZW5kU3RyYXRlZ3lGb3JSZXRyeSwgZW5kcG9pbnRCdWlsZGVyLmVuZHBvaW50VHlwZSwgcmVwb3J0RXJyb3IpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogU2luY2UgZmV0Y2gga2VlcGFsaXZlIGJlaGF2ZXMgbGlrZSByZWd1bGFyIGZldGNoIG9uIEZpcmVmb3gsXG4gICAgICAgICAqIGtlZXAgdXNpbmcgc2VuZEJlYWNvblN0cmF0ZWd5IG9uIGV4aXRcbiAgICAgICAgICovXG4gICAgICAgIHNlbmRPbkV4aXQ6IGZ1bmN0aW9uIChwYXlsb2FkKSB7XG4gICAgICAgICAgICBzZW5kQmVhY29uU3RyYXRlZ3koZW5kcG9pbnRCdWlsZGVyLCBieXRlc0xpbWl0LCBwYXlsb2FkKTtcbiAgICAgICAgfSxcbiAgICB9O1xufVxuZnVuY3Rpb24gc2VuZEJlYWNvblN0cmF0ZWd5KGVuZHBvaW50QnVpbGRlciwgYnl0ZXNMaW1pdCwgX2EpIHtcbiAgICB2YXIgZGF0YSA9IF9hLmRhdGEsIGJ5dGVzQ291bnQgPSBfYS5ieXRlc0NvdW50LCBmbHVzaFJlYXNvbiA9IF9hLmZsdXNoUmVhc29uO1xuICAgIHZhciBjYW5Vc2VCZWFjb24gPSAhIW5hdmlnYXRvci5zZW5kQmVhY29uICYmIGJ5dGVzQ291bnQgPCBieXRlc0xpbWl0O1xuICAgIGlmIChjYW5Vc2VCZWFjb24pIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBiZWFjb25VcmwgPSBlbmRwb2ludEJ1aWxkZXIuYnVpbGQoJ2JlYWNvbicsIGZsdXNoUmVhc29uKTtcbiAgICAgICAgICAgIHZhciBpc1F1ZXVlZCA9IG5hdmlnYXRvci5zZW5kQmVhY29uKGJlYWNvblVybCwgZGF0YSk7XG4gICAgICAgICAgICBpZiAoaXNRdWV1ZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHJlcG9ydEJlYWNvbkVycm9yKGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZhciB4aHJVcmwgPSBlbmRwb2ludEJ1aWxkZXIuYnVpbGQoJ3hocicsIGZsdXNoUmVhc29uKTtcbiAgICBzZW5kWEhSKHhoclVybCwgZGF0YSk7XG59XG52YXIgaGFzUmVwb3J0ZWRCZWFjb25FcnJvciA9IGZhbHNlO1xuZnVuY3Rpb24gcmVwb3J0QmVhY29uRXJyb3IoZSkge1xuICAgIGlmICghaGFzUmVwb3J0ZWRCZWFjb25FcnJvcikge1xuICAgICAgICBoYXNSZXBvcnRlZEJlYWNvbkVycm9yID0gdHJ1ZTtcbiAgICAgICAgYWRkVGVsZW1ldHJ5RXJyb3IoZSk7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGZldGNoS2VlcEFsaXZlU3RyYXRlZ3koZW5kcG9pbnRCdWlsZGVyLCBieXRlc0xpbWl0LCBfYSwgb25SZXNwb25zZSkge1xuICAgIHZhciBkYXRhID0gX2EuZGF0YSwgYnl0ZXNDb3VudCA9IF9hLmJ5dGVzQ291bnQsIGZsdXNoUmVhc29uID0gX2EuZmx1c2hSZWFzb24sIHJldHJ5ID0gX2EucmV0cnk7XG4gICAgdmFyIGNhblVzZUtlZXBBbGl2ZSA9IGlzS2VlcEFsaXZlU3VwcG9ydGVkKCkgJiYgYnl0ZXNDb3VudCA8IGJ5dGVzTGltaXQ7XG4gICAgaWYgKGNhblVzZUtlZXBBbGl2ZSkge1xuICAgICAgICB2YXIgZmV0Y2hVcmwgPSBlbmRwb2ludEJ1aWxkZXIuYnVpbGQoJ2ZldGNoJywgZmx1c2hSZWFzb24sIHJldHJ5KTtcbiAgICAgICAgZmV0Y2goZmV0Y2hVcmwsIHsgbWV0aG9kOiAnUE9TVCcsIGJvZHk6IGRhdGEsIGtlZXBhbGl2ZTogdHJ1ZSwgbW9kZTogJ2NvcnMnIH0pLnRoZW4obW9uaXRvcihmdW5jdGlvbiAocmVzcG9uc2UpIHsgcmV0dXJuIG9uUmVzcG9uc2UgPT09IG51bGwgfHwgb25SZXNwb25zZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25SZXNwb25zZSh7IHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLCB0eXBlOiByZXNwb25zZS50eXBlIH0pOyB9KSwgbW9uaXRvcihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgeGhyVXJsID0gZW5kcG9pbnRCdWlsZGVyLmJ1aWxkKCd4aHInLCBmbHVzaFJlYXNvbiwgcmV0cnkpO1xuICAgICAgICAgICAgLy8gZmFpbGVkIHRvIHF1ZXVlIHRoZSByZXF1ZXN0XG4gICAgICAgICAgICBzZW5kWEhSKHhoclVybCwgZGF0YSwgb25SZXNwb25zZSk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZhciB4aHJVcmwgPSBlbmRwb2ludEJ1aWxkZXIuYnVpbGQoJ3hocicsIGZsdXNoUmVhc29uLCByZXRyeSk7XG4gICAgICAgIHNlbmRYSFIoeGhyVXJsLCBkYXRhLCBvblJlc3BvbnNlKTtcbiAgICB9XG59XG5mdW5jdGlvbiBpc0tlZXBBbGl2ZVN1cHBvcnRlZCgpIHtcbiAgICAvLyBSZXF1ZXN0IGNhbiB0aHJvdywgY2YgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1JlcXVlc3QvUmVxdWVzdCNlcnJvcnNcbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gd2luZG93LlJlcXVlc3QgJiYgJ2tlZXBhbGl2ZScgaW4gbmV3IFJlcXVlc3QoJ2h0dHA6Ly9hJyk7XG4gICAgfVxuICAgIGNhdGNoIChfYSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIHNlbmRYSFIodXJsLCBkYXRhLCBvblJlc3BvbnNlKSB7XG4gICAgdmFyIHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICByZXF1ZXN0Lm9wZW4oJ1BPU1QnLCB1cmwsIHRydWUpO1xuICAgIGFkZEV2ZW50TGlzdGVuZXIocmVxdWVzdCwgJ2xvYWRlbmQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIG9uUmVzcG9uc2UgPT09IG51bGwgfHwgb25SZXNwb25zZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25SZXNwb25zZSh7IHN0YXR1czogcmVxdWVzdC5zdGF0dXMgfSk7XG4gICAgfSwge1xuICAgICAgICAvLyBwcmV2ZW50IG11bHRpcGxlIG9uUmVzcG9uc2UgY2FsbGJhY2tzXG4gICAgICAgIC8vIGlmIHRoZSB4aHIgaW5zdGFuY2UgaXMgcmV1c2VkIGJ5IGEgdGhpcmQgcGFydHlcbiAgICAgICAgb25jZTogdHJ1ZSxcbiAgICB9KTtcbiAgICByZXF1ZXN0LnNlbmQoZGF0YSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1odHRwUmVxdWVzdC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-core/esm/transport/httpRequest.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-core/esm/transport/sendWithRetryStrategy.js":
/*!***************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/transport/sendWithRetryStrategy.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   INITIAL_BACKOFF_TIME: () => (/* binding */ INITIAL_BACKOFF_TIME),\n/* harmony export */   MAX_BACKOFF_TIME: () => (/* binding */ MAX_BACKOFF_TIME),\n/* harmony export */   MAX_ONGOING_BYTES_COUNT: () => (/* binding */ MAX_ONGOING_BYTES_COUNT),\n/* harmony export */   MAX_ONGOING_REQUESTS: () => (/* binding */ MAX_ONGOING_REQUESTS),\n/* harmony export */   MAX_QUEUE_BYTES_COUNT: () => (/* binding */ MAX_QUEUE_BYTES_COUNT),\n/* harmony export */   newRetryState: () => (/* binding */ newRetryState),\n/* harmony export */   sendWithRetryStrategy: () => (/* binding */ sendWithRetryStrategy)\n/* harmony export */ });\n/* harmony import */ var _tools_timer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../tools/timer */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/timer.js\");\n/* harmony import */ var _tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../tools/utils/timeUtils */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js\");\n/* harmony import */ var _tools_utils_byteUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../tools/utils/byteUtils */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/byteUtils.js\");\n/* harmony import */ var _tools_utils_responseUtils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../tools/utils/responseUtils */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/responseUtils.js\");\n/* harmony import */ var _domain_error_error_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../domain/error/error.types */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/error/error.types.js\");\n\n\n\n\n\nvar MAX_ONGOING_BYTES_COUNT = 80 * _tools_utils_byteUtils__WEBPACK_IMPORTED_MODULE_0__.ONE_KIBI_BYTE;\nvar MAX_ONGOING_REQUESTS = 32;\nvar MAX_QUEUE_BYTES_COUNT = 3 * _tools_utils_byteUtils__WEBPACK_IMPORTED_MODULE_0__.ONE_MEBI_BYTE;\nvar MAX_BACKOFF_TIME = _tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_1__.ONE_MINUTE;\nvar INITIAL_BACKOFF_TIME = _tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_1__.ONE_SECOND;\nfunction sendWithRetryStrategy(payload, state, sendStrategy, endpointType, reportError) {\n    if (state.transportStatus === 0 /* TransportStatus.UP */ &&\n        state.queuedPayloads.size() === 0 &&\n        state.bandwidthMonitor.canHandle(payload)) {\n        send(payload, state, sendStrategy, {\n            onSuccess: function () { return retryQueuedPayloads(0 /* RetryReason.AFTER_SUCCESS */, state, sendStrategy, endpointType, reportError); },\n            onFailure: function () {\n                state.queuedPayloads.enqueue(payload);\n                scheduleRetry(state, sendStrategy, endpointType, reportError);\n            },\n        });\n    }\n    else {\n        state.queuedPayloads.enqueue(payload);\n    }\n}\nfunction scheduleRetry(state, sendStrategy, endpointType, reportError) {\n    if (state.transportStatus !== 2 /* TransportStatus.DOWN */) {\n        return;\n    }\n    (0,_tools_timer__WEBPACK_IMPORTED_MODULE_2__.setTimeout)(function () {\n        var payload = state.queuedPayloads.first();\n        send(payload, state, sendStrategy, {\n            onSuccess: function () {\n                state.queuedPayloads.dequeue();\n                state.currentBackoffTime = INITIAL_BACKOFF_TIME;\n                retryQueuedPayloads(1 /* RetryReason.AFTER_RESUME */, state, sendStrategy, endpointType, reportError);\n            },\n            onFailure: function () {\n                state.currentBackoffTime = Math.min(MAX_BACKOFF_TIME, state.currentBackoffTime * 2);\n                scheduleRetry(state, sendStrategy, endpointType, reportError);\n            },\n        });\n    }, state.currentBackoffTime);\n}\nfunction send(payload, state, sendStrategy, _a) {\n    var onSuccess = _a.onSuccess, onFailure = _a.onFailure;\n    state.bandwidthMonitor.add(payload);\n    sendStrategy(payload, function (response) {\n        state.bandwidthMonitor.remove(payload);\n        if (!shouldRetryRequest(response)) {\n            state.transportStatus = 0 /* TransportStatus.UP */;\n            onSuccess();\n        }\n        else {\n            // do not consider transport down if another ongoing request could succeed\n            state.transportStatus =\n                state.bandwidthMonitor.ongoingRequestCount > 0 ? 1 /* TransportStatus.FAILURE_DETECTED */ : 2 /* TransportStatus.DOWN */;\n            payload.retry = {\n                count: payload.retry ? payload.retry.count + 1 : 1,\n                lastFailureStatus: response.status,\n            };\n            onFailure();\n        }\n    });\n}\nfunction retryQueuedPayloads(reason, state, sendStrategy, endpointType, reportError) {\n    if (reason === 0 /* RetryReason.AFTER_SUCCESS */ && state.queuedPayloads.isFull() && !state.queueFullReported) {\n        reportError({\n            message: \"Reached max \".concat(endpointType, \" events size queued for upload: \").concat(MAX_QUEUE_BYTES_COUNT / _tools_utils_byteUtils__WEBPACK_IMPORTED_MODULE_0__.ONE_MEBI_BYTE, \"MiB\"),\n            source: _domain_error_error_types__WEBPACK_IMPORTED_MODULE_3__.ErrorSource.AGENT,\n            startClocks: (0,_tools_utils_timeUtils__WEBPACK_IMPORTED_MODULE_1__.clocksNow)(),\n        });\n        state.queueFullReported = true;\n    }\n    var previousQueue = state.queuedPayloads;\n    state.queuedPayloads = newPayloadQueue();\n    while (previousQueue.size() > 0) {\n        sendWithRetryStrategy(previousQueue.dequeue(), state, sendStrategy, endpointType, reportError);\n    }\n}\nfunction shouldRetryRequest(response) {\n    return (response.type !== 'opaque' &&\n        ((response.status === 0 && !navigator.onLine) ||\n            response.status === 408 ||\n            response.status === 429 ||\n            (0,_tools_utils_responseUtils__WEBPACK_IMPORTED_MODULE_4__.isServerError)(response.status)));\n}\nfunction newRetryState() {\n    return {\n        transportStatus: 0 /* TransportStatus.UP */,\n        currentBackoffTime: INITIAL_BACKOFF_TIME,\n        bandwidthMonitor: newBandwidthMonitor(),\n        queuedPayloads: newPayloadQueue(),\n        queueFullReported: false,\n    };\n}\nfunction newPayloadQueue() {\n    var queue = [];\n    return {\n        bytesCount: 0,\n        enqueue: function (payload) {\n            if (this.isFull()) {\n                return;\n            }\n            queue.push(payload);\n            this.bytesCount += payload.bytesCount;\n        },\n        first: function () {\n            return queue[0];\n        },\n        dequeue: function () {\n            var payload = queue.shift();\n            if (payload) {\n                this.bytesCount -= payload.bytesCount;\n            }\n            return payload;\n        },\n        size: function () {\n            return queue.length;\n        },\n        isFull: function () {\n            return this.bytesCount >= MAX_QUEUE_BYTES_COUNT;\n        },\n    };\n}\nfunction newBandwidthMonitor() {\n    return {\n        ongoingRequestCount: 0,\n        ongoingByteCount: 0,\n        canHandle: function (payload) {\n            return (this.ongoingRequestCount === 0 ||\n                (this.ongoingByteCount + payload.bytesCount <= MAX_ONGOING_BYTES_COUNT &&\n                    this.ongoingRequestCount < MAX_ONGOING_REQUESTS));\n        },\n        add: function (payload) {\n            this.ongoingRequestCount += 1;\n            this.ongoingByteCount += payload.bytesCount;\n        },\n        remove: function (payload) {\n            this.ongoingRequestCount -= 1;\n            this.ongoingByteCount -= payload.bytesCount;\n        },\n    };\n}\n//# sourceMappingURL=sendWithRetryStrategy.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdHJhbnNwb3J0L3NlbmRXaXRoUmV0cnlTdHJhdGVneS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBNEM7QUFDaUM7QUFDTDtBQUNYO0FBQ0g7QUFDbkQsbUNBQW1DLGlFQUFhO0FBQ2hEO0FBQ0EsZ0NBQWdDLGlFQUFhO0FBQzdDLHVCQUF1Qiw4REFBVTtBQUNqQywyQkFBMkIsOERBQVU7QUFDckM7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyxnSEFBZ0g7QUFDcko7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLHdEQUFVO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0SEFBNEgsaUVBQWE7QUFDekksb0JBQW9CLGtFQUFXO0FBQy9CLHlCQUF5QixpRUFBUztBQUNsQyxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHlFQUFhO0FBQ3pCO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFyY2FzdGVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLWNvcmUvZXNtL3RyYW5zcG9ydC9zZW5kV2l0aFJldHJ5U3RyYXRlZ3kuanM/NDU1ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzZXRUaW1lb3V0IH0gZnJvbSAnLi4vdG9vbHMvdGltZXInO1xuaW1wb3J0IHsgY2xvY2tzTm93LCBPTkVfTUlOVVRFLCBPTkVfU0VDT05EIH0gZnJvbSAnLi4vdG9vbHMvdXRpbHMvdGltZVV0aWxzJztcbmltcG9ydCB7IE9ORV9NRUJJX0JZVEUsIE9ORV9LSUJJX0JZVEUgfSBmcm9tICcuLi90b29scy91dGlscy9ieXRlVXRpbHMnO1xuaW1wb3J0IHsgaXNTZXJ2ZXJFcnJvciB9IGZyb20gJy4uL3Rvb2xzL3V0aWxzL3Jlc3BvbnNlVXRpbHMnO1xuaW1wb3J0IHsgRXJyb3JTb3VyY2UgfSBmcm9tICcuLi9kb21haW4vZXJyb3IvZXJyb3IudHlwZXMnO1xuZXhwb3J0IHZhciBNQVhfT05HT0lOR19CWVRFU19DT1VOVCA9IDgwICogT05FX0tJQklfQllURTtcbmV4cG9ydCB2YXIgTUFYX09OR09JTkdfUkVRVUVTVFMgPSAzMjtcbmV4cG9ydCB2YXIgTUFYX1FVRVVFX0JZVEVTX0NPVU5UID0gMyAqIE9ORV9NRUJJX0JZVEU7XG5leHBvcnQgdmFyIE1BWF9CQUNLT0ZGX1RJTUUgPSBPTkVfTUlOVVRFO1xuZXhwb3J0IHZhciBJTklUSUFMX0JBQ0tPRkZfVElNRSA9IE9ORV9TRUNPTkQ7XG5leHBvcnQgZnVuY3Rpb24gc2VuZFdpdGhSZXRyeVN0cmF0ZWd5KHBheWxvYWQsIHN0YXRlLCBzZW5kU3RyYXRlZ3ksIGVuZHBvaW50VHlwZSwgcmVwb3J0RXJyb3IpIHtcbiAgICBpZiAoc3RhdGUudHJhbnNwb3J0U3RhdHVzID09PSAwIC8qIFRyYW5zcG9ydFN0YXR1cy5VUCAqLyAmJlxuICAgICAgICBzdGF0ZS5xdWV1ZWRQYXlsb2Fkcy5zaXplKCkgPT09IDAgJiZcbiAgICAgICAgc3RhdGUuYmFuZHdpZHRoTW9uaXRvci5jYW5IYW5kbGUocGF5bG9hZCkpIHtcbiAgICAgICAgc2VuZChwYXlsb2FkLCBzdGF0ZSwgc2VuZFN0cmF0ZWd5LCB7XG4gICAgICAgICAgICBvblN1Y2Nlc3M6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJldHJ5UXVldWVkUGF5bG9hZHMoMCAvKiBSZXRyeVJlYXNvbi5BRlRFUl9TVUNDRVNTICovLCBzdGF0ZSwgc2VuZFN0cmF0ZWd5LCBlbmRwb2ludFR5cGUsIHJlcG9ydEVycm9yKTsgfSxcbiAgICAgICAgICAgIG9uRmFpbHVyZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHN0YXRlLnF1ZXVlZFBheWxvYWRzLmVucXVldWUocGF5bG9hZCk7XG4gICAgICAgICAgICAgICAgc2NoZWR1bGVSZXRyeShzdGF0ZSwgc2VuZFN0cmF0ZWd5LCBlbmRwb2ludFR5cGUsIHJlcG9ydEVycm9yKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgc3RhdGUucXVldWVkUGF5bG9hZHMuZW5xdWV1ZShwYXlsb2FkKTtcbiAgICB9XG59XG5mdW5jdGlvbiBzY2hlZHVsZVJldHJ5KHN0YXRlLCBzZW5kU3RyYXRlZ3ksIGVuZHBvaW50VHlwZSwgcmVwb3J0RXJyb3IpIHtcbiAgICBpZiAoc3RhdGUudHJhbnNwb3J0U3RhdHVzICE9PSAyIC8qIFRyYW5zcG9ydFN0YXR1cy5ET1dOICovKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBwYXlsb2FkID0gc3RhdGUucXVldWVkUGF5bG9hZHMuZmlyc3QoKTtcbiAgICAgICAgc2VuZChwYXlsb2FkLCBzdGF0ZSwgc2VuZFN0cmF0ZWd5LCB7XG4gICAgICAgICAgICBvblN1Y2Nlc3M6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBzdGF0ZS5xdWV1ZWRQYXlsb2Fkcy5kZXF1ZXVlKCk7XG4gICAgICAgICAgICAgICAgc3RhdGUuY3VycmVudEJhY2tvZmZUaW1lID0gSU5JVElBTF9CQUNLT0ZGX1RJTUU7XG4gICAgICAgICAgICAgICAgcmV0cnlRdWV1ZWRQYXlsb2FkcygxIC8qIFJldHJ5UmVhc29uLkFGVEVSX1JFU1VNRSAqLywgc3RhdGUsIHNlbmRTdHJhdGVneSwgZW5kcG9pbnRUeXBlLCByZXBvcnRFcnJvcik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25GYWlsdXJlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgc3RhdGUuY3VycmVudEJhY2tvZmZUaW1lID0gTWF0aC5taW4oTUFYX0JBQ0tPRkZfVElNRSwgc3RhdGUuY3VycmVudEJhY2tvZmZUaW1lICogMik7XG4gICAgICAgICAgICAgICAgc2NoZWR1bGVSZXRyeShzdGF0ZSwgc2VuZFN0cmF0ZWd5LCBlbmRwb2ludFR5cGUsIHJlcG9ydEVycm9yKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH0sIHN0YXRlLmN1cnJlbnRCYWNrb2ZmVGltZSk7XG59XG5mdW5jdGlvbiBzZW5kKHBheWxvYWQsIHN0YXRlLCBzZW5kU3RyYXRlZ3ksIF9hKSB7XG4gICAgdmFyIG9uU3VjY2VzcyA9IF9hLm9uU3VjY2Vzcywgb25GYWlsdXJlID0gX2Eub25GYWlsdXJlO1xuICAgIHN0YXRlLmJhbmR3aWR0aE1vbml0b3IuYWRkKHBheWxvYWQpO1xuICAgIHNlbmRTdHJhdGVneShwYXlsb2FkLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgc3RhdGUuYmFuZHdpZHRoTW9uaXRvci5yZW1vdmUocGF5bG9hZCk7XG4gICAgICAgIGlmICghc2hvdWxkUmV0cnlSZXF1ZXN0KHJlc3BvbnNlKSkge1xuICAgICAgICAgICAgc3RhdGUudHJhbnNwb3J0U3RhdHVzID0gMCAvKiBUcmFuc3BvcnRTdGF0dXMuVVAgKi87XG4gICAgICAgICAgICBvblN1Y2Nlc3MoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGRvIG5vdCBjb25zaWRlciB0cmFuc3BvcnQgZG93biBpZiBhbm90aGVyIG9uZ29pbmcgcmVxdWVzdCBjb3VsZCBzdWNjZWVkXG4gICAgICAgICAgICBzdGF0ZS50cmFuc3BvcnRTdGF0dXMgPVxuICAgICAgICAgICAgICAgIHN0YXRlLmJhbmR3aWR0aE1vbml0b3Iub25nb2luZ1JlcXVlc3RDb3VudCA+IDAgPyAxIC8qIFRyYW5zcG9ydFN0YXR1cy5GQUlMVVJFX0RFVEVDVEVEICovIDogMiAvKiBUcmFuc3BvcnRTdGF0dXMuRE9XTiAqLztcbiAgICAgICAgICAgIHBheWxvYWQucmV0cnkgPSB7XG4gICAgICAgICAgICAgICAgY291bnQ6IHBheWxvYWQucmV0cnkgPyBwYXlsb2FkLnJldHJ5LmNvdW50ICsgMSA6IDEsXG4gICAgICAgICAgICAgICAgbGFzdEZhaWx1cmVTdGF0dXM6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBvbkZhaWx1cmUoKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuZnVuY3Rpb24gcmV0cnlRdWV1ZWRQYXlsb2FkcyhyZWFzb24sIHN0YXRlLCBzZW5kU3RyYXRlZ3ksIGVuZHBvaW50VHlwZSwgcmVwb3J0RXJyb3IpIHtcbiAgICBpZiAocmVhc29uID09PSAwIC8qIFJldHJ5UmVhc29uLkFGVEVSX1NVQ0NFU1MgKi8gJiYgc3RhdGUucXVldWVkUGF5bG9hZHMuaXNGdWxsKCkgJiYgIXN0YXRlLnF1ZXVlRnVsbFJlcG9ydGVkKSB7XG4gICAgICAgIHJlcG9ydEVycm9yKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiUmVhY2hlZCBtYXggXCIuY29uY2F0KGVuZHBvaW50VHlwZSwgXCIgZXZlbnRzIHNpemUgcXVldWVkIGZvciB1cGxvYWQ6IFwiKS5jb25jYXQoTUFYX1FVRVVFX0JZVEVTX0NPVU5UIC8gT05FX01FQklfQllURSwgXCJNaUJcIiksXG4gICAgICAgICAgICBzb3VyY2U6IEVycm9yU291cmNlLkFHRU5ULFxuICAgICAgICAgICAgc3RhcnRDbG9ja3M6IGNsb2Nrc05vdygpLFxuICAgICAgICB9KTtcbiAgICAgICAgc3RhdGUucXVldWVGdWxsUmVwb3J0ZWQgPSB0cnVlO1xuICAgIH1cbiAgICB2YXIgcHJldmlvdXNRdWV1ZSA9IHN0YXRlLnF1ZXVlZFBheWxvYWRzO1xuICAgIHN0YXRlLnF1ZXVlZFBheWxvYWRzID0gbmV3UGF5bG9hZFF1ZXVlKCk7XG4gICAgd2hpbGUgKHByZXZpb3VzUXVldWUuc2l6ZSgpID4gMCkge1xuICAgICAgICBzZW5kV2l0aFJldHJ5U3RyYXRlZ3kocHJldmlvdXNRdWV1ZS5kZXF1ZXVlKCksIHN0YXRlLCBzZW5kU3RyYXRlZ3ksIGVuZHBvaW50VHlwZSwgcmVwb3J0RXJyb3IpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHNob3VsZFJldHJ5UmVxdWVzdChyZXNwb25zZSkge1xuICAgIHJldHVybiAocmVzcG9uc2UudHlwZSAhPT0gJ29wYXF1ZScgJiZcbiAgICAgICAgKChyZXNwb25zZS5zdGF0dXMgPT09IDAgJiYgIW5hdmlnYXRvci5vbkxpbmUpIHx8XG4gICAgICAgICAgICByZXNwb25zZS5zdGF0dXMgPT09IDQwOCB8fFxuICAgICAgICAgICAgcmVzcG9uc2Uuc3RhdHVzID09PSA0MjkgfHxcbiAgICAgICAgICAgIGlzU2VydmVyRXJyb3IocmVzcG9uc2Uuc3RhdHVzKSkpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG5ld1JldHJ5U3RhdGUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHJhbnNwb3J0U3RhdHVzOiAwIC8qIFRyYW5zcG9ydFN0YXR1cy5VUCAqLyxcbiAgICAgICAgY3VycmVudEJhY2tvZmZUaW1lOiBJTklUSUFMX0JBQ0tPRkZfVElNRSxcbiAgICAgICAgYmFuZHdpZHRoTW9uaXRvcjogbmV3QmFuZHdpZHRoTW9uaXRvcigpLFxuICAgICAgICBxdWV1ZWRQYXlsb2FkczogbmV3UGF5bG9hZFF1ZXVlKCksXG4gICAgICAgIHF1ZXVlRnVsbFJlcG9ydGVkOiBmYWxzZSxcbiAgICB9O1xufVxuZnVuY3Rpb24gbmV3UGF5bG9hZFF1ZXVlKCkge1xuICAgIHZhciBxdWV1ZSA9IFtdO1xuICAgIHJldHVybiB7XG4gICAgICAgIGJ5dGVzQ291bnQ6IDAsXG4gICAgICAgIGVucXVldWU6IGZ1bmN0aW9uIChwYXlsb2FkKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc0Z1bGwoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHF1ZXVlLnB1c2gocGF5bG9hZCk7XG4gICAgICAgICAgICB0aGlzLmJ5dGVzQ291bnQgKz0gcGF5bG9hZC5ieXRlc0NvdW50O1xuICAgICAgICB9LFxuICAgICAgICBmaXJzdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHF1ZXVlWzBdO1xuICAgICAgICB9LFxuICAgICAgICBkZXF1ZXVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgcGF5bG9hZCA9IHF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgICAgICBpZiAocGF5bG9hZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYnl0ZXNDb3VudCAtPSBwYXlsb2FkLmJ5dGVzQ291bnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICAgICAgfSxcbiAgICAgICAgc2l6ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHF1ZXVlLmxlbmd0aDtcbiAgICAgICAgfSxcbiAgICAgICAgaXNGdWxsOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ieXRlc0NvdW50ID49IE1BWF9RVUVVRV9CWVRFU19DT1VOVDtcbiAgICAgICAgfSxcbiAgICB9O1xufVxuZnVuY3Rpb24gbmV3QmFuZHdpZHRoTW9uaXRvcigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBvbmdvaW5nUmVxdWVzdENvdW50OiAwLFxuICAgICAgICBvbmdvaW5nQnl0ZUNvdW50OiAwLFxuICAgICAgICBjYW5IYW5kbGU6IGZ1bmN0aW9uIChwYXlsb2FkKSB7XG4gICAgICAgICAgICByZXR1cm4gKHRoaXMub25nb2luZ1JlcXVlc3RDb3VudCA9PT0gMCB8fFxuICAgICAgICAgICAgICAgICh0aGlzLm9uZ29pbmdCeXRlQ291bnQgKyBwYXlsb2FkLmJ5dGVzQ291bnQgPD0gTUFYX09OR09JTkdfQllURVNfQ09VTlQgJiZcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbmdvaW5nUmVxdWVzdENvdW50IDwgTUFYX09OR09JTkdfUkVRVUVTVFMpKTtcbiAgICAgICAgfSxcbiAgICAgICAgYWRkOiBmdW5jdGlvbiAocGF5bG9hZCkge1xuICAgICAgICAgICAgdGhpcy5vbmdvaW5nUmVxdWVzdENvdW50ICs9IDE7XG4gICAgICAgICAgICB0aGlzLm9uZ29pbmdCeXRlQ291bnQgKz0gcGF5bG9hZC5ieXRlc0NvdW50O1xuICAgICAgICB9LFxuICAgICAgICByZW1vdmU6IGZ1bmN0aW9uIChwYXlsb2FkKSB7XG4gICAgICAgICAgICB0aGlzLm9uZ29pbmdSZXF1ZXN0Q291bnQgLT0gMTtcbiAgICAgICAgICAgIHRoaXMub25nb2luZ0J5dGVDb3VudCAtPSBwYXlsb2FkLmJ5dGVzQ291bnQ7XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNlbmRXaXRoUmV0cnlTdHJhdGVneS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-core/esm/transport/sendWithRetryStrategy.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-core/esm/transport/startBatchWithReplica.js":
/*!***************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-core/esm/transport/startBatchWithReplica.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   startBatchWithReplica: () => (/* binding */ startBatchWithReplica)\n/* harmony export */ });\n/* harmony import */ var _batch__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./batch */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/transport/batch.js\");\n/* harmony import */ var _httpRequest__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./httpRequest */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/transport/httpRequest.js\");\n/* harmony import */ var _flushController__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./flushController */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/transport/flushController.js\");\n\n\n\nfunction startBatchWithReplica(configuration, endpoint, reportError, pageExitObservable, sessionExpireObservable, replicaEndpoint) {\n    var primaryBatch = createBatch(endpoint);\n    var replicaBatch;\n    if (replicaEndpoint) {\n        replicaBatch = createBatch(replicaEndpoint);\n    }\n    function createBatch(endpointBuilder) {\n        return new _batch__WEBPACK_IMPORTED_MODULE_0__.Batch((0,_httpRequest__WEBPACK_IMPORTED_MODULE_1__.createHttpRequest)(endpointBuilder, configuration.batchBytesLimit, reportError), (0,_flushController__WEBPACK_IMPORTED_MODULE_2__.createFlushController)({\n            messagesLimit: configuration.batchMessagesLimit,\n            bytesLimit: configuration.batchBytesLimit,\n            durationLimit: configuration.flushTimeout,\n            pageExitObservable: pageExitObservable,\n            sessionExpireObservable: sessionExpireObservable,\n        }), configuration.messageBytesLimit);\n    }\n    return {\n        add: function (message, replicated) {\n            if (replicated === void 0) { replicated = true; }\n            primaryBatch.add(message);\n            if (replicaBatch && replicated) {\n                replicaBatch.add(message);\n            }\n        },\n    };\n}\n//# sourceMappingURL=startBatchWithReplica.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdHJhbnNwb3J0L3N0YXJ0QmF0Y2hXaXRoUmVwbGljYS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWdDO0FBQ2tCO0FBQ1E7QUFDbkQ7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIseUNBQUssQ0FBQywrREFBaUIsK0RBQStELHVFQUFxQjtBQUM5SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYXJjYXN0ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItY29yZS9lc20vdHJhbnNwb3J0L3N0YXJ0QmF0Y2hXaXRoUmVwbGljYS5qcz8yZjRkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJhdGNoIH0gZnJvbSAnLi9iYXRjaCc7XG5pbXBvcnQgeyBjcmVhdGVIdHRwUmVxdWVzdCB9IGZyb20gJy4vaHR0cFJlcXVlc3QnO1xuaW1wb3J0IHsgY3JlYXRlRmx1c2hDb250cm9sbGVyIH0gZnJvbSAnLi9mbHVzaENvbnRyb2xsZXInO1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0QmF0Y2hXaXRoUmVwbGljYShjb25maWd1cmF0aW9uLCBlbmRwb2ludCwgcmVwb3J0RXJyb3IsIHBhZ2VFeGl0T2JzZXJ2YWJsZSwgc2Vzc2lvbkV4cGlyZU9ic2VydmFibGUsIHJlcGxpY2FFbmRwb2ludCkge1xuICAgIHZhciBwcmltYXJ5QmF0Y2ggPSBjcmVhdGVCYXRjaChlbmRwb2ludCk7XG4gICAgdmFyIHJlcGxpY2FCYXRjaDtcbiAgICBpZiAocmVwbGljYUVuZHBvaW50KSB7XG4gICAgICAgIHJlcGxpY2FCYXRjaCA9IGNyZWF0ZUJhdGNoKHJlcGxpY2FFbmRwb2ludCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNyZWF0ZUJhdGNoKGVuZHBvaW50QnVpbGRlcikge1xuICAgICAgICByZXR1cm4gbmV3IEJhdGNoKGNyZWF0ZUh0dHBSZXF1ZXN0KGVuZHBvaW50QnVpbGRlciwgY29uZmlndXJhdGlvbi5iYXRjaEJ5dGVzTGltaXQsIHJlcG9ydEVycm9yKSwgY3JlYXRlRmx1c2hDb250cm9sbGVyKHtcbiAgICAgICAgICAgIG1lc3NhZ2VzTGltaXQ6IGNvbmZpZ3VyYXRpb24uYmF0Y2hNZXNzYWdlc0xpbWl0LFxuICAgICAgICAgICAgYnl0ZXNMaW1pdDogY29uZmlndXJhdGlvbi5iYXRjaEJ5dGVzTGltaXQsXG4gICAgICAgICAgICBkdXJhdGlvbkxpbWl0OiBjb25maWd1cmF0aW9uLmZsdXNoVGltZW91dCxcbiAgICAgICAgICAgIHBhZ2VFeGl0T2JzZXJ2YWJsZTogcGFnZUV4aXRPYnNlcnZhYmxlLFxuICAgICAgICAgICAgc2Vzc2lvbkV4cGlyZU9ic2VydmFibGU6IHNlc3Npb25FeHBpcmVPYnNlcnZhYmxlLFxuICAgICAgICB9KSwgY29uZmlndXJhdGlvbi5tZXNzYWdlQnl0ZXNMaW1pdCk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGFkZDogZnVuY3Rpb24gKG1lc3NhZ2UsIHJlcGxpY2F0ZWQpIHtcbiAgICAgICAgICAgIGlmIChyZXBsaWNhdGVkID09PSB2b2lkIDApIHsgcmVwbGljYXRlZCA9IHRydWU7IH1cbiAgICAgICAgICAgIHByaW1hcnlCYXRjaC5hZGQobWVzc2FnZSk7XG4gICAgICAgICAgICBpZiAocmVwbGljYUJhdGNoICYmIHJlcGxpY2F0ZWQpIHtcbiAgICAgICAgICAgICAgICByZXBsaWNhQmF0Y2guYWRkKG1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdGFydEJhdGNoV2l0aFJlcGxpY2EuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-core/esm/transport/startBatchWithReplica.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-logs/esm/boot/logsPublicApi.js":
/*!**************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-logs/esm/boot/logsPublicApi.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   makeLogsPublicApi: () => (/* binding */ makeLogsPublicApi)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/serialisation/contextManager.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/boundedBuffer.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/mergeInto.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/boot/init.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/monitor.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/transport/eventBridge.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/serialisation/sanitize.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/user/user.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/polyfills.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/display.js\");\n/* harmony import */ var _domain_configuration__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../domain/configuration */ \"(ssr)/../../node_modules/@datadog/browser-logs/esm/domain/configuration.js\");\n/* harmony import */ var _domain_logger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../domain/logger */ \"(ssr)/../../node_modules/@datadog/browser-logs/esm/domain/logger.js\");\n\n\n\nfunction makeLogsPublicApi(startLogsImpl) {\n    var isAlreadyInitialized = false;\n    var globalContextManager = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.createContextManager)(\"global context\" /* CustomerDataType.GlobalContext */);\n    var userContextManager = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.createContextManager)(\"user\" /* CustomerDataType.User */);\n    var customLoggers = {};\n    var getInternalContextStrategy = function () { return undefined; };\n    var beforeInitLoggerLog = new _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.BoundedBuffer();\n    var handleLogStrategy = function (logsMessage, logger, savedCommonContext, date) {\n        if (savedCommonContext === void 0) { savedCommonContext = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.deepClone)(buildCommonContext()); }\n        if (date === void 0) { date = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.timeStampNow)(); }\n        beforeInitLoggerLog.add(function () { return handleLogStrategy(logsMessage, logger, savedCommonContext, date); });\n    };\n    var getInitConfigurationStrategy = function () { return undefined; };\n    var mainLogger = new _domain_logger__WEBPACK_IMPORTED_MODULE_1__.Logger(function () {\n        var params = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            params[_i] = arguments[_i];\n        }\n        return handleLogStrategy.apply(void 0, params);\n    });\n    function buildCommonContext() {\n        return {\n            view: {\n                referrer: document.referrer,\n                url: window.location.href,\n            },\n            context: globalContextManager.getContext(),\n            user: userContextManager.getContext(),\n        };\n    }\n    return (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__.makePublicApi)({\n        logger: mainLogger,\n        init: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.monitor)(function (initConfiguration) {\n            var _a;\n            // This function should be available, regardless of initialization success.\n            getInitConfigurationStrategy = function () { return (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.deepClone)(initConfiguration); };\n            if ((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_8__.canUseEventBridge)()) {\n                initConfiguration = overrideInitConfigurationForBridge(initConfiguration);\n            }\n            if (!canInitLogs(initConfiguration)) {\n                return;\n            }\n            var configuration = (0,_domain_configuration__WEBPACK_IMPORTED_MODULE_0__.validateAndBuildLogsConfiguration)(initConfiguration);\n            if (!configuration) {\n                return;\n            }\n            ;\n            (_a = startLogsImpl(initConfiguration, configuration, buildCommonContext, mainLogger), handleLogStrategy = _a.handleLog, getInternalContextStrategy = _a.getInternalContext);\n            beforeInitLoggerLog.drain();\n            isAlreadyInitialized = true;\n        }),\n        /** @deprecated: use getGlobalContext instead */\n        getLoggerGlobalContext: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.monitor)(globalContextManager.get),\n        getGlobalContext: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.monitor)(globalContextManager.getContext),\n        /** @deprecated: use setGlobalContext instead */\n        setLoggerGlobalContext: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.monitor)(globalContextManager.set),\n        setGlobalContext: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.monitor)(globalContextManager.setContext),\n        /** @deprecated: use setGlobalContextProperty instead */\n        addLoggerGlobalContext: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.monitor)(globalContextManager.add),\n        setGlobalContextProperty: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.monitor)(globalContextManager.setContextProperty),\n        /** @deprecated: use removeGlobalContextProperty instead */\n        removeLoggerGlobalContext: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.monitor)(globalContextManager.remove),\n        removeGlobalContextProperty: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.monitor)(globalContextManager.removeContextProperty),\n        clearGlobalContext: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.monitor)(globalContextManager.clearContext),\n        createLogger: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.monitor)(function (name, conf) {\n            if (conf === void 0) { conf = {}; }\n            customLoggers[name] = new _domain_logger__WEBPACK_IMPORTED_MODULE_1__.Logger(function () {\n                var params = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    params[_i] = arguments[_i];\n                }\n                return handleLogStrategy.apply(void 0, params);\n            }, (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__.sanitize)(name), conf.handler, conf.level, (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__.sanitize)(conf.context));\n            return customLoggers[name];\n        }),\n        getLogger: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.monitor)(function (name) { return customLoggers[name]; }),\n        getInitConfiguration: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.monitor)(function () { return getInitConfigurationStrategy(); }),\n        getInternalContext: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.monitor)(function (startTime) { return getInternalContextStrategy(startTime); }),\n        setUser: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.monitor)(function (newUser) {\n            if ((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_10__.checkUser)(newUser)) {\n                userContextManager.setContext((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_10__.sanitizeUser)(newUser));\n            }\n        }),\n        getUser: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.monitor)(userContextManager.getContext),\n        setUserProperty: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.monitor)(function (key, property) {\n            var _a;\n            var sanitizedProperty = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_10__.sanitizeUser)((_a = {}, _a[key] = property, _a))[key];\n            userContextManager.setContextProperty(key, sanitizedProperty);\n        }),\n        removeUserProperty: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.monitor)(userContextManager.removeContextProperty),\n        clearUser: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.monitor)(userContextManager.clearContext),\n    });\n    function overrideInitConfigurationForBridge(initConfiguration) {\n        return (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_11__.assign)({}, initConfiguration, { clientToken: 'empty' });\n    }\n    function canInitLogs(initConfiguration) {\n        if (isAlreadyInitialized) {\n            if (!initConfiguration.silentMultipleInit) {\n                _datadog_browser_core__WEBPACK_IMPORTED_MODULE_12__.display.error('DD_LOGS is already initialized.');\n            }\n            return false;\n        }\n        return true;\n    }\n}\n//# sourceMappingURL=logsPublicApi.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItbG9ncy9lc20vYm9vdC9sb2dzUHVibGljQXBpLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXFNO0FBQ3pIO0FBQ2xDO0FBQ25DO0FBQ1A7QUFDQSwrQkFBK0IsMkVBQW9CO0FBQ25ELDZCQUE2QiwyRUFBb0I7QUFDakQ7QUFDQSxtREFBbUQ7QUFDbkQsa0NBQWtDLGdFQUFhO0FBQy9DO0FBQ0EsNkNBQTZDLHFCQUFxQixnRUFBUztBQUMzRSwrQkFBK0IsT0FBTyxtRUFBWTtBQUNsRCw4Q0FBOEMsMEVBQTBFO0FBQ3hIO0FBQ0EscURBQXFEO0FBQ3JELHlCQUF5QixrREFBTTtBQUMvQjtBQUNBLHlCQUF5Qix1QkFBdUI7QUFDaEQ7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLG9FQUFhO0FBQ3hCO0FBQ0EsY0FBYyw4REFBTztBQUNyQjtBQUNBO0FBQ0EseURBQXlELE9BQU8sZ0VBQVM7QUFDekUsZ0JBQWdCLHdFQUFpQjtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLHdGQUFpQztBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLGdDQUFnQyw4REFBTztBQUN2QywwQkFBMEIsOERBQU87QUFDakM7QUFDQSxnQ0FBZ0MsOERBQU87QUFDdkMsMEJBQTBCLDhEQUFPO0FBQ2pDO0FBQ0EsZ0NBQWdDLDhEQUFPO0FBQ3ZDLGtDQUFrQyw4REFBTztBQUN6QztBQUNBLG1DQUFtQyw4REFBTztBQUMxQyxxQ0FBcUMsOERBQU87QUFDNUMsNEJBQTRCLDhEQUFPO0FBQ25DLHNCQUFzQiw4REFBTztBQUM3QixtQ0FBbUM7QUFDbkMsc0NBQXNDLGtEQUFNO0FBQzVDO0FBQ0EsaUNBQWlDLHVCQUF1QjtBQUN4RDtBQUNBO0FBQ0E7QUFDQSxhQUFhLEVBQUUsK0RBQVEsa0NBQWtDLCtEQUFRO0FBQ2pFO0FBQ0EsU0FBUztBQUNULG1CQUFtQiw4REFBTyxtQkFBbUIsNkJBQTZCO0FBQzFFLDhCQUE4Qiw4REFBTyxlQUFlLHdDQUF3QztBQUM1Riw0QkFBNEIsOERBQU8sd0JBQXdCLCtDQUErQztBQUMxRyxpQkFBaUIsOERBQU87QUFDeEIsZ0JBQWdCLGlFQUFTO0FBQ3pCLDhDQUE4QyxvRUFBWTtBQUMxRDtBQUNBLFNBQVM7QUFDVCxpQkFBaUIsOERBQU87QUFDeEIseUJBQXlCLDhEQUFPO0FBQ2hDO0FBQ0Esb0NBQW9DLG9FQUFZLFNBQVM7QUFDekQ7QUFDQSxTQUFTO0FBQ1QsNEJBQTRCLDhEQUFPO0FBQ25DLG1CQUFtQiw4REFBTztBQUMxQixLQUFLO0FBQ0w7QUFDQSxlQUFlLDhEQUFNLEdBQUcsdUJBQXVCLHNCQUFzQjtBQUNyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiwyREFBTztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhcmNhc3Rlci8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1sb2dzL2VzbS9ib290L2xvZ3NQdWJsaWNBcGkuanM/ODFiNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhc3NpZ24sIEJvdW5kZWRCdWZmZXIsIGNyZWF0ZUNvbnRleHRNYW5hZ2VyLCBtYWtlUHVibGljQXBpLCBtb25pdG9yLCBkaXNwbGF5LCBkZWVwQ2xvbmUsIGNhblVzZUV2ZW50QnJpZGdlLCB0aW1lU3RhbXBOb3csIGNoZWNrVXNlciwgc2FuaXRpemVVc2VyLCBzYW5pdGl6ZSwgfSBmcm9tICdAZGF0YWRvZy9icm93c2VyLWNvcmUnO1xuaW1wb3J0IHsgdmFsaWRhdGVBbmRCdWlsZExvZ3NDb25maWd1cmF0aW9uIH0gZnJvbSAnLi4vZG9tYWluL2NvbmZpZ3VyYXRpb24nO1xuaW1wb3J0IHsgTG9nZ2VyIH0gZnJvbSAnLi4vZG9tYWluL2xvZ2dlcic7XG5leHBvcnQgZnVuY3Rpb24gbWFrZUxvZ3NQdWJsaWNBcGkoc3RhcnRMb2dzSW1wbCkge1xuICAgIHZhciBpc0FscmVhZHlJbml0aWFsaXplZCA9IGZhbHNlO1xuICAgIHZhciBnbG9iYWxDb250ZXh0TWFuYWdlciA9IGNyZWF0ZUNvbnRleHRNYW5hZ2VyKFwiZ2xvYmFsIGNvbnRleHRcIiAvKiBDdXN0b21lckRhdGFUeXBlLkdsb2JhbENvbnRleHQgKi8pO1xuICAgIHZhciB1c2VyQ29udGV4dE1hbmFnZXIgPSBjcmVhdGVDb250ZXh0TWFuYWdlcihcInVzZXJcIiAvKiBDdXN0b21lckRhdGFUeXBlLlVzZXIgKi8pO1xuICAgIHZhciBjdXN0b21Mb2dnZXJzID0ge307XG4gICAgdmFyIGdldEludGVybmFsQ29udGV4dFN0cmF0ZWd5ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9O1xuICAgIHZhciBiZWZvcmVJbml0TG9nZ2VyTG9nID0gbmV3IEJvdW5kZWRCdWZmZXIoKTtcbiAgICB2YXIgaGFuZGxlTG9nU3RyYXRlZ3kgPSBmdW5jdGlvbiAobG9nc01lc3NhZ2UsIGxvZ2dlciwgc2F2ZWRDb21tb25Db250ZXh0LCBkYXRlKSB7XG4gICAgICAgIGlmIChzYXZlZENvbW1vbkNvbnRleHQgPT09IHZvaWQgMCkgeyBzYXZlZENvbW1vbkNvbnRleHQgPSBkZWVwQ2xvbmUoYnVpbGRDb21tb25Db250ZXh0KCkpOyB9XG4gICAgICAgIGlmIChkYXRlID09PSB2b2lkIDApIHsgZGF0ZSA9IHRpbWVTdGFtcE5vdygpOyB9XG4gICAgICAgIGJlZm9yZUluaXRMb2dnZXJMb2cuYWRkKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGhhbmRsZUxvZ1N0cmF0ZWd5KGxvZ3NNZXNzYWdlLCBsb2dnZXIsIHNhdmVkQ29tbW9uQ29udGV4dCwgZGF0ZSk7IH0pO1xuICAgIH07XG4gICAgdmFyIGdldEluaXRDb25maWd1cmF0aW9uU3RyYXRlZ3kgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH07XG4gICAgdmFyIG1haW5Mb2dnZXIgPSBuZXcgTG9nZ2VyKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHBhcmFtcyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgcGFyYW1zW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhhbmRsZUxvZ1N0cmF0ZWd5LmFwcGx5KHZvaWQgMCwgcGFyYW1zKTtcbiAgICB9KTtcbiAgICBmdW5jdGlvbiBidWlsZENvbW1vbkNvbnRleHQoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2aWV3OiB7XG4gICAgICAgICAgICAgICAgcmVmZXJyZXI6IGRvY3VtZW50LnJlZmVycmVyLFxuICAgICAgICAgICAgICAgIHVybDogd2luZG93LmxvY2F0aW9uLmhyZWYsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29udGV4dDogZ2xvYmFsQ29udGV4dE1hbmFnZXIuZ2V0Q29udGV4dCgpLFxuICAgICAgICAgICAgdXNlcjogdXNlckNvbnRleHRNYW5hZ2VyLmdldENvbnRleHQoKSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIG1ha2VQdWJsaWNBcGkoe1xuICAgICAgICBsb2dnZXI6IG1haW5Mb2dnZXIsXG4gICAgICAgIGluaXQ6IG1vbml0b3IoZnVuY3Rpb24gKGluaXRDb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAvLyBUaGlzIGZ1bmN0aW9uIHNob3VsZCBiZSBhdmFpbGFibGUsIHJlZ2FyZGxlc3Mgb2YgaW5pdGlhbGl6YXRpb24gc3VjY2Vzcy5cbiAgICAgICAgICAgIGdldEluaXRDb25maWd1cmF0aW9uU3RyYXRlZ3kgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBkZWVwQ2xvbmUoaW5pdENvbmZpZ3VyYXRpb24pOyB9O1xuICAgICAgICAgICAgaWYgKGNhblVzZUV2ZW50QnJpZGdlKCkpIHtcbiAgICAgICAgICAgICAgICBpbml0Q29uZmlndXJhdGlvbiA9IG92ZXJyaWRlSW5pdENvbmZpZ3VyYXRpb25Gb3JCcmlkZ2UoaW5pdENvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFjYW5Jbml0TG9ncyhpbml0Q29uZmlndXJhdGlvbikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgY29uZmlndXJhdGlvbiA9IHZhbGlkYXRlQW5kQnVpbGRMb2dzQ29uZmlndXJhdGlvbihpbml0Q29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICBpZiAoIWNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICA7XG4gICAgICAgICAgICAoX2EgPSBzdGFydExvZ3NJbXBsKGluaXRDb25maWd1cmF0aW9uLCBjb25maWd1cmF0aW9uLCBidWlsZENvbW1vbkNvbnRleHQsIG1haW5Mb2dnZXIpLCBoYW5kbGVMb2dTdHJhdGVneSA9IF9hLmhhbmRsZUxvZywgZ2V0SW50ZXJuYWxDb250ZXh0U3RyYXRlZ3kgPSBfYS5nZXRJbnRlcm5hbENvbnRleHQpO1xuICAgICAgICAgICAgYmVmb3JlSW5pdExvZ2dlckxvZy5kcmFpbigpO1xuICAgICAgICAgICAgaXNBbHJlYWR5SW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgICAgICB9KSxcbiAgICAgICAgLyoqIEBkZXByZWNhdGVkOiB1c2UgZ2V0R2xvYmFsQ29udGV4dCBpbnN0ZWFkICovXG4gICAgICAgIGdldExvZ2dlckdsb2JhbENvbnRleHQ6IG1vbml0b3IoZ2xvYmFsQ29udGV4dE1hbmFnZXIuZ2V0KSxcbiAgICAgICAgZ2V0R2xvYmFsQ29udGV4dDogbW9uaXRvcihnbG9iYWxDb250ZXh0TWFuYWdlci5nZXRDb250ZXh0KSxcbiAgICAgICAgLyoqIEBkZXByZWNhdGVkOiB1c2Ugc2V0R2xvYmFsQ29udGV4dCBpbnN0ZWFkICovXG4gICAgICAgIHNldExvZ2dlckdsb2JhbENvbnRleHQ6IG1vbml0b3IoZ2xvYmFsQ29udGV4dE1hbmFnZXIuc2V0KSxcbiAgICAgICAgc2V0R2xvYmFsQ29udGV4dDogbW9uaXRvcihnbG9iYWxDb250ZXh0TWFuYWdlci5zZXRDb250ZXh0KSxcbiAgICAgICAgLyoqIEBkZXByZWNhdGVkOiB1c2Ugc2V0R2xvYmFsQ29udGV4dFByb3BlcnR5IGluc3RlYWQgKi9cbiAgICAgICAgYWRkTG9nZ2VyR2xvYmFsQ29udGV4dDogbW9uaXRvcihnbG9iYWxDb250ZXh0TWFuYWdlci5hZGQpLFxuICAgICAgICBzZXRHbG9iYWxDb250ZXh0UHJvcGVydHk6IG1vbml0b3IoZ2xvYmFsQ29udGV4dE1hbmFnZXIuc2V0Q29udGV4dFByb3BlcnR5KSxcbiAgICAgICAgLyoqIEBkZXByZWNhdGVkOiB1c2UgcmVtb3ZlR2xvYmFsQ29udGV4dFByb3BlcnR5IGluc3RlYWQgKi9cbiAgICAgICAgcmVtb3ZlTG9nZ2VyR2xvYmFsQ29udGV4dDogbW9uaXRvcihnbG9iYWxDb250ZXh0TWFuYWdlci5yZW1vdmUpLFxuICAgICAgICByZW1vdmVHbG9iYWxDb250ZXh0UHJvcGVydHk6IG1vbml0b3IoZ2xvYmFsQ29udGV4dE1hbmFnZXIucmVtb3ZlQ29udGV4dFByb3BlcnR5KSxcbiAgICAgICAgY2xlYXJHbG9iYWxDb250ZXh0OiBtb25pdG9yKGdsb2JhbENvbnRleHRNYW5hZ2VyLmNsZWFyQ29udGV4dCksXG4gICAgICAgIGNyZWF0ZUxvZ2dlcjogbW9uaXRvcihmdW5jdGlvbiAobmFtZSwgY29uZikge1xuICAgICAgICAgICAgaWYgKGNvbmYgPT09IHZvaWQgMCkgeyBjb25mID0ge307IH1cbiAgICAgICAgICAgIGN1c3RvbUxvZ2dlcnNbbmFtZV0gPSBuZXcgTG9nZ2VyKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgcGFyYW1zID0gW107XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1zW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBoYW5kbGVMb2dTdHJhdGVneS5hcHBseSh2b2lkIDAsIHBhcmFtcyk7XG4gICAgICAgICAgICB9LCBzYW5pdGl6ZShuYW1lKSwgY29uZi5oYW5kbGVyLCBjb25mLmxldmVsLCBzYW5pdGl6ZShjb25mLmNvbnRleHQpKTtcbiAgICAgICAgICAgIHJldHVybiBjdXN0b21Mb2dnZXJzW25hbWVdO1xuICAgICAgICB9KSxcbiAgICAgICAgZ2V0TG9nZ2VyOiBtb25pdG9yKGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBjdXN0b21Mb2dnZXJzW25hbWVdOyB9KSxcbiAgICAgICAgZ2V0SW5pdENvbmZpZ3VyYXRpb246IG1vbml0b3IoZnVuY3Rpb24gKCkgeyByZXR1cm4gZ2V0SW5pdENvbmZpZ3VyYXRpb25TdHJhdGVneSgpOyB9KSxcbiAgICAgICAgZ2V0SW50ZXJuYWxDb250ZXh0OiBtb25pdG9yKGZ1bmN0aW9uIChzdGFydFRpbWUpIHsgcmV0dXJuIGdldEludGVybmFsQ29udGV4dFN0cmF0ZWd5KHN0YXJ0VGltZSk7IH0pLFxuICAgICAgICBzZXRVc2VyOiBtb25pdG9yKGZ1bmN0aW9uIChuZXdVc2VyKSB7XG4gICAgICAgICAgICBpZiAoY2hlY2tVc2VyKG5ld1VzZXIpKSB7XG4gICAgICAgICAgICAgICAgdXNlckNvbnRleHRNYW5hZ2VyLnNldENvbnRleHQoc2FuaXRpemVVc2VyKG5ld1VzZXIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSksXG4gICAgICAgIGdldFVzZXI6IG1vbml0b3IodXNlckNvbnRleHRNYW5hZ2VyLmdldENvbnRleHQpLFxuICAgICAgICBzZXRVc2VyUHJvcGVydHk6IG1vbml0b3IoZnVuY3Rpb24gKGtleSwgcHJvcGVydHkpIHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIHZhciBzYW5pdGl6ZWRQcm9wZXJ0eSA9IHNhbml0aXplVXNlcigoX2EgPSB7fSwgX2Fba2V5XSA9IHByb3BlcnR5LCBfYSkpW2tleV07XG4gICAgICAgICAgICB1c2VyQ29udGV4dE1hbmFnZXIuc2V0Q29udGV4dFByb3BlcnR5KGtleSwgc2FuaXRpemVkUHJvcGVydHkpO1xuICAgICAgICB9KSxcbiAgICAgICAgcmVtb3ZlVXNlclByb3BlcnR5OiBtb25pdG9yKHVzZXJDb250ZXh0TWFuYWdlci5yZW1vdmVDb250ZXh0UHJvcGVydHkpLFxuICAgICAgICBjbGVhclVzZXI6IG1vbml0b3IodXNlckNvbnRleHRNYW5hZ2VyLmNsZWFyQ29udGV4dCksXG4gICAgfSk7XG4gICAgZnVuY3Rpb24gb3ZlcnJpZGVJbml0Q29uZmlndXJhdGlvbkZvckJyaWRnZShpbml0Q29uZmlndXJhdGlvbikge1xuICAgICAgICByZXR1cm4gYXNzaWduKHt9LCBpbml0Q29uZmlndXJhdGlvbiwgeyBjbGllbnRUb2tlbjogJ2VtcHR5JyB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2FuSW5pdExvZ3MoaW5pdENvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgaWYgKGlzQWxyZWFkeUluaXRpYWxpemVkKSB7XG4gICAgICAgICAgICBpZiAoIWluaXRDb25maWd1cmF0aW9uLnNpbGVudE11bHRpcGxlSW5pdCkge1xuICAgICAgICAgICAgICAgIGRpc3BsYXkuZXJyb3IoJ0REX0xPR1MgaXMgYWxyZWFkeSBpbml0aWFsaXplZC4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sb2dzUHVibGljQXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-logs/esm/boot/logsPublicApi.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-logs/esm/boot/startLogs.js":
/*!**********************************************************************!*\
  !*** ../../node_modules/@datadog/browser-logs/esm/boot/startLogs.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   startLogs: () => (/* binding */ startLogs)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/sendToExtension.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/error/error.types.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/browser/pageExitObservable.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/browser/cookie.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/transport/eventBridge.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/synthetics/syntheticsWorkerValues.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/telemetry/telemetry.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/transport/startBatchWithReplica.js\");\n/* harmony import */ var _domain_logsSessionManager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../domain/logsSessionManager */ \"(ssr)/../../node_modules/@datadog/browser-logs/esm/domain/logsSessionManager.js\");\n/* harmony import */ var _domain_configuration__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../domain/configuration */ \"(ssr)/../../node_modules/@datadog/browser-logs/esm/domain/configuration.js\");\n/* harmony import */ var _domain_assembly__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../domain/assembly */ \"(ssr)/../../node_modules/@datadog/browser-logs/esm/domain/assembly.js\");\n/* harmony import */ var _domain_logsCollection_console_consoleCollection__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../domain/logsCollection/console/consoleCollection */ \"(ssr)/../../node_modules/@datadog/browser-logs/esm/domain/logsCollection/console/consoleCollection.js\");\n/* harmony import */ var _domain_logsCollection_report_reportCollection__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../domain/logsCollection/report/reportCollection */ \"(ssr)/../../node_modules/@datadog/browser-logs/esm/domain/logsCollection/report/reportCollection.js\");\n/* harmony import */ var _domain_logsCollection_networkError_networkErrorCollection__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../domain/logsCollection/networkError/networkErrorCollection */ \"(ssr)/../../node_modules/@datadog/browser-logs/esm/domain/logsCollection/networkError/networkErrorCollection.js\");\n/* harmony import */ var _domain_logsCollection_runtimeError_runtimeErrorCollection__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../domain/logsCollection/runtimeError/runtimeErrorCollection */ \"(ssr)/../../node_modules/@datadog/browser-logs/esm/domain/logsCollection/runtimeError/runtimeErrorCollection.js\");\n/* harmony import */ var _domain_lifeCycle__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../domain/lifeCycle */ \"(ssr)/../../node_modules/@datadog/browser-logs/esm/domain/lifeCycle.js\");\n/* harmony import */ var _domain_logsCollection_logger_loggerCollection__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../domain/logsCollection/logger/loggerCollection */ \"(ssr)/../../node_modules/@datadog/browser-logs/esm/domain/logsCollection/logger/loggerCollection.js\");\n/* harmony import */ var _transport_startLogsBatch__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../transport/startLogsBatch */ \"(ssr)/../../node_modules/@datadog/browser-logs/esm/transport/startLogsBatch.js\");\n/* harmony import */ var _transport_startLogsBridge__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../transport/startLogsBridge */ \"(ssr)/../../node_modules/@datadog/browser-logs/esm/transport/startLogsBridge.js\");\n/* harmony import */ var _domain_logger__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../domain/logger */ \"(ssr)/../../node_modules/@datadog/browser-logs/esm/domain/logger.js\");\n/* harmony import */ var _domain_internalContext__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../domain/internalContext */ \"(ssr)/../../node_modules/@datadog/browser-logs/esm/domain/internalContext.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction startLogs(initConfiguration, configuration, buildCommonContext, mainLogger) {\n    var lifeCycle = new _domain_lifeCycle__WEBPACK_IMPORTED_MODULE_7__.LifeCycle();\n    lifeCycle.subscribe(1 /* LifeCycleEventType.LOG_COLLECTED */, function (log) { return (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_13__.sendToExtension)('logs', log); });\n    var reportError = function (error) {\n        return lifeCycle.notify(0 /* LifeCycleEventType.RAW_LOG_COLLECTED */, {\n            rawLogsEvent: {\n                message: error.message,\n                date: error.startClocks.timeStamp,\n                error: {\n                    origin: _datadog_browser_core__WEBPACK_IMPORTED_MODULE_14__.ErrorSource.AGENT, // Todo: Remove in the next major release\n                },\n                origin: _datadog_browser_core__WEBPACK_IMPORTED_MODULE_14__.ErrorSource.AGENT,\n                status: _domain_logger__WEBPACK_IMPORTED_MODULE_11__.StatusType.error,\n            },\n        });\n    };\n    var pageExitObservable = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_15__.createPageExitObservable)();\n    var session = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_16__.areCookiesAuthorized)(configuration.cookieOptions) && !(0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_17__.canUseEventBridge)() && !(0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_18__.willSyntheticsInjectRum)()\n        ? (0,_domain_logsSessionManager__WEBPACK_IMPORTED_MODULE_0__.startLogsSessionManager)(configuration)\n        : (0,_domain_logsSessionManager__WEBPACK_IMPORTED_MODULE_0__.startLogsSessionManagerStub)(configuration);\n    var telemetry = startLogsTelemetry(configuration, reportError, pageExitObservable, session.expireObservable);\n    telemetry.setContextProvider(function () {\n        var _a, _b, _c, _d, _e, _f;\n        return ({\n            application: {\n                id: (_a = (0,_domain_assembly__WEBPACK_IMPORTED_MODULE_2__.getRUMInternalContext)()) === null || _a === void 0 ? void 0 : _a.application_id,\n            },\n            session: {\n                id: (_b = session.findTrackedSession()) === null || _b === void 0 ? void 0 : _b.id,\n            },\n            view: {\n                id: (_d = (_c = (0,_domain_assembly__WEBPACK_IMPORTED_MODULE_2__.getRUMInternalContext)()) === null || _c === void 0 ? void 0 : _c.view) === null || _d === void 0 ? void 0 : _d.id,\n            },\n            action: {\n                id: (_f = (_e = (0,_domain_assembly__WEBPACK_IMPORTED_MODULE_2__.getRUMInternalContext)()) === null || _e === void 0 ? void 0 : _e.user_action) === null || _f === void 0 ? void 0 : _f.id,\n            },\n        });\n    });\n    (0,_domain_logsCollection_networkError_networkErrorCollection__WEBPACK_IMPORTED_MODULE_5__.startNetworkErrorCollection)(configuration, lifeCycle);\n    (0,_domain_logsCollection_runtimeError_runtimeErrorCollection__WEBPACK_IMPORTED_MODULE_6__.startRuntimeErrorCollection)(configuration, lifeCycle);\n    (0,_domain_logsCollection_console_consoleCollection__WEBPACK_IMPORTED_MODULE_3__.startConsoleCollection)(configuration, lifeCycle);\n    (0,_domain_logsCollection_report_reportCollection__WEBPACK_IMPORTED_MODULE_4__.startReportCollection)(configuration, lifeCycle);\n    var handleLog = (0,_domain_logsCollection_logger_loggerCollection__WEBPACK_IMPORTED_MODULE_8__.startLoggerCollection)(lifeCycle).handleLog;\n    (0,_domain_assembly__WEBPACK_IMPORTED_MODULE_2__.startLogsAssembly)(session, configuration, lifeCycle, buildCommonContext, mainLogger, reportError);\n    if (!(0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_17__.canUseEventBridge)()) {\n        (0,_transport_startLogsBatch__WEBPACK_IMPORTED_MODULE_9__.startLogsBatch)(configuration, lifeCycle, reportError, pageExitObservable, session.expireObservable);\n    }\n    else {\n        (0,_transport_startLogsBridge__WEBPACK_IMPORTED_MODULE_10__.startLogsBridge)(lifeCycle);\n    }\n    (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_19__.addTelemetryConfiguration)((0,_domain_configuration__WEBPACK_IMPORTED_MODULE_1__.serializeLogsConfiguration)(initConfiguration));\n    var internalContext = (0,_domain_internalContext__WEBPACK_IMPORTED_MODULE_12__.startInternalContext)(session);\n    return {\n        handleLog: handleLog,\n        getInternalContext: internalContext.get,\n    };\n}\nfunction startLogsTelemetry(configuration, reportError, pageExitObservable, sessionExpireObservable) {\n    var _a;\n    var telemetry = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_19__.startTelemetry)(\"browser-logs-sdk\" /* TelemetryService.LOGS */, configuration);\n    if ((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_17__.canUseEventBridge)()) {\n        var bridge_1 = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_17__.getEventBridge)();\n        telemetry.observable.subscribe(function (event) { return bridge_1.send('internal_telemetry', event); });\n    }\n    else {\n        var telemetryBatch_1 = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_20__.startBatchWithReplica)(configuration, configuration.rumEndpointBuilder, reportError, pageExitObservable, sessionExpireObservable, (_a = configuration.replica) === null || _a === void 0 ? void 0 : _a.rumEndpointBuilder);\n        telemetry.observable.subscribe(function (event) { return telemetryBatch_1.add(event, (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_19__.isTelemetryReplicationAllowed)(configuration)); });\n    }\n    return telemetry;\n}\n//# sourceMappingURL=startLogs.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItbG9ncy9lc20vYm9vdC9zdGFydExvZ3MuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFtUjtBQUMvSztBQUMvQjtBQUNTO0FBQ2M7QUFDSDtBQUNrQjtBQUNBO0FBQzNEO0FBQ3lDO0FBQzVCO0FBQ0U7QUFDakI7QUFDbUI7QUFDMUQ7QUFDUCx3QkFBd0Isd0RBQVM7QUFDakMsbUZBQW1GLE9BQU8sdUVBQWUsZ0JBQWdCO0FBQ3pIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QiwrREFBVztBQUN2QyxpQkFBaUI7QUFDakIsd0JBQXdCLCtEQUFXO0FBQ25DLHdCQUF3Qix1REFBVTtBQUNsQyxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0EsNkJBQTZCLGdGQUF3QjtBQUNyRCxrQkFBa0IsNEVBQW9CLGtDQUFrQyx5RUFBaUIsT0FBTywrRUFBdUI7QUFDdkgsVUFBVSxtRkFBdUI7QUFDakMsVUFBVSx1RkFBMkI7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQix1RUFBcUI7QUFDL0MsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxnQ0FBZ0MsdUVBQXFCO0FBQ3JELGFBQWE7QUFDYjtBQUNBLGdDQUFnQyx1RUFBcUI7QUFDckQsYUFBYTtBQUNiLFNBQVM7QUFDVCxLQUFLO0FBQ0wsSUFBSSx1SEFBMkI7QUFDL0IsSUFBSSx1SEFBMkI7QUFDL0IsSUFBSSx3R0FBc0I7QUFDMUIsSUFBSSxxR0FBcUI7QUFDekIsb0JBQW9CLHFHQUFxQjtBQUN6QyxJQUFJLG1FQUFpQjtBQUNyQixTQUFTLHlFQUFpQjtBQUMxQixRQUFRLHlFQUFjO0FBQ3RCO0FBQ0E7QUFDQSxRQUFRLDRFQUFlO0FBQ3ZCO0FBQ0EsSUFBSSxpRkFBeUIsQ0FBQyxpRkFBMEI7QUFDeEQsMEJBQTBCLDhFQUFvQjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixzRUFBYztBQUNsQyxRQUFRLHlFQUFpQjtBQUN6Qix1QkFBdUIsc0VBQWM7QUFDckMsMERBQTBELG9EQUFvRDtBQUM5RztBQUNBO0FBQ0EsK0JBQStCLDZFQUFxQjtBQUNwRCwwREFBMEQsbUNBQW1DLHFGQUE2QixtQkFBbUI7QUFDN0k7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYXJjYXN0ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItbG9ncy9lc20vYm9vdC9zdGFydExvZ3MuanM/OTNlZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzZW5kVG9FeHRlbnNpb24sIGNyZWF0ZVBhZ2VFeGl0T2JzZXJ2YWJsZSwgd2lsbFN5bnRoZXRpY3NJbmplY3RSdW0sIGFyZUNvb2tpZXNBdXRob3JpemVkLCBjYW5Vc2VFdmVudEJyaWRnZSwgZ2V0RXZlbnRCcmlkZ2UsIHN0YXJ0VGVsZW1ldHJ5LCBzdGFydEJhdGNoV2l0aFJlcGxpY2EsIGlzVGVsZW1ldHJ5UmVwbGljYXRpb25BbGxvd2VkLCBFcnJvclNvdXJjZSwgYWRkVGVsZW1ldHJ5Q29uZmlndXJhdGlvbiwgfSBmcm9tICdAZGF0YWRvZy9icm93c2VyLWNvcmUnO1xuaW1wb3J0IHsgc3RhcnRMb2dzU2Vzc2lvbk1hbmFnZXIsIHN0YXJ0TG9nc1Nlc3Npb25NYW5hZ2VyU3R1YiB9IGZyb20gJy4uL2RvbWFpbi9sb2dzU2Vzc2lvbk1hbmFnZXInO1xuaW1wb3J0IHsgc2VyaWFsaXplTG9nc0NvbmZpZ3VyYXRpb24gfSBmcm9tICcuLi9kb21haW4vY29uZmlndXJhdGlvbic7XG5pbXBvcnQgeyBzdGFydExvZ3NBc3NlbWJseSwgZ2V0UlVNSW50ZXJuYWxDb250ZXh0IH0gZnJvbSAnLi4vZG9tYWluL2Fzc2VtYmx5JztcbmltcG9ydCB7IHN0YXJ0Q29uc29sZUNvbGxlY3Rpb24gfSBmcm9tICcuLi9kb21haW4vbG9nc0NvbGxlY3Rpb24vY29uc29sZS9jb25zb2xlQ29sbGVjdGlvbic7XG5pbXBvcnQgeyBzdGFydFJlcG9ydENvbGxlY3Rpb24gfSBmcm9tICcuLi9kb21haW4vbG9nc0NvbGxlY3Rpb24vcmVwb3J0L3JlcG9ydENvbGxlY3Rpb24nO1xuaW1wb3J0IHsgc3RhcnROZXR3b3JrRXJyb3JDb2xsZWN0aW9uIH0gZnJvbSAnLi4vZG9tYWluL2xvZ3NDb2xsZWN0aW9uL25ldHdvcmtFcnJvci9uZXR3b3JrRXJyb3JDb2xsZWN0aW9uJztcbmltcG9ydCB7IHN0YXJ0UnVudGltZUVycm9yQ29sbGVjdGlvbiB9IGZyb20gJy4uL2RvbWFpbi9sb2dzQ29sbGVjdGlvbi9ydW50aW1lRXJyb3IvcnVudGltZUVycm9yQ29sbGVjdGlvbic7XG5pbXBvcnQgeyBMaWZlQ3ljbGUgfSBmcm9tICcuLi9kb21haW4vbGlmZUN5Y2xlJztcbmltcG9ydCB7IHN0YXJ0TG9nZ2VyQ29sbGVjdGlvbiB9IGZyb20gJy4uL2RvbWFpbi9sb2dzQ29sbGVjdGlvbi9sb2dnZXIvbG9nZ2VyQ29sbGVjdGlvbic7XG5pbXBvcnQgeyBzdGFydExvZ3NCYXRjaCB9IGZyb20gJy4uL3RyYW5zcG9ydC9zdGFydExvZ3NCYXRjaCc7XG5pbXBvcnQgeyBzdGFydExvZ3NCcmlkZ2UgfSBmcm9tICcuLi90cmFuc3BvcnQvc3RhcnRMb2dzQnJpZGdlJztcbmltcG9ydCB7IFN0YXR1c1R5cGUgfSBmcm9tICcuLi9kb21haW4vbG9nZ2VyJztcbmltcG9ydCB7IHN0YXJ0SW50ZXJuYWxDb250ZXh0IH0gZnJvbSAnLi4vZG9tYWluL2ludGVybmFsQ29udGV4dCc7XG5leHBvcnQgZnVuY3Rpb24gc3RhcnRMb2dzKGluaXRDb25maWd1cmF0aW9uLCBjb25maWd1cmF0aW9uLCBidWlsZENvbW1vbkNvbnRleHQsIG1haW5Mb2dnZXIpIHtcbiAgICB2YXIgbGlmZUN5Y2xlID0gbmV3IExpZmVDeWNsZSgpO1xuICAgIGxpZmVDeWNsZS5zdWJzY3JpYmUoMSAvKiBMaWZlQ3ljbGVFdmVudFR5cGUuTE9HX0NPTExFQ1RFRCAqLywgZnVuY3Rpb24gKGxvZykgeyByZXR1cm4gc2VuZFRvRXh0ZW5zaW9uKCdsb2dzJywgbG9nKTsgfSk7XG4gICAgdmFyIHJlcG9ydEVycm9yID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgIHJldHVybiBsaWZlQ3ljbGUubm90aWZ5KDAgLyogTGlmZUN5Y2xlRXZlbnRUeXBlLlJBV19MT0dfQ09MTEVDVEVEICovLCB7XG4gICAgICAgICAgICByYXdMb2dzRXZlbnQ6IHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxuICAgICAgICAgICAgICAgIGRhdGU6IGVycm9yLnN0YXJ0Q2xvY2tzLnRpbWVTdGFtcCxcbiAgICAgICAgICAgICAgICBlcnJvcjoge1xuICAgICAgICAgICAgICAgICAgICBvcmlnaW46IEVycm9yU291cmNlLkFHRU5ULCAvLyBUb2RvOiBSZW1vdmUgaW4gdGhlIG5leHQgbWFqb3IgcmVsZWFzZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb3JpZ2luOiBFcnJvclNvdXJjZS5BR0VOVCxcbiAgICAgICAgICAgICAgICBzdGF0dXM6IFN0YXR1c1R5cGUuZXJyb3IsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHZhciBwYWdlRXhpdE9ic2VydmFibGUgPSBjcmVhdGVQYWdlRXhpdE9ic2VydmFibGUoKTtcbiAgICB2YXIgc2Vzc2lvbiA9IGFyZUNvb2tpZXNBdXRob3JpemVkKGNvbmZpZ3VyYXRpb24uY29va2llT3B0aW9ucykgJiYgIWNhblVzZUV2ZW50QnJpZGdlKCkgJiYgIXdpbGxTeW50aGV0aWNzSW5qZWN0UnVtKClcbiAgICAgICAgPyBzdGFydExvZ3NTZXNzaW9uTWFuYWdlcihjb25maWd1cmF0aW9uKVxuICAgICAgICA6IHN0YXJ0TG9nc1Nlc3Npb25NYW5hZ2VyU3R1Yihjb25maWd1cmF0aW9uKTtcbiAgICB2YXIgdGVsZW1ldHJ5ID0gc3RhcnRMb2dzVGVsZW1ldHJ5KGNvbmZpZ3VyYXRpb24sIHJlcG9ydEVycm9yLCBwYWdlRXhpdE9ic2VydmFibGUsIHNlc3Npb24uZXhwaXJlT2JzZXJ2YWJsZSk7XG4gICAgdGVsZW1ldHJ5LnNldENvbnRleHRQcm92aWRlcihmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mO1xuICAgICAgICByZXR1cm4gKHtcbiAgICAgICAgICAgIGFwcGxpY2F0aW9uOiB7XG4gICAgICAgICAgICAgICAgaWQ6IChfYSA9IGdldFJVTUludGVybmFsQ29udGV4dCgpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuYXBwbGljYXRpb25faWQsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2Vzc2lvbjoge1xuICAgICAgICAgICAgICAgIGlkOiAoX2IgPSBzZXNzaW9uLmZpbmRUcmFja2VkU2Vzc2lvbigpKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuaWQsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdmlldzoge1xuICAgICAgICAgICAgICAgIGlkOiAoX2QgPSAoX2MgPSBnZXRSVU1JbnRlcm5hbENvbnRleHQoKSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLnZpZXcpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC5pZCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhY3Rpb246IHtcbiAgICAgICAgICAgICAgICBpZDogKF9mID0gKF9lID0gZ2V0UlVNSW50ZXJuYWxDb250ZXh0KCkpID09PSBudWxsIHx8IF9lID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZS51c2VyX2FjdGlvbikgPT09IG51bGwgfHwgX2YgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9mLmlkLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgc3RhcnROZXR3b3JrRXJyb3JDb2xsZWN0aW9uKGNvbmZpZ3VyYXRpb24sIGxpZmVDeWNsZSk7XG4gICAgc3RhcnRSdW50aW1lRXJyb3JDb2xsZWN0aW9uKGNvbmZpZ3VyYXRpb24sIGxpZmVDeWNsZSk7XG4gICAgc3RhcnRDb25zb2xlQ29sbGVjdGlvbihjb25maWd1cmF0aW9uLCBsaWZlQ3ljbGUpO1xuICAgIHN0YXJ0UmVwb3J0Q29sbGVjdGlvbihjb25maWd1cmF0aW9uLCBsaWZlQ3ljbGUpO1xuICAgIHZhciBoYW5kbGVMb2cgPSBzdGFydExvZ2dlckNvbGxlY3Rpb24obGlmZUN5Y2xlKS5oYW5kbGVMb2c7XG4gICAgc3RhcnRMb2dzQXNzZW1ibHkoc2Vzc2lvbiwgY29uZmlndXJhdGlvbiwgbGlmZUN5Y2xlLCBidWlsZENvbW1vbkNvbnRleHQsIG1haW5Mb2dnZXIsIHJlcG9ydEVycm9yKTtcbiAgICBpZiAoIWNhblVzZUV2ZW50QnJpZGdlKCkpIHtcbiAgICAgICAgc3RhcnRMb2dzQmF0Y2goY29uZmlndXJhdGlvbiwgbGlmZUN5Y2xlLCByZXBvcnRFcnJvciwgcGFnZUV4aXRPYnNlcnZhYmxlLCBzZXNzaW9uLmV4cGlyZU9ic2VydmFibGUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgc3RhcnRMb2dzQnJpZGdlKGxpZmVDeWNsZSk7XG4gICAgfVxuICAgIGFkZFRlbGVtZXRyeUNvbmZpZ3VyYXRpb24oc2VyaWFsaXplTG9nc0NvbmZpZ3VyYXRpb24oaW5pdENvbmZpZ3VyYXRpb24pKTtcbiAgICB2YXIgaW50ZXJuYWxDb250ZXh0ID0gc3RhcnRJbnRlcm5hbENvbnRleHQoc2Vzc2lvbik7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaGFuZGxlTG9nOiBoYW5kbGVMb2csXG4gICAgICAgIGdldEludGVybmFsQ29udGV4dDogaW50ZXJuYWxDb250ZXh0LmdldCxcbiAgICB9O1xufVxuZnVuY3Rpb24gc3RhcnRMb2dzVGVsZW1ldHJ5KGNvbmZpZ3VyYXRpb24sIHJlcG9ydEVycm9yLCBwYWdlRXhpdE9ic2VydmFibGUsIHNlc3Npb25FeHBpcmVPYnNlcnZhYmxlKSB7XG4gICAgdmFyIF9hO1xuICAgIHZhciB0ZWxlbWV0cnkgPSBzdGFydFRlbGVtZXRyeShcImJyb3dzZXItbG9ncy1zZGtcIiAvKiBUZWxlbWV0cnlTZXJ2aWNlLkxPR1MgKi8sIGNvbmZpZ3VyYXRpb24pO1xuICAgIGlmIChjYW5Vc2VFdmVudEJyaWRnZSgpKSB7XG4gICAgICAgIHZhciBicmlkZ2VfMSA9IGdldEV2ZW50QnJpZGdlKCk7XG4gICAgICAgIHRlbGVtZXRyeS5vYnNlcnZhYmxlLnN1YnNjcmliZShmdW5jdGlvbiAoZXZlbnQpIHsgcmV0dXJuIGJyaWRnZV8xLnNlbmQoJ2ludGVybmFsX3RlbGVtZXRyeScsIGV2ZW50KTsgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB2YXIgdGVsZW1ldHJ5QmF0Y2hfMSA9IHN0YXJ0QmF0Y2hXaXRoUmVwbGljYShjb25maWd1cmF0aW9uLCBjb25maWd1cmF0aW9uLnJ1bUVuZHBvaW50QnVpbGRlciwgcmVwb3J0RXJyb3IsIHBhZ2VFeGl0T2JzZXJ2YWJsZSwgc2Vzc2lvbkV4cGlyZU9ic2VydmFibGUsIChfYSA9IGNvbmZpZ3VyYXRpb24ucmVwbGljYSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnJ1bUVuZHBvaW50QnVpbGRlcik7XG4gICAgICAgIHRlbGVtZXRyeS5vYnNlcnZhYmxlLnN1YnNjcmliZShmdW5jdGlvbiAoZXZlbnQpIHsgcmV0dXJuIHRlbGVtZXRyeUJhdGNoXzEuYWRkKGV2ZW50LCBpc1RlbGVtZXRyeVJlcGxpY2F0aW9uQWxsb3dlZChjb25maWd1cmF0aW9uKSk7IH0pO1xuICAgIH1cbiAgICByZXR1cm4gdGVsZW1ldHJ5O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RhcnRMb2dzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-logs/esm/boot/startLogs.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-logs/esm/domain/assembly.js":
/*!***********************************************************************!*\
  !*** ../../node_modules/@datadog/browser-logs/esm/domain/assembly.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getRUMInternalContext: () => (/* binding */ getRUMInternalContext),\n/* harmony export */   resetRUMInternalContext: () => (/* binding */ resetRUMInternalContext),\n/* harmony export */   startLogsAssembly: () => (/* binding */ startLogsAssembly)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/eventRateLimiter/createEventRateLimiter.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/mergeInto.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/objectUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/error/error.types.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/synthetics/syntheticsWorkerValues.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/telemetry/telemetry.js\");\n/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./logger */ \"(ssr)/../../node_modules/@datadog/browser-logs/esm/domain/logger.js\");\n/* harmony import */ var _logsCollection_logger_loggerCollection__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./logsCollection/logger/loggerCollection */ \"(ssr)/../../node_modules/@datadog/browser-logs/esm/domain/logsCollection/logger/loggerCollection.js\");\n\n\n\nfunction startLogsAssembly(sessionManager, configuration, lifeCycle, buildCommonContext, mainLogger, // Todo: [RUMF-1230] Remove this parameter in the next major release\nreportError) {\n    var statusWithCustom = _logger__WEBPACK_IMPORTED_MODULE_0__.STATUSES.concat(['custom']);\n    var logRateLimiters = {};\n    statusWithCustom.forEach(function (status) {\n        logRateLimiters[status] = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.createEventRateLimiter)(status, configuration.eventRateLimiterThreshold, reportError);\n    });\n    lifeCycle.subscribe(0 /* LifeCycleEventType.RAW_LOG_COLLECTED */, function (_a) {\n        var _b, _c, _d;\n        var rawLogsEvent = _a.rawLogsEvent, _e = _a.messageContext, messageContext = _e === void 0 ? undefined : _e, _f = _a.savedCommonContext, savedCommonContext = _f === void 0 ? undefined : _f, _g = _a.logger, logger = _g === void 0 ? mainLogger : _g;\n        var startTime = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.getRelativeTime)(rawLogsEvent.date);\n        var session = sessionManager.findTrackedSession(startTime);\n        if (!session) {\n            return;\n        }\n        var commonContext = savedCommonContext || buildCommonContext();\n        var log = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.combine)({\n            service: configuration.service,\n            session_id: session.id,\n            // Insert user first to allow overrides from global context\n            usr: !(0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.isEmptyObject)(commonContext.user) ? commonContext.user : undefined,\n            view: commonContext.view,\n        }, commonContext.context, getRUMInternalContext(startTime), rawLogsEvent, logger.getContext(), messageContext);\n        if (\n        // Todo: [RUMF-1230] Move this check to the logger collection in the next major release\n        !(0,_logsCollection_logger_loggerCollection__WEBPACK_IMPORTED_MODULE_1__.isAuthorized)(rawLogsEvent.status, _logger__WEBPACK_IMPORTED_MODULE_0__.HandlerType.http, logger) ||\n            ((_b = configuration.beforeSend) === null || _b === void 0 ? void 0 : _b.call(configuration, log)) === false ||\n            (((_c = log.error) === null || _c === void 0 ? void 0 : _c.origin) !== _datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__.ErrorSource.AGENT &&\n                ((_d = logRateLimiters[log.status]) !== null && _d !== void 0 ? _d : logRateLimiters['custom']).isLimitReached())) {\n            return;\n        }\n        lifeCycle.notify(1 /* LifeCycleEventType.LOG_COLLECTED */, log);\n    });\n}\nvar logsSentBeforeRumInjectionTelemetryAdded = false;\nfunction getRUMInternalContext(startTime) {\n    var browserWindow = window;\n    if ((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.willSyntheticsInjectRum)()) {\n        var context = getInternalContextFromRumGlobal(browserWindow.DD_RUM_SYNTHETICS);\n        if (!context && !logsSentBeforeRumInjectionTelemetryAdded) {\n            logsSentBeforeRumInjectionTelemetryAdded = true;\n            (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_8__.addTelemetryDebug)('Logs sent before RUM is injected by the synthetics worker', {\n                testId: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.getSyntheticsTestId)(),\n                resultId: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.getSyntheticsResultId)(),\n            });\n        }\n        return context;\n    }\n    return getInternalContextFromRumGlobal(browserWindow.DD_RUM);\n    function getInternalContextFromRumGlobal(rumGlobal) {\n        if (rumGlobal && rumGlobal.getInternalContext) {\n            return rumGlobal.getInternalContext(startTime);\n        }\n    }\n}\nfunction resetRUMInternalContext() {\n    logsSentBeforeRumInjectionTelemetryAdded = false;\n}\n//# sourceMappingURL=assembly.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItbG9ncy9lc20vZG9tYWluL2Fzc2VtYmx5LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUE4TTtBQUM3SjtBQUN1QjtBQUNqRTtBQUNQO0FBQ0EsMkJBQTJCLDZDQUFRO0FBQ25DO0FBQ0E7QUFDQSxrQ0FBa0MsNkVBQXNCO0FBQ3hELEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isc0VBQWU7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQiw4REFBTztBQUN6QjtBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isb0VBQWE7QUFDL0I7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVMscUZBQVksc0JBQXNCLGdEQUFXO0FBQ3REO0FBQ0EsbUZBQW1GLDhEQUFXO0FBQzlGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDTztBQUNQO0FBQ0EsUUFBUSw4RUFBdUI7QUFDL0I7QUFDQTtBQUNBO0FBQ0EsWUFBWSx3RUFBaUI7QUFDN0Isd0JBQXdCLDBFQUFtQjtBQUMzQywwQkFBMEIsNEVBQXFCO0FBQy9DLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFyY2FzdGVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLWxvZ3MvZXNtL2RvbWFpbi9hc3NlbWJseS5qcz9jMmE0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldFN5bnRoZXRpY3NSZXN1bHRJZCwgZ2V0U3ludGhldGljc1Rlc3RJZCwgYWRkVGVsZW1ldHJ5RGVidWcsIHdpbGxTeW50aGV0aWNzSW5qZWN0UnVtLCBFcnJvclNvdXJjZSwgY29tYmluZSwgY3JlYXRlRXZlbnRSYXRlTGltaXRlciwgZ2V0UmVsYXRpdmVUaW1lLCBpc0VtcHR5T2JqZWN0LCB9IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItY29yZSc7XG5pbXBvcnQgeyBTVEFUVVNFUywgSGFuZGxlclR5cGUgfSBmcm9tICcuL2xvZ2dlcic7XG5pbXBvcnQgeyBpc0F1dGhvcml6ZWQgfSBmcm9tICcuL2xvZ3NDb2xsZWN0aW9uL2xvZ2dlci9sb2dnZXJDb2xsZWN0aW9uJztcbmV4cG9ydCBmdW5jdGlvbiBzdGFydExvZ3NBc3NlbWJseShzZXNzaW9uTWFuYWdlciwgY29uZmlndXJhdGlvbiwgbGlmZUN5Y2xlLCBidWlsZENvbW1vbkNvbnRleHQsIG1haW5Mb2dnZXIsIC8vIFRvZG86IFtSVU1GLTEyMzBdIFJlbW92ZSB0aGlzIHBhcmFtZXRlciBpbiB0aGUgbmV4dCBtYWpvciByZWxlYXNlXG5yZXBvcnRFcnJvcikge1xuICAgIHZhciBzdGF0dXNXaXRoQ3VzdG9tID0gU1RBVFVTRVMuY29uY2F0KFsnY3VzdG9tJ10pO1xuICAgIHZhciBsb2dSYXRlTGltaXRlcnMgPSB7fTtcbiAgICBzdGF0dXNXaXRoQ3VzdG9tLmZvckVhY2goZnVuY3Rpb24gKHN0YXR1cykge1xuICAgICAgICBsb2dSYXRlTGltaXRlcnNbc3RhdHVzXSA9IGNyZWF0ZUV2ZW50UmF0ZUxpbWl0ZXIoc3RhdHVzLCBjb25maWd1cmF0aW9uLmV2ZW50UmF0ZUxpbWl0ZXJUaHJlc2hvbGQsIHJlcG9ydEVycm9yKTtcbiAgICB9KTtcbiAgICBsaWZlQ3ljbGUuc3Vic2NyaWJlKDAgLyogTGlmZUN5Y2xlRXZlbnRUeXBlLlJBV19MT0dfQ09MTEVDVEVEICovLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIF9iLCBfYywgX2Q7XG4gICAgICAgIHZhciByYXdMb2dzRXZlbnQgPSBfYS5yYXdMb2dzRXZlbnQsIF9lID0gX2EubWVzc2FnZUNvbnRleHQsIG1lc3NhZ2VDb250ZXh0ID0gX2UgPT09IHZvaWQgMCA/IHVuZGVmaW5lZCA6IF9lLCBfZiA9IF9hLnNhdmVkQ29tbW9uQ29udGV4dCwgc2F2ZWRDb21tb25Db250ZXh0ID0gX2YgPT09IHZvaWQgMCA/IHVuZGVmaW5lZCA6IF9mLCBfZyA9IF9hLmxvZ2dlciwgbG9nZ2VyID0gX2cgPT09IHZvaWQgMCA/IG1haW5Mb2dnZXIgOiBfZztcbiAgICAgICAgdmFyIHN0YXJ0VGltZSA9IGdldFJlbGF0aXZlVGltZShyYXdMb2dzRXZlbnQuZGF0ZSk7XG4gICAgICAgIHZhciBzZXNzaW9uID0gc2Vzc2lvbk1hbmFnZXIuZmluZFRyYWNrZWRTZXNzaW9uKHN0YXJ0VGltZSk7XG4gICAgICAgIGlmICghc2Vzc2lvbikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjb21tb25Db250ZXh0ID0gc2F2ZWRDb21tb25Db250ZXh0IHx8IGJ1aWxkQ29tbW9uQ29udGV4dCgpO1xuICAgICAgICB2YXIgbG9nID0gY29tYmluZSh7XG4gICAgICAgICAgICBzZXJ2aWNlOiBjb25maWd1cmF0aW9uLnNlcnZpY2UsXG4gICAgICAgICAgICBzZXNzaW9uX2lkOiBzZXNzaW9uLmlkLFxuICAgICAgICAgICAgLy8gSW5zZXJ0IHVzZXIgZmlyc3QgdG8gYWxsb3cgb3ZlcnJpZGVzIGZyb20gZ2xvYmFsIGNvbnRleHRcbiAgICAgICAgICAgIHVzcjogIWlzRW1wdHlPYmplY3QoY29tbW9uQ29udGV4dC51c2VyKSA/IGNvbW1vbkNvbnRleHQudXNlciA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHZpZXc6IGNvbW1vbkNvbnRleHQudmlldyxcbiAgICAgICAgfSwgY29tbW9uQ29udGV4dC5jb250ZXh0LCBnZXRSVU1JbnRlcm5hbENvbnRleHQoc3RhcnRUaW1lKSwgcmF3TG9nc0V2ZW50LCBsb2dnZXIuZ2V0Q29udGV4dCgpLCBtZXNzYWdlQ29udGV4dCk7XG4gICAgICAgIGlmIChcbiAgICAgICAgLy8gVG9kbzogW1JVTUYtMTIzMF0gTW92ZSB0aGlzIGNoZWNrIHRvIHRoZSBsb2dnZXIgY29sbGVjdGlvbiBpbiB0aGUgbmV4dCBtYWpvciByZWxlYXNlXG4gICAgICAgICFpc0F1dGhvcml6ZWQocmF3TG9nc0V2ZW50LnN0YXR1cywgSGFuZGxlclR5cGUuaHR0cCwgbG9nZ2VyKSB8fFxuICAgICAgICAgICAgKChfYiA9IGNvbmZpZ3VyYXRpb24uYmVmb3JlU2VuZCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoY29uZmlndXJhdGlvbiwgbG9nKSkgPT09IGZhbHNlIHx8XG4gICAgICAgICAgICAoKChfYyA9IGxvZy5lcnJvcikgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLm9yaWdpbikgIT09IEVycm9yU291cmNlLkFHRU5UICYmXG4gICAgICAgICAgICAgICAgKChfZCA9IGxvZ1JhdGVMaW1pdGVyc1tsb2cuc3RhdHVzXSkgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogbG9nUmF0ZUxpbWl0ZXJzWydjdXN0b20nXSkuaXNMaW1pdFJlYWNoZWQoKSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsaWZlQ3ljbGUubm90aWZ5KDEgLyogTGlmZUN5Y2xlRXZlbnRUeXBlLkxPR19DT0xMRUNURUQgKi8sIGxvZyk7XG4gICAgfSk7XG59XG52YXIgbG9nc1NlbnRCZWZvcmVSdW1JbmplY3Rpb25UZWxlbWV0cnlBZGRlZCA9IGZhbHNlO1xuZXhwb3J0IGZ1bmN0aW9uIGdldFJVTUludGVybmFsQ29udGV4dChzdGFydFRpbWUpIHtcbiAgICB2YXIgYnJvd3NlcldpbmRvdyA9IHdpbmRvdztcbiAgICBpZiAod2lsbFN5bnRoZXRpY3NJbmplY3RSdW0oKSkge1xuICAgICAgICB2YXIgY29udGV4dCA9IGdldEludGVybmFsQ29udGV4dEZyb21SdW1HbG9iYWwoYnJvd3NlcldpbmRvdy5ERF9SVU1fU1lOVEhFVElDUyk7XG4gICAgICAgIGlmICghY29udGV4dCAmJiAhbG9nc1NlbnRCZWZvcmVSdW1JbmplY3Rpb25UZWxlbWV0cnlBZGRlZCkge1xuICAgICAgICAgICAgbG9nc1NlbnRCZWZvcmVSdW1JbmplY3Rpb25UZWxlbWV0cnlBZGRlZCA9IHRydWU7XG4gICAgICAgICAgICBhZGRUZWxlbWV0cnlEZWJ1ZygnTG9ncyBzZW50IGJlZm9yZSBSVU0gaXMgaW5qZWN0ZWQgYnkgdGhlIHN5bnRoZXRpY3Mgd29ya2VyJywge1xuICAgICAgICAgICAgICAgIHRlc3RJZDogZ2V0U3ludGhldGljc1Rlc3RJZCgpLFxuICAgICAgICAgICAgICAgIHJlc3VsdElkOiBnZXRTeW50aGV0aWNzUmVzdWx0SWQoKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb250ZXh0O1xuICAgIH1cbiAgICByZXR1cm4gZ2V0SW50ZXJuYWxDb250ZXh0RnJvbVJ1bUdsb2JhbChicm93c2VyV2luZG93LkREX1JVTSk7XG4gICAgZnVuY3Rpb24gZ2V0SW50ZXJuYWxDb250ZXh0RnJvbVJ1bUdsb2JhbChydW1HbG9iYWwpIHtcbiAgICAgICAgaWYgKHJ1bUdsb2JhbCAmJiBydW1HbG9iYWwuZ2V0SW50ZXJuYWxDb250ZXh0KSB7XG4gICAgICAgICAgICByZXR1cm4gcnVtR2xvYmFsLmdldEludGVybmFsQ29udGV4dChzdGFydFRpbWUpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIHJlc2V0UlVNSW50ZXJuYWxDb250ZXh0KCkge1xuICAgIGxvZ3NTZW50QmVmb3JlUnVtSW5qZWN0aW9uVGVsZW1ldHJ5QWRkZWQgPSBmYWxzZTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFzc2VtYmx5LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-logs/esm/domain/assembly.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-logs/esm/domain/configuration.js":
/*!****************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-logs/esm/domain/configuration.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_REQUEST_ERROR_RESPONSE_LENGTH_LIMIT: () => (/* binding */ DEFAULT_REQUEST_ERROR_RESPONSE_LENGTH_LIMIT),\n/* harmony export */   serializeLogsConfiguration: () => (/* binding */ serializeLogsConfiguration),\n/* harmony export */   validateAndBuildForwardOption: () => (/* binding */ validateAndBuildForwardOption),\n/* harmony export */   validateAndBuildLogsConfiguration: () => (/* binding */ validateAndBuildLogsConfiguration)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/byteUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/configuration/configuration.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/polyfills.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/display.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/report/reportObservable.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/arrayUtils.js\");\n\n/**\n * arbitrary value, byte precision not needed\n */\nvar DEFAULT_REQUEST_ERROR_RESPONSE_LENGTH_LIMIT = 32 * _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.ONE_KIBI_BYTE;\nfunction validateAndBuildLogsConfiguration(initConfiguration) {\n    var baseConfiguration = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.validateAndBuildConfiguration)(initConfiguration);\n    var forwardConsoleLogs = validateAndBuildForwardOption(initConfiguration.forwardConsoleLogs, (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.objectValues)(_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.ConsoleApiName), 'Forward Console Logs');\n    var forwardReports = validateAndBuildForwardOption(initConfiguration.forwardReports, (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.objectValues)(_datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.RawReportType), 'Forward Reports');\n    if (!baseConfiguration || !forwardConsoleLogs || !forwardReports) {\n        return;\n    }\n    if (initConfiguration.forwardErrorsToLogs && !(0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.includes)(forwardConsoleLogs, _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.ConsoleApiName.error)) {\n        forwardConsoleLogs.push(_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.ConsoleApiName.error);\n    }\n    return (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.assign)({\n        forwardErrorsToLogs: initConfiguration.forwardErrorsToLogs !== false,\n        forwardConsoleLogs: forwardConsoleLogs,\n        forwardReports: forwardReports,\n        requestErrorResponseLengthLimit: DEFAULT_REQUEST_ERROR_RESPONSE_LENGTH_LIMIT,\n    }, baseConfiguration);\n}\nfunction validateAndBuildForwardOption(option, allowedValues, label) {\n    if (option === undefined) {\n        return [];\n    }\n    if (!(option === 'all' || (Array.isArray(option) && option.every(function (api) { return (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.includes)(allowedValues, api); })))) {\n        _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.display.error(\"\".concat(label, \" should be \\\"all\\\" or an array with allowed values \\\"\").concat(allowedValues.join('\", \"'), \"\\\"\"));\n        return;\n    }\n    return option === 'all' ? allowedValues : (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.removeDuplicates)(option);\n}\nfunction serializeLogsConfiguration(configuration) {\n    var baseSerializedInitConfiguration = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.serializeConfiguration)(configuration);\n    return (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.assign)({\n        forward_errors_to_logs: configuration.forwardErrorsToLogs,\n        forward_console_logs: configuration.forwardConsoleLogs,\n        forward_reports: configuration.forwardReports,\n    }, baseSerializedInitConfiguration);\n}\n//# sourceMappingURL=configuration.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItbG9ncy9lc20vZG9tYWluL2NvbmZpZ3VyYXRpb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUF3TTtBQUN4TTtBQUNBO0FBQ0E7QUFDTyx1REFBdUQsZ0VBQWE7QUFDcEU7QUFDUCw0QkFBNEIsb0ZBQTZCO0FBQ3pELGlHQUFpRyxtRUFBWSxDQUFDLGlFQUFjO0FBQzVILHlGQUF5RixtRUFBWSxDQUFDLGdFQUFhO0FBQ25IO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCwrREFBUSxxQkFBcUIsaUVBQWM7QUFDN0YsZ0NBQWdDLGlFQUFjO0FBQzlDO0FBQ0EsV0FBVyw2REFBTTtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0Esc0ZBQXNGLE9BQU8sK0RBQVEsdUJBQXVCO0FBQzVILFFBQVEsMERBQU87QUFDZjtBQUNBO0FBQ0EsOENBQThDLHVFQUFnQjtBQUM5RDtBQUNPO0FBQ1AsMENBQTBDLDZFQUFzQjtBQUNoRSxXQUFXLDZEQUFNO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFyY2FzdGVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLWxvZ3MvZXNtL2RvbWFpbi9jb25maWd1cmF0aW9uLmpzP2RlNTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc2VyaWFsaXplQ29uZmlndXJhdGlvbiwgYXNzaWduLCBPTkVfS0lCSV9CWVRFLCB2YWxpZGF0ZUFuZEJ1aWxkQ29uZmlndXJhdGlvbiwgZGlzcGxheSwgcmVtb3ZlRHVwbGljYXRlcywgQ29uc29sZUFwaU5hbWUsIFJhd1JlcG9ydFR5cGUsIGluY2x1ZGVzLCBvYmplY3RWYWx1ZXMsIH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJztcbi8qKlxuICogYXJiaXRyYXJ5IHZhbHVlLCBieXRlIHByZWNpc2lvbiBub3QgbmVlZGVkXG4gKi9cbmV4cG9ydCB2YXIgREVGQVVMVF9SRVFVRVNUX0VSUk9SX1JFU1BPTlNFX0xFTkdUSF9MSU1JVCA9IDMyICogT05FX0tJQklfQllURTtcbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZUFuZEJ1aWxkTG9nc0NvbmZpZ3VyYXRpb24oaW5pdENvbmZpZ3VyYXRpb24pIHtcbiAgICB2YXIgYmFzZUNvbmZpZ3VyYXRpb24gPSB2YWxpZGF0ZUFuZEJ1aWxkQ29uZmlndXJhdGlvbihpbml0Q29uZmlndXJhdGlvbik7XG4gICAgdmFyIGZvcndhcmRDb25zb2xlTG9ncyA9IHZhbGlkYXRlQW5kQnVpbGRGb3J3YXJkT3B0aW9uKGluaXRDb25maWd1cmF0aW9uLmZvcndhcmRDb25zb2xlTG9ncywgb2JqZWN0VmFsdWVzKENvbnNvbGVBcGlOYW1lKSwgJ0ZvcndhcmQgQ29uc29sZSBMb2dzJyk7XG4gICAgdmFyIGZvcndhcmRSZXBvcnRzID0gdmFsaWRhdGVBbmRCdWlsZEZvcndhcmRPcHRpb24oaW5pdENvbmZpZ3VyYXRpb24uZm9yd2FyZFJlcG9ydHMsIG9iamVjdFZhbHVlcyhSYXdSZXBvcnRUeXBlKSwgJ0ZvcndhcmQgUmVwb3J0cycpO1xuICAgIGlmICghYmFzZUNvbmZpZ3VyYXRpb24gfHwgIWZvcndhcmRDb25zb2xlTG9ncyB8fCAhZm9yd2FyZFJlcG9ydHMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoaW5pdENvbmZpZ3VyYXRpb24uZm9yd2FyZEVycm9yc1RvTG9ncyAmJiAhaW5jbHVkZXMoZm9yd2FyZENvbnNvbGVMb2dzLCBDb25zb2xlQXBpTmFtZS5lcnJvcikpIHtcbiAgICAgICAgZm9yd2FyZENvbnNvbGVMb2dzLnB1c2goQ29uc29sZUFwaU5hbWUuZXJyb3IpO1xuICAgIH1cbiAgICByZXR1cm4gYXNzaWduKHtcbiAgICAgICAgZm9yd2FyZEVycm9yc1RvTG9nczogaW5pdENvbmZpZ3VyYXRpb24uZm9yd2FyZEVycm9yc1RvTG9ncyAhPT0gZmFsc2UsXG4gICAgICAgIGZvcndhcmRDb25zb2xlTG9nczogZm9yd2FyZENvbnNvbGVMb2dzLFxuICAgICAgICBmb3J3YXJkUmVwb3J0czogZm9yd2FyZFJlcG9ydHMsXG4gICAgICAgIHJlcXVlc3RFcnJvclJlc3BvbnNlTGVuZ3RoTGltaXQ6IERFRkFVTFRfUkVRVUVTVF9FUlJPUl9SRVNQT05TRV9MRU5HVEhfTElNSVQsXG4gICAgfSwgYmFzZUNvbmZpZ3VyYXRpb24pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlQW5kQnVpbGRGb3J3YXJkT3B0aW9uKG9wdGlvbiwgYWxsb3dlZFZhbHVlcywgbGFiZWwpIHtcbiAgICBpZiAob3B0aW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBpZiAoIShvcHRpb24gPT09ICdhbGwnIHx8IChBcnJheS5pc0FycmF5KG9wdGlvbikgJiYgb3B0aW9uLmV2ZXJ5KGZ1bmN0aW9uIChhcGkpIHsgcmV0dXJuIGluY2x1ZGVzKGFsbG93ZWRWYWx1ZXMsIGFwaSk7IH0pKSkpIHtcbiAgICAgICAgZGlzcGxheS5lcnJvcihcIlwiLmNvbmNhdChsYWJlbCwgXCIgc2hvdWxkIGJlIFxcXCJhbGxcXFwiIG9yIGFuIGFycmF5IHdpdGggYWxsb3dlZCB2YWx1ZXMgXFxcIlwiKS5jb25jYXQoYWxsb3dlZFZhbHVlcy5qb2luKCdcIiwgXCInKSwgXCJcXFwiXCIpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXR1cm4gb3B0aW9uID09PSAnYWxsJyA/IGFsbG93ZWRWYWx1ZXMgOiByZW1vdmVEdXBsaWNhdGVzKG9wdGlvbik7XG59XG5leHBvcnQgZnVuY3Rpb24gc2VyaWFsaXplTG9nc0NvbmZpZ3VyYXRpb24oY29uZmlndXJhdGlvbikge1xuICAgIHZhciBiYXNlU2VyaWFsaXplZEluaXRDb25maWd1cmF0aW9uID0gc2VyaWFsaXplQ29uZmlndXJhdGlvbihjb25maWd1cmF0aW9uKTtcbiAgICByZXR1cm4gYXNzaWduKHtcbiAgICAgICAgZm9yd2FyZF9lcnJvcnNfdG9fbG9nczogY29uZmlndXJhdGlvbi5mb3J3YXJkRXJyb3JzVG9Mb2dzLFxuICAgICAgICBmb3J3YXJkX2NvbnNvbGVfbG9nczogY29uZmlndXJhdGlvbi5mb3J3YXJkQ29uc29sZUxvZ3MsXG4gICAgICAgIGZvcndhcmRfcmVwb3J0czogY29uZmlndXJhdGlvbi5mb3J3YXJkUmVwb3J0cyxcbiAgICB9LCBiYXNlU2VyaWFsaXplZEluaXRDb25maWd1cmF0aW9uKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbmZpZ3VyYXRpb24uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-logs/esm/domain/configuration.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-logs/esm/domain/internalContext.js":
/*!******************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-logs/esm/domain/internalContext.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   startInternalContext: () => (/* binding */ startInternalContext)\n/* harmony export */ });\nfunction startInternalContext(sessionManager) {\n    return {\n        get: function (startTime) {\n            var trackedSession = sessionManager.findTrackedSession(startTime);\n            if (trackedSession) {\n                return {\n                    session_id: trackedSession.id,\n                };\n            }\n        },\n    };\n}\n//# sourceMappingURL=internalContext.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItbG9ncy9lc20vZG9tYWluL2ludGVybmFsQ29udGV4dC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhcmNhc3Rlci8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1sb2dzL2VzbS9kb21haW4vaW50ZXJuYWxDb250ZXh0LmpzPzcyNTgiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0SW50ZXJuYWxDb250ZXh0KHNlc3Npb25NYW5hZ2VyKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoc3RhcnRUaW1lKSB7XG4gICAgICAgICAgICB2YXIgdHJhY2tlZFNlc3Npb24gPSBzZXNzaW9uTWFuYWdlci5maW5kVHJhY2tlZFNlc3Npb24oc3RhcnRUaW1lKTtcbiAgICAgICAgICAgIGlmICh0cmFja2VkU2Vzc2lvbikge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHNlc3Npb25faWQ6IHRyYWNrZWRTZXNzaW9uLmlkLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWludGVybmFsQ29udGV4dC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-logs/esm/domain/internalContext.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-logs/esm/domain/lifeCycle.js":
/*!************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-logs/esm/domain/lifeCycle.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LifeCycle: () => (/* binding */ LifeCycle)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/abstractLifeCycle.js\");\n\nvar LifeCycle = (_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.AbstractLifeCycle);\n//# sourceMappingURL=lifeCycle.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItbG9ncy9lc20vZG9tYWluL2xpZmVDeWNsZS5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUEwRDtBQUNuRCxpQkFBaUIsb0VBQWlCO0FBQ3pDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFyY2FzdGVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLWxvZ3MvZXNtL2RvbWFpbi9saWZlQ3ljbGUuanM/NjZkMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBYnN0cmFjdExpZmVDeWNsZSB9IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItY29yZSc7XG5leHBvcnQgdmFyIExpZmVDeWNsZSA9IChBYnN0cmFjdExpZmVDeWNsZSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1saWZlQ3ljbGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-logs/esm/domain/lifeCycle.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-logs/esm/domain/logger.js":
/*!*********************************************************************!*\
  !*** ../../node_modules/@datadog/browser-logs/esm/domain/logger.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HandlerType: () => (/* binding */ HandlerType),\n/* harmony export */   Logger: () => (/* binding */ Logger),\n/* harmony export */   STATUSES: () => (/* binding */ STATUSES),\n/* harmony export */   StatusType: () => (/* binding */ StatusType)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/serialisation/contextManager.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/polyfills.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/error/error.types.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/tracekit/computeStackTrace.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/error/error.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/serialisation/sanitize.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/mergeInto.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/monitor.js\");\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nvar StatusType = {\n    debug: 'debug',\n    error: 'error',\n    info: 'info',\n    warn: 'warn',\n};\nvar HandlerType = {\n    console: 'console',\n    http: 'http',\n    silent: 'silent',\n};\nvar STATUSES = Object.keys(StatusType);\nvar Logger = /** @class */ (function () {\n    function Logger(handleLogStrategy, name, handlerType, level, loggerContext) {\n        if (handlerType === void 0) { handlerType = HandlerType.http; }\n        if (level === void 0) { level = StatusType.debug; }\n        if (loggerContext === void 0) { loggerContext = {}; }\n        this.handleLogStrategy = handleLogStrategy;\n        this.handlerType = handlerType;\n        this.level = level;\n        this.contextManager = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.createContextManager)(\"logger context\" /* CustomerDataType.LoggerContext */);\n        this.contextManager.set((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.assign)({}, loggerContext, name ? { logger: { name: name } } : undefined));\n    }\n    Logger.prototype.log = function (message, messageContext, status, error) {\n        if (status === void 0) { status = StatusType.info; }\n        var errorContext;\n        if (status === StatusType.error) {\n            // Always add origin if status is error (backward compatibility - Remove in next major)\n            errorContext = { origin: _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.ErrorSource.LOGGER };\n        }\n        if (error !== undefined && error !== null) {\n            var stackTrace = error instanceof Error ? (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.computeStackTrace)(error) : undefined;\n            var rawError = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.computeRawError)({\n                stackTrace: stackTrace,\n                originalError: error,\n                nonErrorPrefix: \"Provided\" /* NonErrorPrefix.PROVIDED */,\n                source: _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.ErrorSource.LOGGER,\n                handling: \"handled\" /* ErrorHandling.HANDLED */,\n                startClocks: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.clocksNow)(),\n            });\n            errorContext = {\n                origin: _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.ErrorSource.LOGGER,\n                stack: rawError.stack,\n                kind: rawError.type,\n                message: rawError.message,\n            };\n        }\n        var sanitizedMessageContext = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__.sanitize)(messageContext);\n        var context = errorContext\n            ? (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.combine)({ error: errorContext }, sanitizedMessageContext)\n            : sanitizedMessageContext;\n        this.handleLogStrategy({\n            message: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__.sanitize)(message),\n            context: context,\n            status: status,\n        }, this);\n    };\n    Logger.prototype.debug = function (message, messageContext, error) {\n        this.log(message, messageContext, StatusType.debug, error);\n    };\n    Logger.prototype.info = function (message, messageContext, error) {\n        this.log(message, messageContext, StatusType.info, error);\n    };\n    Logger.prototype.warn = function (message, messageContext, error) {\n        this.log(message, messageContext, StatusType.warn, error);\n    };\n    Logger.prototype.error = function (message, messageContext, error) {\n        this.log(message, messageContext, StatusType.error, error);\n    };\n    Logger.prototype.setContext = function (context) {\n        this.contextManager.set(context);\n    };\n    Logger.prototype.getContext = function () {\n        return this.contextManager.get();\n    };\n    Logger.prototype.addContext = function (key, value) {\n        this.contextManager.add(key, value);\n    };\n    Logger.prototype.removeContext = function (key) {\n        this.contextManager.remove(key);\n    };\n    Logger.prototype.setHandler = function (handler) {\n        this.handlerType = handler;\n    };\n    Logger.prototype.getHandler = function () {\n        return this.handlerType;\n    };\n    Logger.prototype.setLevel = function (level) {\n        this.level = level;\n    };\n    Logger.prototype.getLevel = function () {\n        return this.level;\n    };\n    __decorate([\n        _datadog_browser_core__WEBPACK_IMPORTED_MODULE_8__.monitored\n    ], Logger.prototype, \"log\", null);\n    return Logger;\n}());\n//# sourceMappingURL=logger.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItbG9ncy9lc20vZG9tYWluL2xvZ2dlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsa0JBQWtCLFNBQUksSUFBSSxTQUFJO0FBQzlCO0FBQ0E7QUFDQSw2Q0FBNkMsUUFBUTtBQUNyRDtBQUNBO0FBQ2dLO0FBQ3pKO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNBO0FBQ1A7QUFDQSxzQ0FBc0M7QUFDdEMsZ0NBQWdDO0FBQ2hDLHdDQUF3QztBQUN4QztBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsMkVBQW9CO0FBQ2xELGdDQUFnQyw2REFBTSxHQUFHLDBCQUEwQixVQUFVLGVBQWU7QUFDNUY7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsUUFBUSw4REFBVztBQUNoRDtBQUNBO0FBQ0Esc0RBQXNELHdFQUFpQjtBQUN2RSwyQkFBMkIsc0VBQWU7QUFDMUM7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLDhEQUFXO0FBQ25DO0FBQ0EsNkJBQTZCLGdFQUFTO0FBQ3RDLGFBQWE7QUFDYjtBQUNBLHdCQUF3Qiw4REFBVztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLCtEQUFRO0FBQzlDO0FBQ0EsY0FBYyw4REFBTyxHQUFHLHFCQUFxQjtBQUM3QztBQUNBO0FBQ0EscUJBQXFCLCtEQUFRO0FBQzdCO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsNERBQVM7QUFDakI7QUFDQTtBQUNBLENBQUM7QUFDRCIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhcmNhc3Rlci8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1sb2dzL2VzbS9kb21haW4vbG9nZ2VyLmpzPzJhMzkiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG59O1xuaW1wb3J0IHsgY2xvY2tzTm93LCBjb21wdXRlUmF3RXJyb3IsIGNvbXB1dGVTdGFja1RyYWNlLCBhc3NpZ24sIGNvbWJpbmUsIGNyZWF0ZUNvbnRleHRNYW5hZ2VyLCBFcnJvclNvdXJjZSwgbW9uaXRvcmVkLCBzYW5pdGl6ZSwgfSBmcm9tICdAZGF0YWRvZy9icm93c2VyLWNvcmUnO1xuZXhwb3J0IHZhciBTdGF0dXNUeXBlID0ge1xuICAgIGRlYnVnOiAnZGVidWcnLFxuICAgIGVycm9yOiAnZXJyb3InLFxuICAgIGluZm86ICdpbmZvJyxcbiAgICB3YXJuOiAnd2FybicsXG59O1xuZXhwb3J0IHZhciBIYW5kbGVyVHlwZSA9IHtcbiAgICBjb25zb2xlOiAnY29uc29sZScsXG4gICAgaHR0cDogJ2h0dHAnLFxuICAgIHNpbGVudDogJ3NpbGVudCcsXG59O1xuZXhwb3J0IHZhciBTVEFUVVNFUyA9IE9iamVjdC5rZXlzKFN0YXR1c1R5cGUpO1xuZXhwb3J0IHZhciBMb2dnZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTG9nZ2VyKGhhbmRsZUxvZ1N0cmF0ZWd5LCBuYW1lLCBoYW5kbGVyVHlwZSwgbGV2ZWwsIGxvZ2dlckNvbnRleHQpIHtcbiAgICAgICAgaWYgKGhhbmRsZXJUeXBlID09PSB2b2lkIDApIHsgaGFuZGxlclR5cGUgPSBIYW5kbGVyVHlwZS5odHRwOyB9XG4gICAgICAgIGlmIChsZXZlbCA9PT0gdm9pZCAwKSB7IGxldmVsID0gU3RhdHVzVHlwZS5kZWJ1ZzsgfVxuICAgICAgICBpZiAobG9nZ2VyQ29udGV4dCA9PT0gdm9pZCAwKSB7IGxvZ2dlckNvbnRleHQgPSB7fTsgfVxuICAgICAgICB0aGlzLmhhbmRsZUxvZ1N0cmF0ZWd5ID0gaGFuZGxlTG9nU3RyYXRlZ3k7XG4gICAgICAgIHRoaXMuaGFuZGxlclR5cGUgPSBoYW5kbGVyVHlwZTtcbiAgICAgICAgdGhpcy5sZXZlbCA9IGxldmVsO1xuICAgICAgICB0aGlzLmNvbnRleHRNYW5hZ2VyID0gY3JlYXRlQ29udGV4dE1hbmFnZXIoXCJsb2dnZXIgY29udGV4dFwiIC8qIEN1c3RvbWVyRGF0YVR5cGUuTG9nZ2VyQ29udGV4dCAqLyk7XG4gICAgICAgIHRoaXMuY29udGV4dE1hbmFnZXIuc2V0KGFzc2lnbih7fSwgbG9nZ2VyQ29udGV4dCwgbmFtZSA/IHsgbG9nZ2VyOiB7IG5hbWU6IG5hbWUgfSB9IDogdW5kZWZpbmVkKSk7XG4gICAgfVxuICAgIExvZ2dlci5wcm90b3R5cGUubG9nID0gZnVuY3Rpb24gKG1lc3NhZ2UsIG1lc3NhZ2VDb250ZXh0LCBzdGF0dXMsIGVycm9yKSB7XG4gICAgICAgIGlmIChzdGF0dXMgPT09IHZvaWQgMCkgeyBzdGF0dXMgPSBTdGF0dXNUeXBlLmluZm87IH1cbiAgICAgICAgdmFyIGVycm9yQ29udGV4dDtcbiAgICAgICAgaWYgKHN0YXR1cyA9PT0gU3RhdHVzVHlwZS5lcnJvcikge1xuICAgICAgICAgICAgLy8gQWx3YXlzIGFkZCBvcmlnaW4gaWYgc3RhdHVzIGlzIGVycm9yIChiYWNrd2FyZCBjb21wYXRpYmlsaXR5IC0gUmVtb3ZlIGluIG5leHQgbWFqb3IpXG4gICAgICAgICAgICBlcnJvckNvbnRleHQgPSB7IG9yaWdpbjogRXJyb3JTb3VyY2UuTE9HR0VSIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVycm9yICE9PSB1bmRlZmluZWQgJiYgZXJyb3IgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHZhciBzdGFja1RyYWNlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGNvbXB1dGVTdGFja1RyYWNlKGVycm9yKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHZhciByYXdFcnJvciA9IGNvbXB1dGVSYXdFcnJvcih7XG4gICAgICAgICAgICAgICAgc3RhY2tUcmFjZTogc3RhY2tUcmFjZSxcbiAgICAgICAgICAgICAgICBvcmlnaW5hbEVycm9yOiBlcnJvcixcbiAgICAgICAgICAgICAgICBub25FcnJvclByZWZpeDogXCJQcm92aWRlZFwiIC8qIE5vbkVycm9yUHJlZml4LlBST1ZJREVEICovLFxuICAgICAgICAgICAgICAgIHNvdXJjZTogRXJyb3JTb3VyY2UuTE9HR0VSLFxuICAgICAgICAgICAgICAgIGhhbmRsaW5nOiBcImhhbmRsZWRcIiAvKiBFcnJvckhhbmRsaW5nLkhBTkRMRUQgKi8sXG4gICAgICAgICAgICAgICAgc3RhcnRDbG9ja3M6IGNsb2Nrc05vdygpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBlcnJvckNvbnRleHQgPSB7XG4gICAgICAgICAgICAgICAgb3JpZ2luOiBFcnJvclNvdXJjZS5MT0dHRVIsXG4gICAgICAgICAgICAgICAgc3RhY2s6IHJhd0Vycm9yLnN0YWNrLFxuICAgICAgICAgICAgICAgIGtpbmQ6IHJhd0Vycm9yLnR5cGUsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogcmF3RXJyb3IubWVzc2FnZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNhbml0aXplZE1lc3NhZ2VDb250ZXh0ID0gc2FuaXRpemUobWVzc2FnZUNvbnRleHQpO1xuICAgICAgICB2YXIgY29udGV4dCA9IGVycm9yQ29udGV4dFxuICAgICAgICAgICAgPyBjb21iaW5lKHsgZXJyb3I6IGVycm9yQ29udGV4dCB9LCBzYW5pdGl6ZWRNZXNzYWdlQ29udGV4dClcbiAgICAgICAgICAgIDogc2FuaXRpemVkTWVzc2FnZUNvbnRleHQ7XG4gICAgICAgIHRoaXMuaGFuZGxlTG9nU3RyYXRlZ3koe1xuICAgICAgICAgICAgbWVzc2FnZTogc2FuaXRpemUobWVzc2FnZSksXG4gICAgICAgICAgICBjb250ZXh0OiBjb250ZXh0LFxuICAgICAgICAgICAgc3RhdHVzOiBzdGF0dXMsXG4gICAgICAgIH0sIHRoaXMpO1xuICAgIH07XG4gICAgTG9nZ2VyLnByb3RvdHlwZS5kZWJ1ZyA9IGZ1bmN0aW9uIChtZXNzYWdlLCBtZXNzYWdlQ29udGV4dCwgZXJyb3IpIHtcbiAgICAgICAgdGhpcy5sb2cobWVzc2FnZSwgbWVzc2FnZUNvbnRleHQsIFN0YXR1c1R5cGUuZGVidWcsIGVycm9yKTtcbiAgICB9O1xuICAgIExvZ2dlci5wcm90b3R5cGUuaW5mbyA9IGZ1bmN0aW9uIChtZXNzYWdlLCBtZXNzYWdlQ29udGV4dCwgZXJyb3IpIHtcbiAgICAgICAgdGhpcy5sb2cobWVzc2FnZSwgbWVzc2FnZUNvbnRleHQsIFN0YXR1c1R5cGUuaW5mbywgZXJyb3IpO1xuICAgIH07XG4gICAgTG9nZ2VyLnByb3RvdHlwZS53YXJuID0gZnVuY3Rpb24gKG1lc3NhZ2UsIG1lc3NhZ2VDb250ZXh0LCBlcnJvcikge1xuICAgICAgICB0aGlzLmxvZyhtZXNzYWdlLCBtZXNzYWdlQ29udGV4dCwgU3RhdHVzVHlwZS53YXJuLCBlcnJvcik7XG4gICAgfTtcbiAgICBMb2dnZXIucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24gKG1lc3NhZ2UsIG1lc3NhZ2VDb250ZXh0LCBlcnJvcikge1xuICAgICAgICB0aGlzLmxvZyhtZXNzYWdlLCBtZXNzYWdlQ29udGV4dCwgU3RhdHVzVHlwZS5lcnJvciwgZXJyb3IpO1xuICAgIH07XG4gICAgTG9nZ2VyLnByb3RvdHlwZS5zZXRDb250ZXh0ID0gZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0TWFuYWdlci5zZXQoY29udGV4dCk7XG4gICAgfTtcbiAgICBMb2dnZXIucHJvdG90eXBlLmdldENvbnRleHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRleHRNYW5hZ2VyLmdldCgpO1xuICAgIH07XG4gICAgTG9nZ2VyLnByb3RvdHlwZS5hZGRDb250ZXh0ID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0TWFuYWdlci5hZGQoa2V5LCB2YWx1ZSk7XG4gICAgfTtcbiAgICBMb2dnZXIucHJvdG90eXBlLnJlbW92ZUNvbnRleHQgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHRoaXMuY29udGV4dE1hbmFnZXIucmVtb3ZlKGtleSk7XG4gICAgfTtcbiAgICBMb2dnZXIucHJvdG90eXBlLnNldEhhbmRsZXIgPSBmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgICAgICB0aGlzLmhhbmRsZXJUeXBlID0gaGFuZGxlcjtcbiAgICB9O1xuICAgIExvZ2dlci5wcm90b3R5cGUuZ2V0SGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlclR5cGU7XG4gICAgfTtcbiAgICBMb2dnZXIucHJvdG90eXBlLnNldExldmVsID0gZnVuY3Rpb24gKGxldmVsKSB7XG4gICAgICAgIHRoaXMubGV2ZWwgPSBsZXZlbDtcbiAgICB9O1xuICAgIExvZ2dlci5wcm90b3R5cGUuZ2V0TGV2ZWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxldmVsO1xuICAgIH07XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIG1vbml0b3JlZFxuICAgIF0sIExvZ2dlci5wcm90b3R5cGUsIFwibG9nXCIsIG51bGwpO1xuICAgIHJldHVybiBMb2dnZXI7XG59KCkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bG9nZ2VyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-logs/esm/domain/logger.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-logs/esm/domain/logsCollection/console/consoleCollection.js":
/*!*******************************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-logs/esm/domain/logsCollection/console/consoleCollection.js ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   startConsoleCollection: () => (/* binding */ startConsoleCollection)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/display.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/console/consoleObservable.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/error/error.types.js\");\n/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../logger */ \"(ssr)/../../node_modules/@datadog/browser-logs/esm/domain/logger.js\");\nvar _a;\n\n\nvar LogStatusForApi = (_a = {},\n    _a[_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.ConsoleApiName.log] = _logger__WEBPACK_IMPORTED_MODULE_0__.StatusType.info,\n    _a[_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.ConsoleApiName.debug] = _logger__WEBPACK_IMPORTED_MODULE_0__.StatusType.debug,\n    _a[_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.ConsoleApiName.info] = _logger__WEBPACK_IMPORTED_MODULE_0__.StatusType.info,\n    _a[_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.ConsoleApiName.warn] = _logger__WEBPACK_IMPORTED_MODULE_0__.StatusType.warn,\n    _a[_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.ConsoleApiName.error] = _logger__WEBPACK_IMPORTED_MODULE_0__.StatusType.error,\n    _a);\nfunction startConsoleCollection(configuration, lifeCycle) {\n    var consoleSubscription = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.initConsoleObservable)(configuration.forwardConsoleLogs).subscribe(function (log) {\n        lifeCycle.notify(0 /* LifeCycleEventType.RAW_LOG_COLLECTED */, {\n            rawLogsEvent: {\n                date: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.timeStampNow)(),\n                message: log.message,\n                origin: _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.ErrorSource.CONSOLE,\n                error: log.api === _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.ConsoleApiName.error\n                    ? {\n                        origin: _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.ErrorSource.CONSOLE,\n                        stack: log.stack,\n                        fingerprint: log.fingerprint,\n                    }\n                    : undefined,\n                status: LogStatusForApi[log.api],\n            },\n        });\n    });\n    return {\n        stop: function () {\n            consoleSubscription.unsubscribe();\n        },\n    };\n}\n//# sourceMappingURL=consoleCollection.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItbG9ncy9lc20vZG9tYWluL2xvZ3NDb2xsZWN0aW9uL2NvbnNvbGUvY29uc29sZUNvbGxlY3Rpb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFDeUc7QUFDL0Q7QUFDMUMsOEJBQThCO0FBQzlCLE9BQU8saUVBQWMsUUFBUSwrQ0FBVTtBQUN2QyxPQUFPLGlFQUFjLFVBQVUsK0NBQVU7QUFDekMsT0FBTyxpRUFBYyxTQUFTLCtDQUFVO0FBQ3hDLE9BQU8saUVBQWMsU0FBUywrQ0FBVTtBQUN4QyxPQUFPLGlFQUFjLFVBQVUsK0NBQVU7QUFDekM7QUFDTztBQUNQLDhCQUE4Qiw0RUFBcUI7QUFDbkQ7QUFDQTtBQUNBLHNCQUFzQixtRUFBWTtBQUNsQztBQUNBLHdCQUF3Qiw4REFBVztBQUNuQyxtQ0FBbUMsaUVBQWM7QUFDakQ7QUFDQSxnQ0FBZ0MsOERBQVc7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYXJjYXN0ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItbG9ncy9lc20vZG9tYWluL2xvZ3NDb2xsZWN0aW9uL2NvbnNvbGUvY29uc29sZUNvbGxlY3Rpb24uanM/ZTBlMCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX2E7XG5pbXBvcnQgeyB0aW1lU3RhbXBOb3csIENvbnNvbGVBcGlOYW1lLCBFcnJvclNvdXJjZSwgaW5pdENvbnNvbGVPYnNlcnZhYmxlIH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJztcbmltcG9ydCB7IFN0YXR1c1R5cGUgfSBmcm9tICcuLi8uLi9sb2dnZXInO1xudmFyIExvZ1N0YXR1c0ZvckFwaSA9IChfYSA9IHt9LFxuICAgIF9hW0NvbnNvbGVBcGlOYW1lLmxvZ10gPSBTdGF0dXNUeXBlLmluZm8sXG4gICAgX2FbQ29uc29sZUFwaU5hbWUuZGVidWddID0gU3RhdHVzVHlwZS5kZWJ1ZyxcbiAgICBfYVtDb25zb2xlQXBpTmFtZS5pbmZvXSA9IFN0YXR1c1R5cGUuaW5mbyxcbiAgICBfYVtDb25zb2xlQXBpTmFtZS53YXJuXSA9IFN0YXR1c1R5cGUud2FybixcbiAgICBfYVtDb25zb2xlQXBpTmFtZS5lcnJvcl0gPSBTdGF0dXNUeXBlLmVycm9yLFxuICAgIF9hKTtcbmV4cG9ydCBmdW5jdGlvbiBzdGFydENvbnNvbGVDb2xsZWN0aW9uKGNvbmZpZ3VyYXRpb24sIGxpZmVDeWNsZSkge1xuICAgIHZhciBjb25zb2xlU3Vic2NyaXB0aW9uID0gaW5pdENvbnNvbGVPYnNlcnZhYmxlKGNvbmZpZ3VyYXRpb24uZm9yd2FyZENvbnNvbGVMb2dzKS5zdWJzY3JpYmUoZnVuY3Rpb24gKGxvZykge1xuICAgICAgICBsaWZlQ3ljbGUubm90aWZ5KDAgLyogTGlmZUN5Y2xlRXZlbnRUeXBlLlJBV19MT0dfQ09MTEVDVEVEICovLCB7XG4gICAgICAgICAgICByYXdMb2dzRXZlbnQ6IHtcbiAgICAgICAgICAgICAgICBkYXRlOiB0aW1lU3RhbXBOb3coKSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBsb2cubWVzc2FnZSxcbiAgICAgICAgICAgICAgICBvcmlnaW46IEVycm9yU291cmNlLkNPTlNPTEUsXG4gICAgICAgICAgICAgICAgZXJyb3I6IGxvZy5hcGkgPT09IENvbnNvbGVBcGlOYW1lLmVycm9yXG4gICAgICAgICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luOiBFcnJvclNvdXJjZS5DT05TT0xFLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2s6IGxvZy5zdGFjayxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbmdlcnByaW50OiBsb2cuZmluZ2VycHJpbnQsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgc3RhdHVzOiBMb2dTdGF0dXNGb3JBcGlbbG9nLmFwaV0sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgICBzdG9wOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjb25zb2xlU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnNvbGVDb2xsZWN0aW9uLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-logs/esm/domain/logsCollection/console/consoleCollection.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-logs/esm/domain/logsCollection/logger/loggerCollection.js":
/*!*****************************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-logs/esm/domain/logsCollection/logger/loggerCollection.js ***!
  \*****************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   STATUS_PRIORITIES: () => (/* binding */ STATUS_PRIORITIES),\n/* harmony export */   isAuthorized: () => (/* binding */ isAuthorized),\n/* harmony export */   startLoggerCollection: () => (/* binding */ startLoggerCollection)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/display.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/mergeInto.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/error/error.types.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/polyfills.js\");\n/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../logger */ \"(ssr)/../../node_modules/@datadog/browser-logs/esm/domain/logger.js\");\nvar _a;\n\n\nvar STATUS_PRIORITIES = (_a = {},\n    _a[_logger__WEBPACK_IMPORTED_MODULE_0__.StatusType.debug] = 0,\n    _a[_logger__WEBPACK_IMPORTED_MODULE_0__.StatusType.info] = 1,\n    _a[_logger__WEBPACK_IMPORTED_MODULE_0__.StatusType.warn] = 2,\n    _a[_logger__WEBPACK_IMPORTED_MODULE_0__.StatusType.error] = 3,\n    _a);\nfunction startLoggerCollection(lifeCycle) {\n    function handleLog(logsMessage, logger, savedCommonContext, savedDate) {\n        var messageContext = logsMessage.context;\n        if (isAuthorized(logsMessage.status, _logger__WEBPACK_IMPORTED_MODULE_0__.HandlerType.console, logger)) {\n            (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.display)(logsMessage.status, logsMessage.message, (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.combine)(logger.getContext(), messageContext));\n        }\n        lifeCycle.notify(0 /* LifeCycleEventType.RAW_LOG_COLLECTED */, {\n            rawLogsEvent: {\n                date: savedDate || (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.timeStampNow)(),\n                message: logsMessage.message,\n                status: logsMessage.status,\n                origin: _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.ErrorSource.LOGGER,\n            },\n            messageContext: messageContext,\n            savedCommonContext: savedCommonContext,\n            logger: logger,\n        });\n    }\n    return {\n        handleLog: handleLog,\n    };\n}\nfunction isAuthorized(status, handlerType, logger) {\n    var loggerHandler = logger.getHandler();\n    var sanitizedHandlerType = Array.isArray(loggerHandler) ? loggerHandler : [loggerHandler];\n    return (STATUS_PRIORITIES[status] >= STATUS_PRIORITIES[logger.getLevel()] && (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.includes)(sanitizedHandlerType, handlerType));\n}\n//# sourceMappingURL=loggerCollection.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItbG9ncy9lc20vZG9tYWluL2xvZ3NDb2xsZWN0aW9uL2xvZ2dlci9sb2dnZXJDb2xsZWN0aW9uLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBO0FBQzhGO0FBQ3ZDO0FBQ2hELGdDQUFnQztBQUN2QyxPQUFPLCtDQUFVO0FBQ2pCLE9BQU8sK0NBQVU7QUFDakIsT0FBTywrQ0FBVTtBQUNqQixPQUFPLCtDQUFVO0FBQ2pCO0FBQ087QUFDUDtBQUNBO0FBQ0EsNkNBQTZDLGdEQUFXO0FBQ3hELFlBQVksOERBQU8sMENBQTBDLDhEQUFPO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxtRUFBWTtBQUMvQztBQUNBO0FBQ0Esd0JBQXdCLDhEQUFXO0FBQ25DLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLGlGQUFpRiwrREFBUTtBQUN6RjtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFyY2FzdGVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLWxvZ3MvZXNtL2RvbWFpbi9sb2dzQ29sbGVjdGlvbi9sb2dnZXIvbG9nZ2VyQ29sbGVjdGlvbi5qcz9mYzkyIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBfYTtcbmltcG9ydCB7IGluY2x1ZGVzLCBkaXNwbGF5LCBjb21iaW5lLCBFcnJvclNvdXJjZSwgdGltZVN0YW1wTm93IH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJztcbmltcG9ydCB7IFN0YXR1c1R5cGUsIEhhbmRsZXJUeXBlIH0gZnJvbSAnLi4vLi4vbG9nZ2VyJztcbmV4cG9ydCB2YXIgU1RBVFVTX1BSSU9SSVRJRVMgPSAoX2EgPSB7fSxcbiAgICBfYVtTdGF0dXNUeXBlLmRlYnVnXSA9IDAsXG4gICAgX2FbU3RhdHVzVHlwZS5pbmZvXSA9IDEsXG4gICAgX2FbU3RhdHVzVHlwZS53YXJuXSA9IDIsXG4gICAgX2FbU3RhdHVzVHlwZS5lcnJvcl0gPSAzLFxuICAgIF9hKTtcbmV4cG9ydCBmdW5jdGlvbiBzdGFydExvZ2dlckNvbGxlY3Rpb24obGlmZUN5Y2xlKSB7XG4gICAgZnVuY3Rpb24gaGFuZGxlTG9nKGxvZ3NNZXNzYWdlLCBsb2dnZXIsIHNhdmVkQ29tbW9uQ29udGV4dCwgc2F2ZWREYXRlKSB7XG4gICAgICAgIHZhciBtZXNzYWdlQ29udGV4dCA9IGxvZ3NNZXNzYWdlLmNvbnRleHQ7XG4gICAgICAgIGlmIChpc0F1dGhvcml6ZWQobG9nc01lc3NhZ2Uuc3RhdHVzLCBIYW5kbGVyVHlwZS5jb25zb2xlLCBsb2dnZXIpKSB7XG4gICAgICAgICAgICBkaXNwbGF5KGxvZ3NNZXNzYWdlLnN0YXR1cywgbG9nc01lc3NhZ2UubWVzc2FnZSwgY29tYmluZShsb2dnZXIuZ2V0Q29udGV4dCgpLCBtZXNzYWdlQ29udGV4dCkpO1xuICAgICAgICB9XG4gICAgICAgIGxpZmVDeWNsZS5ub3RpZnkoMCAvKiBMaWZlQ3ljbGVFdmVudFR5cGUuUkFXX0xPR19DT0xMRUNURUQgKi8sIHtcbiAgICAgICAgICAgIHJhd0xvZ3NFdmVudDoge1xuICAgICAgICAgICAgICAgIGRhdGU6IHNhdmVkRGF0ZSB8fCB0aW1lU3RhbXBOb3coKSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBsb2dzTWVzc2FnZS5tZXNzYWdlLFxuICAgICAgICAgICAgICAgIHN0YXR1czogbG9nc01lc3NhZ2Uuc3RhdHVzLFxuICAgICAgICAgICAgICAgIG9yaWdpbjogRXJyb3JTb3VyY2UuTE9HR0VSLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG1lc3NhZ2VDb250ZXh0OiBtZXNzYWdlQ29udGV4dCxcbiAgICAgICAgICAgIHNhdmVkQ29tbW9uQ29udGV4dDogc2F2ZWRDb21tb25Db250ZXh0LFxuICAgICAgICAgICAgbG9nZ2VyOiBsb2dnZXIsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBoYW5kbGVMb2c6IGhhbmRsZUxvZyxcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQXV0aG9yaXplZChzdGF0dXMsIGhhbmRsZXJUeXBlLCBsb2dnZXIpIHtcbiAgICB2YXIgbG9nZ2VySGFuZGxlciA9IGxvZ2dlci5nZXRIYW5kbGVyKCk7XG4gICAgdmFyIHNhbml0aXplZEhhbmRsZXJUeXBlID0gQXJyYXkuaXNBcnJheShsb2dnZXJIYW5kbGVyKSA/IGxvZ2dlckhhbmRsZXIgOiBbbG9nZ2VySGFuZGxlcl07XG4gICAgcmV0dXJuIChTVEFUVVNfUFJJT1JJVElFU1tzdGF0dXNdID49IFNUQVRVU19QUklPUklUSUVTW2xvZ2dlci5nZXRMZXZlbCgpXSAmJiBpbmNsdWRlcyhzYW5pdGl6ZWRIYW5kbGVyVHlwZSwgaGFuZGxlclR5cGUpKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvZ2dlckNvbGxlY3Rpb24uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-logs/esm/domain/logsCollection/logger/loggerCollection.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-logs/esm/domain/logsCollection/networkError/networkErrorCollection.js":
/*!*****************************************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-logs/esm/domain/logsCollection/networkError/networkErrorCollection.js ***!
  \*****************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   computeFetchErrorText: () => (/* binding */ computeFetchErrorText),\n/* harmony export */   computeFetchResponseText: () => (/* binding */ computeFetchResponseText),\n/* harmony export */   computeXhrResponseData: () => (/* binding */ computeXhrResponseData),\n/* harmony export */   startNetworkErrorCollection: () => (/* binding */ startNetworkErrorCollection)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/functionUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/browser/xhrObservable.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/browser/fetchObservable.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/responseUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/error/error.types.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/error/error.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/tracekit/computeStackTrace.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/monitor.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/readBytesFromStream.js\");\n/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../logger */ \"(ssr)/../../node_modules/@datadog/browser-logs/esm/domain/logger.js\");\n\n\nfunction startNetworkErrorCollection(configuration, lifeCycle) {\n    if (!configuration.forwardErrorsToLogs) {\n        return { stop: _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.noop };\n    }\n    var xhrSubscription = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.initXhrObservable)().subscribe(function (context) {\n        if (context.state === 'complete') {\n            handleResponse(\"xhr\" /* RequestType.XHR */, context);\n        }\n    });\n    var fetchSubscription = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.initFetchObservable)().subscribe(function (context) {\n        if (context.state === 'resolve') {\n            handleResponse(\"fetch\" /* RequestType.FETCH */, context);\n        }\n    });\n    function handleResponse(type, request) {\n        if (!configuration.isIntakeUrl(request.url) && (isRejected(request) || (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.isServerError)(request.status))) {\n            if ('xhr' in request) {\n                computeXhrResponseData(request.xhr, configuration, onResponseDataAvailable);\n            }\n            else if (request.response) {\n                computeFetchResponseText(request.response, configuration, onResponseDataAvailable);\n            }\n            else if (request.error) {\n                computeFetchErrorText(request.error, configuration, onResponseDataAvailable);\n            }\n        }\n        function onResponseDataAvailable(responseData) {\n            lifeCycle.notify(0 /* LifeCycleEventType.RAW_LOG_COLLECTED */, {\n                rawLogsEvent: {\n                    message: \"\".concat(format(type), \" error \").concat(request.method, \" \").concat(request.url),\n                    date: request.startClocks.timeStamp,\n                    error: {\n                        origin: _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.ErrorSource.NETWORK,\n                        stack: responseData || 'Failed to load',\n                    },\n                    http: {\n                        method: request.method,\n                        status_code: request.status,\n                        url: request.url,\n                    },\n                    status: _logger__WEBPACK_IMPORTED_MODULE_0__.StatusType.error,\n                    origin: _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.ErrorSource.NETWORK,\n                },\n            });\n        }\n    }\n    return {\n        stop: function () {\n            xhrSubscription.unsubscribe();\n            fetchSubscription.unsubscribe();\n        },\n    };\n}\n// TODO: ideally, computeXhrResponseData should always call the callback with a string instead of\n// `unknown`. But to keep backward compatibility, in the case of XHR with a `responseType` different\n// than \"text\", the response data should be whatever `xhr.response` is. This is a bit confusing as\n// Logs event 'stack' is expected to be a string. This should be changed in a future major version\n// as it could be a breaking change.\nfunction computeXhrResponseData(xhr, configuration, callback) {\n    if (typeof xhr.response === 'string') {\n        callback(truncateResponseText(xhr.response, configuration));\n    }\n    else {\n        callback(xhr.response);\n    }\n}\nfunction computeFetchErrorText(error, configuration, callback) {\n    callback(truncateResponseText((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__.toStackTraceString)((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.computeStackTrace)(error)), configuration));\n}\nfunction computeFetchResponseText(response, configuration, callback) {\n    var clonedResponse = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.tryToClone)(response);\n    if (!clonedResponse || !clonedResponse.body) {\n        // if the clone failed or if the body is null, let's not try to read it.\n        callback();\n    }\n    else if (!window.TextDecoder) {\n        // If the browser doesn't support TextDecoder, let's read the whole response then truncate it.\n        //\n        // This should only be the case on early versions of Edge (before they migrated to Chromium).\n        // Even if it could be possible to implement a workaround for the missing TextDecoder API (using\n        // a Blob and FileReader), we found another issue preventing us from reading only the first\n        // bytes from the response: contrary to other browsers, when reading from the cloned response,\n        // if the original response gets canceled, the cloned response is also canceled and we can't\n        // know about it.  In the following illustration, the promise returned by `reader.read()` may\n        // never be fulfilled:\n        //\n        // fetch('/').then((response) => {\n        //   const reader = response.clone().body.getReader()\n        //   readMore()\n        //   function readMore() {\n        //     reader.read().then(\n        //       (result) => {\n        //         if (result.done) {\n        //           console.log('done')\n        //         } else {\n        //           readMore()\n        //         }\n        //       },\n        //       () => console.log('error')\n        //     )\n        //   }\n        //   response.body.getReader().cancel()\n        // })\n        clonedResponse.text().then((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_8__.monitor)(function (text) { return callback(truncateResponseText(text, configuration)); }), (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_8__.monitor)(function (error) { return callback(\"Unable to retrieve response: \".concat(error)); }));\n    }\n    else {\n        truncateResponseStream(clonedResponse.body, configuration.requestErrorResponseLengthLimit, function (error, responseText) {\n            if (error) {\n                callback(\"Unable to retrieve response: \".concat(error));\n            }\n            else {\n                callback(responseText);\n            }\n        });\n    }\n}\nfunction isRejected(request) {\n    return request.status === 0 && request.responseType !== 'opaque';\n}\nfunction truncateResponseText(responseText, configuration) {\n    if (responseText.length > configuration.requestErrorResponseLengthLimit) {\n        return \"\".concat(responseText.substring(0, configuration.requestErrorResponseLengthLimit), \"...\");\n    }\n    return responseText;\n}\nfunction format(type) {\n    if (\"xhr\" /* RequestType.XHR */ === type) {\n        return 'XHR';\n    }\n    return 'Fetch';\n}\nfunction truncateResponseStream(stream, bytesLimit, callback) {\n    (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__.readBytesFromStream)(stream, function (error, bytes, limitExceeded) {\n        if (error) {\n            callback(error);\n        }\n        else {\n            var responseText = new TextDecoder().decode(bytes);\n            if (limitExceeded) {\n                responseText += '...';\n            }\n            callback(undefined, responseText);\n        }\n    }, {\n        bytesLimit: bytesLimit,\n        collectStreamBody: true,\n    });\n}\n//# sourceMappingURL=networkErrorCollection.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItbG9ncy9lc20vZG9tYWluL2xvZ3NDb2xsZWN0aW9uL25ldHdvcmtFcnJvci9uZXR3b3JrRXJyb3JDb2xsZWN0aW9uLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQW1NO0FBQ3pKO0FBQ25DO0FBQ1A7QUFDQSxpQkFBaUIsTUFBTSx1REFBSTtBQUMzQjtBQUNBLDBCQUEwQix3RUFBaUI7QUFDM0M7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLDRCQUE0QiwwRUFBbUI7QUFDL0M7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsK0VBQStFLG9FQUFhO0FBQzVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLDhEQUFXO0FBQzNDO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLDRCQUE0QiwrQ0FBVTtBQUN0Qyw0QkFBNEIsOERBQVc7QUFDdkMsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxrQ0FBa0MseUVBQWtCLENBQUMsd0VBQWlCO0FBQ3RFO0FBQ087QUFDUCx5QkFBeUIsaUVBQVU7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaLG1DQUFtQyw4REFBTyxtQkFBbUIsNkRBQTZELEdBQUcsOERBQU8sb0JBQW9CLGlFQUFpRTtBQUN6TjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSwwRUFBbUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFyY2FzdGVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLWxvZ3MvZXNtL2RvbWFpbi9sb2dzQ29sbGVjdGlvbi9uZXR3b3JrRXJyb3IvbmV0d29ya0Vycm9yQ29sbGVjdGlvbi5qcz9jMWI4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEVycm9yU291cmNlLCBpbml0WGhyT2JzZXJ2YWJsZSwgaW5pdEZldGNoT2JzZXJ2YWJsZSwgY29tcHV0ZVN0YWNrVHJhY2UsIHRvU3RhY2tUcmFjZVN0cmluZywgbW9uaXRvciwgbm9vcCwgcmVhZEJ5dGVzRnJvbVN0cmVhbSwgdHJ5VG9DbG9uZSwgaXNTZXJ2ZXJFcnJvciwgfSBmcm9tICdAZGF0YWRvZy9icm93c2VyLWNvcmUnO1xuaW1wb3J0IHsgU3RhdHVzVHlwZSB9IGZyb20gJy4uLy4uL2xvZ2dlcic7XG5leHBvcnQgZnVuY3Rpb24gc3RhcnROZXR3b3JrRXJyb3JDb2xsZWN0aW9uKGNvbmZpZ3VyYXRpb24sIGxpZmVDeWNsZSkge1xuICAgIGlmICghY29uZmlndXJhdGlvbi5mb3J3YXJkRXJyb3JzVG9Mb2dzKSB7XG4gICAgICAgIHJldHVybiB7IHN0b3A6IG5vb3AgfTtcbiAgICB9XG4gICAgdmFyIHhoclN1YnNjcmlwdGlvbiA9IGluaXRYaHJPYnNlcnZhYmxlKCkuc3Vic2NyaWJlKGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAgIGlmIChjb250ZXh0LnN0YXRlID09PSAnY29tcGxldGUnKSB7XG4gICAgICAgICAgICBoYW5kbGVSZXNwb25zZShcInhoclwiIC8qIFJlcXVlc3RUeXBlLlhIUiAqLywgY29udGV4dCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICB2YXIgZmV0Y2hTdWJzY3JpcHRpb24gPSBpbml0RmV0Y2hPYnNlcnZhYmxlKCkuc3Vic2NyaWJlKGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAgIGlmIChjb250ZXh0LnN0YXRlID09PSAncmVzb2x2ZScpIHtcbiAgICAgICAgICAgIGhhbmRsZVJlc3BvbnNlKFwiZmV0Y2hcIiAvKiBSZXF1ZXN0VHlwZS5GRVRDSCAqLywgY29udGV4dCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBmdW5jdGlvbiBoYW5kbGVSZXNwb25zZSh0eXBlLCByZXF1ZXN0KSB7XG4gICAgICAgIGlmICghY29uZmlndXJhdGlvbi5pc0ludGFrZVVybChyZXF1ZXN0LnVybCkgJiYgKGlzUmVqZWN0ZWQocmVxdWVzdCkgfHwgaXNTZXJ2ZXJFcnJvcihyZXF1ZXN0LnN0YXR1cykpKSB7XG4gICAgICAgICAgICBpZiAoJ3hocicgaW4gcmVxdWVzdCkge1xuICAgICAgICAgICAgICAgIGNvbXB1dGVYaHJSZXNwb25zZURhdGEocmVxdWVzdC54aHIsIGNvbmZpZ3VyYXRpb24sIG9uUmVzcG9uc2VEYXRhQXZhaWxhYmxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHJlcXVlc3QucmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBjb21wdXRlRmV0Y2hSZXNwb25zZVRleHQocmVxdWVzdC5yZXNwb25zZSwgY29uZmlndXJhdGlvbiwgb25SZXNwb25zZURhdGFBdmFpbGFibGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocmVxdWVzdC5lcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbXB1dGVGZXRjaEVycm9yVGV4dChyZXF1ZXN0LmVycm9yLCBjb25maWd1cmF0aW9uLCBvblJlc3BvbnNlRGF0YUF2YWlsYWJsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gb25SZXNwb25zZURhdGFBdmFpbGFibGUocmVzcG9uc2VEYXRhKSB7XG4gICAgICAgICAgICBsaWZlQ3ljbGUubm90aWZ5KDAgLyogTGlmZUN5Y2xlRXZlbnRUeXBlLlJBV19MT0dfQ09MTEVDVEVEICovLCB7XG4gICAgICAgICAgICAgICAgcmF3TG9nc0V2ZW50OiB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiXCIuY29uY2F0KGZvcm1hdCh0eXBlKSwgXCIgZXJyb3IgXCIpLmNvbmNhdChyZXF1ZXN0Lm1ldGhvZCwgXCIgXCIpLmNvbmNhdChyZXF1ZXN0LnVybCksXG4gICAgICAgICAgICAgICAgICAgIGRhdGU6IHJlcXVlc3Quc3RhcnRDbG9ja3MudGltZVN0YW1wLFxuICAgICAgICAgICAgICAgICAgICBlcnJvcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luOiBFcnJvclNvdXJjZS5ORVRXT1JLLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2s6IHJlc3BvbnNlRGF0YSB8fCAnRmFpbGVkIHRvIGxvYWQnLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBodHRwOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IHJlcXVlc3QubWV0aG9kLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzX2NvZGU6IHJlcXVlc3Quc3RhdHVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiByZXF1ZXN0LnVybCxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBTdGF0dXNUeXBlLmVycm9yLFxuICAgICAgICAgICAgICAgICAgICBvcmlnaW46IEVycm9yU291cmNlLk5FVFdPUkssXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHN0b3A6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHhoclN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgZmV0Y2hTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfSxcbiAgICB9O1xufVxuLy8gVE9ETzogaWRlYWxseSwgY29tcHV0ZVhoclJlc3BvbnNlRGF0YSBzaG91bGQgYWx3YXlzIGNhbGwgdGhlIGNhbGxiYWNrIHdpdGggYSBzdHJpbmcgaW5zdGVhZCBvZlxuLy8gYHVua25vd25gLiBCdXQgdG8ga2VlcCBiYWNrd2FyZCBjb21wYXRpYmlsaXR5LCBpbiB0aGUgY2FzZSBvZiBYSFIgd2l0aCBhIGByZXNwb25zZVR5cGVgIGRpZmZlcmVudFxuLy8gdGhhbiBcInRleHRcIiwgdGhlIHJlc3BvbnNlIGRhdGEgc2hvdWxkIGJlIHdoYXRldmVyIGB4aHIucmVzcG9uc2VgIGlzLiBUaGlzIGlzIGEgYml0IGNvbmZ1c2luZyBhc1xuLy8gTG9ncyBldmVudCAnc3RhY2snIGlzIGV4cGVjdGVkIHRvIGJlIGEgc3RyaW5nLiBUaGlzIHNob3VsZCBiZSBjaGFuZ2VkIGluIGEgZnV0dXJlIG1ham9yIHZlcnNpb25cbi8vIGFzIGl0IGNvdWxkIGJlIGEgYnJlYWtpbmcgY2hhbmdlLlxuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVYaHJSZXNwb25zZURhdGEoeGhyLCBjb25maWd1cmF0aW9uLCBjYWxsYmFjaykge1xuICAgIGlmICh0eXBlb2YgeGhyLnJlc3BvbnNlID09PSAnc3RyaW5nJykge1xuICAgICAgICBjYWxsYmFjayh0cnVuY2F0ZVJlc3BvbnNlVGV4dCh4aHIucmVzcG9uc2UsIGNvbmZpZ3VyYXRpb24pKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNhbGxiYWNrKHhoci5yZXNwb25zZSk7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVGZXRjaEVycm9yVGV4dChlcnJvciwgY29uZmlndXJhdGlvbiwgY2FsbGJhY2spIHtcbiAgICBjYWxsYmFjayh0cnVuY2F0ZVJlc3BvbnNlVGV4dCh0b1N0YWNrVHJhY2VTdHJpbmcoY29tcHV0ZVN0YWNrVHJhY2UoZXJyb3IpKSwgY29uZmlndXJhdGlvbikpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVGZXRjaFJlc3BvbnNlVGV4dChyZXNwb25zZSwgY29uZmlndXJhdGlvbiwgY2FsbGJhY2spIHtcbiAgICB2YXIgY2xvbmVkUmVzcG9uc2UgPSB0cnlUb0Nsb25lKHJlc3BvbnNlKTtcbiAgICBpZiAoIWNsb25lZFJlc3BvbnNlIHx8ICFjbG9uZWRSZXNwb25zZS5ib2R5KSB7XG4gICAgICAgIC8vIGlmIHRoZSBjbG9uZSBmYWlsZWQgb3IgaWYgdGhlIGJvZHkgaXMgbnVsbCwgbGV0J3Mgbm90IHRyeSB0byByZWFkIGl0LlxuICAgICAgICBjYWxsYmFjaygpO1xuICAgIH1cbiAgICBlbHNlIGlmICghd2luZG93LlRleHREZWNvZGVyKSB7XG4gICAgICAgIC8vIElmIHRoZSBicm93c2VyIGRvZXNuJ3Qgc3VwcG9ydCBUZXh0RGVjb2RlciwgbGV0J3MgcmVhZCB0aGUgd2hvbGUgcmVzcG9uc2UgdGhlbiB0cnVuY2F0ZSBpdC5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gVGhpcyBzaG91bGQgb25seSBiZSB0aGUgY2FzZSBvbiBlYXJseSB2ZXJzaW9ucyBvZiBFZGdlIChiZWZvcmUgdGhleSBtaWdyYXRlZCB0byBDaHJvbWl1bSkuXG4gICAgICAgIC8vIEV2ZW4gaWYgaXQgY291bGQgYmUgcG9zc2libGUgdG8gaW1wbGVtZW50IGEgd29ya2Fyb3VuZCBmb3IgdGhlIG1pc3NpbmcgVGV4dERlY29kZXIgQVBJICh1c2luZ1xuICAgICAgICAvLyBhIEJsb2IgYW5kIEZpbGVSZWFkZXIpLCB3ZSBmb3VuZCBhbm90aGVyIGlzc3VlIHByZXZlbnRpbmcgdXMgZnJvbSByZWFkaW5nIG9ubHkgdGhlIGZpcnN0XG4gICAgICAgIC8vIGJ5dGVzIGZyb20gdGhlIHJlc3BvbnNlOiBjb250cmFyeSB0byBvdGhlciBicm93c2Vycywgd2hlbiByZWFkaW5nIGZyb20gdGhlIGNsb25lZCByZXNwb25zZSxcbiAgICAgICAgLy8gaWYgdGhlIG9yaWdpbmFsIHJlc3BvbnNlIGdldHMgY2FuY2VsZWQsIHRoZSBjbG9uZWQgcmVzcG9uc2UgaXMgYWxzbyBjYW5jZWxlZCBhbmQgd2UgY2FuJ3RcbiAgICAgICAgLy8ga25vdyBhYm91dCBpdC4gIEluIHRoZSBmb2xsb3dpbmcgaWxsdXN0cmF0aW9uLCB0aGUgcHJvbWlzZSByZXR1cm5lZCBieSBgcmVhZGVyLnJlYWQoKWAgbWF5XG4gICAgICAgIC8vIG5ldmVyIGJlIGZ1bGZpbGxlZDpcbiAgICAgICAgLy9cbiAgICAgICAgLy8gZmV0Y2goJy8nKS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAvLyAgIGNvbnN0IHJlYWRlciA9IHJlc3BvbnNlLmNsb25lKCkuYm9keS5nZXRSZWFkZXIoKVxuICAgICAgICAvLyAgIHJlYWRNb3JlKClcbiAgICAgICAgLy8gICBmdW5jdGlvbiByZWFkTW9yZSgpIHtcbiAgICAgICAgLy8gICAgIHJlYWRlci5yZWFkKCkudGhlbihcbiAgICAgICAgLy8gICAgICAgKHJlc3VsdCkgPT4ge1xuICAgICAgICAvLyAgICAgICAgIGlmIChyZXN1bHQuZG9uZSkge1xuICAgICAgICAvLyAgICAgICAgICAgY29uc29sZS5sb2coJ2RvbmUnKVxuICAgICAgICAvLyAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vICAgICAgICAgICByZWFkTW9yZSgpXG4gICAgICAgIC8vICAgICAgICAgfVxuICAgICAgICAvLyAgICAgICB9LFxuICAgICAgICAvLyAgICAgICAoKSA9PiBjb25zb2xlLmxvZygnZXJyb3InKVxuICAgICAgICAvLyAgICAgKVxuICAgICAgICAvLyAgIH1cbiAgICAgICAgLy8gICByZXNwb25zZS5ib2R5LmdldFJlYWRlcigpLmNhbmNlbCgpXG4gICAgICAgIC8vIH0pXG4gICAgICAgIGNsb25lZFJlc3BvbnNlLnRleHQoKS50aGVuKG1vbml0b3IoZnVuY3Rpb24gKHRleHQpIHsgcmV0dXJuIGNhbGxiYWNrKHRydW5jYXRlUmVzcG9uc2VUZXh0KHRleHQsIGNvbmZpZ3VyYXRpb24pKTsgfSksIG1vbml0b3IoZnVuY3Rpb24gKGVycm9yKSB7IHJldHVybiBjYWxsYmFjayhcIlVuYWJsZSB0byByZXRyaWV2ZSByZXNwb25zZTogXCIuY29uY2F0KGVycm9yKSk7IH0pKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRydW5jYXRlUmVzcG9uc2VTdHJlYW0oY2xvbmVkUmVzcG9uc2UuYm9keSwgY29uZmlndXJhdGlvbi5yZXF1ZXN0RXJyb3JSZXNwb25zZUxlbmd0aExpbWl0LCBmdW5jdGlvbiAoZXJyb3IsIHJlc3BvbnNlVGV4dCkge1xuICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soXCJVbmFibGUgdG8gcmV0cmlldmUgcmVzcG9uc2U6IFwiLmNvbmNhdChlcnJvcikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2socmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufVxuZnVuY3Rpb24gaXNSZWplY3RlZChyZXF1ZXN0KSB7XG4gICAgcmV0dXJuIHJlcXVlc3Quc3RhdHVzID09PSAwICYmIHJlcXVlc3QucmVzcG9uc2VUeXBlICE9PSAnb3BhcXVlJztcbn1cbmZ1bmN0aW9uIHRydW5jYXRlUmVzcG9uc2VUZXh0KHJlc3BvbnNlVGV4dCwgY29uZmlndXJhdGlvbikge1xuICAgIGlmIChyZXNwb25zZVRleHQubGVuZ3RoID4gY29uZmlndXJhdGlvbi5yZXF1ZXN0RXJyb3JSZXNwb25zZUxlbmd0aExpbWl0KSB7XG4gICAgICAgIHJldHVybiBcIlwiLmNvbmNhdChyZXNwb25zZVRleHQuc3Vic3RyaW5nKDAsIGNvbmZpZ3VyYXRpb24ucmVxdWVzdEVycm9yUmVzcG9uc2VMZW5ndGhMaW1pdCksIFwiLi4uXCIpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzcG9uc2VUZXh0O1xufVxuZnVuY3Rpb24gZm9ybWF0KHR5cGUpIHtcbiAgICBpZiAoXCJ4aHJcIiAvKiBSZXF1ZXN0VHlwZS5YSFIgKi8gPT09IHR5cGUpIHtcbiAgICAgICAgcmV0dXJuICdYSFInO1xuICAgIH1cbiAgICByZXR1cm4gJ0ZldGNoJztcbn1cbmZ1bmN0aW9uIHRydW5jYXRlUmVzcG9uc2VTdHJlYW0oc3RyZWFtLCBieXRlc0xpbWl0LCBjYWxsYmFjaykge1xuICAgIHJlYWRCeXRlc0Zyb21TdHJlYW0oc3RyZWFtLCBmdW5jdGlvbiAoZXJyb3IsIGJ5dGVzLCBsaW1pdEV4Y2VlZGVkKSB7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgY2FsbGJhY2soZXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIHJlc3BvbnNlVGV4dCA9IG5ldyBUZXh0RGVjb2RlcigpLmRlY29kZShieXRlcyk7XG4gICAgICAgICAgICBpZiAobGltaXRFeGNlZWRlZCkge1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlVGV4dCArPSAnLi4uJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhbGxiYWNrKHVuZGVmaW5lZCwgcmVzcG9uc2VUZXh0KTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAgYnl0ZXNMaW1pdDogYnl0ZXNMaW1pdCxcbiAgICAgICAgY29sbGVjdFN0cmVhbUJvZHk6IHRydWUsXG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1uZXR3b3JrRXJyb3JDb2xsZWN0aW9uLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-logs/esm/domain/logsCollection/networkError/networkErrorCollection.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-logs/esm/domain/logsCollection/report/reportCollection.js":
/*!*****************************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-logs/esm/domain/logsCollection/report/reportCollection.js ***!
  \*****************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   startReportCollection: () => (/* binding */ startReportCollection)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/report/reportObservable.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/error/error.types.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/error/error.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js\");\n/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../logger */ \"(ssr)/../../node_modules/@datadog/browser-logs/esm/domain/logger.js\");\nvar _a;\n\n\nvar LogStatusForReport = (_a = {},\n    _a[_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.RawReportType.cspViolation] = _logger__WEBPACK_IMPORTED_MODULE_0__.StatusType.error,\n    _a[_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.RawReportType.intervention] = _logger__WEBPACK_IMPORTED_MODULE_0__.StatusType.error,\n    _a[_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.RawReportType.deprecation] = _logger__WEBPACK_IMPORTED_MODULE_0__.StatusType.warn,\n    _a);\nfunction startReportCollection(configuration, lifeCycle) {\n    var reportSubscription = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.initReportObservable)(configuration.forwardReports).subscribe(function (report) {\n        var message = report.message;\n        var status = LogStatusForReport[report.type];\n        var error;\n        if (status === _logger__WEBPACK_IMPORTED_MODULE_0__.StatusType.error) {\n            error = {\n                kind: report.subtype,\n                origin: _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.ErrorSource.REPORT,\n                stack: report.stack,\n            };\n        }\n        else if (report.stack) {\n            message += \" Found in \".concat((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.getFileFromStackTraceString)(report.stack));\n        }\n        lifeCycle.notify(0 /* LifeCycleEventType.RAW_LOG_COLLECTED */, {\n            rawLogsEvent: {\n                date: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.timeStampNow)(),\n                message: message,\n                origin: _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.ErrorSource.REPORT,\n                error: error,\n                status: status,\n            },\n        });\n    });\n    return {\n        stop: function () {\n            reportSubscription.unsubscribe();\n        },\n    };\n}\n//# sourceMappingURL=reportCollection.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItbG9ncy9lc20vZG9tYWluL2xvZ3NDb2xsZWN0aW9uL3JlcG9ydC9yZXBvcnRDb2xsZWN0aW9uLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBO0FBQ3FJO0FBQzNGO0FBQzFDLGlDQUFpQztBQUNqQyxPQUFPLGdFQUFhLGlCQUFpQiwrQ0FBVTtBQUMvQyxPQUFPLGdFQUFhLGlCQUFpQiwrQ0FBVTtBQUMvQyxPQUFPLGdFQUFhLGdCQUFnQiwrQ0FBVTtBQUM5QztBQUNPO0FBQ1AsNkJBQTZCLDJFQUFvQjtBQUNqRDtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsK0NBQVU7QUFDakM7QUFDQTtBQUNBLHdCQUF3Qiw4REFBVztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxrRkFBMkI7QUFDdEU7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLG1FQUFZO0FBQ2xDO0FBQ0Esd0JBQXdCLDhEQUFXO0FBQ25DO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFyY2FzdGVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLWxvZ3MvZXNtL2RvbWFpbi9sb2dzQ29sbGVjdGlvbi9yZXBvcnQvcmVwb3J0Q29sbGVjdGlvbi5qcz9jMGIyIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBfYTtcbmltcG9ydCB7IHRpbWVTdGFtcE5vdywgRXJyb3JTb3VyY2UsIFJhd1JlcG9ydFR5cGUsIGdldEZpbGVGcm9tU3RhY2tUcmFjZVN0cmluZywgaW5pdFJlcG9ydE9ic2VydmFibGUsIH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJztcbmltcG9ydCB7IFN0YXR1c1R5cGUgfSBmcm9tICcuLi8uLi9sb2dnZXInO1xudmFyIExvZ1N0YXR1c0ZvclJlcG9ydCA9IChfYSA9IHt9LFxuICAgIF9hW1Jhd1JlcG9ydFR5cGUuY3NwVmlvbGF0aW9uXSA9IFN0YXR1c1R5cGUuZXJyb3IsXG4gICAgX2FbUmF3UmVwb3J0VHlwZS5pbnRlcnZlbnRpb25dID0gU3RhdHVzVHlwZS5lcnJvcixcbiAgICBfYVtSYXdSZXBvcnRUeXBlLmRlcHJlY2F0aW9uXSA9IFN0YXR1c1R5cGUud2FybixcbiAgICBfYSk7XG5leHBvcnQgZnVuY3Rpb24gc3RhcnRSZXBvcnRDb2xsZWN0aW9uKGNvbmZpZ3VyYXRpb24sIGxpZmVDeWNsZSkge1xuICAgIHZhciByZXBvcnRTdWJzY3JpcHRpb24gPSBpbml0UmVwb3J0T2JzZXJ2YWJsZShjb25maWd1cmF0aW9uLmZvcndhcmRSZXBvcnRzKS5zdWJzY3JpYmUoZnVuY3Rpb24gKHJlcG9ydCkge1xuICAgICAgICB2YXIgbWVzc2FnZSA9IHJlcG9ydC5tZXNzYWdlO1xuICAgICAgICB2YXIgc3RhdHVzID0gTG9nU3RhdHVzRm9yUmVwb3J0W3JlcG9ydC50eXBlXTtcbiAgICAgICAgdmFyIGVycm9yO1xuICAgICAgICBpZiAoc3RhdHVzID09PSBTdGF0dXNUeXBlLmVycm9yKSB7XG4gICAgICAgICAgICBlcnJvciA9IHtcbiAgICAgICAgICAgICAgICBraW5kOiByZXBvcnQuc3VidHlwZSxcbiAgICAgICAgICAgICAgICBvcmlnaW46IEVycm9yU291cmNlLlJFUE9SVCxcbiAgICAgICAgICAgICAgICBzdGFjazogcmVwb3J0LnN0YWNrLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChyZXBvcnQuc3RhY2spIHtcbiAgICAgICAgICAgIG1lc3NhZ2UgKz0gXCIgRm91bmQgaW4gXCIuY29uY2F0KGdldEZpbGVGcm9tU3RhY2tUcmFjZVN0cmluZyhyZXBvcnQuc3RhY2spKTtcbiAgICAgICAgfVxuICAgICAgICBsaWZlQ3ljbGUubm90aWZ5KDAgLyogTGlmZUN5Y2xlRXZlbnRUeXBlLlJBV19MT0dfQ09MTEVDVEVEICovLCB7XG4gICAgICAgICAgICByYXdMb2dzRXZlbnQ6IHtcbiAgICAgICAgICAgICAgICBkYXRlOiB0aW1lU3RhbXBOb3coKSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLFxuICAgICAgICAgICAgICAgIG9yaWdpbjogRXJyb3JTb3VyY2UuUkVQT1JULFxuICAgICAgICAgICAgICAgIGVycm9yOiBlcnJvcixcbiAgICAgICAgICAgICAgICBzdGF0dXM6IHN0YXR1cyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICAgIHN0b3A6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJlcG9ydFN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICB9LFxuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXBvcnRDb2xsZWN0aW9uLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-logs/esm/domain/logsCollection/report/reportCollection.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-logs/esm/domain/logsCollection/runtimeError/runtimeErrorCollection.js":
/*!*****************************************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-logs/esm/domain/logsCollection/runtimeError/runtimeErrorCollection.js ***!
  \*****************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   startRuntimeErrorCollection: () => (/* binding */ startRuntimeErrorCollection)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/functionUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/observable.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/error/trackRuntimeError.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/error/error.types.js\");\n/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../logger */ \"(ssr)/../../node_modules/@datadog/browser-logs/esm/domain/logger.js\");\n\n\nfunction startRuntimeErrorCollection(configuration, lifeCycle) {\n    if (!configuration.forwardErrorsToLogs) {\n        return { stop: _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.noop };\n    }\n    var rawErrorObservable = new _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.Observable();\n    var stopRuntimeErrorTracking = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.trackRuntimeError)(rawErrorObservable).stop;\n    var rawErrorSubscription = rawErrorObservable.subscribe(function (rawError) {\n        lifeCycle.notify(0 /* LifeCycleEventType.RAW_LOG_COLLECTED */, {\n            rawLogsEvent: {\n                message: rawError.message,\n                date: rawError.startClocks.timeStamp,\n                error: {\n                    kind: rawError.type,\n                    origin: _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.ErrorSource.SOURCE,\n                    stack: rawError.stack,\n                },\n                origin: _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.ErrorSource.SOURCE,\n                status: _logger__WEBPACK_IMPORTED_MODULE_0__.StatusType.error,\n            },\n        });\n    });\n    return {\n        stop: function () {\n            stopRuntimeErrorTracking();\n            rawErrorSubscription.unsubscribe();\n        },\n    };\n}\n//# sourceMappingURL=runtimeErrorCollection.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItbG9ncy9lc20vZG9tYWluL2xvZ3NDb2xsZWN0aW9uL3J1bnRpbWVFcnJvci9ydW50aW1lRXJyb3JDb2xsZWN0aW9uLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUF5RjtBQUMvQztBQUNuQztBQUNQO0FBQ0EsaUJBQWlCLE1BQU0sdURBQUk7QUFDM0I7QUFDQSxpQ0FBaUMsNkRBQVU7QUFDM0MsbUNBQW1DLHdFQUFpQjtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0Qiw4REFBVztBQUN2QztBQUNBLGlCQUFpQjtBQUNqQix3QkFBd0IsOERBQVc7QUFDbkMsd0JBQXdCLCtDQUFVO0FBQ2xDLGFBQWE7QUFDYixTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhcmNhc3Rlci8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1sb2dzL2VzbS9kb21haW4vbG9nc0NvbGxlY3Rpb24vcnVudGltZUVycm9yL3J1bnRpbWVFcnJvckNvbGxlY3Rpb24uanM/ODM4NyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBub29wLCBFcnJvclNvdXJjZSwgdHJhY2tSdW50aW1lRXJyb3IsIE9ic2VydmFibGUgfSBmcm9tICdAZGF0YWRvZy9icm93c2VyLWNvcmUnO1xuaW1wb3J0IHsgU3RhdHVzVHlwZSB9IGZyb20gJy4uLy4uL2xvZ2dlcic7XG5leHBvcnQgZnVuY3Rpb24gc3RhcnRSdW50aW1lRXJyb3JDb2xsZWN0aW9uKGNvbmZpZ3VyYXRpb24sIGxpZmVDeWNsZSkge1xuICAgIGlmICghY29uZmlndXJhdGlvbi5mb3J3YXJkRXJyb3JzVG9Mb2dzKSB7XG4gICAgICAgIHJldHVybiB7IHN0b3A6IG5vb3AgfTtcbiAgICB9XG4gICAgdmFyIHJhd0Vycm9yT2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlKCk7XG4gICAgdmFyIHN0b3BSdW50aW1lRXJyb3JUcmFja2luZyA9IHRyYWNrUnVudGltZUVycm9yKHJhd0Vycm9yT2JzZXJ2YWJsZSkuc3RvcDtcbiAgICB2YXIgcmF3RXJyb3JTdWJzY3JpcHRpb24gPSByYXdFcnJvck9ic2VydmFibGUuc3Vic2NyaWJlKGZ1bmN0aW9uIChyYXdFcnJvcikge1xuICAgICAgICBsaWZlQ3ljbGUubm90aWZ5KDAgLyogTGlmZUN5Y2xlRXZlbnRUeXBlLlJBV19MT0dfQ09MTEVDVEVEICovLCB7XG4gICAgICAgICAgICByYXdMb2dzRXZlbnQ6IHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiByYXdFcnJvci5tZXNzYWdlLFxuICAgICAgICAgICAgICAgIGRhdGU6IHJhd0Vycm9yLnN0YXJ0Q2xvY2tzLnRpbWVTdGFtcCxcbiAgICAgICAgICAgICAgICBlcnJvcjoge1xuICAgICAgICAgICAgICAgICAgICBraW5kOiByYXdFcnJvci50eXBlLFxuICAgICAgICAgICAgICAgICAgICBvcmlnaW46IEVycm9yU291cmNlLlNPVVJDRSxcbiAgICAgICAgICAgICAgICAgICAgc3RhY2s6IHJhd0Vycm9yLnN0YWNrLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb3JpZ2luOiBFcnJvclNvdXJjZS5TT1VSQ0UsXG4gICAgICAgICAgICAgICAgc3RhdHVzOiBTdGF0dXNUeXBlLmVycm9yLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc3RvcDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc3RvcFJ1bnRpbWVFcnJvclRyYWNraW5nKCk7XG4gICAgICAgICAgICByYXdFcnJvclN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICB9LFxuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ydW50aW1lRXJyb3JDb2xsZWN0aW9uLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-logs/esm/domain/logsCollection/runtimeError/runtimeErrorCollection.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-logs/esm/domain/logsSessionManager.js":
/*!*********************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-logs/esm/domain/logsSessionManager.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LOGS_SESSION_KEY: () => (/* binding */ LOGS_SESSION_KEY),\n/* harmony export */   startLogsSessionManager: () => (/* binding */ startLogsSessionManager),\n/* harmony export */   startLogsSessionManagerStub: () => (/* binding */ startLogsSessionManagerStub)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/session/sessionManager.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/observable.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/numberUtils.js\");\n\nvar LOGS_SESSION_KEY = 'logs';\nfunction startLogsSessionManager(configuration) {\n    var sessionManager = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.startSessionManager)(configuration.cookieOptions, LOGS_SESSION_KEY, function (rawTrackingType) {\n        return computeSessionState(configuration, rawTrackingType);\n    });\n    return {\n        findTrackedSession: function (startTime) {\n            var session = sessionManager.findActiveSession(startTime);\n            return session && session.trackingType === \"1\" /* LoggerTrackingType.TRACKED */\n                ? {\n                    id: session.id,\n                }\n                : undefined;\n        },\n        expireObservable: sessionManager.expireObservable,\n    };\n}\nfunction startLogsSessionManagerStub(configuration) {\n    var isTracked = computeTrackingType(configuration) === \"1\" /* LoggerTrackingType.TRACKED */;\n    var session = isTracked ? {} : undefined;\n    return {\n        findTrackedSession: function () { return session; },\n        expireObservable: new _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.Observable(),\n    };\n}\nfunction computeTrackingType(configuration) {\n    if (!(0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.performDraw)(configuration.sessionSampleRate)) {\n        return \"0\" /* LoggerTrackingType.NOT_TRACKED */;\n    }\n    return \"1\" /* LoggerTrackingType.TRACKED */;\n}\nfunction computeSessionState(configuration, rawSessionType) {\n    var trackingType = hasValidLoggerSession(rawSessionType) ? rawSessionType : computeTrackingType(configuration);\n    return {\n        trackingType: trackingType,\n        isTracked: trackingType === \"1\" /* LoggerTrackingType.TRACKED */,\n    };\n}\nfunction hasValidLoggerSession(trackingType) {\n    return trackingType === \"0\" /* LoggerTrackingType.NOT_TRACKED */ || trackingType === \"1\" /* LoggerTrackingType.TRACKED */;\n}\n//# sourceMappingURL=logsSessionManager.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItbG9ncy9lc20vZG9tYWluL2xvZ3NTZXNzaW9uTWFuYWdlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBcUY7QUFDOUU7QUFDQTtBQUNQLHlCQUF5QiwwRUFBbUI7QUFDNUM7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0EsMENBQTBDLGlCQUFpQjtBQUMzRCw4QkFBOEIsNkRBQVU7QUFDeEM7QUFDQTtBQUNBO0FBQ0EsU0FBUyxrRUFBVztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYXJjYXN0ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItbG9ncy9lc20vZG9tYWluL2xvZ3NTZXNzaW9uTWFuYWdlci5qcz9lNGEyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE9ic2VydmFibGUsIHBlcmZvcm1EcmF3LCBzdGFydFNlc3Npb25NYW5hZ2VyIH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJztcbmV4cG9ydCB2YXIgTE9HU19TRVNTSU9OX0tFWSA9ICdsb2dzJztcbmV4cG9ydCBmdW5jdGlvbiBzdGFydExvZ3NTZXNzaW9uTWFuYWdlcihjb25maWd1cmF0aW9uKSB7XG4gICAgdmFyIHNlc3Npb25NYW5hZ2VyID0gc3RhcnRTZXNzaW9uTWFuYWdlcihjb25maWd1cmF0aW9uLmNvb2tpZU9wdGlvbnMsIExPR1NfU0VTU0lPTl9LRVksIGZ1bmN0aW9uIChyYXdUcmFja2luZ1R5cGUpIHtcbiAgICAgICAgcmV0dXJuIGNvbXB1dGVTZXNzaW9uU3RhdGUoY29uZmlndXJhdGlvbiwgcmF3VHJhY2tpbmdUeXBlKTtcbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgICBmaW5kVHJhY2tlZFNlc3Npb246IGZ1bmN0aW9uIChzdGFydFRpbWUpIHtcbiAgICAgICAgICAgIHZhciBzZXNzaW9uID0gc2Vzc2lvbk1hbmFnZXIuZmluZEFjdGl2ZVNlc3Npb24oc3RhcnRUaW1lKTtcbiAgICAgICAgICAgIHJldHVybiBzZXNzaW9uICYmIHNlc3Npb24udHJhY2tpbmdUeXBlID09PSBcIjFcIiAvKiBMb2dnZXJUcmFja2luZ1R5cGUuVFJBQ0tFRCAqL1xuICAgICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgICBpZDogc2Vzc2lvbi5pZCxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIH0sXG4gICAgICAgIGV4cGlyZU9ic2VydmFibGU6IHNlc3Npb25NYW5hZ2VyLmV4cGlyZU9ic2VydmFibGUsXG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzdGFydExvZ3NTZXNzaW9uTWFuYWdlclN0dWIoY29uZmlndXJhdGlvbikge1xuICAgIHZhciBpc1RyYWNrZWQgPSBjb21wdXRlVHJhY2tpbmdUeXBlKGNvbmZpZ3VyYXRpb24pID09PSBcIjFcIiAvKiBMb2dnZXJUcmFja2luZ1R5cGUuVFJBQ0tFRCAqLztcbiAgICB2YXIgc2Vzc2lvbiA9IGlzVHJhY2tlZCA/IHt9IDogdW5kZWZpbmVkO1xuICAgIHJldHVybiB7XG4gICAgICAgIGZpbmRUcmFja2VkU2Vzc2lvbjogZnVuY3Rpb24gKCkgeyByZXR1cm4gc2Vzc2lvbjsgfSxcbiAgICAgICAgZXhwaXJlT2JzZXJ2YWJsZTogbmV3IE9ic2VydmFibGUoKSxcbiAgICB9O1xufVxuZnVuY3Rpb24gY29tcHV0ZVRyYWNraW5nVHlwZShjb25maWd1cmF0aW9uKSB7XG4gICAgaWYgKCFwZXJmb3JtRHJhdyhjb25maWd1cmF0aW9uLnNlc3Npb25TYW1wbGVSYXRlKSkge1xuICAgICAgICByZXR1cm4gXCIwXCIgLyogTG9nZ2VyVHJhY2tpbmdUeXBlLk5PVF9UUkFDS0VEICovO1xuICAgIH1cbiAgICByZXR1cm4gXCIxXCIgLyogTG9nZ2VyVHJhY2tpbmdUeXBlLlRSQUNLRUQgKi87XG59XG5mdW5jdGlvbiBjb21wdXRlU2Vzc2lvblN0YXRlKGNvbmZpZ3VyYXRpb24sIHJhd1Nlc3Npb25UeXBlKSB7XG4gICAgdmFyIHRyYWNraW5nVHlwZSA9IGhhc1ZhbGlkTG9nZ2VyU2Vzc2lvbihyYXdTZXNzaW9uVHlwZSkgPyByYXdTZXNzaW9uVHlwZSA6IGNvbXB1dGVUcmFja2luZ1R5cGUoY29uZmlndXJhdGlvbik7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHJhY2tpbmdUeXBlOiB0cmFja2luZ1R5cGUsXG4gICAgICAgIGlzVHJhY2tlZDogdHJhY2tpbmdUeXBlID09PSBcIjFcIiAvKiBMb2dnZXJUcmFja2luZ1R5cGUuVFJBQ0tFRCAqLyxcbiAgICB9O1xufVxuZnVuY3Rpb24gaGFzVmFsaWRMb2dnZXJTZXNzaW9uKHRyYWNraW5nVHlwZSkge1xuICAgIHJldHVybiB0cmFja2luZ1R5cGUgPT09IFwiMFwiIC8qIExvZ2dlclRyYWNraW5nVHlwZS5OT1RfVFJBQ0tFRCAqLyB8fCB0cmFja2luZ1R5cGUgPT09IFwiMVwiIC8qIExvZ2dlclRyYWNraW5nVHlwZS5UUkFDS0VEICovO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bG9nc1Nlc3Npb25NYW5hZ2VyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-logs/esm/domain/logsSessionManager.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-logs/esm/entries/main.js":
/*!********************************************************************!*\
  !*** ../../node_modules/@datadog/browser-logs/esm/entries/main.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HandlerType: () => (/* reexport safe */ _domain_logger__WEBPACK_IMPORTED_MODULE_2__.HandlerType),\n/* harmony export */   Logger: () => (/* reexport safe */ _domain_logger__WEBPACK_IMPORTED_MODULE_2__.Logger),\n/* harmony export */   StatusType: () => (/* reexport safe */ _domain_logger__WEBPACK_IMPORTED_MODULE_2__.StatusType),\n/* harmony export */   datadogLogs: () => (/* binding */ datadogLogs)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/boot/init.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/getGlobalObject.js\");\n/* harmony import */ var _boot_logsPublicApi__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../boot/logsPublicApi */ \"(ssr)/../../node_modules/@datadog/browser-logs/esm/boot/logsPublicApi.js\");\n/* harmony import */ var _boot_startLogs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../boot/startLogs */ \"(ssr)/../../node_modules/@datadog/browser-logs/esm/boot/startLogs.js\");\n/* harmony import */ var _domain_logger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../domain/logger */ \"(ssr)/../../node_modules/@datadog/browser-logs/esm/domain/logger.js\");\n\n\n\n\nvar datadogLogs = (0,_boot_logsPublicApi__WEBPACK_IMPORTED_MODULE_0__.makeLogsPublicApi)(_boot_startLogs__WEBPACK_IMPORTED_MODULE_1__.startLogs);\n(0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.defineGlobal)((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.getGlobalObject)(), 'DD_LOGS', datadogLogs);\n//# sourceMappingURL=main.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItbG9ncy9lc20vZW50cmllcy9tYWluLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFzRTtBQUNaO0FBQ1o7QUFDcUI7QUFDNUQsa0JBQWtCLHNFQUFpQixDQUFDLHNEQUFTO0FBQ3BELG1FQUFZLENBQUMsc0VBQWU7QUFDNUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYXJjYXN0ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItbG9ncy9lc20vZW50cmllcy9tYWluLmpzPzczOWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZGVmaW5lR2xvYmFsLCBnZXRHbG9iYWxPYmplY3QgfSBmcm9tICdAZGF0YWRvZy9icm93c2VyLWNvcmUnO1xuaW1wb3J0IHsgbWFrZUxvZ3NQdWJsaWNBcGkgfSBmcm9tICcuLi9ib290L2xvZ3NQdWJsaWNBcGknO1xuaW1wb3J0IHsgc3RhcnRMb2dzIH0gZnJvbSAnLi4vYm9vdC9zdGFydExvZ3MnO1xuZXhwb3J0IHsgTG9nZ2VyLCBTdGF0dXNUeXBlLCBIYW5kbGVyVHlwZSB9IGZyb20gJy4uL2RvbWFpbi9sb2dnZXInO1xuZXhwb3J0IHZhciBkYXRhZG9nTG9ncyA9IG1ha2VMb2dzUHVibGljQXBpKHN0YXJ0TG9ncyk7XG5kZWZpbmVHbG9iYWwoZ2V0R2xvYmFsT2JqZWN0KCksICdERF9MT0dTJywgZGF0YWRvZ0xvZ3MpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFpbi5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-logs/esm/entries/main.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-logs/esm/transport/startLogsBatch.js":
/*!********************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-logs/esm/transport/startLogsBatch.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   startLogsBatch: () => (/* binding */ startLogsBatch)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/transport/startBatchWithReplica.js\");\n\nfunction startLogsBatch(configuration, lifeCycle, reportError, pageExitObservable, sessionExpireObservable) {\n    var _a;\n    var batch = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.startBatchWithReplica)(configuration, configuration.logsEndpointBuilder, reportError, pageExitObservable, sessionExpireObservable, (_a = configuration.replica) === null || _a === void 0 ? void 0 : _a.logsEndpointBuilder);\n    lifeCycle.subscribe(1 /* LifeCycleEventType.LOG_COLLECTED */, function (serverLogsEvent) {\n        batch.add(serverLogsEvent);\n    });\n}\n//# sourceMappingURL=startLogsBatch.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItbG9ncy9lc20vdHJhbnNwb3J0L3N0YXJ0TG9nc0JhdGNoLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQThEO0FBQ3ZEO0FBQ1A7QUFDQSxnQkFBZ0IsNEVBQXFCO0FBQ3JDO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhcmNhc3Rlci8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1sb2dzL2VzbS90cmFuc3BvcnQvc3RhcnRMb2dzQmF0Y2guanM/OGY4NiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzdGFydEJhdGNoV2l0aFJlcGxpY2EgfSBmcm9tICdAZGF0YWRvZy9icm93c2VyLWNvcmUnO1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0TG9nc0JhdGNoKGNvbmZpZ3VyYXRpb24sIGxpZmVDeWNsZSwgcmVwb3J0RXJyb3IsIHBhZ2VFeGl0T2JzZXJ2YWJsZSwgc2Vzc2lvbkV4cGlyZU9ic2VydmFibGUpIHtcbiAgICB2YXIgX2E7XG4gICAgdmFyIGJhdGNoID0gc3RhcnRCYXRjaFdpdGhSZXBsaWNhKGNvbmZpZ3VyYXRpb24sIGNvbmZpZ3VyYXRpb24ubG9nc0VuZHBvaW50QnVpbGRlciwgcmVwb3J0RXJyb3IsIHBhZ2VFeGl0T2JzZXJ2YWJsZSwgc2Vzc2lvbkV4cGlyZU9ic2VydmFibGUsIChfYSA9IGNvbmZpZ3VyYXRpb24ucmVwbGljYSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmxvZ3NFbmRwb2ludEJ1aWxkZXIpO1xuICAgIGxpZmVDeWNsZS5zdWJzY3JpYmUoMSAvKiBMaWZlQ3ljbGVFdmVudFR5cGUuTE9HX0NPTExFQ1RFRCAqLywgZnVuY3Rpb24gKHNlcnZlckxvZ3NFdmVudCkge1xuICAgICAgICBiYXRjaC5hZGQoc2VydmVyTG9nc0V2ZW50KTtcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0YXJ0TG9nc0JhdGNoLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-logs/esm/transport/startLogsBatch.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-logs/esm/transport/startLogsBridge.js":
/*!*********************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-logs/esm/transport/startLogsBridge.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   startLogsBridge: () => (/* binding */ startLogsBridge)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/transport/eventBridge.js\");\n\nfunction startLogsBridge(lifeCycle) {\n    var bridge = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.getEventBridge)();\n    lifeCycle.subscribe(1 /* LifeCycleEventType.LOG_COLLECTED */, function (serverLogsEvent) {\n        bridge.send('log', serverLogsEvent);\n    });\n}\n//# sourceMappingURL=startLogsBridge.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItbG9ncy9lc20vdHJhbnNwb3J0L3N0YXJ0TG9nc0JyaWRnZS5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUF1RDtBQUNoRDtBQUNQLGlCQUFpQixxRUFBYztBQUMvQjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYXJjYXN0ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItbG9ncy9lc20vdHJhbnNwb3J0L3N0YXJ0TG9nc0JyaWRnZS5qcz9mNzM0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldEV2ZW50QnJpZGdlIH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJztcbmV4cG9ydCBmdW5jdGlvbiBzdGFydExvZ3NCcmlkZ2UobGlmZUN5Y2xlKSB7XG4gICAgdmFyIGJyaWRnZSA9IGdldEV2ZW50QnJpZGdlKCk7XG4gICAgbGlmZUN5Y2xlLnN1YnNjcmliZSgxIC8qIExpZmVDeWNsZUV2ZW50VHlwZS5MT0dfQ09MTEVDVEVEICovLCBmdW5jdGlvbiAoc2VydmVyTG9nc0V2ZW50KSB7XG4gICAgICAgIGJyaWRnZS5zZW5kKCdsb2cnLCBzZXJ2ZXJMb2dzRXZlbnQpO1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RhcnRMb2dzQnJpZGdlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-logs/esm/transport/startLogsBridge.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum-core/esm/boot/rumPublicApi.js":
/*!*****************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum-core/esm/boot/rumPublicApi.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   makeRumPublicApi: () => (/* binding */ makeRumPublicApi)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/serialisation/contextManager.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/functionUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/boundedBuffer.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/mergeInto.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/synthetics/syntheticsWorkerValues.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/transport/eventBridge.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/monitor.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/boot/init.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/serialisation/sanitize.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/error/error.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/user/user.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/browser/cookie.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/configuration/configuration.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/display.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/polyfills.js\");\n/* harmony import */ var _domain_configuration__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../domain/configuration */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/configuration.js\");\n/* harmony import */ var _domain_contexts_commonContext__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../domain/contexts/commonContext */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/contexts/commonContext.js\");\n\n\n\nfunction makeRumPublicApi(startRumImpl, recorderApi, _a) {\n    var _b = _a === void 0 ? {} : _a, _c = _b.ignoreInitIfSyntheticsWillInjectRum, ignoreInitIfSyntheticsWillInjectRum = _c === void 0 ? true : _c;\n    var isAlreadyInitialized = false;\n    var globalContextManager = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.createContextManager)(\"global context\" /* CustomerDataType.GlobalContext */);\n    var userContextManager = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.createContextManager)(\"user\" /* CustomerDataType.User */);\n    var getInternalContextStrategy = function () { return undefined; };\n    var getInitConfigurationStrategy = function () { return undefined; };\n    var stopSessionStrategy = _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.noop;\n    var getSessionReplayLinkStrategy = function () { return undefined; };\n    var bufferApiCalls = new _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.BoundedBuffer();\n    var addTimingStrategy = function (name, time) {\n        if (time === void 0) { time = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.timeStampNow)(); }\n        bufferApiCalls.add(function () { return addTimingStrategy(name, time); });\n    };\n    var startViewStrategy = function (options, startClocks) {\n        if (startClocks === void 0) { startClocks = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.clocksNow)(); }\n        bufferApiCalls.add(function () { return startViewStrategy(options, startClocks); });\n    };\n    var addActionStrategy = function (action, commonContext) {\n        if (commonContext === void 0) { commonContext = (0,_domain_contexts_commonContext__WEBPACK_IMPORTED_MODULE_1__.buildCommonContext)(globalContextManager, userContextManager, recorderApi); }\n        bufferApiCalls.add(function () { return addActionStrategy(action, commonContext); });\n    };\n    var addErrorStrategy = function (providedError, commonContext) {\n        if (commonContext === void 0) { commonContext = (0,_domain_contexts_commonContext__WEBPACK_IMPORTED_MODULE_1__.buildCommonContext)(globalContextManager, userContextManager, recorderApi); }\n        bufferApiCalls.add(function () { return addErrorStrategy(providedError, commonContext); });\n    };\n    var addFeatureFlagEvaluationStrategy = function (key, value) {\n        bufferApiCalls.add(function () { return addFeatureFlagEvaluationStrategy(key, value); });\n    };\n    function initRum(initConfiguration) {\n        // This function should be available, regardless of initialization success.\n        getInitConfigurationStrategy = function () { return (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__.deepClone)(initConfiguration); };\n        // If we are in a Synthetics test configured to automatically inject a RUM instance, we want to\n        // completely discard the customer application RUM instance by ignoring their init() call.  But,\n        // we should not ignore the init() call from the Synthetics-injected RUM instance, so the\n        // internal `ignoreInitIfSyntheticsWillInjectRum` option is here to bypass this condition.\n        if (ignoreInitIfSyntheticsWillInjectRum && (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.willSyntheticsInjectRum)()) {\n            return;\n        }\n        if ((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_8__.canUseEventBridge)()) {\n            initConfiguration = overrideInitConfigurationForBridge(initConfiguration);\n        }\n        else if (!canHandleSession(initConfiguration)) {\n            return;\n        }\n        if (!canInitRum(initConfiguration)) {\n            return;\n        }\n        var configuration = (0,_domain_configuration__WEBPACK_IMPORTED_MODULE_0__.validateAndBuildRumConfiguration)(initConfiguration);\n        if (!configuration) {\n            return;\n        }\n        if (!configuration.trackViewsManually) {\n            doStartRum(initConfiguration, configuration);\n        }\n        else {\n            // drain beforeInitCalls by buffering them until we start RUM\n            // if we get a startView, drain re-buffered calls before continuing to drain beforeInitCalls\n            // in order to ensure that calls are processed in order\n            var beforeInitCalls = bufferApiCalls;\n            bufferApiCalls = new _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.BoundedBuffer();\n            startViewStrategy = function (options) {\n                doStartRum(initConfiguration, configuration, options);\n            };\n            beforeInitCalls.drain();\n        }\n        isAlreadyInitialized = true;\n    }\n    function doStartRum(initConfiguration, configuration, initialViewOptions) {\n        var startRumResults = startRumImpl(initConfiguration, configuration, recorderApi, globalContextManager, userContextManager, initialViewOptions);\n        getSessionReplayLinkStrategy = function () {\n            return recorderApi.getSessionReplayLink(configuration, startRumResults.session, startRumResults.viewContexts);\n        };\n        (startViewStrategy = startRumResults.startView, addActionStrategy = startRumResults.addAction, addErrorStrategy = startRumResults.addError, addTimingStrategy = startRumResults.addTiming, addFeatureFlagEvaluationStrategy = startRumResults.addFeatureFlagEvaluation, getInternalContextStrategy = startRumResults.getInternalContext, stopSessionStrategy = startRumResults.stopSession);\n        bufferApiCalls.drain();\n        recorderApi.onRumStart(startRumResults.lifeCycle, configuration, startRumResults.session, startRumResults.viewContexts);\n    }\n    var startView = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__.monitor)(function (options) {\n        var sanitizedOptions = typeof options === 'object' ? options : { name: options };\n        startViewStrategy(sanitizedOptions);\n    });\n    var rumPublicApi = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_10__.makePublicApi)({\n        init: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__.monitor)(initRum),\n        /** @deprecated: use setGlobalContextProperty instead */\n        addRumGlobalContext: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__.monitor)(globalContextManager.add),\n        setGlobalContextProperty: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__.monitor)(globalContextManager.setContextProperty),\n        /** @deprecated: use removeGlobalContextProperty instead */\n        removeRumGlobalContext: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__.monitor)(globalContextManager.remove),\n        removeGlobalContextProperty: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__.monitor)(globalContextManager.removeContextProperty),\n        /** @deprecated: use getGlobalContext instead */\n        getRumGlobalContext: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__.monitor)(globalContextManager.get),\n        getGlobalContext: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__.monitor)(globalContextManager.getContext),\n        /** @deprecated: use setGlobalContext instead */\n        setRumGlobalContext: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__.monitor)(globalContextManager.set),\n        setGlobalContext: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__.monitor)(globalContextManager.setContext),\n        clearGlobalContext: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__.monitor)(globalContextManager.clearContext),\n        getInternalContext: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__.monitor)(function (startTime) { return getInternalContextStrategy(startTime); }),\n        getInitConfiguration: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__.monitor)(function () { return getInitConfigurationStrategy(); }),\n        addAction: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__.monitor)(function (name, context) {\n            addActionStrategy({\n                name: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_11__.sanitize)(name),\n                context: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_11__.sanitize)(context),\n                startClocks: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.clocksNow)(),\n                type: \"custom\" /* ActionType.CUSTOM */,\n            });\n        }),\n        addError: function (error, context) {\n            var handlingStack = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_12__.createHandlingStack)();\n            (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__.callMonitored)(function () {\n                addErrorStrategy({\n                    error: error,\n                    handlingStack: handlingStack,\n                    context: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_11__.sanitize)(context),\n                    startClocks: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.clocksNow)(),\n                });\n            });\n        },\n        addTiming: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__.monitor)(function (name, time) {\n            addTimingStrategy((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_11__.sanitize)(name), time);\n        }),\n        setUser: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__.monitor)(function (newUser) {\n            if ((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_13__.checkUser)(newUser)) {\n                userContextManager.setContext((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_13__.sanitizeUser)(newUser));\n            }\n        }),\n        getUser: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__.monitor)(userContextManager.getContext),\n        setUserProperty: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__.monitor)(function (key, property) {\n            var _a;\n            var sanitizedProperty = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_13__.sanitizeUser)((_a = {}, _a[key] = property, _a))[key];\n            userContextManager.setContextProperty(key, sanitizedProperty);\n        }),\n        removeUserProperty: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__.monitor)(userContextManager.removeContextProperty),\n        /** @deprecated: renamed to clearUser */\n        removeUser: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__.monitor)(userContextManager.clearContext),\n        clearUser: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__.monitor)(userContextManager.clearContext),\n        startView: startView,\n        stopSession: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__.monitor)(function () {\n            stopSessionStrategy();\n        }),\n        startSessionReplayRecording: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__.monitor)(recorderApi.start),\n        stopSessionReplayRecording: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__.monitor)(recorderApi.stop),\n        /**\n         * This feature is currently in beta. For more information see the full [feature flag tracking guide](https://docs.datadoghq.com/real_user_monitoring/feature_flag_tracking/).\n         */\n        addFeatureFlagEvaluation: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__.monitor)(function (key, value) {\n            addFeatureFlagEvaluationStrategy((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_11__.sanitize)(key), (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_11__.sanitize)(value));\n        }),\n        getSessionReplayLink: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__.monitor)(function () { return getSessionReplayLinkStrategy(); }),\n    });\n    return rumPublicApi;\n    function canHandleSession(initConfiguration) {\n        if (!(0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_14__.areCookiesAuthorized)((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_15__.buildCookieOptions)(initConfiguration))) {\n            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_16__.display.warn('Cookies are not authorized, we will not send any data.');\n            return false;\n        }\n        if (isLocalFile()) {\n            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_16__.display.error('Execution is not allowed in the current context.');\n            return false;\n        }\n        return true;\n    }\n    function canInitRum(initConfiguration) {\n        if (isAlreadyInitialized) {\n            if (!initConfiguration.silentMultipleInit) {\n                _datadog_browser_core__WEBPACK_IMPORTED_MODULE_16__.display.error('DD_RUM is already initialized.');\n            }\n            return false;\n        }\n        return true;\n    }\n    function overrideInitConfigurationForBridge(initConfiguration) {\n        return (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_17__.assign)({}, initConfiguration, {\n            applicationId: '00000000-aaaa-0000-aaaa-000000000000',\n            clientToken: 'empty',\n            sessionSampleRate: 100,\n        });\n    }\n    function isLocalFile() {\n        return window.location.protocol === 'file:';\n    }\n}\n//# sourceMappingURL=rumPublicApi.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2Jvb3QvcnVtUHVibGljQXBpLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBNlQ7QUFDbFA7QUFDTDtBQUMvRDtBQUNQLGdDQUFnQztBQUNoQztBQUNBLCtCQUErQiwyRUFBb0I7QUFDbkQsNkJBQTZCLDJFQUFvQjtBQUNqRCxtREFBbUQ7QUFDbkQscURBQXFEO0FBQ3JELDhCQUE4Qix1REFBSTtBQUNsQyxxREFBcUQ7QUFDckQsNkJBQTZCLGdFQUFhO0FBQzFDO0FBQ0EsK0JBQStCLE9BQU8sbUVBQVk7QUFDbEQseUNBQXlDLHVDQUF1QztBQUNoRjtBQUNBO0FBQ0Esc0NBQXNDLGNBQWMsZ0VBQVM7QUFDN0QseUNBQXlDLGlEQUFpRDtBQUMxRjtBQUNBO0FBQ0Esd0NBQXdDLGdCQUFnQixrRkFBa0I7QUFDMUUseUNBQXlDLGtEQUFrRDtBQUMzRjtBQUNBO0FBQ0Esd0NBQXdDLGdCQUFnQixrRkFBa0I7QUFDMUUseUNBQXlDLHdEQUF3RDtBQUNqRztBQUNBO0FBQ0EseUNBQXlDLHNEQUFzRDtBQUMvRjtBQUNBO0FBQ0E7QUFDQSxxREFBcUQsT0FBTyxnRUFBUztBQUNyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRCw4RUFBdUI7QUFDMUU7QUFDQTtBQUNBLFlBQVksd0VBQWlCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsdUZBQWdDO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsZ0VBQWE7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsOERBQU87QUFDM0IseUVBQXlFO0FBQ3pFO0FBQ0EsS0FBSztBQUNMLHVCQUF1QixxRUFBYTtBQUNwQyxjQUFjLDhEQUFPO0FBQ3JCO0FBQ0EsNkJBQTZCLDhEQUFPO0FBQ3BDLGtDQUFrQyw4REFBTztBQUN6QztBQUNBLGdDQUFnQyw4REFBTztBQUN2QyxxQ0FBcUMsOERBQU87QUFDNUM7QUFDQSw2QkFBNkIsOERBQU87QUFDcEMsMEJBQTBCLDhEQUFPO0FBQ2pDO0FBQ0EsNkJBQTZCLDhEQUFPO0FBQ3BDLDBCQUEwQiw4REFBTztBQUNqQyw0QkFBNEIsOERBQU87QUFDbkMsNEJBQTRCLDhEQUFPLHdCQUF3QiwrQ0FBK0M7QUFDMUcsOEJBQThCLDhEQUFPLGVBQWUsd0NBQXdDO0FBQzVGLG1CQUFtQiw4REFBTztBQUMxQjtBQUNBLHNCQUFzQixnRUFBUTtBQUM5Qix5QkFBeUIsZ0VBQVE7QUFDakMsNkJBQTZCLGdFQUFTO0FBQ3RDO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBLGdDQUFnQywyRUFBbUI7QUFDbkQsWUFBWSxvRUFBYTtBQUN6QjtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsZ0VBQVE7QUFDckMsaUNBQWlDLGdFQUFTO0FBQzFDLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2IsU0FBUztBQUNULG1CQUFtQiw4REFBTztBQUMxQiw4QkFBOEIsZ0VBQVE7QUFDdEMsU0FBUztBQUNULGlCQUFpQiw4REFBTztBQUN4QixnQkFBZ0IsaUVBQVM7QUFDekIsOENBQThDLG9FQUFZO0FBQzFEO0FBQ0EsU0FBUztBQUNULGlCQUFpQiw4REFBTztBQUN4Qix5QkFBeUIsOERBQU87QUFDaEM7QUFDQSxvQ0FBb0Msb0VBQVksU0FBUztBQUN6RDtBQUNBLFNBQVM7QUFDVCw0QkFBNEIsOERBQU87QUFDbkM7QUFDQSxvQkFBb0IsOERBQU87QUFDM0IsbUJBQW1CLDhEQUFPO0FBQzFCO0FBQ0EscUJBQXFCLDhEQUFPO0FBQzVCO0FBQ0EsU0FBUztBQUNULHFDQUFxQyw4REFBTztBQUM1QyxvQ0FBb0MsOERBQU87QUFDM0M7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLDhEQUFPO0FBQ3pDLDZDQUE2QyxnRUFBUSxPQUFPLGdFQUFRO0FBQ3BFLFNBQVM7QUFDVCw4QkFBOEIsOERBQU8sZUFBZSx3Q0FBd0M7QUFDNUYsS0FBSztBQUNMO0FBQ0E7QUFDQSxhQUFhLDRFQUFvQixDQUFDLDBFQUFrQjtBQUNwRCxZQUFZLDJEQUFPO0FBQ25CO0FBQ0E7QUFDQTtBQUNBLFlBQVksMkRBQU87QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsMkRBQU87QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSw4REFBTSxHQUFHO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYXJjYXN0ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2Jvb3QvcnVtUHVibGljQXBpLmpzPzdhODYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbm9vcCwgd2lsbFN5bnRoZXRpY3NJbmplY3RSdW0sIGFzc2lnbiwgQm91bmRlZEJ1ZmZlciwgYnVpbGRDb29raWVPcHRpb25zLCBjcmVhdGVDb250ZXh0TWFuYWdlciwgZGVlcENsb25lLCBtYWtlUHVibGljQXBpLCBtb25pdG9yLCBjbG9ja3NOb3csIHRpbWVTdGFtcE5vdywgZGlzcGxheSwgY2FsbE1vbml0b3JlZCwgY3JlYXRlSGFuZGxpbmdTdGFjaywgY2FuVXNlRXZlbnRCcmlkZ2UsIGFyZUNvb2tpZXNBdXRob3JpemVkLCBjaGVja1VzZXIsIHNhbml0aXplVXNlciwgc2FuaXRpemUsIH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJztcbmltcG9ydCB7IHZhbGlkYXRlQW5kQnVpbGRSdW1Db25maWd1cmF0aW9uIH0gZnJvbSAnLi4vZG9tYWluL2NvbmZpZ3VyYXRpb24nO1xuaW1wb3J0IHsgYnVpbGRDb21tb25Db250ZXh0IH0gZnJvbSAnLi4vZG9tYWluL2NvbnRleHRzL2NvbW1vbkNvbnRleHQnO1xuZXhwb3J0IGZ1bmN0aW9uIG1ha2VSdW1QdWJsaWNBcGkoc3RhcnRSdW1JbXBsLCByZWNvcmRlckFwaSwgX2EpIHtcbiAgICB2YXIgX2IgPSBfYSA9PT0gdm9pZCAwID8ge30gOiBfYSwgX2MgPSBfYi5pZ25vcmVJbml0SWZTeW50aGV0aWNzV2lsbEluamVjdFJ1bSwgaWdub3JlSW5pdElmU3ludGhldGljc1dpbGxJbmplY3RSdW0gPSBfYyA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9jO1xuICAgIHZhciBpc0FscmVhZHlJbml0aWFsaXplZCA9IGZhbHNlO1xuICAgIHZhciBnbG9iYWxDb250ZXh0TWFuYWdlciA9IGNyZWF0ZUNvbnRleHRNYW5hZ2VyKFwiZ2xvYmFsIGNvbnRleHRcIiAvKiBDdXN0b21lckRhdGFUeXBlLkdsb2JhbENvbnRleHQgKi8pO1xuICAgIHZhciB1c2VyQ29udGV4dE1hbmFnZXIgPSBjcmVhdGVDb250ZXh0TWFuYWdlcihcInVzZXJcIiAvKiBDdXN0b21lckRhdGFUeXBlLlVzZXIgKi8pO1xuICAgIHZhciBnZXRJbnRlcm5hbENvbnRleHRTdHJhdGVneSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfTtcbiAgICB2YXIgZ2V0SW5pdENvbmZpZ3VyYXRpb25TdHJhdGVneSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfTtcbiAgICB2YXIgc3RvcFNlc3Npb25TdHJhdGVneSA9IG5vb3A7XG4gICAgdmFyIGdldFNlc3Npb25SZXBsYXlMaW5rU3RyYXRlZ3kgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH07XG4gICAgdmFyIGJ1ZmZlckFwaUNhbGxzID0gbmV3IEJvdW5kZWRCdWZmZXIoKTtcbiAgICB2YXIgYWRkVGltaW5nU3RyYXRlZ3kgPSBmdW5jdGlvbiAobmFtZSwgdGltZSkge1xuICAgICAgICBpZiAodGltZSA9PT0gdm9pZCAwKSB7IHRpbWUgPSB0aW1lU3RhbXBOb3coKTsgfVxuICAgICAgICBidWZmZXJBcGlDYWxscy5hZGQoZnVuY3Rpb24gKCkgeyByZXR1cm4gYWRkVGltaW5nU3RyYXRlZ3kobmFtZSwgdGltZSk7IH0pO1xuICAgIH07XG4gICAgdmFyIHN0YXJ0Vmlld1N0cmF0ZWd5ID0gZnVuY3Rpb24gKG9wdGlvbnMsIHN0YXJ0Q2xvY2tzKSB7XG4gICAgICAgIGlmIChzdGFydENsb2NrcyA9PT0gdm9pZCAwKSB7IHN0YXJ0Q2xvY2tzID0gY2xvY2tzTm93KCk7IH1cbiAgICAgICAgYnVmZmVyQXBpQ2FsbHMuYWRkKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN0YXJ0Vmlld1N0cmF0ZWd5KG9wdGlvbnMsIHN0YXJ0Q2xvY2tzKTsgfSk7XG4gICAgfTtcbiAgICB2YXIgYWRkQWN0aW9uU3RyYXRlZ3kgPSBmdW5jdGlvbiAoYWN0aW9uLCBjb21tb25Db250ZXh0KSB7XG4gICAgICAgIGlmIChjb21tb25Db250ZXh0ID09PSB2b2lkIDApIHsgY29tbW9uQ29udGV4dCA9IGJ1aWxkQ29tbW9uQ29udGV4dChnbG9iYWxDb250ZXh0TWFuYWdlciwgdXNlckNvbnRleHRNYW5hZ2VyLCByZWNvcmRlckFwaSk7IH1cbiAgICAgICAgYnVmZmVyQXBpQ2FsbHMuYWRkKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGFkZEFjdGlvblN0cmF0ZWd5KGFjdGlvbiwgY29tbW9uQ29udGV4dCk7IH0pO1xuICAgIH07XG4gICAgdmFyIGFkZEVycm9yU3RyYXRlZ3kgPSBmdW5jdGlvbiAocHJvdmlkZWRFcnJvciwgY29tbW9uQ29udGV4dCkge1xuICAgICAgICBpZiAoY29tbW9uQ29udGV4dCA9PT0gdm9pZCAwKSB7IGNvbW1vbkNvbnRleHQgPSBidWlsZENvbW1vbkNvbnRleHQoZ2xvYmFsQ29udGV4dE1hbmFnZXIsIHVzZXJDb250ZXh0TWFuYWdlciwgcmVjb3JkZXJBcGkpOyB9XG4gICAgICAgIGJ1ZmZlckFwaUNhbGxzLmFkZChmdW5jdGlvbiAoKSB7IHJldHVybiBhZGRFcnJvclN0cmF0ZWd5KHByb3ZpZGVkRXJyb3IsIGNvbW1vbkNvbnRleHQpOyB9KTtcbiAgICB9O1xuICAgIHZhciBhZGRGZWF0dXJlRmxhZ0V2YWx1YXRpb25TdHJhdGVneSA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICAgIGJ1ZmZlckFwaUNhbGxzLmFkZChmdW5jdGlvbiAoKSB7IHJldHVybiBhZGRGZWF0dXJlRmxhZ0V2YWx1YXRpb25TdHJhdGVneShrZXksIHZhbHVlKTsgfSk7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBpbml0UnVtKGluaXRDb25maWd1cmF0aW9uKSB7XG4gICAgICAgIC8vIFRoaXMgZnVuY3Rpb24gc2hvdWxkIGJlIGF2YWlsYWJsZSwgcmVnYXJkbGVzcyBvZiBpbml0aWFsaXphdGlvbiBzdWNjZXNzLlxuICAgICAgICBnZXRJbml0Q29uZmlndXJhdGlvblN0cmF0ZWd5ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gZGVlcENsb25lKGluaXRDb25maWd1cmF0aW9uKTsgfTtcbiAgICAgICAgLy8gSWYgd2UgYXJlIGluIGEgU3ludGhldGljcyB0ZXN0IGNvbmZpZ3VyZWQgdG8gYXV0b21hdGljYWxseSBpbmplY3QgYSBSVU0gaW5zdGFuY2UsIHdlIHdhbnQgdG9cbiAgICAgICAgLy8gY29tcGxldGVseSBkaXNjYXJkIHRoZSBjdXN0b21lciBhcHBsaWNhdGlvbiBSVU0gaW5zdGFuY2UgYnkgaWdub3JpbmcgdGhlaXIgaW5pdCgpIGNhbGwuICBCdXQsXG4gICAgICAgIC8vIHdlIHNob3VsZCBub3QgaWdub3JlIHRoZSBpbml0KCkgY2FsbCBmcm9tIHRoZSBTeW50aGV0aWNzLWluamVjdGVkIFJVTSBpbnN0YW5jZSwgc28gdGhlXG4gICAgICAgIC8vIGludGVybmFsIGBpZ25vcmVJbml0SWZTeW50aGV0aWNzV2lsbEluamVjdFJ1bWAgb3B0aW9uIGlzIGhlcmUgdG8gYnlwYXNzIHRoaXMgY29uZGl0aW9uLlxuICAgICAgICBpZiAoaWdub3JlSW5pdElmU3ludGhldGljc1dpbGxJbmplY3RSdW0gJiYgd2lsbFN5bnRoZXRpY3NJbmplY3RSdW0oKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjYW5Vc2VFdmVudEJyaWRnZSgpKSB7XG4gICAgICAgICAgICBpbml0Q29uZmlndXJhdGlvbiA9IG92ZXJyaWRlSW5pdENvbmZpZ3VyYXRpb25Gb3JCcmlkZ2UoaW5pdENvbmZpZ3VyYXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFjYW5IYW5kbGVTZXNzaW9uKGluaXRDb25maWd1cmF0aW9uKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghY2FuSW5pdFJ1bShpbml0Q29uZmlndXJhdGlvbikpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY29uZmlndXJhdGlvbiA9IHZhbGlkYXRlQW5kQnVpbGRSdW1Db25maWd1cmF0aW9uKGluaXRDb25maWd1cmF0aW9uKTtcbiAgICAgICAgaWYgKCFjb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFjb25maWd1cmF0aW9uLnRyYWNrVmlld3NNYW51YWxseSkge1xuICAgICAgICAgICAgZG9TdGFydFJ1bShpbml0Q29uZmlndXJhdGlvbiwgY29uZmlndXJhdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBkcmFpbiBiZWZvcmVJbml0Q2FsbHMgYnkgYnVmZmVyaW5nIHRoZW0gdW50aWwgd2Ugc3RhcnQgUlVNXG4gICAgICAgICAgICAvLyBpZiB3ZSBnZXQgYSBzdGFydFZpZXcsIGRyYWluIHJlLWJ1ZmZlcmVkIGNhbGxzIGJlZm9yZSBjb250aW51aW5nIHRvIGRyYWluIGJlZm9yZUluaXRDYWxsc1xuICAgICAgICAgICAgLy8gaW4gb3JkZXIgdG8gZW5zdXJlIHRoYXQgY2FsbHMgYXJlIHByb2Nlc3NlZCBpbiBvcmRlclxuICAgICAgICAgICAgdmFyIGJlZm9yZUluaXRDYWxscyA9IGJ1ZmZlckFwaUNhbGxzO1xuICAgICAgICAgICAgYnVmZmVyQXBpQ2FsbHMgPSBuZXcgQm91bmRlZEJ1ZmZlcigpO1xuICAgICAgICAgICAgc3RhcnRWaWV3U3RyYXRlZ3kgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICAgICAgICAgIGRvU3RhcnRSdW0oaW5pdENvbmZpZ3VyYXRpb24sIGNvbmZpZ3VyYXRpb24sIG9wdGlvbnMpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGJlZm9yZUluaXRDYWxscy5kcmFpbigpO1xuICAgICAgICB9XG4gICAgICAgIGlzQWxyZWFkeUluaXRpYWxpemVkID0gdHJ1ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZG9TdGFydFJ1bShpbml0Q29uZmlndXJhdGlvbiwgY29uZmlndXJhdGlvbiwgaW5pdGlhbFZpZXdPcHRpb25zKSB7XG4gICAgICAgIHZhciBzdGFydFJ1bVJlc3VsdHMgPSBzdGFydFJ1bUltcGwoaW5pdENvbmZpZ3VyYXRpb24sIGNvbmZpZ3VyYXRpb24sIHJlY29yZGVyQXBpLCBnbG9iYWxDb250ZXh0TWFuYWdlciwgdXNlckNvbnRleHRNYW5hZ2VyLCBpbml0aWFsVmlld09wdGlvbnMpO1xuICAgICAgICBnZXRTZXNzaW9uUmVwbGF5TGlua1N0cmF0ZWd5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlY29yZGVyQXBpLmdldFNlc3Npb25SZXBsYXlMaW5rKGNvbmZpZ3VyYXRpb24sIHN0YXJ0UnVtUmVzdWx0cy5zZXNzaW9uLCBzdGFydFJ1bVJlc3VsdHMudmlld0NvbnRleHRzKTtcbiAgICAgICAgfTtcbiAgICAgICAgKHN0YXJ0Vmlld1N0cmF0ZWd5ID0gc3RhcnRSdW1SZXN1bHRzLnN0YXJ0VmlldywgYWRkQWN0aW9uU3RyYXRlZ3kgPSBzdGFydFJ1bVJlc3VsdHMuYWRkQWN0aW9uLCBhZGRFcnJvclN0cmF0ZWd5ID0gc3RhcnRSdW1SZXN1bHRzLmFkZEVycm9yLCBhZGRUaW1pbmdTdHJhdGVneSA9IHN0YXJ0UnVtUmVzdWx0cy5hZGRUaW1pbmcsIGFkZEZlYXR1cmVGbGFnRXZhbHVhdGlvblN0cmF0ZWd5ID0gc3RhcnRSdW1SZXN1bHRzLmFkZEZlYXR1cmVGbGFnRXZhbHVhdGlvbiwgZ2V0SW50ZXJuYWxDb250ZXh0U3RyYXRlZ3kgPSBzdGFydFJ1bVJlc3VsdHMuZ2V0SW50ZXJuYWxDb250ZXh0LCBzdG9wU2Vzc2lvblN0cmF0ZWd5ID0gc3RhcnRSdW1SZXN1bHRzLnN0b3BTZXNzaW9uKTtcbiAgICAgICAgYnVmZmVyQXBpQ2FsbHMuZHJhaW4oKTtcbiAgICAgICAgcmVjb3JkZXJBcGkub25SdW1TdGFydChzdGFydFJ1bVJlc3VsdHMubGlmZUN5Y2xlLCBjb25maWd1cmF0aW9uLCBzdGFydFJ1bVJlc3VsdHMuc2Vzc2lvbiwgc3RhcnRSdW1SZXN1bHRzLnZpZXdDb250ZXh0cyk7XG4gICAgfVxuICAgIHZhciBzdGFydFZpZXcgPSBtb25pdG9yKGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHZhciBzYW5pdGl6ZWRPcHRpb25zID0gdHlwZW9mIG9wdGlvbnMgPT09ICdvYmplY3QnID8gb3B0aW9ucyA6IHsgbmFtZTogb3B0aW9ucyB9O1xuICAgICAgICBzdGFydFZpZXdTdHJhdGVneShzYW5pdGl6ZWRPcHRpb25zKTtcbiAgICB9KTtcbiAgICB2YXIgcnVtUHVibGljQXBpID0gbWFrZVB1YmxpY0FwaSh7XG4gICAgICAgIGluaXQ6IG1vbml0b3IoaW5pdFJ1bSksXG4gICAgICAgIC8qKiBAZGVwcmVjYXRlZDogdXNlIHNldEdsb2JhbENvbnRleHRQcm9wZXJ0eSBpbnN0ZWFkICovXG4gICAgICAgIGFkZFJ1bUdsb2JhbENvbnRleHQ6IG1vbml0b3IoZ2xvYmFsQ29udGV4dE1hbmFnZXIuYWRkKSxcbiAgICAgICAgc2V0R2xvYmFsQ29udGV4dFByb3BlcnR5OiBtb25pdG9yKGdsb2JhbENvbnRleHRNYW5hZ2VyLnNldENvbnRleHRQcm9wZXJ0eSksXG4gICAgICAgIC8qKiBAZGVwcmVjYXRlZDogdXNlIHJlbW92ZUdsb2JhbENvbnRleHRQcm9wZXJ0eSBpbnN0ZWFkICovXG4gICAgICAgIHJlbW92ZVJ1bUdsb2JhbENvbnRleHQ6IG1vbml0b3IoZ2xvYmFsQ29udGV4dE1hbmFnZXIucmVtb3ZlKSxcbiAgICAgICAgcmVtb3ZlR2xvYmFsQ29udGV4dFByb3BlcnR5OiBtb25pdG9yKGdsb2JhbENvbnRleHRNYW5hZ2VyLnJlbW92ZUNvbnRleHRQcm9wZXJ0eSksXG4gICAgICAgIC8qKiBAZGVwcmVjYXRlZDogdXNlIGdldEdsb2JhbENvbnRleHQgaW5zdGVhZCAqL1xuICAgICAgICBnZXRSdW1HbG9iYWxDb250ZXh0OiBtb25pdG9yKGdsb2JhbENvbnRleHRNYW5hZ2VyLmdldCksXG4gICAgICAgIGdldEdsb2JhbENvbnRleHQ6IG1vbml0b3IoZ2xvYmFsQ29udGV4dE1hbmFnZXIuZ2V0Q29udGV4dCksXG4gICAgICAgIC8qKiBAZGVwcmVjYXRlZDogdXNlIHNldEdsb2JhbENvbnRleHQgaW5zdGVhZCAqL1xuICAgICAgICBzZXRSdW1HbG9iYWxDb250ZXh0OiBtb25pdG9yKGdsb2JhbENvbnRleHRNYW5hZ2VyLnNldCksXG4gICAgICAgIHNldEdsb2JhbENvbnRleHQ6IG1vbml0b3IoZ2xvYmFsQ29udGV4dE1hbmFnZXIuc2V0Q29udGV4dCksXG4gICAgICAgIGNsZWFyR2xvYmFsQ29udGV4dDogbW9uaXRvcihnbG9iYWxDb250ZXh0TWFuYWdlci5jbGVhckNvbnRleHQpLFxuICAgICAgICBnZXRJbnRlcm5hbENvbnRleHQ6IG1vbml0b3IoZnVuY3Rpb24gKHN0YXJ0VGltZSkgeyByZXR1cm4gZ2V0SW50ZXJuYWxDb250ZXh0U3RyYXRlZ3koc3RhcnRUaW1lKTsgfSksXG4gICAgICAgIGdldEluaXRDb25maWd1cmF0aW9uOiBtb25pdG9yKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGdldEluaXRDb25maWd1cmF0aW9uU3RyYXRlZ3koKTsgfSksXG4gICAgICAgIGFkZEFjdGlvbjogbW9uaXRvcihmdW5jdGlvbiAobmFtZSwgY29udGV4dCkge1xuICAgICAgICAgICAgYWRkQWN0aW9uU3RyYXRlZ3koe1xuICAgICAgICAgICAgICAgIG5hbWU6IHNhbml0aXplKG5hbWUpLFxuICAgICAgICAgICAgICAgIGNvbnRleHQ6IHNhbml0aXplKGNvbnRleHQpLFxuICAgICAgICAgICAgICAgIHN0YXJ0Q2xvY2tzOiBjbG9ja3NOb3coKSxcbiAgICAgICAgICAgICAgICB0eXBlOiBcImN1c3RvbVwiIC8qIEFjdGlvblR5cGUuQ1VTVE9NICovLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pLFxuICAgICAgICBhZGRFcnJvcjogZnVuY3Rpb24gKGVycm9yLCBjb250ZXh0KSB7XG4gICAgICAgICAgICB2YXIgaGFuZGxpbmdTdGFjayA9IGNyZWF0ZUhhbmRsaW5nU3RhY2soKTtcbiAgICAgICAgICAgIGNhbGxNb25pdG9yZWQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGFkZEVycm9yU3RyYXRlZ3koe1xuICAgICAgICAgICAgICAgICAgICBlcnJvcjogZXJyb3IsXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsaW5nU3RhY2s6IGhhbmRsaW5nU3RhY2ssXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQ6IHNhbml0aXplKGNvbnRleHQpLFxuICAgICAgICAgICAgICAgICAgICBzdGFydENsb2NrczogY2xvY2tzTm93KCksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgYWRkVGltaW5nOiBtb25pdG9yKGZ1bmN0aW9uIChuYW1lLCB0aW1lKSB7XG4gICAgICAgICAgICBhZGRUaW1pbmdTdHJhdGVneShzYW5pdGl6ZShuYW1lKSwgdGltZSk7XG4gICAgICAgIH0pLFxuICAgICAgICBzZXRVc2VyOiBtb25pdG9yKGZ1bmN0aW9uIChuZXdVc2VyKSB7XG4gICAgICAgICAgICBpZiAoY2hlY2tVc2VyKG5ld1VzZXIpKSB7XG4gICAgICAgICAgICAgICAgdXNlckNvbnRleHRNYW5hZ2VyLnNldENvbnRleHQoc2FuaXRpemVVc2VyKG5ld1VzZXIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSksXG4gICAgICAgIGdldFVzZXI6IG1vbml0b3IodXNlckNvbnRleHRNYW5hZ2VyLmdldENvbnRleHQpLFxuICAgICAgICBzZXRVc2VyUHJvcGVydHk6IG1vbml0b3IoZnVuY3Rpb24gKGtleSwgcHJvcGVydHkpIHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIHZhciBzYW5pdGl6ZWRQcm9wZXJ0eSA9IHNhbml0aXplVXNlcigoX2EgPSB7fSwgX2Fba2V5XSA9IHByb3BlcnR5LCBfYSkpW2tleV07XG4gICAgICAgICAgICB1c2VyQ29udGV4dE1hbmFnZXIuc2V0Q29udGV4dFByb3BlcnR5KGtleSwgc2FuaXRpemVkUHJvcGVydHkpO1xuICAgICAgICB9KSxcbiAgICAgICAgcmVtb3ZlVXNlclByb3BlcnR5OiBtb25pdG9yKHVzZXJDb250ZXh0TWFuYWdlci5yZW1vdmVDb250ZXh0UHJvcGVydHkpLFxuICAgICAgICAvKiogQGRlcHJlY2F0ZWQ6IHJlbmFtZWQgdG8gY2xlYXJVc2VyICovXG4gICAgICAgIHJlbW92ZVVzZXI6IG1vbml0b3IodXNlckNvbnRleHRNYW5hZ2VyLmNsZWFyQ29udGV4dCksXG4gICAgICAgIGNsZWFyVXNlcjogbW9uaXRvcih1c2VyQ29udGV4dE1hbmFnZXIuY2xlYXJDb250ZXh0KSxcbiAgICAgICAgc3RhcnRWaWV3OiBzdGFydFZpZXcsXG4gICAgICAgIHN0b3BTZXNzaW9uOiBtb25pdG9yKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHN0b3BTZXNzaW9uU3RyYXRlZ3koKTtcbiAgICAgICAgfSksXG4gICAgICAgIHN0YXJ0U2Vzc2lvblJlcGxheVJlY29yZGluZzogbW9uaXRvcihyZWNvcmRlckFwaS5zdGFydCksXG4gICAgICAgIHN0b3BTZXNzaW9uUmVwbGF5UmVjb3JkaW5nOiBtb25pdG9yKHJlY29yZGVyQXBpLnN0b3ApLFxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBmZWF0dXJlIGlzIGN1cnJlbnRseSBpbiBiZXRhLiBGb3IgbW9yZSBpbmZvcm1hdGlvbiBzZWUgdGhlIGZ1bGwgW2ZlYXR1cmUgZmxhZyB0cmFja2luZyBndWlkZV0oaHR0cHM6Ly9kb2NzLmRhdGFkb2docS5jb20vcmVhbF91c2VyX21vbml0b3JpbmcvZmVhdHVyZV9mbGFnX3RyYWNraW5nLykuXG4gICAgICAgICAqL1xuICAgICAgICBhZGRGZWF0dXJlRmxhZ0V2YWx1YXRpb246IG1vbml0b3IoZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgICAgICAgIGFkZEZlYXR1cmVGbGFnRXZhbHVhdGlvblN0cmF0ZWd5KHNhbml0aXplKGtleSksIHNhbml0aXplKHZhbHVlKSk7XG4gICAgICAgIH0pLFxuICAgICAgICBnZXRTZXNzaW9uUmVwbGF5TGluazogbW9uaXRvcihmdW5jdGlvbiAoKSB7IHJldHVybiBnZXRTZXNzaW9uUmVwbGF5TGlua1N0cmF0ZWd5KCk7IH0pLFxuICAgIH0pO1xuICAgIHJldHVybiBydW1QdWJsaWNBcGk7XG4gICAgZnVuY3Rpb24gY2FuSGFuZGxlU2Vzc2lvbihpbml0Q29uZmlndXJhdGlvbikge1xuICAgICAgICBpZiAoIWFyZUNvb2tpZXNBdXRob3JpemVkKGJ1aWxkQ29va2llT3B0aW9ucyhpbml0Q29uZmlndXJhdGlvbikpKSB7XG4gICAgICAgICAgICBkaXNwbGF5Lndhcm4oJ0Nvb2tpZXMgYXJlIG5vdCBhdXRob3JpemVkLCB3ZSB3aWxsIG5vdCBzZW5kIGFueSBkYXRhLicpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0xvY2FsRmlsZSgpKSB7XG4gICAgICAgICAgICBkaXNwbGF5LmVycm9yKCdFeGVjdXRpb24gaXMgbm90IGFsbG93ZWQgaW4gdGhlIGN1cnJlbnQgY29udGV4dC4nKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2FuSW5pdFJ1bShpbml0Q29uZmlndXJhdGlvbikge1xuICAgICAgICBpZiAoaXNBbHJlYWR5SW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgIGlmICghaW5pdENvbmZpZ3VyYXRpb24uc2lsZW50TXVsdGlwbGVJbml0KSB7XG4gICAgICAgICAgICAgICAgZGlzcGxheS5lcnJvcignRERfUlVNIGlzIGFscmVhZHkgaW5pdGlhbGl6ZWQuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG92ZXJyaWRlSW5pdENvbmZpZ3VyYXRpb25Gb3JCcmlkZ2UoaW5pdENvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgcmV0dXJuIGFzc2lnbih7fSwgaW5pdENvbmZpZ3VyYXRpb24sIHtcbiAgICAgICAgICAgIGFwcGxpY2F0aW9uSWQ6ICcwMDAwMDAwMC1hYWFhLTAwMDAtYWFhYS0wMDAwMDAwMDAwMDAnLFxuICAgICAgICAgICAgY2xpZW50VG9rZW46ICdlbXB0eScsXG4gICAgICAgICAgICBzZXNzaW9uU2FtcGxlUmF0ZTogMTAwLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNMb2NhbEZpbGUoKSB7XG4gICAgICAgIHJldHVybiB3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wgPT09ICdmaWxlOic7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cnVtUHVibGljQXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum-core/esm/boot/rumPublicApi.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum-core/esm/boot/startRum.js":
/*!*************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum-core/esm/boot/startRum.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   startRum: () => (/* binding */ startRum),\n/* harmony export */   startRumEventCollection: () => (/* binding */ startRumEventCollection)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/sendToExtension.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/browser/pageExitObservable.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/transport/eventBridge.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/telemetry/telemetry.js\");\n/* harmony import */ var _browser_domMutationObservable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../browser/domMutationObservable */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/browser/domMutationObservable.js\");\n/* harmony import */ var _browser_performanceCollection__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../browser/performanceCollection */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/browser/performanceCollection.js\");\n/* harmony import */ var _domain_assembly__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../domain/assembly */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/assembly.js\");\n/* harmony import */ var _domain_contexts_foregroundContexts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../domain/contexts/foregroundContexts */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/contexts/foregroundContexts.js\");\n/* harmony import */ var _domain_contexts_internalContext__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../domain/contexts/internalContext */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/contexts/internalContext.js\");\n/* harmony import */ var _domain_lifeCycle__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../domain/lifeCycle */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/lifeCycle.js\");\n/* harmony import */ var _domain_contexts_viewContexts__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../domain/contexts/viewContexts */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/contexts/viewContexts.js\");\n/* harmony import */ var _domain_requestCollection__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../domain/requestCollection */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/requestCollection.js\");\n/* harmony import */ var _domain_rumEventsCollection_action_actionCollection__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../domain/rumEventsCollection/action/actionCollection */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/action/actionCollection.js\");\n/* harmony import */ var _domain_rumEventsCollection_error_errorCollection__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../domain/rumEventsCollection/error/errorCollection */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/error/errorCollection.js\");\n/* harmony import */ var _domain_rumEventsCollection_longTask_longTaskCollection__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../domain/rumEventsCollection/longTask/longTaskCollection */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/longTask/longTaskCollection.js\");\n/* harmony import */ var _domain_rumEventsCollection_resource_resourceCollection__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../domain/rumEventsCollection/resource/resourceCollection */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/resource/resourceCollection.js\");\n/* harmony import */ var _domain_rumEventsCollection_view_viewCollection__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../domain/rumEventsCollection/view/viewCollection */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/view/viewCollection.js\");\n/* harmony import */ var _domain_rumSessionManager__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../domain/rumSessionManager */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/rumSessionManager.js\");\n/* harmony import */ var _transport_startRumBatch__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../transport/startRumBatch */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/transport/startRumBatch.js\");\n/* harmony import */ var _transport_startRumEventBridge__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../transport/startRumEventBridge */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/transport/startRumEventBridge.js\");\n/* harmony import */ var _domain_contexts_urlContexts__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../domain/contexts/urlContexts */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/contexts/urlContexts.js\");\n/* harmony import */ var _browser_locationChangeObservable__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../browser/locationChangeObservable */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/browser/locationChangeObservable.js\");\n/* harmony import */ var _domain_configuration__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../domain/configuration */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/configuration.js\");\n/* harmony import */ var _domain_contexts_featureFlagContext__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../domain/contexts/featureFlagContext */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/contexts/featureFlagContext.js\");\n/* harmony import */ var _domain_startCustomerDataTelemetry__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../domain/startCustomerDataTelemetry */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/startCustomerDataTelemetry.js\");\n/* harmony import */ var _domain_contexts_pageStateHistory__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../domain/contexts/pageStateHistory */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/contexts/pageStateHistory.js\");\n/* harmony import */ var _domain_contexts_commonContext__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../domain/contexts/commonContext */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/contexts/commonContext.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction startRum(initConfiguration, configuration, recorderApi, globalContextManager, userContextManager, initialViewOptions) {\n    var lifeCycle = new _domain_lifeCycle__WEBPACK_IMPORTED_MODULE_5__.LifeCycle();\n    lifeCycle.subscribe(11 /* LifeCycleEventType.RUM_EVENT_COLLECTED */, function (event) { return (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_23__.sendToExtension)('rum', event); });\n    var telemetry = startRumTelemetry(configuration);\n    telemetry.setContextProvider(function () {\n        var _a, _b;\n        return ({\n            application: {\n                id: configuration.applicationId,\n            },\n            session: {\n                id: (_a = session.findTrackedSession()) === null || _a === void 0 ? void 0 : _a.id,\n            },\n            view: {\n                id: (_b = viewContexts.findView()) === null || _b === void 0 ? void 0 : _b.id,\n            },\n            action: {\n                id: actionContexts.findActionId(),\n            },\n        });\n    });\n    var reportError = function (error) {\n        lifeCycle.notify(12 /* LifeCycleEventType.RAW_ERROR_COLLECTED */, { error: error });\n    };\n    var featureFlagContexts = (0,_domain_contexts_featureFlagContext__WEBPACK_IMPORTED_MODULE_19__.startFeatureFlagContexts)(lifeCycle);\n    var pageExitObservable = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_24__.createPageExitObservable)();\n    pageExitObservable.subscribe(function (event) {\n        lifeCycle.notify(9 /* LifeCycleEventType.PAGE_EXITED */, event);\n    });\n    var session = !(0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_25__.canUseEventBridge)() ? (0,_domain_rumSessionManager__WEBPACK_IMPORTED_MODULE_13__.startRumSessionManager)(configuration, lifeCycle) : (0,_domain_rumSessionManager__WEBPACK_IMPORTED_MODULE_13__.startRumSessionManagerStub)();\n    if (!(0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_25__.canUseEventBridge)()) {\n        var batch = (0,_transport_startRumBatch__WEBPACK_IMPORTED_MODULE_14__.startRumBatch)(configuration, lifeCycle, telemetry.observable, reportError, pageExitObservable, session.expireObservable);\n        (0,_domain_startCustomerDataTelemetry__WEBPACK_IMPORTED_MODULE_20__.startCustomerDataTelemetry)(configuration, telemetry, lifeCycle, globalContextManager, userContextManager, featureFlagContexts, batch.flushObservable);\n    }\n    else {\n        (0,_transport_startRumEventBridge__WEBPACK_IMPORTED_MODULE_15__.startRumEventBridge)(lifeCycle);\n    }\n    var domMutationObservable = (0,_browser_domMutationObservable__WEBPACK_IMPORTED_MODULE_0__.createDOMMutationObservable)();\n    var locationChangeObservable = (0,_browser_locationChangeObservable__WEBPACK_IMPORTED_MODULE_17__.createLocationChangeObservable)(location);\n    var _a = startRumEventCollection(lifeCycle, configuration, location, session, locationChangeObservable, domMutationObservable, function () { return (0,_domain_contexts_commonContext__WEBPACK_IMPORTED_MODULE_22__.buildCommonContext)(globalContextManager, userContextManager, recorderApi); }, reportError), viewContexts = _a.viewContexts, foregroundContexts = _a.foregroundContexts, urlContexts = _a.urlContexts, actionContexts = _a.actionContexts, addAction = _a.addAction;\n    (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_26__.addTelemetryConfiguration)((0,_domain_configuration__WEBPACK_IMPORTED_MODULE_18__.serializeRumConfiguration)(initConfiguration));\n    (0,_domain_rumEventsCollection_longTask_longTaskCollection__WEBPACK_IMPORTED_MODULE_10__.startLongTaskCollection)(lifeCycle, session);\n    var pageStateHistory = (0,_domain_contexts_pageStateHistory__WEBPACK_IMPORTED_MODULE_21__.startPageStateHistory)();\n    (0,_domain_rumEventsCollection_resource_resourceCollection__WEBPACK_IMPORTED_MODULE_11__.startResourceCollection)(lifeCycle, configuration, session, pageStateHistory);\n    var _b = (0,_domain_rumEventsCollection_view_viewCollection__WEBPACK_IMPORTED_MODULE_12__.startViewCollection)(lifeCycle, configuration, location, domMutationObservable, locationChangeObservable, foregroundContexts, featureFlagContexts, recorderApi, initialViewOptions), addTiming = _b.addTiming, startView = _b.startView;\n    var addError = (0,_domain_rumEventsCollection_error_errorCollection__WEBPACK_IMPORTED_MODULE_9__.startErrorCollection)(lifeCycle, foregroundContexts, featureFlagContexts).addError;\n    (0,_domain_requestCollection__WEBPACK_IMPORTED_MODULE_7__.startRequestCollection)(lifeCycle, configuration, session);\n    (0,_browser_performanceCollection__WEBPACK_IMPORTED_MODULE_1__.startPerformanceCollection)(lifeCycle, configuration);\n    var internalContext = (0,_domain_contexts_internalContext__WEBPACK_IMPORTED_MODULE_4__.startInternalContext)(configuration.applicationId, session, viewContexts, actionContexts, urlContexts);\n    return {\n        addAction: addAction,\n        addError: addError,\n        addTiming: addTiming,\n        addFeatureFlagEvaluation: featureFlagContexts.addFeatureFlagEvaluation,\n        startView: startView,\n        lifeCycle: lifeCycle,\n        viewContexts: viewContexts,\n        session: session,\n        stopSession: function () { return session.expire(); },\n        getInternalContext: internalContext.get,\n    };\n}\nfunction startRumTelemetry(configuration) {\n    var telemetry = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_26__.startTelemetry)(\"browser-rum-sdk\" /* TelemetryService.RUM */, configuration);\n    if ((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_25__.canUseEventBridge)()) {\n        var bridge_1 = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_25__.getEventBridge)();\n        telemetry.observable.subscribe(function (event) { return bridge_1.send('internal_telemetry', event); });\n    }\n    return telemetry;\n}\nfunction startRumEventCollection(lifeCycle, configuration, location, sessionManager, locationChangeObservable, domMutationObservable, buildCommonContext, reportError) {\n    var viewContexts = (0,_domain_contexts_viewContexts__WEBPACK_IMPORTED_MODULE_6__.startViewContexts)(lifeCycle);\n    var urlContexts = (0,_domain_contexts_urlContexts__WEBPACK_IMPORTED_MODULE_16__.startUrlContexts)(lifeCycle, locationChangeObservable, location);\n    var foregroundContexts = (0,_domain_contexts_foregroundContexts__WEBPACK_IMPORTED_MODULE_3__.startForegroundContexts)();\n    var _a = (0,_domain_rumEventsCollection_action_actionCollection__WEBPACK_IMPORTED_MODULE_8__.startActionCollection)(lifeCycle, domMutationObservable, configuration, foregroundContexts), addAction = _a.addAction, actionContexts = _a.actionContexts;\n    (0,_domain_assembly__WEBPACK_IMPORTED_MODULE_2__.startRumAssembly)(configuration, lifeCycle, sessionManager, viewContexts, urlContexts, actionContexts, buildCommonContext, reportError);\n    return {\n        viewContexts: viewContexts,\n        foregroundContexts: foregroundContexts,\n        urlContexts: urlContexts,\n        addAction: addAction,\n        actionContexts: actionContexts,\n        stop: function () {\n            viewContexts.stop();\n            foregroundContexts.stop();\n        },\n    };\n}\n//# sourceMappingURL=startRum.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2Jvb3Qvc3RhcnRSdW0uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBaUs7QUFDbEY7QUFDRDtBQUN4QjtBQUMwQjtBQUNOO0FBQzFCO0FBQ29CO0FBQ0M7QUFDeUI7QUFDSDtBQUNTO0FBQ0E7QUFDWjtBQUNTO0FBQ3RDO0FBQ1k7QUFDTDtBQUNtQjtBQUNqQjtBQUNhO0FBQ0M7QUFDTjtBQUNOO0FBQy9EO0FBQ1Asd0JBQXdCLHdEQUFTO0FBQ2pDLDRGQUE0RixPQUFPLHVFQUFlLGlCQUFpQjtBQUNuSTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBLDRFQUE0RSxjQUFjO0FBQzFGO0FBQ0EsOEJBQThCLDhGQUF3QjtBQUN0RCw2QkFBNkIsZ0ZBQXdCO0FBQ3JEO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsbUJBQW1CLHlFQUFpQixLQUFLLGtGQUFzQiw2QkFBNkIsc0ZBQTBCO0FBQ3RILFNBQVMseUVBQWlCO0FBQzFCLG9CQUFvQix3RUFBYTtBQUNqQyxRQUFRLCtGQUEwQjtBQUNsQztBQUNBO0FBQ0EsUUFBUSxvRkFBbUI7QUFDM0I7QUFDQSxnQ0FBZ0MsMkZBQTJCO0FBQzNELG1DQUFtQyxrR0FBOEI7QUFDakUsaUpBQWlKLE9BQU8sbUZBQWtCLDBEQUEwRDtBQUNwTyxJQUFJLGlGQUF5QixDQUFDLGlGQUF5QjtBQUN2RCxJQUFJLGlIQUF1QjtBQUMzQiwyQkFBMkIseUZBQXFCO0FBQ2hELElBQUksaUhBQXVCO0FBQzNCLGFBQWEscUdBQW1CO0FBQ2hDLG1CQUFtQix1R0FBb0I7QUFDdkMsSUFBSSxpRkFBc0I7QUFDMUIsSUFBSSwwRkFBMEI7QUFDOUIsMEJBQTBCLHNGQUFvQjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsMEJBQTBCO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHNFQUFjO0FBQ2xDLFFBQVEseUVBQWlCO0FBQ3pCLHVCQUF1QixzRUFBYztBQUNyQywwREFBMEQsb0RBQW9EO0FBQzlHO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsdUJBQXVCLGdGQUFpQjtBQUN4QyxzQkFBc0IsK0VBQWdCO0FBQ3RDLDZCQUE2Qiw0RkFBdUI7QUFDcEQsYUFBYSwwR0FBcUI7QUFDbEMsSUFBSSxrRUFBZ0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhcmNhc3Rlci8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vYm9vdC9zdGFydFJ1bS5qcz85N2I1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHNlbmRUb0V4dGVuc2lvbiwgY3JlYXRlUGFnZUV4aXRPYnNlcnZhYmxlLCBhZGRUZWxlbWV0cnlDb25maWd1cmF0aW9uLCBzdGFydFRlbGVtZXRyeSwgY2FuVXNlRXZlbnRCcmlkZ2UsIGdldEV2ZW50QnJpZGdlLCB9IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItY29yZSc7XG5pbXBvcnQgeyBjcmVhdGVET01NdXRhdGlvbk9ic2VydmFibGUgfSBmcm9tICcuLi9icm93c2VyL2RvbU11dGF0aW9uT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBzdGFydFBlcmZvcm1hbmNlQ29sbGVjdGlvbiB9IGZyb20gJy4uL2Jyb3dzZXIvcGVyZm9ybWFuY2VDb2xsZWN0aW9uJztcbmltcG9ydCB7IHN0YXJ0UnVtQXNzZW1ibHkgfSBmcm9tICcuLi9kb21haW4vYXNzZW1ibHknO1xuaW1wb3J0IHsgc3RhcnRGb3JlZ3JvdW5kQ29udGV4dHMgfSBmcm9tICcuLi9kb21haW4vY29udGV4dHMvZm9yZWdyb3VuZENvbnRleHRzJztcbmltcG9ydCB7IHN0YXJ0SW50ZXJuYWxDb250ZXh0IH0gZnJvbSAnLi4vZG9tYWluL2NvbnRleHRzL2ludGVybmFsQ29udGV4dCc7XG5pbXBvcnQgeyBMaWZlQ3ljbGUgfSBmcm9tICcuLi9kb21haW4vbGlmZUN5Y2xlJztcbmltcG9ydCB7IHN0YXJ0Vmlld0NvbnRleHRzIH0gZnJvbSAnLi4vZG9tYWluL2NvbnRleHRzL3ZpZXdDb250ZXh0cyc7XG5pbXBvcnQgeyBzdGFydFJlcXVlc3RDb2xsZWN0aW9uIH0gZnJvbSAnLi4vZG9tYWluL3JlcXVlc3RDb2xsZWN0aW9uJztcbmltcG9ydCB7IHN0YXJ0QWN0aW9uQ29sbGVjdGlvbiB9IGZyb20gJy4uL2RvbWFpbi9ydW1FdmVudHNDb2xsZWN0aW9uL2FjdGlvbi9hY3Rpb25Db2xsZWN0aW9uJztcbmltcG9ydCB7IHN0YXJ0RXJyb3JDb2xsZWN0aW9uIH0gZnJvbSAnLi4vZG9tYWluL3J1bUV2ZW50c0NvbGxlY3Rpb24vZXJyb3IvZXJyb3JDb2xsZWN0aW9uJztcbmltcG9ydCB7IHN0YXJ0TG9uZ1Rhc2tDb2xsZWN0aW9uIH0gZnJvbSAnLi4vZG9tYWluL3J1bUV2ZW50c0NvbGxlY3Rpb24vbG9uZ1Rhc2svbG9uZ1Rhc2tDb2xsZWN0aW9uJztcbmltcG9ydCB7IHN0YXJ0UmVzb3VyY2VDb2xsZWN0aW9uIH0gZnJvbSAnLi4vZG9tYWluL3J1bUV2ZW50c0NvbGxlY3Rpb24vcmVzb3VyY2UvcmVzb3VyY2VDb2xsZWN0aW9uJztcbmltcG9ydCB7IHN0YXJ0Vmlld0NvbGxlY3Rpb24gfSBmcm9tICcuLi9kb21haW4vcnVtRXZlbnRzQ29sbGVjdGlvbi92aWV3L3ZpZXdDb2xsZWN0aW9uJztcbmltcG9ydCB7IHN0YXJ0UnVtU2Vzc2lvbk1hbmFnZXIsIHN0YXJ0UnVtU2Vzc2lvbk1hbmFnZXJTdHViIH0gZnJvbSAnLi4vZG9tYWluL3J1bVNlc3Npb25NYW5hZ2VyJztcbmltcG9ydCB7IHN0YXJ0UnVtQmF0Y2ggfSBmcm9tICcuLi90cmFuc3BvcnQvc3RhcnRSdW1CYXRjaCc7XG5pbXBvcnQgeyBzdGFydFJ1bUV2ZW50QnJpZGdlIH0gZnJvbSAnLi4vdHJhbnNwb3J0L3N0YXJ0UnVtRXZlbnRCcmlkZ2UnO1xuaW1wb3J0IHsgc3RhcnRVcmxDb250ZXh0cyB9IGZyb20gJy4uL2RvbWFpbi9jb250ZXh0cy91cmxDb250ZXh0cyc7XG5pbXBvcnQgeyBjcmVhdGVMb2NhdGlvbkNoYW5nZU9ic2VydmFibGUgfSBmcm9tICcuLi9icm93c2VyL2xvY2F0aW9uQ2hhbmdlT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBzZXJpYWxpemVSdW1Db25maWd1cmF0aW9uIH0gZnJvbSAnLi4vZG9tYWluL2NvbmZpZ3VyYXRpb24nO1xuaW1wb3J0IHsgc3RhcnRGZWF0dXJlRmxhZ0NvbnRleHRzIH0gZnJvbSAnLi4vZG9tYWluL2NvbnRleHRzL2ZlYXR1cmVGbGFnQ29udGV4dCc7XG5pbXBvcnQgeyBzdGFydEN1c3RvbWVyRGF0YVRlbGVtZXRyeSB9IGZyb20gJy4uL2RvbWFpbi9zdGFydEN1c3RvbWVyRGF0YVRlbGVtZXRyeSc7XG5pbXBvcnQgeyBzdGFydFBhZ2VTdGF0ZUhpc3RvcnkgfSBmcm9tICcuLi9kb21haW4vY29udGV4dHMvcGFnZVN0YXRlSGlzdG9yeSc7XG5pbXBvcnQgeyBidWlsZENvbW1vbkNvbnRleHQgfSBmcm9tICcuLi9kb21haW4vY29udGV4dHMvY29tbW9uQ29udGV4dCc7XG5leHBvcnQgZnVuY3Rpb24gc3RhcnRSdW0oaW5pdENvbmZpZ3VyYXRpb24sIGNvbmZpZ3VyYXRpb24sIHJlY29yZGVyQXBpLCBnbG9iYWxDb250ZXh0TWFuYWdlciwgdXNlckNvbnRleHRNYW5hZ2VyLCBpbml0aWFsVmlld09wdGlvbnMpIHtcbiAgICB2YXIgbGlmZUN5Y2xlID0gbmV3IExpZmVDeWNsZSgpO1xuICAgIGxpZmVDeWNsZS5zdWJzY3JpYmUoMTEgLyogTGlmZUN5Y2xlRXZlbnRUeXBlLlJVTV9FVkVOVF9DT0xMRUNURUQgKi8sIGZ1bmN0aW9uIChldmVudCkgeyByZXR1cm4gc2VuZFRvRXh0ZW5zaW9uKCdydW0nLCBldmVudCk7IH0pO1xuICAgIHZhciB0ZWxlbWV0cnkgPSBzdGFydFJ1bVRlbGVtZXRyeShjb25maWd1cmF0aW9uKTtcbiAgICB0ZWxlbWV0cnkuc2V0Q29udGV4dFByb3ZpZGVyKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgcmV0dXJuICh7XG4gICAgICAgICAgICBhcHBsaWNhdGlvbjoge1xuICAgICAgICAgICAgICAgIGlkOiBjb25maWd1cmF0aW9uLmFwcGxpY2F0aW9uSWQsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2Vzc2lvbjoge1xuICAgICAgICAgICAgICAgIGlkOiAoX2EgPSBzZXNzaW9uLmZpbmRUcmFja2VkU2Vzc2lvbigpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaWQsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdmlldzoge1xuICAgICAgICAgICAgICAgIGlkOiAoX2IgPSB2aWV3Q29udGV4dHMuZmluZFZpZXcoKSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmlkLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFjdGlvbjoge1xuICAgICAgICAgICAgICAgIGlkOiBhY3Rpb25Db250ZXh0cy5maW5kQWN0aW9uSWQoKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIHZhciByZXBvcnRFcnJvciA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICBsaWZlQ3ljbGUubm90aWZ5KDEyIC8qIExpZmVDeWNsZUV2ZW50VHlwZS5SQVdfRVJST1JfQ09MTEVDVEVEICovLCB7IGVycm9yOiBlcnJvciB9KTtcbiAgICB9O1xuICAgIHZhciBmZWF0dXJlRmxhZ0NvbnRleHRzID0gc3RhcnRGZWF0dXJlRmxhZ0NvbnRleHRzKGxpZmVDeWNsZSk7XG4gICAgdmFyIHBhZ2VFeGl0T2JzZXJ2YWJsZSA9IGNyZWF0ZVBhZ2VFeGl0T2JzZXJ2YWJsZSgpO1xuICAgIHBhZ2VFeGl0T2JzZXJ2YWJsZS5zdWJzY3JpYmUoZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGxpZmVDeWNsZS5ub3RpZnkoOSAvKiBMaWZlQ3ljbGVFdmVudFR5cGUuUEFHRV9FWElURUQgKi8sIGV2ZW50KTtcbiAgICB9KTtcbiAgICB2YXIgc2Vzc2lvbiA9ICFjYW5Vc2VFdmVudEJyaWRnZSgpID8gc3RhcnRSdW1TZXNzaW9uTWFuYWdlcihjb25maWd1cmF0aW9uLCBsaWZlQ3ljbGUpIDogc3RhcnRSdW1TZXNzaW9uTWFuYWdlclN0dWIoKTtcbiAgICBpZiAoIWNhblVzZUV2ZW50QnJpZGdlKCkpIHtcbiAgICAgICAgdmFyIGJhdGNoID0gc3RhcnRSdW1CYXRjaChjb25maWd1cmF0aW9uLCBsaWZlQ3ljbGUsIHRlbGVtZXRyeS5vYnNlcnZhYmxlLCByZXBvcnRFcnJvciwgcGFnZUV4aXRPYnNlcnZhYmxlLCBzZXNzaW9uLmV4cGlyZU9ic2VydmFibGUpO1xuICAgICAgICBzdGFydEN1c3RvbWVyRGF0YVRlbGVtZXRyeShjb25maWd1cmF0aW9uLCB0ZWxlbWV0cnksIGxpZmVDeWNsZSwgZ2xvYmFsQ29udGV4dE1hbmFnZXIsIHVzZXJDb250ZXh0TWFuYWdlciwgZmVhdHVyZUZsYWdDb250ZXh0cywgYmF0Y2guZmx1c2hPYnNlcnZhYmxlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHN0YXJ0UnVtRXZlbnRCcmlkZ2UobGlmZUN5Y2xlKTtcbiAgICB9XG4gICAgdmFyIGRvbU11dGF0aW9uT2JzZXJ2YWJsZSA9IGNyZWF0ZURPTU11dGF0aW9uT2JzZXJ2YWJsZSgpO1xuICAgIHZhciBsb2NhdGlvbkNoYW5nZU9ic2VydmFibGUgPSBjcmVhdGVMb2NhdGlvbkNoYW5nZU9ic2VydmFibGUobG9jYXRpb24pO1xuICAgIHZhciBfYSA9IHN0YXJ0UnVtRXZlbnRDb2xsZWN0aW9uKGxpZmVDeWNsZSwgY29uZmlndXJhdGlvbiwgbG9jYXRpb24sIHNlc3Npb24sIGxvY2F0aW9uQ2hhbmdlT2JzZXJ2YWJsZSwgZG9tTXV0YXRpb25PYnNlcnZhYmxlLCBmdW5jdGlvbiAoKSB7IHJldHVybiBidWlsZENvbW1vbkNvbnRleHQoZ2xvYmFsQ29udGV4dE1hbmFnZXIsIHVzZXJDb250ZXh0TWFuYWdlciwgcmVjb3JkZXJBcGkpOyB9LCByZXBvcnRFcnJvciksIHZpZXdDb250ZXh0cyA9IF9hLnZpZXdDb250ZXh0cywgZm9yZWdyb3VuZENvbnRleHRzID0gX2EuZm9yZWdyb3VuZENvbnRleHRzLCB1cmxDb250ZXh0cyA9IF9hLnVybENvbnRleHRzLCBhY3Rpb25Db250ZXh0cyA9IF9hLmFjdGlvbkNvbnRleHRzLCBhZGRBY3Rpb24gPSBfYS5hZGRBY3Rpb247XG4gICAgYWRkVGVsZW1ldHJ5Q29uZmlndXJhdGlvbihzZXJpYWxpemVSdW1Db25maWd1cmF0aW9uKGluaXRDb25maWd1cmF0aW9uKSk7XG4gICAgc3RhcnRMb25nVGFza0NvbGxlY3Rpb24obGlmZUN5Y2xlLCBzZXNzaW9uKTtcbiAgICB2YXIgcGFnZVN0YXRlSGlzdG9yeSA9IHN0YXJ0UGFnZVN0YXRlSGlzdG9yeSgpO1xuICAgIHN0YXJ0UmVzb3VyY2VDb2xsZWN0aW9uKGxpZmVDeWNsZSwgY29uZmlndXJhdGlvbiwgc2Vzc2lvbiwgcGFnZVN0YXRlSGlzdG9yeSk7XG4gICAgdmFyIF9iID0gc3RhcnRWaWV3Q29sbGVjdGlvbihsaWZlQ3ljbGUsIGNvbmZpZ3VyYXRpb24sIGxvY2F0aW9uLCBkb21NdXRhdGlvbk9ic2VydmFibGUsIGxvY2F0aW9uQ2hhbmdlT2JzZXJ2YWJsZSwgZm9yZWdyb3VuZENvbnRleHRzLCBmZWF0dXJlRmxhZ0NvbnRleHRzLCByZWNvcmRlckFwaSwgaW5pdGlhbFZpZXdPcHRpb25zKSwgYWRkVGltaW5nID0gX2IuYWRkVGltaW5nLCBzdGFydFZpZXcgPSBfYi5zdGFydFZpZXc7XG4gICAgdmFyIGFkZEVycm9yID0gc3RhcnRFcnJvckNvbGxlY3Rpb24obGlmZUN5Y2xlLCBmb3JlZ3JvdW5kQ29udGV4dHMsIGZlYXR1cmVGbGFnQ29udGV4dHMpLmFkZEVycm9yO1xuICAgIHN0YXJ0UmVxdWVzdENvbGxlY3Rpb24obGlmZUN5Y2xlLCBjb25maWd1cmF0aW9uLCBzZXNzaW9uKTtcbiAgICBzdGFydFBlcmZvcm1hbmNlQ29sbGVjdGlvbihsaWZlQ3ljbGUsIGNvbmZpZ3VyYXRpb24pO1xuICAgIHZhciBpbnRlcm5hbENvbnRleHQgPSBzdGFydEludGVybmFsQ29udGV4dChjb25maWd1cmF0aW9uLmFwcGxpY2F0aW9uSWQsIHNlc3Npb24sIHZpZXdDb250ZXh0cywgYWN0aW9uQ29udGV4dHMsIHVybENvbnRleHRzKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBhZGRBY3Rpb246IGFkZEFjdGlvbixcbiAgICAgICAgYWRkRXJyb3I6IGFkZEVycm9yLFxuICAgICAgICBhZGRUaW1pbmc6IGFkZFRpbWluZyxcbiAgICAgICAgYWRkRmVhdHVyZUZsYWdFdmFsdWF0aW9uOiBmZWF0dXJlRmxhZ0NvbnRleHRzLmFkZEZlYXR1cmVGbGFnRXZhbHVhdGlvbixcbiAgICAgICAgc3RhcnRWaWV3OiBzdGFydFZpZXcsXG4gICAgICAgIGxpZmVDeWNsZTogbGlmZUN5Y2xlLFxuICAgICAgICB2aWV3Q29udGV4dHM6IHZpZXdDb250ZXh0cyxcbiAgICAgICAgc2Vzc2lvbjogc2Vzc2lvbixcbiAgICAgICAgc3RvcFNlc3Npb246IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNlc3Npb24uZXhwaXJlKCk7IH0sXG4gICAgICAgIGdldEludGVybmFsQ29udGV4dDogaW50ZXJuYWxDb250ZXh0LmdldCxcbiAgICB9O1xufVxuZnVuY3Rpb24gc3RhcnRSdW1UZWxlbWV0cnkoY29uZmlndXJhdGlvbikge1xuICAgIHZhciB0ZWxlbWV0cnkgPSBzdGFydFRlbGVtZXRyeShcImJyb3dzZXItcnVtLXNka1wiIC8qIFRlbGVtZXRyeVNlcnZpY2UuUlVNICovLCBjb25maWd1cmF0aW9uKTtcbiAgICBpZiAoY2FuVXNlRXZlbnRCcmlkZ2UoKSkge1xuICAgICAgICB2YXIgYnJpZGdlXzEgPSBnZXRFdmVudEJyaWRnZSgpO1xuICAgICAgICB0ZWxlbWV0cnkub2JzZXJ2YWJsZS5zdWJzY3JpYmUoZnVuY3Rpb24gKGV2ZW50KSB7IHJldHVybiBicmlkZ2VfMS5zZW5kKCdpbnRlcm5hbF90ZWxlbWV0cnknLCBldmVudCk7IH0pO1xuICAgIH1cbiAgICByZXR1cm4gdGVsZW1ldHJ5O1xufVxuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0UnVtRXZlbnRDb2xsZWN0aW9uKGxpZmVDeWNsZSwgY29uZmlndXJhdGlvbiwgbG9jYXRpb24sIHNlc3Npb25NYW5hZ2VyLCBsb2NhdGlvbkNoYW5nZU9ic2VydmFibGUsIGRvbU11dGF0aW9uT2JzZXJ2YWJsZSwgYnVpbGRDb21tb25Db250ZXh0LCByZXBvcnRFcnJvcikge1xuICAgIHZhciB2aWV3Q29udGV4dHMgPSBzdGFydFZpZXdDb250ZXh0cyhsaWZlQ3ljbGUpO1xuICAgIHZhciB1cmxDb250ZXh0cyA9IHN0YXJ0VXJsQ29udGV4dHMobGlmZUN5Y2xlLCBsb2NhdGlvbkNoYW5nZU9ic2VydmFibGUsIGxvY2F0aW9uKTtcbiAgICB2YXIgZm9yZWdyb3VuZENvbnRleHRzID0gc3RhcnRGb3JlZ3JvdW5kQ29udGV4dHMoKTtcbiAgICB2YXIgX2EgPSBzdGFydEFjdGlvbkNvbGxlY3Rpb24obGlmZUN5Y2xlLCBkb21NdXRhdGlvbk9ic2VydmFibGUsIGNvbmZpZ3VyYXRpb24sIGZvcmVncm91bmRDb250ZXh0cyksIGFkZEFjdGlvbiA9IF9hLmFkZEFjdGlvbiwgYWN0aW9uQ29udGV4dHMgPSBfYS5hY3Rpb25Db250ZXh0cztcbiAgICBzdGFydFJ1bUFzc2VtYmx5KGNvbmZpZ3VyYXRpb24sIGxpZmVDeWNsZSwgc2Vzc2lvbk1hbmFnZXIsIHZpZXdDb250ZXh0cywgdXJsQ29udGV4dHMsIGFjdGlvbkNvbnRleHRzLCBidWlsZENvbW1vbkNvbnRleHQsIHJlcG9ydEVycm9yKTtcbiAgICByZXR1cm4ge1xuICAgICAgICB2aWV3Q29udGV4dHM6IHZpZXdDb250ZXh0cyxcbiAgICAgICAgZm9yZWdyb3VuZENvbnRleHRzOiBmb3JlZ3JvdW5kQ29udGV4dHMsXG4gICAgICAgIHVybENvbnRleHRzOiB1cmxDb250ZXh0cyxcbiAgICAgICAgYWRkQWN0aW9uOiBhZGRBY3Rpb24sXG4gICAgICAgIGFjdGlvbkNvbnRleHRzOiBhY3Rpb25Db250ZXh0cyxcbiAgICAgICAgc3RvcDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmlld0NvbnRleHRzLnN0b3AoKTtcbiAgICAgICAgICAgIGZvcmVncm91bmRDb250ZXh0cy5zdG9wKCk7XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0YXJ0UnVtLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum-core/esm/boot/startRum.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum-core/esm/browser/domMutationObservable.js":
/*!*****************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum-core/esm/browser/domMutationObservable.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createDOMMutationObservable: () => (/* binding */ createDOMMutationObservable),\n/* harmony export */   getMutationObserverConstructor: () => (/* binding */ getMutationObserverConstructor)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/observable.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/monitor.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/getZoneJsOriginalValue.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/functionUtils.js\");\n\nfunction createDOMMutationObservable() {\n    var MutationObserver = getMutationObserverConstructor();\n    var observable = new _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.Observable(function () {\n        if (!MutationObserver) {\n            return;\n        }\n        var observer = new MutationObserver((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.monitor)(function () { return observable.notify(); }));\n        observer.observe(document, {\n            attributes: true,\n            characterData: true,\n            childList: true,\n            subtree: true,\n        });\n        return function () { return observer.disconnect(); };\n    });\n    return observable;\n}\nfunction getMutationObserverConstructor() {\n    var constructor;\n    var browserWindow = window;\n    // Angular uses Zone.js to provide a context persisting across async tasks.  Zone.js replaces the\n    // global MutationObserver constructor with a patched version to support the context propagation.\n    // There is an ongoing issue[1][2] with this setup when using a MutationObserver within a Angular\n    // component: on some occasions, the callback is being called in an infinite loop, causing the\n    // page to freeze (even if the callback is completely empty).\n    //\n    // To work around this issue, we try to get the original MutationObserver constructor stored by\n    // Zone.js.\n    //\n    // [1] https://github.com/angular/angular/issues/26948\n    // [2] https://github.com/angular/angular/issues/31712\n    if (browserWindow.Zone) {\n        // Zone.js 0.8.6+ is storing original class constructors into the browser 'window' object[3].\n        //\n        // [3] https://github.com/angular/angular/blob/6375fa79875c0fe7b815efc45940a6e6f5c9c9eb/packages/zone.js/lib/common/utils.ts#L288\n        constructor = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.getZoneJsOriginalValue)(browserWindow, 'MutationObserver');\n        if (browserWindow.MutationObserver && constructor === browserWindow.MutationObserver) {\n            // Anterior Zone.js versions (used in Angular 2) does not expose the original MutationObserver\n            // in the 'window' object. Luckily, the patched MutationObserver class is storing an original\n            // instance in its properties[4]. Let's get the original MutationObserver constructor from\n            // there.\n            //\n            // [4] https://github.com/angular/zone.js/blob/v0.8.5/lib/common/utils.ts#L412\n            var patchedInstance = new browserWindow.MutationObserver(_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.noop);\n            var originalInstance = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.getZoneJsOriginalValue)(patchedInstance, 'originalInstance');\n            constructor = originalInstance && originalInstance.constructor;\n        }\n    }\n    if (!constructor) {\n        constructor = browserWindow.MutationObserver;\n    }\n    return constructor;\n}\n//# sourceMappingURL=domMutationObservable.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2Jyb3dzZXIvZG9tTXV0YXRpb25PYnNlcnZhYmxlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUEwRjtBQUNuRjtBQUNQO0FBQ0EseUJBQXlCLDZEQUFVO0FBQ25DO0FBQ0E7QUFDQTtBQUNBLDRDQUE0Qyw4REFBTyxlQUFlLDZCQUE2QjtBQUMvRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULDZCQUE2QjtBQUM3QixLQUFLO0FBQ0w7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiw2RUFBc0I7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxRUFBcUUsdURBQUk7QUFDekUsbUNBQW1DLDZFQUFzQjtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYXJjYXN0ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2Jyb3dzZXIvZG9tTXV0YXRpb25PYnNlcnZhYmxlLmpzP2Q4M2QiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbW9uaXRvciwgbm9vcCwgT2JzZXJ2YWJsZSwgZ2V0Wm9uZUpzT3JpZ2luYWxWYWx1ZSB9IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItY29yZSc7XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRE9NTXV0YXRpb25PYnNlcnZhYmxlKCkge1xuICAgIHZhciBNdXRhdGlvbk9ic2VydmVyID0gZ2V0TXV0YXRpb25PYnNlcnZlckNvbnN0cnVjdG9yKCk7XG4gICAgdmFyIG9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghTXV0YXRpb25PYnNlcnZlcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKG1vbml0b3IoZnVuY3Rpb24gKCkgeyByZXR1cm4gb2JzZXJ2YWJsZS5ub3RpZnkoKTsgfSkpO1xuICAgICAgICBvYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LCB7XG4gICAgICAgICAgICBhdHRyaWJ1dGVzOiB0cnVlLFxuICAgICAgICAgICAgY2hhcmFjdGVyRGF0YTogdHJ1ZSxcbiAgICAgICAgICAgIGNoaWxkTGlzdDogdHJ1ZSxcbiAgICAgICAgICAgIHN1YnRyZWU6IHRydWUsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkgeyByZXR1cm4gb2JzZXJ2ZXIuZGlzY29ubmVjdCgpOyB9O1xuICAgIH0pO1xuICAgIHJldHVybiBvYnNlcnZhYmxlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldE11dGF0aW9uT2JzZXJ2ZXJDb25zdHJ1Y3RvcigpIHtcbiAgICB2YXIgY29uc3RydWN0b3I7XG4gICAgdmFyIGJyb3dzZXJXaW5kb3cgPSB3aW5kb3c7XG4gICAgLy8gQW5ndWxhciB1c2VzIFpvbmUuanMgdG8gcHJvdmlkZSBhIGNvbnRleHQgcGVyc2lzdGluZyBhY3Jvc3MgYXN5bmMgdGFza3MuICBab25lLmpzIHJlcGxhY2VzIHRoZVxuICAgIC8vIGdsb2JhbCBNdXRhdGlvbk9ic2VydmVyIGNvbnN0cnVjdG9yIHdpdGggYSBwYXRjaGVkIHZlcnNpb24gdG8gc3VwcG9ydCB0aGUgY29udGV4dCBwcm9wYWdhdGlvbi5cbiAgICAvLyBUaGVyZSBpcyBhbiBvbmdvaW5nIGlzc3VlWzFdWzJdIHdpdGggdGhpcyBzZXR1cCB3aGVuIHVzaW5nIGEgTXV0YXRpb25PYnNlcnZlciB3aXRoaW4gYSBBbmd1bGFyXG4gICAgLy8gY29tcG9uZW50OiBvbiBzb21lIG9jY2FzaW9ucywgdGhlIGNhbGxiYWNrIGlzIGJlaW5nIGNhbGxlZCBpbiBhbiBpbmZpbml0ZSBsb29wLCBjYXVzaW5nIHRoZVxuICAgIC8vIHBhZ2UgdG8gZnJlZXplIChldmVuIGlmIHRoZSBjYWxsYmFjayBpcyBjb21wbGV0ZWx5IGVtcHR5KS5cbiAgICAvL1xuICAgIC8vIFRvIHdvcmsgYXJvdW5kIHRoaXMgaXNzdWUsIHdlIHRyeSB0byBnZXQgdGhlIG9yaWdpbmFsIE11dGF0aW9uT2JzZXJ2ZXIgY29uc3RydWN0b3Igc3RvcmVkIGJ5XG4gICAgLy8gWm9uZS5qcy5cbiAgICAvL1xuICAgIC8vIFsxXSBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy8yNjk0OFxuICAgIC8vIFsyXSBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy8zMTcxMlxuICAgIGlmIChicm93c2VyV2luZG93LlpvbmUpIHtcbiAgICAgICAgLy8gWm9uZS5qcyAwLjguNisgaXMgc3RvcmluZyBvcmlnaW5hbCBjbGFzcyBjb25zdHJ1Y3RvcnMgaW50byB0aGUgYnJvd3NlciAnd2luZG93JyBvYmplY3RbM10uXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFszXSBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2Jsb2IvNjM3NWZhNzk4NzVjMGZlN2I4MTVlZmM0NTk0MGE2ZTZmNWM5YzllYi9wYWNrYWdlcy96b25lLmpzL2xpYi9jb21tb24vdXRpbHMudHMjTDI4OFxuICAgICAgICBjb25zdHJ1Y3RvciA9IGdldFpvbmVKc09yaWdpbmFsVmFsdWUoYnJvd3NlcldpbmRvdywgJ011dGF0aW9uT2JzZXJ2ZXInKTtcbiAgICAgICAgaWYgKGJyb3dzZXJXaW5kb3cuTXV0YXRpb25PYnNlcnZlciAmJiBjb25zdHJ1Y3RvciA9PT0gYnJvd3NlcldpbmRvdy5NdXRhdGlvbk9ic2VydmVyKSB7XG4gICAgICAgICAgICAvLyBBbnRlcmlvciBab25lLmpzIHZlcnNpb25zICh1c2VkIGluIEFuZ3VsYXIgMikgZG9lcyBub3QgZXhwb3NlIHRoZSBvcmlnaW5hbCBNdXRhdGlvbk9ic2VydmVyXG4gICAgICAgICAgICAvLyBpbiB0aGUgJ3dpbmRvdycgb2JqZWN0LiBMdWNraWx5LCB0aGUgcGF0Y2hlZCBNdXRhdGlvbk9ic2VydmVyIGNsYXNzIGlzIHN0b3JpbmcgYW4gb3JpZ2luYWxcbiAgICAgICAgICAgIC8vIGluc3RhbmNlIGluIGl0cyBwcm9wZXJ0aWVzWzRdLiBMZXQncyBnZXQgdGhlIG9yaWdpbmFsIE11dGF0aW9uT2JzZXJ2ZXIgY29uc3RydWN0b3IgZnJvbVxuICAgICAgICAgICAgLy8gdGhlcmUuXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gWzRdIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL3pvbmUuanMvYmxvYi92MC44LjUvbGliL2NvbW1vbi91dGlscy50cyNMNDEyXG4gICAgICAgICAgICB2YXIgcGF0Y2hlZEluc3RhbmNlID0gbmV3IGJyb3dzZXJXaW5kb3cuTXV0YXRpb25PYnNlcnZlcihub29wKTtcbiAgICAgICAgICAgIHZhciBvcmlnaW5hbEluc3RhbmNlID0gZ2V0Wm9uZUpzT3JpZ2luYWxWYWx1ZShwYXRjaGVkSW5zdGFuY2UsICdvcmlnaW5hbEluc3RhbmNlJyk7XG4gICAgICAgICAgICBjb25zdHJ1Y3RvciA9IG9yaWdpbmFsSW5zdGFuY2UgJiYgb3JpZ2luYWxJbnN0YW5jZS5jb25zdHJ1Y3RvcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoIWNvbnN0cnVjdG9yKSB7XG4gICAgICAgIGNvbnN0cnVjdG9yID0gYnJvd3NlcldpbmRvdy5NdXRhdGlvbk9ic2VydmVyO1xuICAgIH1cbiAgICByZXR1cm4gY29uc3RydWN0b3I7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kb21NdXRhdGlvbk9ic2VydmFibGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum-core/esm/browser/domMutationObservable.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum-core/esm/browser/htmlDomUtils.js":
/*!********************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum-core/esm/browser/htmlDomUtils.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getChildNodes: () => (/* binding */ getChildNodes),\n/* harmony export */   getParentNode: () => (/* binding */ getParentNode),\n/* harmony export */   isCommentNode: () => (/* binding */ isCommentNode),\n/* harmony export */   isElementNode: () => (/* binding */ isElementNode),\n/* harmony export */   isNodeShadowHost: () => (/* binding */ isNodeShadowHost),\n/* harmony export */   isNodeShadowRoot: () => (/* binding */ isNodeShadowRoot),\n/* harmony export */   isTextNode: () => (/* binding */ isTextNode)\n/* harmony export */ });\nfunction isTextNode(node) {\n    return node.nodeType === Node.TEXT_NODE;\n}\nfunction isCommentNode(node) {\n    return node.nodeType === Node.COMMENT_NODE;\n}\nfunction isElementNode(node) {\n    return node.nodeType === Node.ELEMENT_NODE;\n}\nfunction isNodeShadowHost(node) {\n    return isElementNode(node) && Boolean(node.shadowRoot);\n}\nfunction isNodeShadowRoot(node) {\n    var shadowRoot = node;\n    return !!shadowRoot.host && shadowRoot.nodeType === Node.DOCUMENT_FRAGMENT_NODE && isElementNode(shadowRoot.host);\n}\nfunction getChildNodes(node) {\n    return isNodeShadowHost(node) ? node.shadowRoot.childNodes : node.childNodes;\n}\n/**\n * Return `host` in case if the current node is a shadow root otherwise will return the `parentNode`\n */\nfunction getParentNode(node) {\n    return isNodeShadowRoot(node) ? node.host : node.parentNode;\n}\n//# sourceMappingURL=htmlDomUtils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2Jyb3dzZXIvaHRtbERvbVV0aWxzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBTztBQUNQO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFyY2FzdGVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLXJ1bS1jb3JlL2VzbS9icm93c2VyL2h0bWxEb21VdGlscy5qcz9iNmY3Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBpc1RleHROb2RlKG5vZGUpIHtcbiAgICByZXR1cm4gbm9kZS5ub2RlVHlwZSA9PT0gTm9kZS5URVhUX05PREU7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNDb21tZW50Tm9kZShub2RlKSB7XG4gICAgcmV0dXJuIG5vZGUubm9kZVR5cGUgPT09IE5vZGUuQ09NTUVOVF9OT0RFO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzRWxlbWVudE5vZGUobm9kZSkge1xuICAgIHJldHVybiBub2RlLm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc05vZGVTaGFkb3dIb3N0KG5vZGUpIHtcbiAgICByZXR1cm4gaXNFbGVtZW50Tm9kZShub2RlKSAmJiBCb29sZWFuKG5vZGUuc2hhZG93Um9vdCk7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNOb2RlU2hhZG93Um9vdChub2RlKSB7XG4gICAgdmFyIHNoYWRvd1Jvb3QgPSBub2RlO1xuICAgIHJldHVybiAhIXNoYWRvd1Jvb3QuaG9zdCAmJiBzaGFkb3dSb290Lm5vZGVUeXBlID09PSBOb2RlLkRPQ1VNRU5UX0ZSQUdNRU5UX05PREUgJiYgaXNFbGVtZW50Tm9kZShzaGFkb3dSb290Lmhvc3QpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldENoaWxkTm9kZXMobm9kZSkge1xuICAgIHJldHVybiBpc05vZGVTaGFkb3dIb3N0KG5vZGUpID8gbm9kZS5zaGFkb3dSb290LmNoaWxkTm9kZXMgOiBub2RlLmNoaWxkTm9kZXM7XG59XG4vKipcbiAqIFJldHVybiBgaG9zdGAgaW4gY2FzZSBpZiB0aGUgY3VycmVudCBub2RlIGlzIGEgc2hhZG93IHJvb3Qgb3RoZXJ3aXNlIHdpbGwgcmV0dXJuIHRoZSBgcGFyZW50Tm9kZWBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFBhcmVudE5vZGUobm9kZSkge1xuICAgIHJldHVybiBpc05vZGVTaGFkb3dSb290KG5vZGUpID8gbm9kZS5ob3N0IDogbm9kZS5wYXJlbnROb2RlO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aHRtbERvbVV0aWxzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum-core/esm/browser/htmlDomUtils.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum-core/esm/browser/locationChangeObservable.js":
/*!********************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum-core/esm/browser/locationChangeObservable.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createLocationChangeObservable: () => (/* binding */ createLocationChangeObservable)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/objectUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/observable.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/instrumentMethod.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/browser/addEventListener.js\");\n\nfunction createLocationChangeObservable(location) {\n    var currentLocation = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.shallowClone)(location);\n    var observable = new _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.Observable(function () {\n        var stopHistoryTracking = trackHistory(onLocationChange).stop;\n        var stopHashTracking = trackHash(onLocationChange).stop;\n        return function () {\n            stopHistoryTracking();\n            stopHashTracking();\n        };\n    });\n    function onLocationChange() {\n        if (currentLocation.href === location.href) {\n            return;\n        }\n        var newLocation = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.shallowClone)(location);\n        observable.notify({\n            newLocation: newLocation,\n            oldLocation: currentLocation,\n        });\n        currentLocation = newLocation;\n    }\n    return observable;\n}\nfunction trackHistory(onHistoryChange) {\n    var stopInstrumentingPushState = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.instrumentMethodAndCallOriginal)(history, 'pushState', {\n        after: onHistoryChange,\n    }).stop;\n    var stopInstrumentingReplaceState = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.instrumentMethodAndCallOriginal)(history, 'replaceState', {\n        after: onHistoryChange,\n    }).stop;\n    var removeListener = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.addEventListener)(window, \"popstate\" /* DOM_EVENT.POP_STATE */, onHistoryChange).stop;\n    return {\n        stop: function () {\n            stopInstrumentingPushState();\n            stopInstrumentingReplaceState();\n            removeListener();\n        },\n    };\n}\nfunction trackHash(onHashChange) {\n    return (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.addEventListener)(window, \"hashchange\" /* DOM_EVENT.HASH_CHANGE */, onHashChange);\n}\n//# sourceMappingURL=locationChangeObservable.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2Jyb3dzZXIvbG9jYXRpb25DaGFuZ2VPYnNlcnZhYmxlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQXFIO0FBQzlHO0FBQ1AsMEJBQTBCLG1FQUFZO0FBQ3RDLHlCQUF5Qiw2REFBVTtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsbUVBQVk7QUFDdEM7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsc0ZBQStCO0FBQ3BFO0FBQ0EsS0FBSztBQUNMLHdDQUF3QyxzRkFBK0I7QUFDdkU7QUFDQSxLQUFLO0FBQ0wseUJBQXlCLHVFQUFnQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFdBQVcsdUVBQWdCO0FBQzNCO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYXJjYXN0ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2Jyb3dzZXIvbG9jYXRpb25DaGFuZ2VPYnNlcnZhYmxlLmpzPzNiMWIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYWRkRXZlbnRMaXN0ZW5lciwgaW5zdHJ1bWVudE1ldGhvZEFuZENhbGxPcmlnaW5hbCwgT2JzZXJ2YWJsZSwgc2hhbGxvd0Nsb25lLCB9IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItY29yZSc7XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTG9jYXRpb25DaGFuZ2VPYnNlcnZhYmxlKGxvY2F0aW9uKSB7XG4gICAgdmFyIGN1cnJlbnRMb2NhdGlvbiA9IHNoYWxsb3dDbG9uZShsb2NhdGlvbik7XG4gICAgdmFyIG9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzdG9wSGlzdG9yeVRyYWNraW5nID0gdHJhY2tIaXN0b3J5KG9uTG9jYXRpb25DaGFuZ2UpLnN0b3A7XG4gICAgICAgIHZhciBzdG9wSGFzaFRyYWNraW5nID0gdHJhY2tIYXNoKG9uTG9jYXRpb25DaGFuZ2UpLnN0b3A7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzdG9wSGlzdG9yeVRyYWNraW5nKCk7XG4gICAgICAgICAgICBzdG9wSGFzaFRyYWNraW5nKCk7XG4gICAgICAgIH07XG4gICAgfSk7XG4gICAgZnVuY3Rpb24gb25Mb2NhdGlvbkNoYW5nZSgpIHtcbiAgICAgICAgaWYgKGN1cnJlbnRMb2NhdGlvbi5ocmVmID09PSBsb2NhdGlvbi5ocmVmKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG5ld0xvY2F0aW9uID0gc2hhbGxvd0Nsb25lKGxvY2F0aW9uKTtcbiAgICAgICAgb2JzZXJ2YWJsZS5ub3RpZnkoe1xuICAgICAgICAgICAgbmV3TG9jYXRpb246IG5ld0xvY2F0aW9uLFxuICAgICAgICAgICAgb2xkTG9jYXRpb246IGN1cnJlbnRMb2NhdGlvbixcbiAgICAgICAgfSk7XG4gICAgICAgIGN1cnJlbnRMb2NhdGlvbiA9IG5ld0xvY2F0aW9uO1xuICAgIH1cbiAgICByZXR1cm4gb2JzZXJ2YWJsZTtcbn1cbmZ1bmN0aW9uIHRyYWNrSGlzdG9yeShvbkhpc3RvcnlDaGFuZ2UpIHtcbiAgICB2YXIgc3RvcEluc3RydW1lbnRpbmdQdXNoU3RhdGUgPSBpbnN0cnVtZW50TWV0aG9kQW5kQ2FsbE9yaWdpbmFsKGhpc3RvcnksICdwdXNoU3RhdGUnLCB7XG4gICAgICAgIGFmdGVyOiBvbkhpc3RvcnlDaGFuZ2UsXG4gICAgfSkuc3RvcDtcbiAgICB2YXIgc3RvcEluc3RydW1lbnRpbmdSZXBsYWNlU3RhdGUgPSBpbnN0cnVtZW50TWV0aG9kQW5kQ2FsbE9yaWdpbmFsKGhpc3RvcnksICdyZXBsYWNlU3RhdGUnLCB7XG4gICAgICAgIGFmdGVyOiBvbkhpc3RvcnlDaGFuZ2UsXG4gICAgfSkuc3RvcDtcbiAgICB2YXIgcmVtb3ZlTGlzdGVuZXIgPSBhZGRFdmVudExpc3RlbmVyKHdpbmRvdywgXCJwb3BzdGF0ZVwiIC8qIERPTV9FVkVOVC5QT1BfU1RBVEUgKi8sIG9uSGlzdG9yeUNoYW5nZSkuc3RvcDtcbiAgICByZXR1cm4ge1xuICAgICAgICBzdG9wOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzdG9wSW5zdHJ1bWVudGluZ1B1c2hTdGF0ZSgpO1xuICAgICAgICAgICAgc3RvcEluc3RydW1lbnRpbmdSZXBsYWNlU3RhdGUoKTtcbiAgICAgICAgICAgIHJlbW92ZUxpc3RlbmVyKCk7XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbmZ1bmN0aW9uIHRyYWNrSGFzaChvbkhhc2hDaGFuZ2UpIHtcbiAgICByZXR1cm4gYWRkRXZlbnRMaXN0ZW5lcih3aW5kb3csIFwiaGFzaGNoYW5nZVwiIC8qIERPTV9FVkVOVC5IQVNIX0NIQU5HRSAqLywgb25IYXNoQ2hhbmdlKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvY2F0aW9uQ2hhbmdlT2JzZXJ2YWJsZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum-core/esm/browser/locationChangeObservable.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum-core/esm/browser/performanceCollection.js":
/*!*****************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum-core/esm/browser/performanceCollection.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   retrieveInitialDocumentResourceTiming: () => (/* binding */ retrieveInitialDocumentResourceTiming),\n/* harmony export */   startPerformanceCollection: () => (/* binding */ startPerformanceCollection),\n/* harmony export */   supportPerformanceTimingEvent: () => (/* binding */ supportPerformanceTimingEvent)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/timer.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/monitor.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/browser/addEventListener.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/browser/runOnReadyState.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/polyfills.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/numberUtils.js\");\n/* harmony import */ var _domain_rumEventsCollection_resource_resourceUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../domain/rumEventsCollection/resource/resourceUtils */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/resource/resourceUtils.js\");\n/* harmony import */ var _domain_tracing_getDocumentTraceId__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../domain/tracing/getDocumentTraceId */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/tracing/getDocumentTraceId.js\");\n\n\n\nfunction supportPerformanceObject() {\n    return window.performance !== undefined && 'getEntries' in performance;\n}\nfunction supportPerformanceTimingEvent(entryType) {\n    return (window.PerformanceObserver &&\n        PerformanceObserver.supportedEntryTypes !== undefined &&\n        PerformanceObserver.supportedEntryTypes.includes(entryType));\n}\nfunction startPerformanceCollection(lifeCycle, configuration) {\n    retrieveInitialDocumentResourceTiming(function (timing) {\n        handleRumPerformanceEntries(lifeCycle, configuration, [timing]);\n    });\n    if (supportPerformanceObject()) {\n        var performanceEntries_1 = performance.getEntries();\n        // Because the performance entry list can be quite large\n        // delay the computation to prevent the SDK from blocking the main thread on init\n        (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.setTimeout)(function () { return handleRumPerformanceEntries(lifeCycle, configuration, performanceEntries_1); });\n    }\n    if (window.PerformanceObserver) {\n        var handlePerformanceEntryList_1 = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.monitor)(function (entries) {\n            return handleRumPerformanceEntries(lifeCycle, configuration, entries.getEntries());\n        });\n        var mainEntries = ['resource', 'navigation', 'longtask', 'paint'];\n        var experimentalEntries = ['largest-contentful-paint', 'first-input', 'layout-shift'];\n        try {\n            // Experimental entries are not retrieved by performance.getEntries()\n            // use a single PerformanceObserver with buffered flag by type\n            // to get values that could happen before SDK init\n            experimentalEntries.forEach(function (type) {\n                var observer = new PerformanceObserver(handlePerformanceEntryList_1);\n                observer.observe({ type: type, buffered: true });\n            });\n        }\n        catch (e) {\n            // Some old browser versions (ex: chrome 67) don't support the PerformanceObserver type and buffered options\n            // In these cases, fallback to PerformanceObserver with entryTypes\n            mainEntries.push.apply(mainEntries, experimentalEntries);\n        }\n        var mainObserver = new PerformanceObserver(handlePerformanceEntryList_1);\n        mainObserver.observe({ entryTypes: mainEntries });\n        if (supportPerformanceObject() && 'addEventListener' in performance) {\n            // https://bugzilla.mozilla.org/show_bug.cgi?id=1559377\n            (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.addEventListener)(performance, 'resourcetimingbufferfull', function () {\n                performance.clearResourceTimings();\n            });\n        }\n    }\n    if (!supportPerformanceTimingEvent('navigation')) {\n        retrieveNavigationTiming(function (timing) {\n            handleRumPerformanceEntries(lifeCycle, configuration, [timing]);\n        });\n    }\n    if (!supportPerformanceTimingEvent('first-input')) {\n        retrieveFirstInputTiming(function (timing) {\n            handleRumPerformanceEntries(lifeCycle, configuration, [timing]);\n        });\n    }\n}\nfunction retrieveInitialDocumentResourceTiming(callback) {\n    (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.runOnReadyState)('interactive', function () {\n        var timing;\n        var forcedAttributes = {\n            entryType: 'resource',\n            initiatorType: _domain_rumEventsCollection_resource_resourceUtils__WEBPACK_IMPORTED_MODULE_0__.FAKE_INITIAL_DOCUMENT,\n            traceId: (0,_domain_tracing_getDocumentTraceId__WEBPACK_IMPORTED_MODULE_1__.getDocumentTraceId)(document),\n        };\n        if (supportPerformanceTimingEvent('navigation') && performance.getEntriesByType('navigation').length > 0) {\n            var navigationEntry = performance.getEntriesByType('navigation')[0];\n            timing = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__.assign)(navigationEntry.toJSON(), forcedAttributes);\n        }\n        else {\n            var relativePerformanceTiming = computeRelativePerformanceTiming();\n            timing = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__.assign)(relativePerformanceTiming, {\n                decodedBodySize: 0,\n                duration: relativePerformanceTiming.responseEnd,\n                name: window.location.href,\n                startTime: 0,\n            }, forcedAttributes);\n        }\n        callback(timing);\n    });\n}\nfunction retrieveNavigationTiming(callback) {\n    function sendFakeTiming() {\n        callback((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__.assign)(computeRelativePerformanceTiming(), {\n            entryType: 'navigation',\n        }));\n    }\n    (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.runOnReadyState)('complete', function () {\n        // Send it a bit after the actual load event, so the \"loadEventEnd\" timing is accurate\n        (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.setTimeout)(sendFakeTiming);\n    });\n}\n/**\n * first-input timing entry polyfill based on\n * https://github.com/GoogleChrome/web-vitals/blob/master/src/lib/polyfills/firstInputPolyfill.ts\n */\nfunction retrieveFirstInputTiming(callback) {\n    var startTimeStamp = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.dateNow)();\n    var timingSent = false;\n    var removeEventListeners = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.addEventListeners)(window, [\"click\" /* DOM_EVENT.CLICK */, \"mousedown\" /* DOM_EVENT.MOUSE_DOWN */, \"keydown\" /* DOM_EVENT.KEY_DOWN */, \"touchstart\" /* DOM_EVENT.TOUCH_START */, \"pointerdown\" /* DOM_EVENT.POINTER_DOWN */], function (evt) {\n        // Only count cancelable events, which should trigger behavior important to the user.\n        if (!evt.cancelable) {\n            return;\n        }\n        // This timing will be used to compute the \"first Input delay\", which is the delta between\n        // when the system received the event (e.g. evt.timeStamp) and when it could run the callback\n        // (e.g. performance.now()).\n        var timing = {\n            entryType: 'first-input',\n            processingStart: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.relativeNow)(),\n            startTime: evt.timeStamp,\n        };\n        if (evt.type === \"pointerdown\" /* DOM_EVENT.POINTER_DOWN */) {\n            sendTimingIfPointerIsNotCancelled(timing);\n        }\n        else {\n            sendTiming(timing);\n        }\n    }, { passive: true, capture: true }).stop;\n    /**\n     * Pointer events are a special case, because they can trigger main or compositor thread behavior.\n     * We differentiate these cases based on whether or not we see a pointercancel event, which are\n     * fired when we scroll. If we're scrolling we don't need to report input delay since FID excludes\n     * scrolling and pinch/zooming.\n     */\n    function sendTimingIfPointerIsNotCancelled(timing) {\n        (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.addEventListeners)(window, [\"pointerup\" /* DOM_EVENT.POINTER_UP */, \"pointercancel\" /* DOM_EVENT.POINTER_CANCEL */], function (event) {\n            if (event.type === \"pointerup\" /* DOM_EVENT.POINTER_UP */) {\n                sendTiming(timing);\n            }\n        }, { once: true });\n    }\n    function sendTiming(timing) {\n        if (!timingSent) {\n            timingSent = true;\n            removeEventListeners();\n            // In some cases the recorded delay is clearly wrong, e.g. it's negative or it's larger than\n            // the time between now and when the page was loaded.\n            // - https://github.com/GoogleChromeLabs/first-input-delay/issues/4\n            // - https://github.com/GoogleChromeLabs/first-input-delay/issues/6\n            // - https://github.com/GoogleChromeLabs/first-input-delay/issues/7\n            var delay = timing.processingStart - timing.startTime;\n            if (delay >= 0 && delay < (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.dateNow)() - startTimeStamp) {\n                callback(timing);\n            }\n        }\n    }\n}\nfunction computeRelativePerformanceTiming() {\n    var result = {};\n    var timing = performance.timing;\n    for (var key in timing) {\n        if ((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_8__.isNumber)(timing[key])) {\n            var numberKey = key;\n            var timingElement = timing[numberKey];\n            result[numberKey] = timingElement === 0 ? 0 : (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.getRelativeTime)(timingElement);\n        }\n    }\n    return result;\n}\nfunction handleRumPerformanceEntries(lifeCycle, configuration, entries) {\n    var rumPerformanceEntries = entries.filter(function (entry) {\n        return entry.entryType === 'resource' ||\n            entry.entryType === 'navigation' ||\n            entry.entryType === 'paint' ||\n            entry.entryType === 'longtask' ||\n            entry.entryType === 'largest-contentful-paint' ||\n            entry.entryType === 'first-input' ||\n            entry.entryType === 'layout-shift';\n    });\n    var rumAllowedPerformanceEntries = rumPerformanceEntries.filter(function (entry) { return !isIncompleteNavigation(entry) && !isForbiddenResource(configuration, entry); });\n    if (rumAllowedPerformanceEntries.length) {\n        lifeCycle.notify(0 /* LifeCycleEventType.PERFORMANCE_ENTRIES_COLLECTED */, rumAllowedPerformanceEntries);\n    }\n}\nfunction isIncompleteNavigation(entry) {\n    return entry.entryType === 'navigation' && entry.loadEventEnd <= 0;\n}\nfunction isForbiddenResource(configuration, entry) {\n    return entry.entryType === 'resource' && !(0,_domain_rumEventsCollection_resource_resourceUtils__WEBPACK_IMPORTED_MODULE_0__.isAllowedRequestUrl)(configuration, entry.name);\n}\n//# sourceMappingURL=performanceCollection.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2Jyb3dzZXIvcGVyZm9ybWFuY2VDb2xsZWN0aW9uLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUE0SztBQUMxRDtBQUN4QztBQUMxRTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpRUFBVSxlQUFlLHFGQUFxRjtBQUN0SDtBQUNBO0FBQ0EsMkNBQTJDLDhEQUFPO0FBQ2xEO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsNEJBQTRCO0FBQy9ELGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQix5QkFBeUI7QUFDeEQ7QUFDQTtBQUNBLFlBQVksdUVBQWdCO0FBQzVCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNPO0FBQ1AsSUFBSSxzRUFBZTtBQUNuQjtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIscUdBQXFCO0FBQ2hELHFCQUFxQixzRkFBa0I7QUFDdkM7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLDZEQUFNO0FBQzNCO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQiw2REFBTTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQiw2REFBTTtBQUN2QjtBQUNBLFNBQVM7QUFDVDtBQUNBLElBQUksc0VBQWU7QUFDbkI7QUFDQSxRQUFRLGlFQUFVO0FBQ2xCLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsOERBQU87QUFDaEM7QUFDQSwrQkFBK0Isd0VBQWlCO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixrRUFBVztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxJQUFJLDhCQUE4QjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsd0VBQWlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLFNBQVMsSUFBSSxZQUFZO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsOERBQU87QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSwrREFBUTtBQUNwQjtBQUNBO0FBQ0EsMERBQTBELHNFQUFlO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLHVGQUF1RixzRkFBc0Y7QUFDN0s7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4Qyx1R0FBbUI7QUFDakU7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhcmNhc3Rlci8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vYnJvd3Nlci9wZXJmb3JtYW5jZUNvbGxlY3Rpb24uanM/MWYyOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkYXRlTm93LCBhc3NpZ24sIGFkZEV2ZW50TGlzdGVuZXJzLCBnZXRSZWxhdGl2ZVRpbWUsIGlzTnVtYmVyLCBtb25pdG9yLCBzZXRUaW1lb3V0LCByZWxhdGl2ZU5vdywgcnVuT25SZWFkeVN0YXRlLCBhZGRFdmVudExpc3RlbmVyLCB9IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItY29yZSc7XG5pbXBvcnQgeyBGQUtFX0lOSVRJQUxfRE9DVU1FTlQsIGlzQWxsb3dlZFJlcXVlc3RVcmwgfSBmcm9tICcuLi9kb21haW4vcnVtRXZlbnRzQ29sbGVjdGlvbi9yZXNvdXJjZS9yZXNvdXJjZVV0aWxzJztcbmltcG9ydCB7IGdldERvY3VtZW50VHJhY2VJZCB9IGZyb20gJy4uL2RvbWFpbi90cmFjaW5nL2dldERvY3VtZW50VHJhY2VJZCc7XG5mdW5jdGlvbiBzdXBwb3J0UGVyZm9ybWFuY2VPYmplY3QoKSB7XG4gICAgcmV0dXJuIHdpbmRvdy5wZXJmb3JtYW5jZSAhPT0gdW5kZWZpbmVkICYmICdnZXRFbnRyaWVzJyBpbiBwZXJmb3JtYW5jZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzdXBwb3J0UGVyZm9ybWFuY2VUaW1pbmdFdmVudChlbnRyeVR5cGUpIHtcbiAgICByZXR1cm4gKHdpbmRvdy5QZXJmb3JtYW5jZU9ic2VydmVyICYmXG4gICAgICAgIFBlcmZvcm1hbmNlT2JzZXJ2ZXIuc3VwcG9ydGVkRW50cnlUeXBlcyAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgIFBlcmZvcm1hbmNlT2JzZXJ2ZXIuc3VwcG9ydGVkRW50cnlUeXBlcy5pbmNsdWRlcyhlbnRyeVR5cGUpKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzdGFydFBlcmZvcm1hbmNlQ29sbGVjdGlvbihsaWZlQ3ljbGUsIGNvbmZpZ3VyYXRpb24pIHtcbiAgICByZXRyaWV2ZUluaXRpYWxEb2N1bWVudFJlc291cmNlVGltaW5nKGZ1bmN0aW9uICh0aW1pbmcpIHtcbiAgICAgICAgaGFuZGxlUnVtUGVyZm9ybWFuY2VFbnRyaWVzKGxpZmVDeWNsZSwgY29uZmlndXJhdGlvbiwgW3RpbWluZ10pO1xuICAgIH0pO1xuICAgIGlmIChzdXBwb3J0UGVyZm9ybWFuY2VPYmplY3QoKSkge1xuICAgICAgICB2YXIgcGVyZm9ybWFuY2VFbnRyaWVzXzEgPSBwZXJmb3JtYW5jZS5nZXRFbnRyaWVzKCk7XG4gICAgICAgIC8vIEJlY2F1c2UgdGhlIHBlcmZvcm1hbmNlIGVudHJ5IGxpc3QgY2FuIGJlIHF1aXRlIGxhcmdlXG4gICAgICAgIC8vIGRlbGF5IHRoZSBjb21wdXRhdGlvbiB0byBwcmV2ZW50IHRoZSBTREsgZnJvbSBibG9ja2luZyB0aGUgbWFpbiB0aHJlYWQgb24gaW5pdFxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIGhhbmRsZVJ1bVBlcmZvcm1hbmNlRW50cmllcyhsaWZlQ3ljbGUsIGNvbmZpZ3VyYXRpb24sIHBlcmZvcm1hbmNlRW50cmllc18xKTsgfSk7XG4gICAgfVxuICAgIGlmICh3aW5kb3cuUGVyZm9ybWFuY2VPYnNlcnZlcikge1xuICAgICAgICB2YXIgaGFuZGxlUGVyZm9ybWFuY2VFbnRyeUxpc3RfMSA9IG1vbml0b3IoZnVuY3Rpb24gKGVudHJpZXMpIHtcbiAgICAgICAgICAgIHJldHVybiBoYW5kbGVSdW1QZXJmb3JtYW5jZUVudHJpZXMobGlmZUN5Y2xlLCBjb25maWd1cmF0aW9uLCBlbnRyaWVzLmdldEVudHJpZXMoKSk7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgbWFpbkVudHJpZXMgPSBbJ3Jlc291cmNlJywgJ25hdmlnYXRpb24nLCAnbG9uZ3Rhc2snLCAncGFpbnQnXTtcbiAgICAgICAgdmFyIGV4cGVyaW1lbnRhbEVudHJpZXMgPSBbJ2xhcmdlc3QtY29udGVudGZ1bC1wYWludCcsICdmaXJzdC1pbnB1dCcsICdsYXlvdXQtc2hpZnQnXTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIEV4cGVyaW1lbnRhbCBlbnRyaWVzIGFyZSBub3QgcmV0cmlldmVkIGJ5IHBlcmZvcm1hbmNlLmdldEVudHJpZXMoKVxuICAgICAgICAgICAgLy8gdXNlIGEgc2luZ2xlIFBlcmZvcm1hbmNlT2JzZXJ2ZXIgd2l0aCBidWZmZXJlZCBmbGFnIGJ5IHR5cGVcbiAgICAgICAgICAgIC8vIHRvIGdldCB2YWx1ZXMgdGhhdCBjb3VsZCBoYXBwZW4gYmVmb3JlIFNESyBpbml0XG4gICAgICAgICAgICBleHBlcmltZW50YWxFbnRyaWVzLmZvckVhY2goZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgb2JzZXJ2ZXIgPSBuZXcgUGVyZm9ybWFuY2VPYnNlcnZlcihoYW5kbGVQZXJmb3JtYW5jZUVudHJ5TGlzdF8xKTtcbiAgICAgICAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKHsgdHlwZTogdHlwZSwgYnVmZmVyZWQ6IHRydWUgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgLy8gU29tZSBvbGQgYnJvd3NlciB2ZXJzaW9ucyAoZXg6IGNocm9tZSA2NykgZG9uJ3Qgc3VwcG9ydCB0aGUgUGVyZm9ybWFuY2VPYnNlcnZlciB0eXBlIGFuZCBidWZmZXJlZCBvcHRpb25zXG4gICAgICAgICAgICAvLyBJbiB0aGVzZSBjYXNlcywgZmFsbGJhY2sgdG8gUGVyZm9ybWFuY2VPYnNlcnZlciB3aXRoIGVudHJ5VHlwZXNcbiAgICAgICAgICAgIG1haW5FbnRyaWVzLnB1c2guYXBwbHkobWFpbkVudHJpZXMsIGV4cGVyaW1lbnRhbEVudHJpZXMpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBtYWluT2JzZXJ2ZXIgPSBuZXcgUGVyZm9ybWFuY2VPYnNlcnZlcihoYW5kbGVQZXJmb3JtYW5jZUVudHJ5TGlzdF8xKTtcbiAgICAgICAgbWFpbk9ic2VydmVyLm9ic2VydmUoeyBlbnRyeVR5cGVzOiBtYWluRW50cmllcyB9KTtcbiAgICAgICAgaWYgKHN1cHBvcnRQZXJmb3JtYW5jZU9iamVjdCgpICYmICdhZGRFdmVudExpc3RlbmVyJyBpbiBwZXJmb3JtYW5jZSkge1xuICAgICAgICAgICAgLy8gaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTU1OTM3N1xuICAgICAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcihwZXJmb3JtYW5jZSwgJ3Jlc291cmNldGltaW5nYnVmZmVyZnVsbCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBwZXJmb3JtYW5jZS5jbGVhclJlc291cmNlVGltaW5ncygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFzdXBwb3J0UGVyZm9ybWFuY2VUaW1pbmdFdmVudCgnbmF2aWdhdGlvbicpKSB7XG4gICAgICAgIHJldHJpZXZlTmF2aWdhdGlvblRpbWluZyhmdW5jdGlvbiAodGltaW5nKSB7XG4gICAgICAgICAgICBoYW5kbGVSdW1QZXJmb3JtYW5jZUVudHJpZXMobGlmZUN5Y2xlLCBjb25maWd1cmF0aW9uLCBbdGltaW5nXSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoIXN1cHBvcnRQZXJmb3JtYW5jZVRpbWluZ0V2ZW50KCdmaXJzdC1pbnB1dCcpKSB7XG4gICAgICAgIHJldHJpZXZlRmlyc3RJbnB1dFRpbWluZyhmdW5jdGlvbiAodGltaW5nKSB7XG4gICAgICAgICAgICBoYW5kbGVSdW1QZXJmb3JtYW5jZUVudHJpZXMobGlmZUN5Y2xlLCBjb25maWd1cmF0aW9uLCBbdGltaW5nXSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiByZXRyaWV2ZUluaXRpYWxEb2N1bWVudFJlc291cmNlVGltaW5nKGNhbGxiYWNrKSB7XG4gICAgcnVuT25SZWFkeVN0YXRlKCdpbnRlcmFjdGl2ZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHRpbWluZztcbiAgICAgICAgdmFyIGZvcmNlZEF0dHJpYnV0ZXMgPSB7XG4gICAgICAgICAgICBlbnRyeVR5cGU6ICdyZXNvdXJjZScsXG4gICAgICAgICAgICBpbml0aWF0b3JUeXBlOiBGQUtFX0lOSVRJQUxfRE9DVU1FTlQsXG4gICAgICAgICAgICB0cmFjZUlkOiBnZXREb2N1bWVudFRyYWNlSWQoZG9jdW1lbnQpLFxuICAgICAgICB9O1xuICAgICAgICBpZiAoc3VwcG9ydFBlcmZvcm1hbmNlVGltaW5nRXZlbnQoJ25hdmlnYXRpb24nKSAmJiBwZXJmb3JtYW5jZS5nZXRFbnRyaWVzQnlUeXBlKCduYXZpZ2F0aW9uJykubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdmFyIG5hdmlnYXRpb25FbnRyeSA9IHBlcmZvcm1hbmNlLmdldEVudHJpZXNCeVR5cGUoJ25hdmlnYXRpb24nKVswXTtcbiAgICAgICAgICAgIHRpbWluZyA9IGFzc2lnbihuYXZpZ2F0aW9uRW50cnkudG9KU09OKCksIGZvcmNlZEF0dHJpYnV0ZXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIHJlbGF0aXZlUGVyZm9ybWFuY2VUaW1pbmcgPSBjb21wdXRlUmVsYXRpdmVQZXJmb3JtYW5jZVRpbWluZygpO1xuICAgICAgICAgICAgdGltaW5nID0gYXNzaWduKHJlbGF0aXZlUGVyZm9ybWFuY2VUaW1pbmcsIHtcbiAgICAgICAgICAgICAgICBkZWNvZGVkQm9keVNpemU6IDAsXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IHJlbGF0aXZlUGVyZm9ybWFuY2VUaW1pbmcucmVzcG9uc2VFbmQsXG4gICAgICAgICAgICAgICAgbmFtZTogd2luZG93LmxvY2F0aW9uLmhyZWYsXG4gICAgICAgICAgICAgICAgc3RhcnRUaW1lOiAwLFxuICAgICAgICAgICAgfSwgZm9yY2VkQXR0cmlidXRlcyk7XG4gICAgICAgIH1cbiAgICAgICAgY2FsbGJhY2sodGltaW5nKTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIHJldHJpZXZlTmF2aWdhdGlvblRpbWluZyhjYWxsYmFjaykge1xuICAgIGZ1bmN0aW9uIHNlbmRGYWtlVGltaW5nKCkge1xuICAgICAgICBjYWxsYmFjayhhc3NpZ24oY29tcHV0ZVJlbGF0aXZlUGVyZm9ybWFuY2VUaW1pbmcoKSwge1xuICAgICAgICAgICAgZW50cnlUeXBlOiAnbmF2aWdhdGlvbicsXG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgcnVuT25SZWFkeVN0YXRlKCdjb21wbGV0ZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gU2VuZCBpdCBhIGJpdCBhZnRlciB0aGUgYWN0dWFsIGxvYWQgZXZlbnQsIHNvIHRoZSBcImxvYWRFdmVudEVuZFwiIHRpbWluZyBpcyBhY2N1cmF0ZVxuICAgICAgICBzZXRUaW1lb3V0KHNlbmRGYWtlVGltaW5nKTtcbiAgICB9KTtcbn1cbi8qKlxuICogZmlyc3QtaW5wdXQgdGltaW5nIGVudHJ5IHBvbHlmaWxsIGJhc2VkIG9uXG4gKiBodHRwczovL2dpdGh1Yi5jb20vR29vZ2xlQ2hyb21lL3dlYi12aXRhbHMvYmxvYi9tYXN0ZXIvc3JjL2xpYi9wb2x5ZmlsbHMvZmlyc3RJbnB1dFBvbHlmaWxsLnRzXG4gKi9cbmZ1bmN0aW9uIHJldHJpZXZlRmlyc3RJbnB1dFRpbWluZyhjYWxsYmFjaykge1xuICAgIHZhciBzdGFydFRpbWVTdGFtcCA9IGRhdGVOb3coKTtcbiAgICB2YXIgdGltaW5nU2VudCA9IGZhbHNlO1xuICAgIHZhciByZW1vdmVFdmVudExpc3RlbmVycyA9IGFkZEV2ZW50TGlzdGVuZXJzKHdpbmRvdywgW1wiY2xpY2tcIiAvKiBET01fRVZFTlQuQ0xJQ0sgKi8sIFwibW91c2Vkb3duXCIgLyogRE9NX0VWRU5ULk1PVVNFX0RPV04gKi8sIFwia2V5ZG93blwiIC8qIERPTV9FVkVOVC5LRVlfRE9XTiAqLywgXCJ0b3VjaHN0YXJ0XCIgLyogRE9NX0VWRU5ULlRPVUNIX1NUQVJUICovLCBcInBvaW50ZXJkb3duXCIgLyogRE9NX0VWRU5ULlBPSU5URVJfRE9XTiAqL10sIGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgLy8gT25seSBjb3VudCBjYW5jZWxhYmxlIGV2ZW50cywgd2hpY2ggc2hvdWxkIHRyaWdnZXIgYmVoYXZpb3IgaW1wb3J0YW50IHRvIHRoZSB1c2VyLlxuICAgICAgICBpZiAoIWV2dC5jYW5jZWxhYmxlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhpcyB0aW1pbmcgd2lsbCBiZSB1c2VkIHRvIGNvbXB1dGUgdGhlIFwiZmlyc3QgSW5wdXQgZGVsYXlcIiwgd2hpY2ggaXMgdGhlIGRlbHRhIGJldHdlZW5cbiAgICAgICAgLy8gd2hlbiB0aGUgc3lzdGVtIHJlY2VpdmVkIHRoZSBldmVudCAoZS5nLiBldnQudGltZVN0YW1wKSBhbmQgd2hlbiBpdCBjb3VsZCBydW4gdGhlIGNhbGxiYWNrXG4gICAgICAgIC8vIChlLmcuIHBlcmZvcm1hbmNlLm5vdygpKS5cbiAgICAgICAgdmFyIHRpbWluZyA9IHtcbiAgICAgICAgICAgIGVudHJ5VHlwZTogJ2ZpcnN0LWlucHV0JyxcbiAgICAgICAgICAgIHByb2Nlc3NpbmdTdGFydDogcmVsYXRpdmVOb3coKSxcbiAgICAgICAgICAgIHN0YXJ0VGltZTogZXZ0LnRpbWVTdGFtcCxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGV2dC50eXBlID09PSBcInBvaW50ZXJkb3duXCIgLyogRE9NX0VWRU5ULlBPSU5URVJfRE9XTiAqLykge1xuICAgICAgICAgICAgc2VuZFRpbWluZ0lmUG9pbnRlcklzTm90Q2FuY2VsbGVkKHRpbWluZyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzZW5kVGltaW5nKHRpbWluZyk7XG4gICAgICAgIH1cbiAgICB9LCB7IHBhc3NpdmU6IHRydWUsIGNhcHR1cmU6IHRydWUgfSkuc3RvcDtcbiAgICAvKipcbiAgICAgKiBQb2ludGVyIGV2ZW50cyBhcmUgYSBzcGVjaWFsIGNhc2UsIGJlY2F1c2UgdGhleSBjYW4gdHJpZ2dlciBtYWluIG9yIGNvbXBvc2l0b3IgdGhyZWFkIGJlaGF2aW9yLlxuICAgICAqIFdlIGRpZmZlcmVudGlhdGUgdGhlc2UgY2FzZXMgYmFzZWQgb24gd2hldGhlciBvciBub3Qgd2Ugc2VlIGEgcG9pbnRlcmNhbmNlbCBldmVudCwgd2hpY2ggYXJlXG4gICAgICogZmlyZWQgd2hlbiB3ZSBzY3JvbGwuIElmIHdlJ3JlIHNjcm9sbGluZyB3ZSBkb24ndCBuZWVkIHRvIHJlcG9ydCBpbnB1dCBkZWxheSBzaW5jZSBGSUQgZXhjbHVkZXNcbiAgICAgKiBzY3JvbGxpbmcgYW5kIHBpbmNoL3pvb21pbmcuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2VuZFRpbWluZ0lmUG9pbnRlcklzTm90Q2FuY2VsbGVkKHRpbWluZykge1xuICAgICAgICBhZGRFdmVudExpc3RlbmVycyh3aW5kb3csIFtcInBvaW50ZXJ1cFwiIC8qIERPTV9FVkVOVC5QT0lOVEVSX1VQICovLCBcInBvaW50ZXJjYW5jZWxcIiAvKiBET01fRVZFTlQuUE9JTlRFUl9DQU5DRUwgKi9dLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIGlmIChldmVudC50eXBlID09PSBcInBvaW50ZXJ1cFwiIC8qIERPTV9FVkVOVC5QT0lOVEVSX1VQICovKSB7XG4gICAgICAgICAgICAgICAgc2VuZFRpbWluZyh0aW1pbmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7IG9uY2U6IHRydWUgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNlbmRUaW1pbmcodGltaW5nKSB7XG4gICAgICAgIGlmICghdGltaW5nU2VudCkge1xuICAgICAgICAgICAgdGltaW5nU2VudCA9IHRydWU7XG4gICAgICAgICAgICByZW1vdmVFdmVudExpc3RlbmVycygpO1xuICAgICAgICAgICAgLy8gSW4gc29tZSBjYXNlcyB0aGUgcmVjb3JkZWQgZGVsYXkgaXMgY2xlYXJseSB3cm9uZywgZS5nLiBpdCdzIG5lZ2F0aXZlIG9yIGl0J3MgbGFyZ2VyIHRoYW5cbiAgICAgICAgICAgIC8vIHRoZSB0aW1lIGJldHdlZW4gbm93IGFuZCB3aGVuIHRoZSBwYWdlIHdhcyBsb2FkZWQuXG4gICAgICAgICAgICAvLyAtIGh0dHBzOi8vZ2l0aHViLmNvbS9Hb29nbGVDaHJvbWVMYWJzL2ZpcnN0LWlucHV0LWRlbGF5L2lzc3Vlcy80XG4gICAgICAgICAgICAvLyAtIGh0dHBzOi8vZ2l0aHViLmNvbS9Hb29nbGVDaHJvbWVMYWJzL2ZpcnN0LWlucHV0LWRlbGF5L2lzc3Vlcy82XG4gICAgICAgICAgICAvLyAtIGh0dHBzOi8vZ2l0aHViLmNvbS9Hb29nbGVDaHJvbWVMYWJzL2ZpcnN0LWlucHV0LWRlbGF5L2lzc3Vlcy83XG4gICAgICAgICAgICB2YXIgZGVsYXkgPSB0aW1pbmcucHJvY2Vzc2luZ1N0YXJ0IC0gdGltaW5nLnN0YXJ0VGltZTtcbiAgICAgICAgICAgIGlmIChkZWxheSA+PSAwICYmIGRlbGF5IDwgZGF0ZU5vdygpIC0gc3RhcnRUaW1lU3RhbXApIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayh0aW1pbmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gY29tcHV0ZVJlbGF0aXZlUGVyZm9ybWFuY2VUaW1pbmcoKSB7XG4gICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgIHZhciB0aW1pbmcgPSBwZXJmb3JtYW5jZS50aW1pbmc7XG4gICAgZm9yICh2YXIga2V5IGluIHRpbWluZykge1xuICAgICAgICBpZiAoaXNOdW1iZXIodGltaW5nW2tleV0pKSB7XG4gICAgICAgICAgICB2YXIgbnVtYmVyS2V5ID0ga2V5O1xuICAgICAgICAgICAgdmFyIHRpbWluZ0VsZW1lbnQgPSB0aW1pbmdbbnVtYmVyS2V5XTtcbiAgICAgICAgICAgIHJlc3VsdFtudW1iZXJLZXldID0gdGltaW5nRWxlbWVudCA9PT0gMCA/IDAgOiBnZXRSZWxhdGl2ZVRpbWUodGltaW5nRWxlbWVudCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGhhbmRsZVJ1bVBlcmZvcm1hbmNlRW50cmllcyhsaWZlQ3ljbGUsIGNvbmZpZ3VyYXRpb24sIGVudHJpZXMpIHtcbiAgICB2YXIgcnVtUGVyZm9ybWFuY2VFbnRyaWVzID0gZW50cmllcy5maWx0ZXIoZnVuY3Rpb24gKGVudHJ5KSB7XG4gICAgICAgIHJldHVybiBlbnRyeS5lbnRyeVR5cGUgPT09ICdyZXNvdXJjZScgfHxcbiAgICAgICAgICAgIGVudHJ5LmVudHJ5VHlwZSA9PT0gJ25hdmlnYXRpb24nIHx8XG4gICAgICAgICAgICBlbnRyeS5lbnRyeVR5cGUgPT09ICdwYWludCcgfHxcbiAgICAgICAgICAgIGVudHJ5LmVudHJ5VHlwZSA9PT0gJ2xvbmd0YXNrJyB8fFxuICAgICAgICAgICAgZW50cnkuZW50cnlUeXBlID09PSAnbGFyZ2VzdC1jb250ZW50ZnVsLXBhaW50JyB8fFxuICAgICAgICAgICAgZW50cnkuZW50cnlUeXBlID09PSAnZmlyc3QtaW5wdXQnIHx8XG4gICAgICAgICAgICBlbnRyeS5lbnRyeVR5cGUgPT09ICdsYXlvdXQtc2hpZnQnO1xuICAgIH0pO1xuICAgIHZhciBydW1BbGxvd2VkUGVyZm9ybWFuY2VFbnRyaWVzID0gcnVtUGVyZm9ybWFuY2VFbnRyaWVzLmZpbHRlcihmdW5jdGlvbiAoZW50cnkpIHsgcmV0dXJuICFpc0luY29tcGxldGVOYXZpZ2F0aW9uKGVudHJ5KSAmJiAhaXNGb3JiaWRkZW5SZXNvdXJjZShjb25maWd1cmF0aW9uLCBlbnRyeSk7IH0pO1xuICAgIGlmIChydW1BbGxvd2VkUGVyZm9ybWFuY2VFbnRyaWVzLmxlbmd0aCkge1xuICAgICAgICBsaWZlQ3ljbGUubm90aWZ5KDAgLyogTGlmZUN5Y2xlRXZlbnRUeXBlLlBFUkZPUk1BTkNFX0VOVFJJRVNfQ09MTEVDVEVEICovLCBydW1BbGxvd2VkUGVyZm9ybWFuY2VFbnRyaWVzKTtcbiAgICB9XG59XG5mdW5jdGlvbiBpc0luY29tcGxldGVOYXZpZ2F0aW9uKGVudHJ5KSB7XG4gICAgcmV0dXJuIGVudHJ5LmVudHJ5VHlwZSA9PT0gJ25hdmlnYXRpb24nICYmIGVudHJ5LmxvYWRFdmVudEVuZCA8PSAwO1xufVxuZnVuY3Rpb24gaXNGb3JiaWRkZW5SZXNvdXJjZShjb25maWd1cmF0aW9uLCBlbnRyeSkge1xuICAgIHJldHVybiBlbnRyeS5lbnRyeVR5cGUgPT09ICdyZXNvdXJjZScgJiYgIWlzQWxsb3dlZFJlcXVlc3RVcmwoY29uZmlndXJhdGlvbiwgZW50cnkubmFtZSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wZXJmb3JtYW5jZUNvbGxlY3Rpb24uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum-core/esm/browser/performanceCollection.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum-core/esm/browser/viewportObservable.js":
/*!**************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum-core/esm/browser/viewportObservable.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createViewportObservable: () => (/* binding */ createViewportObservable),\n/* harmony export */   getViewportDimension: () => (/* binding */ getViewportDimension),\n/* harmony export */   initViewportObservable: () => (/* binding */ initViewportObservable)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/observable.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/functionUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/browser/addEventListener.js\");\n\nvar viewportObservable;\nfunction initViewportObservable() {\n    if (!viewportObservable) {\n        viewportObservable = createViewportObservable();\n    }\n    return viewportObservable;\n}\nfunction createViewportObservable() {\n    var observable = new _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.Observable(function () {\n        var updateDimension = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.throttle)(function () {\n            observable.notify(getViewportDimension());\n        }, 200).throttled;\n        return (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.addEventListener)(window, \"resize\" /* DOM_EVENT.RESIZE */, updateDimension, { capture: true, passive: true }).stop;\n    });\n    return observable;\n}\n// excludes the width and height of any rendered classic scrollbar that is fixed to the visual viewport\nfunction getViewportDimension() {\n    var visual = window.visualViewport;\n    if (visual) {\n        return {\n            width: Number(visual.width * visual.scale),\n            height: Number(visual.height * visual.scale),\n        };\n    }\n    return {\n        width: Number(window.innerWidth || 0),\n        height: Number(window.innerHeight || 0),\n    };\n}\n//# sourceMappingURL=viewportObservable.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2Jyb3dzZXIvdmlld3BvcnRPYnNlcnZhYmxlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUErRTtBQUMvRTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AseUJBQXlCLDZEQUFVO0FBQ25DLDhCQUE4QiwrREFBUTtBQUN0QztBQUNBLFNBQVM7QUFDVCxlQUFlLHVFQUFnQiw2REFBNkQsOEJBQThCO0FBQzFILEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFyY2FzdGVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLXJ1bS1jb3JlL2VzbS9icm93c2VyL3ZpZXdwb3J0T2JzZXJ2YWJsZS5qcz9lYTI3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE9ic2VydmFibGUsIHRocm90dGxlLCBhZGRFdmVudExpc3RlbmVyIH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJztcbnZhciB2aWV3cG9ydE9ic2VydmFibGU7XG5leHBvcnQgZnVuY3Rpb24gaW5pdFZpZXdwb3J0T2JzZXJ2YWJsZSgpIHtcbiAgICBpZiAoIXZpZXdwb3J0T2JzZXJ2YWJsZSkge1xuICAgICAgICB2aWV3cG9ydE9ic2VydmFibGUgPSBjcmVhdGVWaWV3cG9ydE9ic2VydmFibGUoKTtcbiAgICB9XG4gICAgcmV0dXJuIHZpZXdwb3J0T2JzZXJ2YWJsZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVWaWV3cG9ydE9ic2VydmFibGUoKSB7XG4gICAgdmFyIG9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB1cGRhdGVEaW1lbnNpb24gPSB0aHJvdHRsZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBvYnNlcnZhYmxlLm5vdGlmeShnZXRWaWV3cG9ydERpbWVuc2lvbigpKTtcbiAgICAgICAgfSwgMjAwKS50aHJvdHRsZWQ7XG4gICAgICAgIHJldHVybiBhZGRFdmVudExpc3RlbmVyKHdpbmRvdywgXCJyZXNpemVcIiAvKiBET01fRVZFTlQuUkVTSVpFICovLCB1cGRhdGVEaW1lbnNpb24sIHsgY2FwdHVyZTogdHJ1ZSwgcGFzc2l2ZTogdHJ1ZSB9KS5zdG9wO1xuICAgIH0pO1xuICAgIHJldHVybiBvYnNlcnZhYmxlO1xufVxuLy8gZXhjbHVkZXMgdGhlIHdpZHRoIGFuZCBoZWlnaHQgb2YgYW55IHJlbmRlcmVkIGNsYXNzaWMgc2Nyb2xsYmFyIHRoYXQgaXMgZml4ZWQgdG8gdGhlIHZpc3VhbCB2aWV3cG9ydFxuZXhwb3J0IGZ1bmN0aW9uIGdldFZpZXdwb3J0RGltZW5zaW9uKCkge1xuICAgIHZhciB2aXN1YWwgPSB3aW5kb3cudmlzdWFsVmlld3BvcnQ7XG4gICAgaWYgKHZpc3VhbCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgd2lkdGg6IE51bWJlcih2aXN1YWwud2lkdGggKiB2aXN1YWwuc2NhbGUpLFxuICAgICAgICAgICAgaGVpZ2h0OiBOdW1iZXIodmlzdWFsLmhlaWdodCAqIHZpc3VhbC5zY2FsZSksXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHdpZHRoOiBOdW1iZXIod2luZG93LmlubmVyV2lkdGggfHwgMCksXG4gICAgICAgIGhlaWdodDogTnVtYmVyKHdpbmRvdy5pbm5lckhlaWdodCB8fCAwKSxcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmlld3BvcnRPYnNlcnZhYmxlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum-core/esm/browser/viewportObservable.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/assembly.js":
/*!***************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum-core/esm/domain/assembly.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   startRumAssembly: () => (/* binding */ startRumAssembly)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/polyfills.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/eventRateLimiter/createEventRateLimiter.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/transport/eventBridge.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/mergeInto.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/objectUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/display.js\");\n/* harmony import */ var _contexts_syntheticsContext__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./contexts/syntheticsContext */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/contexts/syntheticsContext.js\");\n/* harmony import */ var _contexts_ciTestContext__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./contexts/ciTestContext */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/contexts/ciTestContext.js\");\n/* harmony import */ var _contexts_displayContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./contexts/displayContext */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/contexts/displayContext.js\");\n/* harmony import */ var _limitModification__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./limitModification */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/limitModification.js\");\n\n\n\n\n\nvar VIEW_MODIFIABLE_FIELD_PATHS = {\n    'view.url': 'string',\n    'view.referrer': 'string',\n};\nvar USER_CUSTOMIZABLE_FIELD_PATHS = {\n    context: 'object',\n};\nvar modifiableFieldPathsByEvent;\nfunction startRumAssembly(configuration, lifeCycle, sessionManager, viewContexts, urlContexts, actionContexts, buildCommonContext, reportError) {\n    var _a, _b;\n    modifiableFieldPathsByEvent = (_a = {},\n        _a[\"view\" /* RumEventType.VIEW */] = VIEW_MODIFIABLE_FIELD_PATHS,\n        _a[\"error\" /* RumEventType.ERROR */] = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.assign)({\n            'error.message': 'string',\n            'error.stack': 'string',\n            'error.resource.url': 'string',\n            'error.fingerprint': 'string',\n        }, USER_CUSTOMIZABLE_FIELD_PATHS, VIEW_MODIFIABLE_FIELD_PATHS),\n        _a[\"resource\" /* RumEventType.RESOURCE */] = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.assign)({\n            'resource.url': 'string',\n        }, USER_CUSTOMIZABLE_FIELD_PATHS, VIEW_MODIFIABLE_FIELD_PATHS),\n        _a[\"action\" /* RumEventType.ACTION */] = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.assign)({\n            'action.target.name': 'string',\n        }, USER_CUSTOMIZABLE_FIELD_PATHS, VIEW_MODIFIABLE_FIELD_PATHS),\n        _a[\"long_task\" /* RumEventType.LONG_TASK */] = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.assign)({}, USER_CUSTOMIZABLE_FIELD_PATHS, VIEW_MODIFIABLE_FIELD_PATHS),\n        _a);\n    var eventRateLimiters = (_b = {},\n        _b[\"error\" /* RumEventType.ERROR */] = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.createEventRateLimiter)(\"error\" /* RumEventType.ERROR */, configuration.eventRateLimiterThreshold, reportError),\n        _b[\"action\" /* RumEventType.ACTION */] = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.createEventRateLimiter)(\"action\" /* RumEventType.ACTION */, configuration.eventRateLimiterThreshold, reportError),\n        _b);\n    var syntheticsContext = (0,_contexts_syntheticsContext__WEBPACK_IMPORTED_MODULE_0__.getSyntheticsContext)();\n    var ciTestContext = (0,_contexts_ciTestContext__WEBPACK_IMPORTED_MODULE_1__.getCiTestContext)();\n    lifeCycle.subscribe(10 /* LifeCycleEventType.RAW_RUM_EVENT_COLLECTED */, function (_a) {\n        var startTime = _a.startTime, rawRumEvent = _a.rawRumEvent, domainContext = _a.domainContext, savedCommonContext = _a.savedCommonContext, customerContext = _a.customerContext;\n        var viewContext = viewContexts.findView(startTime);\n        var urlContext = urlContexts.findUrl(startTime);\n        var session = sessionManager.findTrackedSession(startTime);\n        if (session && viewContext && urlContext) {\n            var commonContext = savedCommonContext || buildCommonContext();\n            var actionId = actionContexts.findActionId(startTime);\n            var rumContext = {\n                _dd: {\n                    format_version: 2,\n                    drift: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__.currentDrift)(),\n                    session: {\n                        plan: session.plan,\n                    },\n                    browser_sdk_version: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.canUseEventBridge)() ? \"4.42.2\" : undefined,\n                },\n                application: {\n                    id: configuration.applicationId,\n                },\n                date: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__.timeStampNow)(),\n                service: viewContext.service || configuration.service,\n                version: viewContext.version || configuration.version,\n                source: 'browser',\n                session: {\n                    id: session.id,\n                    type: syntheticsContext ? \"synthetics\" /* SessionType.SYNTHETICS */ : ciTestContext ? \"ci_test\" /* SessionType.CI_TEST */ : \"user\" /* SessionType.USER */,\n                },\n                view: {\n                    id: viewContext.id,\n                    name: viewContext.name,\n                    url: urlContext.url,\n                    referrer: urlContext.referrer,\n                },\n                action: needToAssembleWithAction(rawRumEvent) && actionId ? { id: actionId } : undefined,\n                synthetics: syntheticsContext,\n                ci_test: ciTestContext,\n                display: (0,_contexts_displayContext__WEBPACK_IMPORTED_MODULE_2__.getDisplayContext)(),\n            };\n            var serverRumEvent = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_8__.combine)(rumContext, rawRumEvent);\n            serverRumEvent.context = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_8__.combine)(commonContext.context, customerContext);\n            if (!('has_replay' in serverRumEvent.session)) {\n                ;\n                serverRumEvent.session.has_replay = commonContext.hasReplay;\n            }\n            if (!(0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__.isEmptyObject)(commonContext.user)) {\n                ;\n                serverRumEvent.usr = commonContext.user;\n            }\n            if (shouldSend(serverRumEvent, configuration.beforeSend, domainContext, eventRateLimiters)) {\n                if ((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__.isEmptyObject)(serverRumEvent.context)) {\n                    delete serverRumEvent.context;\n                }\n                lifeCycle.notify(11 /* LifeCycleEventType.RUM_EVENT_COLLECTED */, serverRumEvent);\n            }\n        }\n    });\n}\nfunction shouldSend(event, beforeSend, domainContext, eventRateLimiters) {\n    var _a;\n    if (beforeSend) {\n        var result = (0,_limitModification__WEBPACK_IMPORTED_MODULE_3__.limitModification)(event, modifiableFieldPathsByEvent[event.type], function (event) {\n            return beforeSend(event, domainContext);\n        });\n        if (result === false && event.type !== \"view\" /* RumEventType.VIEW */) {\n            return false;\n        }\n        if (result === false) {\n            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_10__.display.warn(\"Can't dismiss view events using beforeSend!\");\n        }\n    }\n    var rateLimitReached = (_a = eventRateLimiters[event.type]) === null || _a === void 0 ? void 0 : _a.isLimitReached();\n    return !rateLimitReached;\n}\nfunction needToAssembleWithAction(event) {\n    return [\"error\" /* RumEventType.ERROR */, \"resource\" /* RumEventType.RESOURCE */, \"long_task\" /* RumEventType.LONG_TASK */].indexOf(event.type) !== -1;\n}\n//# sourceMappingURL=assembly.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2RvbWFpbi9hc3NlbWJseS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBd0o7QUFDcEY7QUFDUjtBQUNFO0FBQ047QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSwwQ0FBMEM7QUFDMUM7QUFDQSwrQ0FBK0MsNkRBQU07QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QscURBQXFELDZEQUFNO0FBQzNEO0FBQ0EsU0FBUztBQUNULGlEQUFpRCw2REFBTTtBQUN2RDtBQUNBLFNBQVM7QUFDVCx1REFBdUQsNkRBQU0sR0FBRztBQUNoRTtBQUNBLG9DQUFvQztBQUNwQywrQ0FBK0MsNkVBQXNCO0FBQ3JFLGlEQUFpRCw2RUFBc0I7QUFDdkU7QUFDQSw0QkFBNEIsaUZBQW9CO0FBQ2hELHdCQUF3Qix5RUFBZ0I7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixtRUFBWTtBQUN2QztBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLHlDQUF5Qyx3RUFBaUI7QUFDMUQsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsc0JBQXNCLG1FQUFZO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLDhFQUE4RSxlQUFlO0FBQzdGO0FBQ0E7QUFDQSx5QkFBeUIsMkVBQWlCO0FBQzFDO0FBQ0EsaUNBQWlDLDhEQUFPO0FBQ3hDLHFDQUFxQyw4REFBTztBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixvRUFBYTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixvRUFBYTtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLHFFQUFpQjtBQUN0QztBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksMkRBQU87QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFyY2FzdGVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLXJ1bS1jb3JlL2VzbS9kb21haW4vYXNzZW1ibHkuanM/YWE4NyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjb21iaW5lLCBpc0VtcHR5T2JqZWN0LCB0aW1lU3RhbXBOb3csIGN1cnJlbnREcmlmdCwgZGlzcGxheSwgY3JlYXRlRXZlbnRSYXRlTGltaXRlciwgY2FuVXNlRXZlbnRCcmlkZ2UsIGFzc2lnbiwgfSBmcm9tICdAZGF0YWRvZy9icm93c2VyLWNvcmUnO1xuaW1wb3J0IHsgZ2V0U3ludGhldGljc0NvbnRleHQgfSBmcm9tICcuL2NvbnRleHRzL3N5bnRoZXRpY3NDb250ZXh0JztcbmltcG9ydCB7IGdldENpVGVzdENvbnRleHQgfSBmcm9tICcuL2NvbnRleHRzL2NpVGVzdENvbnRleHQnO1xuaW1wb3J0IHsgZ2V0RGlzcGxheUNvbnRleHQgfSBmcm9tICcuL2NvbnRleHRzL2Rpc3BsYXlDb250ZXh0JztcbmltcG9ydCB7IGxpbWl0TW9kaWZpY2F0aW9uIH0gZnJvbSAnLi9saW1pdE1vZGlmaWNhdGlvbic7XG52YXIgVklFV19NT0RJRklBQkxFX0ZJRUxEX1BBVEhTID0ge1xuICAgICd2aWV3LnVybCc6ICdzdHJpbmcnLFxuICAgICd2aWV3LnJlZmVycmVyJzogJ3N0cmluZycsXG59O1xudmFyIFVTRVJfQ1VTVE9NSVpBQkxFX0ZJRUxEX1BBVEhTID0ge1xuICAgIGNvbnRleHQ6ICdvYmplY3QnLFxufTtcbnZhciBtb2RpZmlhYmxlRmllbGRQYXRoc0J5RXZlbnQ7XG5leHBvcnQgZnVuY3Rpb24gc3RhcnRSdW1Bc3NlbWJseShjb25maWd1cmF0aW9uLCBsaWZlQ3ljbGUsIHNlc3Npb25NYW5hZ2VyLCB2aWV3Q29udGV4dHMsIHVybENvbnRleHRzLCBhY3Rpb25Db250ZXh0cywgYnVpbGRDb21tb25Db250ZXh0LCByZXBvcnRFcnJvcikge1xuICAgIHZhciBfYSwgX2I7XG4gICAgbW9kaWZpYWJsZUZpZWxkUGF0aHNCeUV2ZW50ID0gKF9hID0ge30sXG4gICAgICAgIF9hW1widmlld1wiIC8qIFJ1bUV2ZW50VHlwZS5WSUVXICovXSA9IFZJRVdfTU9ESUZJQUJMRV9GSUVMRF9QQVRIUyxcbiAgICAgICAgX2FbXCJlcnJvclwiIC8qIFJ1bUV2ZW50VHlwZS5FUlJPUiAqL10gPSBhc3NpZ24oe1xuICAgICAgICAgICAgJ2Vycm9yLm1lc3NhZ2UnOiAnc3RyaW5nJyxcbiAgICAgICAgICAgICdlcnJvci5zdGFjayc6ICdzdHJpbmcnLFxuICAgICAgICAgICAgJ2Vycm9yLnJlc291cmNlLnVybCc6ICdzdHJpbmcnLFxuICAgICAgICAgICAgJ2Vycm9yLmZpbmdlcnByaW50JzogJ3N0cmluZycsXG4gICAgICAgIH0sIFVTRVJfQ1VTVE9NSVpBQkxFX0ZJRUxEX1BBVEhTLCBWSUVXX01PRElGSUFCTEVfRklFTERfUEFUSFMpLFxuICAgICAgICBfYVtcInJlc291cmNlXCIgLyogUnVtRXZlbnRUeXBlLlJFU09VUkNFICovXSA9IGFzc2lnbih7XG4gICAgICAgICAgICAncmVzb3VyY2UudXJsJzogJ3N0cmluZycsXG4gICAgICAgIH0sIFVTRVJfQ1VTVE9NSVpBQkxFX0ZJRUxEX1BBVEhTLCBWSUVXX01PRElGSUFCTEVfRklFTERfUEFUSFMpLFxuICAgICAgICBfYVtcImFjdGlvblwiIC8qIFJ1bUV2ZW50VHlwZS5BQ1RJT04gKi9dID0gYXNzaWduKHtcbiAgICAgICAgICAgICdhY3Rpb24udGFyZ2V0Lm5hbWUnOiAnc3RyaW5nJyxcbiAgICAgICAgfSwgVVNFUl9DVVNUT01JWkFCTEVfRklFTERfUEFUSFMsIFZJRVdfTU9ESUZJQUJMRV9GSUVMRF9QQVRIUyksXG4gICAgICAgIF9hW1wibG9uZ190YXNrXCIgLyogUnVtRXZlbnRUeXBlLkxPTkdfVEFTSyAqL10gPSBhc3NpZ24oe30sIFVTRVJfQ1VTVE9NSVpBQkxFX0ZJRUxEX1BBVEhTLCBWSUVXX01PRElGSUFCTEVfRklFTERfUEFUSFMpLFxuICAgICAgICBfYSk7XG4gICAgdmFyIGV2ZW50UmF0ZUxpbWl0ZXJzID0gKF9iID0ge30sXG4gICAgICAgIF9iW1wiZXJyb3JcIiAvKiBSdW1FdmVudFR5cGUuRVJST1IgKi9dID0gY3JlYXRlRXZlbnRSYXRlTGltaXRlcihcImVycm9yXCIgLyogUnVtRXZlbnRUeXBlLkVSUk9SICovLCBjb25maWd1cmF0aW9uLmV2ZW50UmF0ZUxpbWl0ZXJUaHJlc2hvbGQsIHJlcG9ydEVycm9yKSxcbiAgICAgICAgX2JbXCJhY3Rpb25cIiAvKiBSdW1FdmVudFR5cGUuQUNUSU9OICovXSA9IGNyZWF0ZUV2ZW50UmF0ZUxpbWl0ZXIoXCJhY3Rpb25cIiAvKiBSdW1FdmVudFR5cGUuQUNUSU9OICovLCBjb25maWd1cmF0aW9uLmV2ZW50UmF0ZUxpbWl0ZXJUaHJlc2hvbGQsIHJlcG9ydEVycm9yKSxcbiAgICAgICAgX2IpO1xuICAgIHZhciBzeW50aGV0aWNzQ29udGV4dCA9IGdldFN5bnRoZXRpY3NDb250ZXh0KCk7XG4gICAgdmFyIGNpVGVzdENvbnRleHQgPSBnZXRDaVRlc3RDb250ZXh0KCk7XG4gICAgbGlmZUN5Y2xlLnN1YnNjcmliZSgxMCAvKiBMaWZlQ3ljbGVFdmVudFR5cGUuUkFXX1JVTV9FVkVOVF9DT0xMRUNURUQgKi8sIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgc3RhcnRUaW1lID0gX2Euc3RhcnRUaW1lLCByYXdSdW1FdmVudCA9IF9hLnJhd1J1bUV2ZW50LCBkb21haW5Db250ZXh0ID0gX2EuZG9tYWluQ29udGV4dCwgc2F2ZWRDb21tb25Db250ZXh0ID0gX2Euc2F2ZWRDb21tb25Db250ZXh0LCBjdXN0b21lckNvbnRleHQgPSBfYS5jdXN0b21lckNvbnRleHQ7XG4gICAgICAgIHZhciB2aWV3Q29udGV4dCA9IHZpZXdDb250ZXh0cy5maW5kVmlldyhzdGFydFRpbWUpO1xuICAgICAgICB2YXIgdXJsQ29udGV4dCA9IHVybENvbnRleHRzLmZpbmRVcmwoc3RhcnRUaW1lKTtcbiAgICAgICAgdmFyIHNlc3Npb24gPSBzZXNzaW9uTWFuYWdlci5maW5kVHJhY2tlZFNlc3Npb24oc3RhcnRUaW1lKTtcbiAgICAgICAgaWYgKHNlc3Npb24gJiYgdmlld0NvbnRleHQgJiYgdXJsQ29udGV4dCkge1xuICAgICAgICAgICAgdmFyIGNvbW1vbkNvbnRleHQgPSBzYXZlZENvbW1vbkNvbnRleHQgfHwgYnVpbGRDb21tb25Db250ZXh0KCk7XG4gICAgICAgICAgICB2YXIgYWN0aW9uSWQgPSBhY3Rpb25Db250ZXh0cy5maW5kQWN0aW9uSWQoc3RhcnRUaW1lKTtcbiAgICAgICAgICAgIHZhciBydW1Db250ZXh0ID0ge1xuICAgICAgICAgICAgICAgIF9kZDoge1xuICAgICAgICAgICAgICAgICAgICBmb3JtYXRfdmVyc2lvbjogMixcbiAgICAgICAgICAgICAgICAgICAgZHJpZnQ6IGN1cnJlbnREcmlmdCgpLFxuICAgICAgICAgICAgICAgICAgICBzZXNzaW9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGFuOiBzZXNzaW9uLnBsYW4sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGJyb3dzZXJfc2RrX3ZlcnNpb246IGNhblVzZUV2ZW50QnJpZGdlKCkgPyBcIjQuNDIuMlwiIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgYXBwbGljYXRpb246IHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IGNvbmZpZ3VyYXRpb24uYXBwbGljYXRpb25JZCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGRhdGU6IHRpbWVTdGFtcE5vdygpLFxuICAgICAgICAgICAgICAgIHNlcnZpY2U6IHZpZXdDb250ZXh0LnNlcnZpY2UgfHwgY29uZmlndXJhdGlvbi5zZXJ2aWNlLFxuICAgICAgICAgICAgICAgIHZlcnNpb246IHZpZXdDb250ZXh0LnZlcnNpb24gfHwgY29uZmlndXJhdGlvbi52ZXJzaW9uLFxuICAgICAgICAgICAgICAgIHNvdXJjZTogJ2Jyb3dzZXInLFxuICAgICAgICAgICAgICAgIHNlc3Npb246IHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IHNlc3Npb24uaWQsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IHN5bnRoZXRpY3NDb250ZXh0ID8gXCJzeW50aGV0aWNzXCIgLyogU2Vzc2lvblR5cGUuU1lOVEhFVElDUyAqLyA6IGNpVGVzdENvbnRleHQgPyBcImNpX3Rlc3RcIiAvKiBTZXNzaW9uVHlwZS5DSV9URVNUICovIDogXCJ1c2VyXCIgLyogU2Vzc2lvblR5cGUuVVNFUiAqLyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHZpZXc6IHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IHZpZXdDb250ZXh0LmlkLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiB2aWV3Q29udGV4dC5uYW1lLFxuICAgICAgICAgICAgICAgICAgICB1cmw6IHVybENvbnRleHQudXJsLFxuICAgICAgICAgICAgICAgICAgICByZWZlcnJlcjogdXJsQ29udGV4dC5yZWZlcnJlcixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGFjdGlvbjogbmVlZFRvQXNzZW1ibGVXaXRoQWN0aW9uKHJhd1J1bUV2ZW50KSAmJiBhY3Rpb25JZCA/IHsgaWQ6IGFjdGlvbklkIH0gOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgc3ludGhldGljczogc3ludGhldGljc0NvbnRleHQsXG4gICAgICAgICAgICAgICAgY2lfdGVzdDogY2lUZXN0Q29udGV4dCxcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBnZXREaXNwbGF5Q29udGV4dCgpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciBzZXJ2ZXJSdW1FdmVudCA9IGNvbWJpbmUocnVtQ29udGV4dCwgcmF3UnVtRXZlbnQpO1xuICAgICAgICAgICAgc2VydmVyUnVtRXZlbnQuY29udGV4dCA9IGNvbWJpbmUoY29tbW9uQ29udGV4dC5jb250ZXh0LCBjdXN0b21lckNvbnRleHQpO1xuICAgICAgICAgICAgaWYgKCEoJ2hhc19yZXBsYXknIGluIHNlcnZlclJ1bUV2ZW50LnNlc3Npb24pKSB7XG4gICAgICAgICAgICAgICAgO1xuICAgICAgICAgICAgICAgIHNlcnZlclJ1bUV2ZW50LnNlc3Npb24uaGFzX3JlcGxheSA9IGNvbW1vbkNvbnRleHQuaGFzUmVwbGF5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFpc0VtcHR5T2JqZWN0KGNvbW1vbkNvbnRleHQudXNlcikpIHtcbiAgICAgICAgICAgICAgICA7XG4gICAgICAgICAgICAgICAgc2VydmVyUnVtRXZlbnQudXNyID0gY29tbW9uQ29udGV4dC51c2VyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNob3VsZFNlbmQoc2VydmVyUnVtRXZlbnQsIGNvbmZpZ3VyYXRpb24uYmVmb3JlU2VuZCwgZG9tYWluQ29udGV4dCwgZXZlbnRSYXRlTGltaXRlcnMpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzRW1wdHlPYmplY3Qoc2VydmVyUnVtRXZlbnQuY29udGV4dCkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHNlcnZlclJ1bUV2ZW50LmNvbnRleHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxpZmVDeWNsZS5ub3RpZnkoMTEgLyogTGlmZUN5Y2xlRXZlbnRUeXBlLlJVTV9FVkVOVF9DT0xMRUNURUQgKi8sIHNlcnZlclJ1bUV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xufVxuZnVuY3Rpb24gc2hvdWxkU2VuZChldmVudCwgYmVmb3JlU2VuZCwgZG9tYWluQ29udGV4dCwgZXZlbnRSYXRlTGltaXRlcnMpIHtcbiAgICB2YXIgX2E7XG4gICAgaWYgKGJlZm9yZVNlbmQpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGxpbWl0TW9kaWZpY2F0aW9uKGV2ZW50LCBtb2RpZmlhYmxlRmllbGRQYXRoc0J5RXZlbnRbZXZlbnQudHlwZV0sIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgcmV0dXJuIGJlZm9yZVNlbmQoZXZlbnQsIGRvbWFpbkNvbnRleHQpO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHJlc3VsdCA9PT0gZmFsc2UgJiYgZXZlbnQudHlwZSAhPT0gXCJ2aWV3XCIgLyogUnVtRXZlbnRUeXBlLlZJRVcgKi8pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzdWx0ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgZGlzcGxheS53YXJuKFwiQ2FuJ3QgZGlzbWlzcyB2aWV3IGV2ZW50cyB1c2luZyBiZWZvcmVTZW5kIVwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB2YXIgcmF0ZUxpbWl0UmVhY2hlZCA9IChfYSA9IGV2ZW50UmF0ZUxpbWl0ZXJzW2V2ZW50LnR5cGVdKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaXNMaW1pdFJlYWNoZWQoKTtcbiAgICByZXR1cm4gIXJhdGVMaW1pdFJlYWNoZWQ7XG59XG5mdW5jdGlvbiBuZWVkVG9Bc3NlbWJsZVdpdGhBY3Rpb24oZXZlbnQpIHtcbiAgICByZXR1cm4gW1wiZXJyb3JcIiAvKiBSdW1FdmVudFR5cGUuRVJST1IgKi8sIFwicmVzb3VyY2VcIiAvKiBSdW1FdmVudFR5cGUuUkVTT1VSQ0UgKi8sIFwibG9uZ190YXNrXCIgLyogUnVtRXZlbnRUeXBlLkxPTkdfVEFTSyAqL10uaW5kZXhPZihldmVudC50eXBlKSAhPT0gLTE7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hc3NlbWJseS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/assembly.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/configuration.js":
/*!********************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum-core/esm/domain/configuration.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   serializeRumConfiguration: () => (/* binding */ serializeRumConfiguration),\n/* harmony export */   validateAndBuildRumConfiguration: () => (/* binding */ validateAndBuildRumConfiguration)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/display.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/numberUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/configuration/configuration.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/polyfills.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/objectUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/matchOption.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/urlPolyfill.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/typeUtils.js\");\n/* harmony import */ var _tracing_tracer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./tracing/tracer */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/tracing/tracer.js\");\n\n\nfunction validateAndBuildRumConfiguration(initConfiguration) {\n    var _a, _b, _c, _d, _e, _f;\n    if (!initConfiguration.applicationId) {\n        _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.display.error('Application ID is not configured, no RUM data will be collected.');\n        return;\n    }\n    if (initConfiguration.sessionReplaySampleRate !== undefined &&\n        !(0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.isPercentage)(initConfiguration.sessionReplaySampleRate)) {\n        _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.display.error('Session Replay Sample Rate should be a number between 0 and 100');\n        return;\n    }\n    // TODO remove fallback in next major\n    var premiumSampleRate = (_a = initConfiguration.premiumSampleRate) !== null && _a !== void 0 ? _a : initConfiguration.replaySampleRate;\n    if (premiumSampleRate !== undefined && initConfiguration.sessionReplaySampleRate !== undefined) {\n        _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.display.warn('Ignoring Premium Sample Rate because Session Replay Sample Rate is set');\n        premiumSampleRate = undefined;\n    }\n    if (premiumSampleRate !== undefined && !(0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.isPercentage)(premiumSampleRate)) {\n        _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.display.error('Premium Sample Rate should be a number between 0 and 100');\n        return;\n    }\n    var traceSampleRate = (_b = initConfiguration.traceSampleRate) !== null && _b !== void 0 ? _b : initConfiguration.tracingSampleRate;\n    if (traceSampleRate !== undefined && !(0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.isPercentage)(traceSampleRate)) {\n        _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.display.error('Trace Sample Rate should be a number between 0 and 100');\n        return;\n    }\n    if (initConfiguration.excludedActivityUrls !== undefined && !Array.isArray(initConfiguration.excludedActivityUrls)) {\n        _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.display.error('Excluded Activity Urls should be an array');\n        return;\n    }\n    var allowedTracingUrls = validateAndBuildTracingOptions(initConfiguration);\n    if (!allowedTracingUrls) {\n        return;\n    }\n    var baseConfiguration = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.validateAndBuildConfiguration)(initConfiguration);\n    if (!baseConfiguration) {\n        return;\n    }\n    var trackUserInteractions = !!((_c = initConfiguration.trackUserInteractions) !== null && _c !== void 0 ? _c : initConfiguration.trackInteractions);\n    var trackFrustrations = !!initConfiguration.trackFrustrations;\n    return (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.assign)({\n        applicationId: initConfiguration.applicationId,\n        version: initConfiguration.version,\n        actionNameAttribute: initConfiguration.actionNameAttribute,\n        sessionReplaySampleRate: (_e = (_d = initConfiguration.sessionReplaySampleRate) !== null && _d !== void 0 ? _d : premiumSampleRate) !== null && _e !== void 0 ? _e : 100,\n        oldPlansBehavior: initConfiguration.sessionReplaySampleRate === undefined,\n        traceSampleRate: traceSampleRate,\n        allowedTracingUrls: allowedTracingUrls,\n        excludedActivityUrls: (_f = initConfiguration.excludedActivityUrls) !== null && _f !== void 0 ? _f : [],\n        trackUserInteractions: trackUserInteractions || trackFrustrations,\n        trackFrustrations: trackFrustrations,\n        trackViewsManually: !!initConfiguration.trackViewsManually,\n        trackResources: initConfiguration.trackResources,\n        trackLongTasks: initConfiguration.trackLongTasks,\n        subdomain: initConfiguration.subdomain,\n        defaultPrivacyLevel: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.objectHasValue)(_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.DefaultPrivacyLevel, initConfiguration.defaultPrivacyLevel)\n            ? initConfiguration.defaultPrivacyLevel\n            : _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.DefaultPrivacyLevel.MASK_USER_INPUT,\n        customerDataTelemetrySampleRate: 1,\n    }, baseConfiguration);\n}\n/**\n * Handles allowedTracingUrls and processes legacy allowedTracingOrigins\n */\nfunction validateAndBuildTracingOptions(initConfiguration) {\n    // Advise about parameters precedence.\n    if (initConfiguration.allowedTracingUrls !== undefined && initConfiguration.allowedTracingOrigins !== undefined) {\n        _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.display.warn('Both allowedTracingUrls and allowedTracingOrigins (deprecated) have been defined. The parameter allowedTracingUrls will override allowedTracingOrigins.');\n    }\n    // Handle allowedTracingUrls first\n    if (initConfiguration.allowedTracingUrls !== undefined) {\n        if (!Array.isArray(initConfiguration.allowedTracingUrls)) {\n            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.display.error('Allowed Tracing URLs should be an array');\n            return;\n        }\n        if (initConfiguration.allowedTracingUrls.length !== 0 && initConfiguration.service === undefined) {\n            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.display.error('Service needs to be configured when tracing is enabled');\n            return;\n        }\n        // Convert from (MatchOption | TracingOption) to TracingOption, remove unknown properties\n        var tracingOptions_1 = [];\n        initConfiguration.allowedTracingUrls.forEach(function (option) {\n            if ((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__.isMatchOption)(option)) {\n                tracingOptions_1.push({ match: option, propagatorTypes: ['datadog'] });\n            }\n            else if ((0,_tracing_tracer__WEBPACK_IMPORTED_MODULE_0__.isTracingOption)(option)) {\n                tracingOptions_1.push(option);\n            }\n            else {\n                _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.display.warn('Allowed Tracing Urls parameters should be a string, RegExp, function, or an object. Ignoring parameter', option);\n            }\n        });\n        return tracingOptions_1;\n    }\n    // Handle conversion of allowedTracingOrigins to allowedTracingUrls\n    if (initConfiguration.allowedTracingOrigins !== undefined) {\n        if (!Array.isArray(initConfiguration.allowedTracingOrigins)) {\n            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.display.error('Allowed Tracing Origins should be an array');\n            return;\n        }\n        if (initConfiguration.allowedTracingOrigins.length !== 0 && initConfiguration.service === undefined) {\n            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.display.error('Service needs to be configured when tracing is enabled');\n            return;\n        }\n        var tracingOptions_2 = [];\n        initConfiguration.allowedTracingOrigins.forEach(function (legacyMatchOption) {\n            var tracingOption = convertLegacyMatchOptionToTracingOption(legacyMatchOption);\n            if (tracingOption) {\n                tracingOptions_2.push(tracingOption);\n            }\n        });\n        return tracingOptions_2;\n    }\n    return [];\n}\n/**\n * Converts parameters from the deprecated allowedTracingOrigins\n * to allowedTracingUrls. Handles the change from origin to full URLs.\n */\nfunction convertLegacyMatchOptionToTracingOption(item) {\n    var match;\n    if (typeof item === 'string') {\n        match = item;\n    }\n    else if (item instanceof RegExp) {\n        match = function (url) { return item.test((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.getOrigin)(url)); };\n    }\n    else if (typeof item === 'function') {\n        match = function (url) { return item((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.getOrigin)(url)); };\n    }\n    if (match === undefined) {\n        _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.display.warn('Allowed Tracing Origins parameters should be a string, RegExp or function. Ignoring parameter', item);\n        return undefined;\n    }\n    return { match: match, propagatorTypes: ['datadog'] };\n}\n/**\n * Combines the selected tracing propagators from the different options in allowedTracingUrls,\n * and assumes 'datadog' has been selected when using allowedTracingOrigins\n */\nfunction getSelectedTracingPropagators(configuration) {\n    var usedTracingPropagators = new Set();\n    if (Array.isArray(configuration.allowedTracingUrls) && configuration.allowedTracingUrls.length > 0) {\n        configuration.allowedTracingUrls.forEach(function (option) {\n            if ((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__.isMatchOption)(option)) {\n                usedTracingPropagators.add('datadog');\n            }\n            else if ((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_8__.getType)(option) === 'object' && Array.isArray(option.propagatorTypes)) {\n                // Ensure we have an array, as we cannot rely on types yet (configuration is provided by users)\n                option.propagatorTypes.forEach(function (propagatorType) { return usedTracingPropagators.add(propagatorType); });\n            }\n        });\n    }\n    if (Array.isArray(configuration.allowedTracingOrigins) && configuration.allowedTracingOrigins.length > 0) {\n        usedTracingPropagators.add('datadog');\n    }\n    return (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.arrayFrom)(usedTracingPropagators);\n}\nfunction serializeRumConfiguration(configuration) {\n    var _a, _b;\n    var baseSerializedConfiguration = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.serializeConfiguration)(configuration);\n    return (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.assign)({\n        premium_sample_rate: configuration.premiumSampleRate,\n        replay_sample_rate: configuration.replaySampleRate,\n        session_replay_sample_rate: configuration.sessionReplaySampleRate,\n        trace_sample_rate: (_a = configuration.traceSampleRate) !== null && _a !== void 0 ? _a : configuration.tracingSampleRate,\n        action_name_attribute: configuration.actionNameAttribute,\n        use_allowed_tracing_origins: Array.isArray(configuration.allowedTracingOrigins) && configuration.allowedTracingOrigins.length > 0,\n        use_allowed_tracing_urls: Array.isArray(configuration.allowedTracingUrls) && configuration.allowedTracingUrls.length > 0,\n        selected_tracing_propagators: getSelectedTracingPropagators(configuration),\n        default_privacy_level: configuration.defaultPrivacyLevel,\n        use_excluded_activity_urls: Array.isArray(configuration.excludedActivityUrls) && configuration.excludedActivityUrls.length > 0,\n        track_frustrations: configuration.trackFrustrations,\n        track_views_manually: configuration.trackViewsManually,\n        track_user_interactions: (_b = configuration.trackUserInteractions) !== null && _b !== void 0 ? _b : configuration.trackInteractions,\n    }, baseSerializedConfiguration);\n}\n//# sourceMappingURL=configuration.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2RvbWFpbi9jb25maWd1cmF0aW9uLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQWlOO0FBQzlKO0FBQzVDO0FBQ1A7QUFDQTtBQUNBLFFBQVEsMERBQU87QUFDZjtBQUNBO0FBQ0E7QUFDQSxTQUFTLG1FQUFZO0FBQ3JCLFFBQVEsMERBQU87QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSwwREFBTztBQUNmO0FBQ0E7QUFDQSw0Q0FBNEMsbUVBQVk7QUFDeEQsUUFBUSwwREFBTztBQUNmO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxtRUFBWTtBQUN0RCxRQUFRLDBEQUFPO0FBQ2Y7QUFDQTtBQUNBO0FBQ0EsUUFBUSwwREFBTztBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixvRkFBNkI7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsNkRBQU07QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixxRUFBYyxDQUFDLHNFQUFtQjtBQUMvRDtBQUNBLGNBQWMsc0VBQW1CO0FBQ2pDO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSwwREFBTztBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSwwREFBTztBQUNuQjtBQUNBO0FBQ0E7QUFDQSxZQUFZLDBEQUFPO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isb0VBQWE7QUFDN0Isd0NBQXdDLDZDQUE2QztBQUNyRjtBQUNBLHFCQUFxQixnRUFBZTtBQUNwQztBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsMERBQU87QUFDdkI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksMERBQU87QUFDbkI7QUFDQTtBQUNBO0FBQ0EsWUFBWSwwREFBTztBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsaUJBQWlCLGdFQUFTO0FBQzNEO0FBQ0E7QUFDQSxpQ0FBaUMsWUFBWSxnRUFBUztBQUN0RDtBQUNBO0FBQ0EsUUFBUSwwREFBTztBQUNmO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLG9FQUFhO0FBQzdCO0FBQ0E7QUFDQSxxQkFBcUIsOERBQU87QUFDNUI7QUFDQSwyRUFBMkUsb0RBQW9EO0FBQy9IO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxnRUFBUztBQUNwQjtBQUNPO0FBQ1A7QUFDQSxzQ0FBc0MsNkVBQXNCO0FBQzVELFdBQVcsNkRBQU07QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhcmNhc3Rlci8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vZG9tYWluL2NvbmZpZ3VyYXRpb24uanM/NWRjZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRUeXBlLCBhcnJheUZyb20sIGdldE9yaWdpbiwgaXNNYXRjaE9wdGlvbiwgc2VyaWFsaXplQ29uZmlndXJhdGlvbiwgYXNzaWduLCBEZWZhdWx0UHJpdmFjeUxldmVsLCBkaXNwbGF5LCBpc1BlcmNlbnRhZ2UsIG9iamVjdEhhc1ZhbHVlLCB2YWxpZGF0ZUFuZEJ1aWxkQ29uZmlndXJhdGlvbiwgfSBmcm9tICdAZGF0YWRvZy9icm93c2VyLWNvcmUnO1xuaW1wb3J0IHsgaXNUcmFjaW5nT3B0aW9uIH0gZnJvbSAnLi90cmFjaW5nL3RyYWNlcic7XG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVBbmRCdWlsZFJ1bUNvbmZpZ3VyYXRpb24oaW5pdENvbmZpZ3VyYXRpb24pIHtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZjtcbiAgICBpZiAoIWluaXRDb25maWd1cmF0aW9uLmFwcGxpY2F0aW9uSWQpIHtcbiAgICAgICAgZGlzcGxheS5lcnJvcignQXBwbGljYXRpb24gSUQgaXMgbm90IGNvbmZpZ3VyZWQsIG5vIFJVTSBkYXRhIHdpbGwgYmUgY29sbGVjdGVkLicpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChpbml0Q29uZmlndXJhdGlvbi5zZXNzaW9uUmVwbGF5U2FtcGxlUmF0ZSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICFpc1BlcmNlbnRhZ2UoaW5pdENvbmZpZ3VyYXRpb24uc2Vzc2lvblJlcGxheVNhbXBsZVJhdGUpKSB7XG4gICAgICAgIGRpc3BsYXkuZXJyb3IoJ1Nlc3Npb24gUmVwbGF5IFNhbXBsZSBSYXRlIHNob3VsZCBiZSBhIG51bWJlciBiZXR3ZWVuIDAgYW5kIDEwMCcpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIFRPRE8gcmVtb3ZlIGZhbGxiYWNrIGluIG5leHQgbWFqb3JcbiAgICB2YXIgcHJlbWl1bVNhbXBsZVJhdGUgPSAoX2EgPSBpbml0Q29uZmlndXJhdGlvbi5wcmVtaXVtU2FtcGxlUmF0ZSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogaW5pdENvbmZpZ3VyYXRpb24ucmVwbGF5U2FtcGxlUmF0ZTtcbiAgICBpZiAocHJlbWl1bVNhbXBsZVJhdGUgIT09IHVuZGVmaW5lZCAmJiBpbml0Q29uZmlndXJhdGlvbi5zZXNzaW9uUmVwbGF5U2FtcGxlUmF0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGRpc3BsYXkud2FybignSWdub3JpbmcgUHJlbWl1bSBTYW1wbGUgUmF0ZSBiZWNhdXNlIFNlc3Npb24gUmVwbGF5IFNhbXBsZSBSYXRlIGlzIHNldCcpO1xuICAgICAgICBwcmVtaXVtU2FtcGxlUmF0ZSA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKHByZW1pdW1TYW1wbGVSYXRlICE9PSB1bmRlZmluZWQgJiYgIWlzUGVyY2VudGFnZShwcmVtaXVtU2FtcGxlUmF0ZSkpIHtcbiAgICAgICAgZGlzcGxheS5lcnJvcignUHJlbWl1bSBTYW1wbGUgUmF0ZSBzaG91bGQgYmUgYSBudW1iZXIgYmV0d2VlbiAwIGFuZCAxMDAnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdHJhY2VTYW1wbGVSYXRlID0gKF9iID0gaW5pdENvbmZpZ3VyYXRpb24udHJhY2VTYW1wbGVSYXRlKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBpbml0Q29uZmlndXJhdGlvbi50cmFjaW5nU2FtcGxlUmF0ZTtcbiAgICBpZiAodHJhY2VTYW1wbGVSYXRlICE9PSB1bmRlZmluZWQgJiYgIWlzUGVyY2VudGFnZSh0cmFjZVNhbXBsZVJhdGUpKSB7XG4gICAgICAgIGRpc3BsYXkuZXJyb3IoJ1RyYWNlIFNhbXBsZSBSYXRlIHNob3VsZCBiZSBhIG51bWJlciBiZXR3ZWVuIDAgYW5kIDEwMCcpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChpbml0Q29uZmlndXJhdGlvbi5leGNsdWRlZEFjdGl2aXR5VXJscyAhPT0gdW5kZWZpbmVkICYmICFBcnJheS5pc0FycmF5KGluaXRDb25maWd1cmF0aW9uLmV4Y2x1ZGVkQWN0aXZpdHlVcmxzKSkge1xuICAgICAgICBkaXNwbGF5LmVycm9yKCdFeGNsdWRlZCBBY3Rpdml0eSBVcmxzIHNob3VsZCBiZSBhbiBhcnJheScpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBhbGxvd2VkVHJhY2luZ1VybHMgPSB2YWxpZGF0ZUFuZEJ1aWxkVHJhY2luZ09wdGlvbnMoaW5pdENvbmZpZ3VyYXRpb24pO1xuICAgIGlmICghYWxsb3dlZFRyYWNpbmdVcmxzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGJhc2VDb25maWd1cmF0aW9uID0gdmFsaWRhdGVBbmRCdWlsZENvbmZpZ3VyYXRpb24oaW5pdENvbmZpZ3VyYXRpb24pO1xuICAgIGlmICghYmFzZUNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdHJhY2tVc2VySW50ZXJhY3Rpb25zID0gISEoKF9jID0gaW5pdENvbmZpZ3VyYXRpb24udHJhY2tVc2VySW50ZXJhY3Rpb25zKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBpbml0Q29uZmlndXJhdGlvbi50cmFja0ludGVyYWN0aW9ucyk7XG4gICAgdmFyIHRyYWNrRnJ1c3RyYXRpb25zID0gISFpbml0Q29uZmlndXJhdGlvbi50cmFja0ZydXN0cmF0aW9ucztcbiAgICByZXR1cm4gYXNzaWduKHtcbiAgICAgICAgYXBwbGljYXRpb25JZDogaW5pdENvbmZpZ3VyYXRpb24uYXBwbGljYXRpb25JZCxcbiAgICAgICAgdmVyc2lvbjogaW5pdENvbmZpZ3VyYXRpb24udmVyc2lvbixcbiAgICAgICAgYWN0aW9uTmFtZUF0dHJpYnV0ZTogaW5pdENvbmZpZ3VyYXRpb24uYWN0aW9uTmFtZUF0dHJpYnV0ZSxcbiAgICAgICAgc2Vzc2lvblJlcGxheVNhbXBsZVJhdGU6IChfZSA9IChfZCA9IGluaXRDb25maWd1cmF0aW9uLnNlc3Npb25SZXBsYXlTYW1wbGVSYXRlKSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiBwcmVtaXVtU2FtcGxlUmF0ZSkgIT09IG51bGwgJiYgX2UgIT09IHZvaWQgMCA/IF9lIDogMTAwLFxuICAgICAgICBvbGRQbGFuc0JlaGF2aW9yOiBpbml0Q29uZmlndXJhdGlvbi5zZXNzaW9uUmVwbGF5U2FtcGxlUmF0ZSA9PT0gdW5kZWZpbmVkLFxuICAgICAgICB0cmFjZVNhbXBsZVJhdGU6IHRyYWNlU2FtcGxlUmF0ZSxcbiAgICAgICAgYWxsb3dlZFRyYWNpbmdVcmxzOiBhbGxvd2VkVHJhY2luZ1VybHMsXG4gICAgICAgIGV4Y2x1ZGVkQWN0aXZpdHlVcmxzOiAoX2YgPSBpbml0Q29uZmlndXJhdGlvbi5leGNsdWRlZEFjdGl2aXR5VXJscykgIT09IG51bGwgJiYgX2YgIT09IHZvaWQgMCA/IF9mIDogW10sXG4gICAgICAgIHRyYWNrVXNlckludGVyYWN0aW9uczogdHJhY2tVc2VySW50ZXJhY3Rpb25zIHx8IHRyYWNrRnJ1c3RyYXRpb25zLFxuICAgICAgICB0cmFja0ZydXN0cmF0aW9uczogdHJhY2tGcnVzdHJhdGlvbnMsXG4gICAgICAgIHRyYWNrVmlld3NNYW51YWxseTogISFpbml0Q29uZmlndXJhdGlvbi50cmFja1ZpZXdzTWFudWFsbHksXG4gICAgICAgIHRyYWNrUmVzb3VyY2VzOiBpbml0Q29uZmlndXJhdGlvbi50cmFja1Jlc291cmNlcyxcbiAgICAgICAgdHJhY2tMb25nVGFza3M6IGluaXRDb25maWd1cmF0aW9uLnRyYWNrTG9uZ1Rhc2tzLFxuICAgICAgICBzdWJkb21haW46IGluaXRDb25maWd1cmF0aW9uLnN1YmRvbWFpbixcbiAgICAgICAgZGVmYXVsdFByaXZhY3lMZXZlbDogb2JqZWN0SGFzVmFsdWUoRGVmYXVsdFByaXZhY3lMZXZlbCwgaW5pdENvbmZpZ3VyYXRpb24uZGVmYXVsdFByaXZhY3lMZXZlbClcbiAgICAgICAgICAgID8gaW5pdENvbmZpZ3VyYXRpb24uZGVmYXVsdFByaXZhY3lMZXZlbFxuICAgICAgICAgICAgOiBEZWZhdWx0UHJpdmFjeUxldmVsLk1BU0tfVVNFUl9JTlBVVCxcbiAgICAgICAgY3VzdG9tZXJEYXRhVGVsZW1ldHJ5U2FtcGxlUmF0ZTogMSxcbiAgICB9LCBiYXNlQ29uZmlndXJhdGlvbik7XG59XG4vKipcbiAqIEhhbmRsZXMgYWxsb3dlZFRyYWNpbmdVcmxzIGFuZCBwcm9jZXNzZXMgbGVnYWN5IGFsbG93ZWRUcmFjaW5nT3JpZ2luc1xuICovXG5mdW5jdGlvbiB2YWxpZGF0ZUFuZEJ1aWxkVHJhY2luZ09wdGlvbnMoaW5pdENvbmZpZ3VyYXRpb24pIHtcbiAgICAvLyBBZHZpc2UgYWJvdXQgcGFyYW1ldGVycyBwcmVjZWRlbmNlLlxuICAgIGlmIChpbml0Q29uZmlndXJhdGlvbi5hbGxvd2VkVHJhY2luZ1VybHMgIT09IHVuZGVmaW5lZCAmJiBpbml0Q29uZmlndXJhdGlvbi5hbGxvd2VkVHJhY2luZ09yaWdpbnMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBkaXNwbGF5Lndhcm4oJ0JvdGggYWxsb3dlZFRyYWNpbmdVcmxzIGFuZCBhbGxvd2VkVHJhY2luZ09yaWdpbnMgKGRlcHJlY2F0ZWQpIGhhdmUgYmVlbiBkZWZpbmVkLiBUaGUgcGFyYW1ldGVyIGFsbG93ZWRUcmFjaW5nVXJscyB3aWxsIG92ZXJyaWRlIGFsbG93ZWRUcmFjaW5nT3JpZ2lucy4nKTtcbiAgICB9XG4gICAgLy8gSGFuZGxlIGFsbG93ZWRUcmFjaW5nVXJscyBmaXJzdFxuICAgIGlmIChpbml0Q29uZmlndXJhdGlvbi5hbGxvd2VkVHJhY2luZ1VybHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoaW5pdENvbmZpZ3VyYXRpb24uYWxsb3dlZFRyYWNpbmdVcmxzKSkge1xuICAgICAgICAgICAgZGlzcGxheS5lcnJvcignQWxsb3dlZCBUcmFjaW5nIFVSTHMgc2hvdWxkIGJlIGFuIGFycmF5Jyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGluaXRDb25maWd1cmF0aW9uLmFsbG93ZWRUcmFjaW5nVXJscy5sZW5ndGggIT09IDAgJiYgaW5pdENvbmZpZ3VyYXRpb24uc2VydmljZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBkaXNwbGF5LmVycm9yKCdTZXJ2aWNlIG5lZWRzIHRvIGJlIGNvbmZpZ3VyZWQgd2hlbiB0cmFjaW5nIGlzIGVuYWJsZWQnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBDb252ZXJ0IGZyb20gKE1hdGNoT3B0aW9uIHwgVHJhY2luZ09wdGlvbikgdG8gVHJhY2luZ09wdGlvbiwgcmVtb3ZlIHVua25vd24gcHJvcGVydGllc1xuICAgICAgICB2YXIgdHJhY2luZ09wdGlvbnNfMSA9IFtdO1xuICAgICAgICBpbml0Q29uZmlndXJhdGlvbi5hbGxvd2VkVHJhY2luZ1VybHMuZm9yRWFjaChmdW5jdGlvbiAob3B0aW9uKSB7XG4gICAgICAgICAgICBpZiAoaXNNYXRjaE9wdGlvbihvcHRpb24pKSB7XG4gICAgICAgICAgICAgICAgdHJhY2luZ09wdGlvbnNfMS5wdXNoKHsgbWF0Y2g6IG9wdGlvbiwgcHJvcGFnYXRvclR5cGVzOiBbJ2RhdGFkb2cnXSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzVHJhY2luZ09wdGlvbihvcHRpb24pKSB7XG4gICAgICAgICAgICAgICAgdHJhY2luZ09wdGlvbnNfMS5wdXNoKG9wdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5Lndhcm4oJ0FsbG93ZWQgVHJhY2luZyBVcmxzIHBhcmFtZXRlcnMgc2hvdWxkIGJlIGEgc3RyaW5nLCBSZWdFeHAsIGZ1bmN0aW9uLCBvciBhbiBvYmplY3QuIElnbm9yaW5nIHBhcmFtZXRlcicsIG9wdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdHJhY2luZ09wdGlvbnNfMTtcbiAgICB9XG4gICAgLy8gSGFuZGxlIGNvbnZlcnNpb24gb2YgYWxsb3dlZFRyYWNpbmdPcmlnaW5zIHRvIGFsbG93ZWRUcmFjaW5nVXJsc1xuICAgIGlmIChpbml0Q29uZmlndXJhdGlvbi5hbGxvd2VkVHJhY2luZ09yaWdpbnMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoaW5pdENvbmZpZ3VyYXRpb24uYWxsb3dlZFRyYWNpbmdPcmlnaW5zKSkge1xuICAgICAgICAgICAgZGlzcGxheS5lcnJvcignQWxsb3dlZCBUcmFjaW5nIE9yaWdpbnMgc2hvdWxkIGJlIGFuIGFycmF5Jyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGluaXRDb25maWd1cmF0aW9uLmFsbG93ZWRUcmFjaW5nT3JpZ2lucy5sZW5ndGggIT09IDAgJiYgaW5pdENvbmZpZ3VyYXRpb24uc2VydmljZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBkaXNwbGF5LmVycm9yKCdTZXJ2aWNlIG5lZWRzIHRvIGJlIGNvbmZpZ3VyZWQgd2hlbiB0cmFjaW5nIGlzIGVuYWJsZWQnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdHJhY2luZ09wdGlvbnNfMiA9IFtdO1xuICAgICAgICBpbml0Q29uZmlndXJhdGlvbi5hbGxvd2VkVHJhY2luZ09yaWdpbnMuZm9yRWFjaChmdW5jdGlvbiAobGVnYWN5TWF0Y2hPcHRpb24pIHtcbiAgICAgICAgICAgIHZhciB0cmFjaW5nT3B0aW9uID0gY29udmVydExlZ2FjeU1hdGNoT3B0aW9uVG9UcmFjaW5nT3B0aW9uKGxlZ2FjeU1hdGNoT3B0aW9uKTtcbiAgICAgICAgICAgIGlmICh0cmFjaW5nT3B0aW9uKSB7XG4gICAgICAgICAgICAgICAgdHJhY2luZ09wdGlvbnNfMi5wdXNoKHRyYWNpbmdPcHRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRyYWNpbmdPcHRpb25zXzI7XG4gICAgfVxuICAgIHJldHVybiBbXTtcbn1cbi8qKlxuICogQ29udmVydHMgcGFyYW1ldGVycyBmcm9tIHRoZSBkZXByZWNhdGVkIGFsbG93ZWRUcmFjaW5nT3JpZ2luc1xuICogdG8gYWxsb3dlZFRyYWNpbmdVcmxzLiBIYW5kbGVzIHRoZSBjaGFuZ2UgZnJvbSBvcmlnaW4gdG8gZnVsbCBVUkxzLlxuICovXG5mdW5jdGlvbiBjb252ZXJ0TGVnYWN5TWF0Y2hPcHRpb25Ub1RyYWNpbmdPcHRpb24oaXRlbSkge1xuICAgIHZhciBtYXRjaDtcbiAgICBpZiAodHlwZW9mIGl0ZW0gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIG1hdGNoID0gaXRlbTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXRlbSBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuICAgICAgICBtYXRjaCA9IGZ1bmN0aW9uICh1cmwpIHsgcmV0dXJuIGl0ZW0udGVzdChnZXRPcmlnaW4odXJsKSk7IH07XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBpdGVtID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIG1hdGNoID0gZnVuY3Rpb24gKHVybCkgeyByZXR1cm4gaXRlbShnZXRPcmlnaW4odXJsKSk7IH07XG4gICAgfVxuICAgIGlmIChtYXRjaCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGRpc3BsYXkud2FybignQWxsb3dlZCBUcmFjaW5nIE9yaWdpbnMgcGFyYW1ldGVycyBzaG91bGQgYmUgYSBzdHJpbmcsIFJlZ0V4cCBvciBmdW5jdGlvbi4gSWdub3JpbmcgcGFyYW1ldGVyJywgaXRlbSk7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHJldHVybiB7IG1hdGNoOiBtYXRjaCwgcHJvcGFnYXRvclR5cGVzOiBbJ2RhdGFkb2cnXSB9O1xufVxuLyoqXG4gKiBDb21iaW5lcyB0aGUgc2VsZWN0ZWQgdHJhY2luZyBwcm9wYWdhdG9ycyBmcm9tIHRoZSBkaWZmZXJlbnQgb3B0aW9ucyBpbiBhbGxvd2VkVHJhY2luZ1VybHMsXG4gKiBhbmQgYXNzdW1lcyAnZGF0YWRvZycgaGFzIGJlZW4gc2VsZWN0ZWQgd2hlbiB1c2luZyBhbGxvd2VkVHJhY2luZ09yaWdpbnNcbiAqL1xuZnVuY3Rpb24gZ2V0U2VsZWN0ZWRUcmFjaW5nUHJvcGFnYXRvcnMoY29uZmlndXJhdGlvbikge1xuICAgIHZhciB1c2VkVHJhY2luZ1Byb3BhZ2F0b3JzID0gbmV3IFNldCgpO1xuICAgIGlmIChBcnJheS5pc0FycmF5KGNvbmZpZ3VyYXRpb24uYWxsb3dlZFRyYWNpbmdVcmxzKSAmJiBjb25maWd1cmF0aW9uLmFsbG93ZWRUcmFjaW5nVXJscy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbmZpZ3VyYXRpb24uYWxsb3dlZFRyYWNpbmdVcmxzLmZvckVhY2goZnVuY3Rpb24gKG9wdGlvbikge1xuICAgICAgICAgICAgaWYgKGlzTWF0Y2hPcHRpb24ob3B0aW9uKSkge1xuICAgICAgICAgICAgICAgIHVzZWRUcmFjaW5nUHJvcGFnYXRvcnMuYWRkKCdkYXRhZG9nJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChnZXRUeXBlKG9wdGlvbikgPT09ICdvYmplY3QnICYmIEFycmF5LmlzQXJyYXkob3B0aW9uLnByb3BhZ2F0b3JUeXBlcykpIHtcbiAgICAgICAgICAgICAgICAvLyBFbnN1cmUgd2UgaGF2ZSBhbiBhcnJheSwgYXMgd2UgY2Fubm90IHJlbHkgb24gdHlwZXMgeWV0IChjb25maWd1cmF0aW9uIGlzIHByb3ZpZGVkIGJ5IHVzZXJzKVxuICAgICAgICAgICAgICAgIG9wdGlvbi5wcm9wYWdhdG9yVHlwZXMuZm9yRWFjaChmdW5jdGlvbiAocHJvcGFnYXRvclR5cGUpIHsgcmV0dXJuIHVzZWRUcmFjaW5nUHJvcGFnYXRvcnMuYWRkKHByb3BhZ2F0b3JUeXBlKTsgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoQXJyYXkuaXNBcnJheShjb25maWd1cmF0aW9uLmFsbG93ZWRUcmFjaW5nT3JpZ2lucykgJiYgY29uZmlndXJhdGlvbi5hbGxvd2VkVHJhY2luZ09yaWdpbnMubGVuZ3RoID4gMCkge1xuICAgICAgICB1c2VkVHJhY2luZ1Byb3BhZ2F0b3JzLmFkZCgnZGF0YWRvZycpO1xuICAgIH1cbiAgICByZXR1cm4gYXJyYXlGcm9tKHVzZWRUcmFjaW5nUHJvcGFnYXRvcnMpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNlcmlhbGl6ZVJ1bUNvbmZpZ3VyYXRpb24oY29uZmlndXJhdGlvbikge1xuICAgIHZhciBfYSwgX2I7XG4gICAgdmFyIGJhc2VTZXJpYWxpemVkQ29uZmlndXJhdGlvbiA9IHNlcmlhbGl6ZUNvbmZpZ3VyYXRpb24oY29uZmlndXJhdGlvbik7XG4gICAgcmV0dXJuIGFzc2lnbih7XG4gICAgICAgIHByZW1pdW1fc2FtcGxlX3JhdGU6IGNvbmZpZ3VyYXRpb24ucHJlbWl1bVNhbXBsZVJhdGUsXG4gICAgICAgIHJlcGxheV9zYW1wbGVfcmF0ZTogY29uZmlndXJhdGlvbi5yZXBsYXlTYW1wbGVSYXRlLFxuICAgICAgICBzZXNzaW9uX3JlcGxheV9zYW1wbGVfcmF0ZTogY29uZmlndXJhdGlvbi5zZXNzaW9uUmVwbGF5U2FtcGxlUmF0ZSxcbiAgICAgICAgdHJhY2Vfc2FtcGxlX3JhdGU6IChfYSA9IGNvbmZpZ3VyYXRpb24udHJhY2VTYW1wbGVSYXRlKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBjb25maWd1cmF0aW9uLnRyYWNpbmdTYW1wbGVSYXRlLFxuICAgICAgICBhY3Rpb25fbmFtZV9hdHRyaWJ1dGU6IGNvbmZpZ3VyYXRpb24uYWN0aW9uTmFtZUF0dHJpYnV0ZSxcbiAgICAgICAgdXNlX2FsbG93ZWRfdHJhY2luZ19vcmlnaW5zOiBBcnJheS5pc0FycmF5KGNvbmZpZ3VyYXRpb24uYWxsb3dlZFRyYWNpbmdPcmlnaW5zKSAmJiBjb25maWd1cmF0aW9uLmFsbG93ZWRUcmFjaW5nT3JpZ2lucy5sZW5ndGggPiAwLFxuICAgICAgICB1c2VfYWxsb3dlZF90cmFjaW5nX3VybHM6IEFycmF5LmlzQXJyYXkoY29uZmlndXJhdGlvbi5hbGxvd2VkVHJhY2luZ1VybHMpICYmIGNvbmZpZ3VyYXRpb24uYWxsb3dlZFRyYWNpbmdVcmxzLmxlbmd0aCA+IDAsXG4gICAgICAgIHNlbGVjdGVkX3RyYWNpbmdfcHJvcGFnYXRvcnM6IGdldFNlbGVjdGVkVHJhY2luZ1Byb3BhZ2F0b3JzKGNvbmZpZ3VyYXRpb24pLFxuICAgICAgICBkZWZhdWx0X3ByaXZhY3lfbGV2ZWw6IGNvbmZpZ3VyYXRpb24uZGVmYXVsdFByaXZhY3lMZXZlbCxcbiAgICAgICAgdXNlX2V4Y2x1ZGVkX2FjdGl2aXR5X3VybHM6IEFycmF5LmlzQXJyYXkoY29uZmlndXJhdGlvbi5leGNsdWRlZEFjdGl2aXR5VXJscykgJiYgY29uZmlndXJhdGlvbi5leGNsdWRlZEFjdGl2aXR5VXJscy5sZW5ndGggPiAwLFxuICAgICAgICB0cmFja19mcnVzdHJhdGlvbnM6IGNvbmZpZ3VyYXRpb24udHJhY2tGcnVzdHJhdGlvbnMsXG4gICAgICAgIHRyYWNrX3ZpZXdzX21hbnVhbGx5OiBjb25maWd1cmF0aW9uLnRyYWNrVmlld3NNYW51YWxseSxcbiAgICAgICAgdHJhY2tfdXNlcl9pbnRlcmFjdGlvbnM6IChfYiA9IGNvbmZpZ3VyYXRpb24udHJhY2tVc2VySW50ZXJhY3Rpb25zKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBjb25maWd1cmF0aW9uLnRyYWNrSW50ZXJhY3Rpb25zLFxuICAgIH0sIGJhc2VTZXJpYWxpemVkQ29uZmlndXJhdGlvbik7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25maWd1cmF0aW9uLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/configuration.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/contexts/ciTestContext.js":
/*!*****************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum-core/esm/domain/contexts/ciTestContext.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getCiTestContext: () => (/* binding */ getCiTestContext)\n/* harmony export */ });\nfunction getCiTestContext() {\n    var _a;\n    var testExecutionId = (_a = window.Cypress) === null || _a === void 0 ? void 0 : _a.env('traceId');\n    if (typeof testExecutionId === 'string') {\n        return {\n            test_execution_id: testExecutionId,\n        };\n    }\n}\n//# sourceMappingURL=ciTestContext.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2RvbWFpbi9jb250ZXh0cy9jaVRlc3RDb250ZXh0LmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhcmNhc3Rlci8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vZG9tYWluL2NvbnRleHRzL2NpVGVzdENvbnRleHQuanM/MTc4NyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gZ2V0Q2lUZXN0Q29udGV4dCgpIHtcbiAgICB2YXIgX2E7XG4gICAgdmFyIHRlc3RFeGVjdXRpb25JZCA9IChfYSA9IHdpbmRvdy5DeXByZXNzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZW52KCd0cmFjZUlkJyk7XG4gICAgaWYgKHR5cGVvZiB0ZXN0RXhlY3V0aW9uSWQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0ZXN0X2V4ZWN1dGlvbl9pZDogdGVzdEV4ZWN1dGlvbklkLFxuICAgICAgICB9O1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNpVGVzdENvbnRleHQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/contexts/ciTestContext.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/contexts/commonContext.js":
/*!*****************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum-core/esm/domain/contexts/commonContext.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   buildCommonContext: () => (/* binding */ buildCommonContext)\n/* harmony export */ });\nfunction buildCommonContext(globalContextManager, userContextManager, recorderApi) {\n    return {\n        context: globalContextManager.getContext(),\n        user: userContextManager.getContext(),\n        hasReplay: recorderApi.isRecording() ? true : undefined,\n    };\n}\n//# sourceMappingURL=commonContext.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2RvbWFpbi9jb250ZXh0cy9jb21tb25Db250ZXh0LmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFyY2FzdGVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLXJ1bS1jb3JlL2VzbS9kb21haW4vY29udGV4dHMvY29tbW9uQ29udGV4dC5qcz85MjFjIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBidWlsZENvbW1vbkNvbnRleHQoZ2xvYmFsQ29udGV4dE1hbmFnZXIsIHVzZXJDb250ZXh0TWFuYWdlciwgcmVjb3JkZXJBcGkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBjb250ZXh0OiBnbG9iYWxDb250ZXh0TWFuYWdlci5nZXRDb250ZXh0KCksXG4gICAgICAgIHVzZXI6IHVzZXJDb250ZXh0TWFuYWdlci5nZXRDb250ZXh0KCksXG4gICAgICAgIGhhc1JlcGxheTogcmVjb3JkZXJBcGkuaXNSZWNvcmRpbmcoKSA/IHRydWUgOiB1bmRlZmluZWQsXG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbW1vbkNvbnRleHQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/contexts/commonContext.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/contexts/displayContext.js":
/*!******************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum-core/esm/domain/contexts/displayContext.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getDisplayContext: () => (/* binding */ getDisplayContext),\n/* harmony export */   resetDisplayContext: () => (/* binding */ resetDisplayContext)\n/* harmony export */ });\n/* harmony import */ var _browser_viewportObservable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../browser/viewportObservable */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/browser/viewportObservable.js\");\n\nvar viewport;\nvar stopListeners;\nfunction getDisplayContext() {\n    if (!viewport) {\n        viewport = (0,_browser_viewportObservable__WEBPACK_IMPORTED_MODULE_0__.getViewportDimension)();\n        stopListeners = (0,_browser_viewportObservable__WEBPACK_IMPORTED_MODULE_0__.initViewportObservable)().subscribe(function (viewportDimension) {\n            viewport = viewportDimension;\n        }).unsubscribe;\n    }\n    return {\n        viewport: viewport,\n    };\n}\nfunction resetDisplayContext() {\n    if (stopListeners) {\n        stopListeners();\n    }\n    viewport = undefined;\n}\n//# sourceMappingURL=displayContext.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2RvbWFpbi9jb250ZXh0cy9kaXNwbGF5Q29udGV4dC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBZ0c7QUFDaEc7QUFDQTtBQUNPO0FBQ1A7QUFDQSxtQkFBbUIsaUZBQW9CO0FBQ3ZDLHdCQUF3QixtRkFBc0I7QUFDOUM7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFyY2FzdGVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLXJ1bS1jb3JlL2VzbS9kb21haW4vY29udGV4dHMvZGlzcGxheUNvbnRleHQuanM/NWIzNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRWaWV3cG9ydERpbWVuc2lvbiwgaW5pdFZpZXdwb3J0T2JzZXJ2YWJsZSB9IGZyb20gJy4uLy4uL2Jyb3dzZXIvdmlld3BvcnRPYnNlcnZhYmxlJztcbnZhciB2aWV3cG9ydDtcbnZhciBzdG9wTGlzdGVuZXJzO1xuZXhwb3J0IGZ1bmN0aW9uIGdldERpc3BsYXlDb250ZXh0KCkge1xuICAgIGlmICghdmlld3BvcnQpIHtcbiAgICAgICAgdmlld3BvcnQgPSBnZXRWaWV3cG9ydERpbWVuc2lvbigpO1xuICAgICAgICBzdG9wTGlzdGVuZXJzID0gaW5pdFZpZXdwb3J0T2JzZXJ2YWJsZSgpLnN1YnNjcmliZShmdW5jdGlvbiAodmlld3BvcnREaW1lbnNpb24pIHtcbiAgICAgICAgICAgIHZpZXdwb3J0ID0gdmlld3BvcnREaW1lbnNpb247XG4gICAgICAgIH0pLnVuc3Vic2NyaWJlO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICB2aWV3cG9ydDogdmlld3BvcnQsXG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiByZXNldERpc3BsYXlDb250ZXh0KCkge1xuICAgIGlmIChzdG9wTGlzdGVuZXJzKSB7XG4gICAgICAgIHN0b3BMaXN0ZW5lcnMoKTtcbiAgICB9XG4gICAgdmlld3BvcnQgPSB1bmRlZmluZWQ7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kaXNwbGF5Q29udGV4dC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/contexts/displayContext.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/contexts/featureFlagContext.js":
/*!**********************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum-core/esm/domain/contexts/featureFlagContext.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BYTES_COMPUTATION_THROTTLING_DELAY: () => (/* binding */ BYTES_COMPUTATION_THROTTLING_DELAY),\n/* harmony export */   FEATURE_FLAG_CONTEXT_TIME_OUT_DELAY: () => (/* binding */ FEATURE_FLAG_CONTEXT_TIME_OUT_DELAY),\n/* harmony export */   startFeatureFlagContexts: () => (/* binding */ startFeatureFlagContexts)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/session/sessionConstants.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/byteUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/experimentalFeatures.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/functionUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/valueHistory.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/serialisation/jsonStringify.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/serialisation/heavyCustomerDataWarning.js\");\n\nvar FEATURE_FLAG_CONTEXT_TIME_OUT_DELAY = _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.SESSION_TIME_OUT_DELAY;\nvar BYTES_COMPUTATION_THROTTLING_DELAY = 200;\n/**\n * Start feature flag contexts\n *\n * Feature flag contexts follow the life of views.\n * A new context is added when a view is created and ended when the view is ended\n *\n * Note: we choose not to add a new context at each evaluation to save memory\n */\nfunction startFeatureFlagContexts(lifeCycle, computeBytesCountImpl) {\n    if (computeBytesCountImpl === void 0) { computeBytesCountImpl = _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.computeBytesCount; }\n    if (!(0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.isExperimentalFeatureEnabled)(_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.ExperimentalFeature.FEATURE_FLAGS)) {\n        return {\n            findFeatureFlagEvaluations: function () { return undefined; },\n            getFeatureFlagBytesCount: function () { return 0; },\n            addFeatureFlagEvaluation: _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.noop,\n            stop: _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.noop,\n        };\n    }\n    var featureFlagContexts = new _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.ValueHistory(FEATURE_FLAG_CONTEXT_TIME_OUT_DELAY);\n    var bytesCountCache = 0;\n    var alreadyWarned = false;\n    lifeCycle.subscribe(4 /* LifeCycleEventType.VIEW_ENDED */, function (_a) {\n        var endClocks = _a.endClocks;\n        featureFlagContexts.closeActive(endClocks.relative);\n    });\n    lifeCycle.subscribe(2 /* LifeCycleEventType.VIEW_CREATED */, function (_a) {\n        var startClocks = _a.startClocks;\n        featureFlagContexts.add({}, startClocks.relative);\n        bytesCountCache = 0;\n    });\n    // Throttle the bytes computation to minimize the impact on performance.\n    // Especially useful if the user call addFeatureFlagEvaluation API synchronously multiple times in a row\n    var _a = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.throttle)(function (context) {\n        bytesCountCache = computeBytesCountImpl((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.jsonStringify)(context));\n        if (!alreadyWarned) {\n            alreadyWarned = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__.warnIfCustomerDataLimitReached)(bytesCountCache, \"feature flag evaluation\" /* CustomerDataType.FeatureFlag */);\n        }\n    }, BYTES_COMPUTATION_THROTTLING_DELAY), computeBytesCountThrottled = _a.throttled, cancelPendingComputation = _a.cancel;\n    return {\n        findFeatureFlagEvaluations: function (startTime) { return featureFlagContexts.find(startTime); },\n        getFeatureFlagBytesCount: function () {\n            var currentContext = featureFlagContexts.find();\n            if (!currentContext) {\n                return 0;\n            }\n            return bytesCountCache;\n        },\n        addFeatureFlagEvaluation: function (key, value) {\n            var currentContext = featureFlagContexts.find();\n            if (currentContext) {\n                currentContext[key] = value;\n                computeBytesCountThrottled(currentContext);\n            }\n        },\n        stop: cancelPendingComputation,\n    };\n}\n//# sourceMappingURL=featureFlagContext.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2RvbWFpbi9jb250ZXh0cy9mZWF0dXJlRmxhZ0NvbnRleHQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFtTjtBQUM1TSwwQ0FBMEMseUVBQXNCO0FBQ2hFO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsNENBQTRDLHdCQUF3QixvRUFBaUI7QUFDckYsU0FBUyxtRkFBNEIsQ0FBQyxzRUFBbUI7QUFDekQ7QUFDQSxzREFBc0QsbUJBQW1CO0FBQ3pFLG9EQUFvRCxXQUFXO0FBQy9ELHNDQUFzQyx1REFBSTtBQUMxQyxrQkFBa0IsdURBQUk7QUFDdEI7QUFDQTtBQUNBLGtDQUFrQywrREFBWTtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLGFBQWEsK0RBQVE7QUFDckIsZ0RBQWdELG9FQUFhO0FBQzdEO0FBQ0EsNEJBQTRCLHFGQUE4QjtBQUMxRDtBQUNBLEtBQUs7QUFDTDtBQUNBLDJEQUEyRCw2Q0FBNkM7QUFDeEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhcmNhc3Rlci8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vZG9tYWluL2NvbnRleHRzL2ZlYXR1cmVGbGFnQ29udGV4dC5qcz83NzE0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHdhcm5JZkN1c3RvbWVyRGF0YUxpbWl0UmVhY2hlZCwgdGhyb3R0bGUsIGpzb25TdHJpbmdpZnksIGNvbXB1dGVCeXRlc0NvdW50LCBub29wLCBpc0V4cGVyaW1lbnRhbEZlYXR1cmVFbmFibGVkLCBTRVNTSU9OX1RJTUVfT1VUX0RFTEFZLCBWYWx1ZUhpc3RvcnksIEV4cGVyaW1lbnRhbEZlYXR1cmUsIH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJztcbmV4cG9ydCB2YXIgRkVBVFVSRV9GTEFHX0NPTlRFWFRfVElNRV9PVVRfREVMQVkgPSBTRVNTSU9OX1RJTUVfT1VUX0RFTEFZO1xuZXhwb3J0IHZhciBCWVRFU19DT01QVVRBVElPTl9USFJPVFRMSU5HX0RFTEFZID0gMjAwO1xuLyoqXG4gKiBTdGFydCBmZWF0dXJlIGZsYWcgY29udGV4dHNcbiAqXG4gKiBGZWF0dXJlIGZsYWcgY29udGV4dHMgZm9sbG93IHRoZSBsaWZlIG9mIHZpZXdzLlxuICogQSBuZXcgY29udGV4dCBpcyBhZGRlZCB3aGVuIGEgdmlldyBpcyBjcmVhdGVkIGFuZCBlbmRlZCB3aGVuIHRoZSB2aWV3IGlzIGVuZGVkXG4gKlxuICogTm90ZTogd2UgY2hvb3NlIG5vdCB0byBhZGQgYSBuZXcgY29udGV4dCBhdCBlYWNoIGV2YWx1YXRpb24gdG8gc2F2ZSBtZW1vcnlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0RmVhdHVyZUZsYWdDb250ZXh0cyhsaWZlQ3ljbGUsIGNvbXB1dGVCeXRlc0NvdW50SW1wbCkge1xuICAgIGlmIChjb21wdXRlQnl0ZXNDb3VudEltcGwgPT09IHZvaWQgMCkgeyBjb21wdXRlQnl0ZXNDb3VudEltcGwgPSBjb21wdXRlQnl0ZXNDb3VudDsgfVxuICAgIGlmICghaXNFeHBlcmltZW50YWxGZWF0dXJlRW5hYmxlZChFeHBlcmltZW50YWxGZWF0dXJlLkZFQVRVUkVfRkxBR1MpKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBmaW5kRmVhdHVyZUZsYWdFdmFsdWF0aW9uczogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgZ2V0RmVhdHVyZUZsYWdCeXRlc0NvdW50OiBmdW5jdGlvbiAoKSB7IHJldHVybiAwOyB9LFxuICAgICAgICAgICAgYWRkRmVhdHVyZUZsYWdFdmFsdWF0aW9uOiBub29wLFxuICAgICAgICAgICAgc3RvcDogbm9vcCxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgdmFyIGZlYXR1cmVGbGFnQ29udGV4dHMgPSBuZXcgVmFsdWVIaXN0b3J5KEZFQVRVUkVfRkxBR19DT05URVhUX1RJTUVfT1VUX0RFTEFZKTtcbiAgICB2YXIgYnl0ZXNDb3VudENhY2hlID0gMDtcbiAgICB2YXIgYWxyZWFkeVdhcm5lZCA9IGZhbHNlO1xuICAgIGxpZmVDeWNsZS5zdWJzY3JpYmUoNCAvKiBMaWZlQ3ljbGVFdmVudFR5cGUuVklFV19FTkRFRCAqLywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciBlbmRDbG9ja3MgPSBfYS5lbmRDbG9ja3M7XG4gICAgICAgIGZlYXR1cmVGbGFnQ29udGV4dHMuY2xvc2VBY3RpdmUoZW5kQ2xvY2tzLnJlbGF0aXZlKTtcbiAgICB9KTtcbiAgICBsaWZlQ3ljbGUuc3Vic2NyaWJlKDIgLyogTGlmZUN5Y2xlRXZlbnRUeXBlLlZJRVdfQ1JFQVRFRCAqLywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciBzdGFydENsb2NrcyA9IF9hLnN0YXJ0Q2xvY2tzO1xuICAgICAgICBmZWF0dXJlRmxhZ0NvbnRleHRzLmFkZCh7fSwgc3RhcnRDbG9ja3MucmVsYXRpdmUpO1xuICAgICAgICBieXRlc0NvdW50Q2FjaGUgPSAwO1xuICAgIH0pO1xuICAgIC8vIFRocm90dGxlIHRoZSBieXRlcyBjb21wdXRhdGlvbiB0byBtaW5pbWl6ZSB0aGUgaW1wYWN0IG9uIHBlcmZvcm1hbmNlLlxuICAgIC8vIEVzcGVjaWFsbHkgdXNlZnVsIGlmIHRoZSB1c2VyIGNhbGwgYWRkRmVhdHVyZUZsYWdFdmFsdWF0aW9uIEFQSSBzeW5jaHJvbm91c2x5IG11bHRpcGxlIHRpbWVzIGluIGEgcm93XG4gICAgdmFyIF9hID0gdGhyb3R0bGUoZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgICAgYnl0ZXNDb3VudENhY2hlID0gY29tcHV0ZUJ5dGVzQ291bnRJbXBsKGpzb25TdHJpbmdpZnkoY29udGV4dCkpO1xuICAgICAgICBpZiAoIWFscmVhZHlXYXJuZWQpIHtcbiAgICAgICAgICAgIGFscmVhZHlXYXJuZWQgPSB3YXJuSWZDdXN0b21lckRhdGFMaW1pdFJlYWNoZWQoYnl0ZXNDb3VudENhY2hlLCBcImZlYXR1cmUgZmxhZyBldmFsdWF0aW9uXCIgLyogQ3VzdG9tZXJEYXRhVHlwZS5GZWF0dXJlRmxhZyAqLyk7XG4gICAgICAgIH1cbiAgICB9LCBCWVRFU19DT01QVVRBVElPTl9USFJPVFRMSU5HX0RFTEFZKSwgY29tcHV0ZUJ5dGVzQ291bnRUaHJvdHRsZWQgPSBfYS50aHJvdHRsZWQsIGNhbmNlbFBlbmRpbmdDb21wdXRhdGlvbiA9IF9hLmNhbmNlbDtcbiAgICByZXR1cm4ge1xuICAgICAgICBmaW5kRmVhdHVyZUZsYWdFdmFsdWF0aW9uczogZnVuY3Rpb24gKHN0YXJ0VGltZSkgeyByZXR1cm4gZmVhdHVyZUZsYWdDb250ZXh0cy5maW5kKHN0YXJ0VGltZSk7IH0sXG4gICAgICAgIGdldEZlYXR1cmVGbGFnQnl0ZXNDb3VudDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRDb250ZXh0ID0gZmVhdHVyZUZsYWdDb250ZXh0cy5maW5kKCk7XG4gICAgICAgICAgICBpZiAoIWN1cnJlbnRDb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYnl0ZXNDb3VudENhY2hlO1xuICAgICAgICB9LFxuICAgICAgICBhZGRGZWF0dXJlRmxhZ0V2YWx1YXRpb246IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgY3VycmVudENvbnRleHQgPSBmZWF0dXJlRmxhZ0NvbnRleHRzLmZpbmQoKTtcbiAgICAgICAgICAgIGlmIChjdXJyZW50Q29udGV4dCkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRDb250ZXh0W2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICBjb21wdXRlQnl0ZXNDb3VudFRocm90dGxlZChjdXJyZW50Q29udGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHN0b3A6IGNhbmNlbFBlbmRpbmdDb21wdXRhdGlvbixcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmVhdHVyZUZsYWdDb250ZXh0LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/contexts/featureFlagContext.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/contexts/foregroundContexts.js":
/*!**********************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum-core/esm/domain/contexts/foregroundContexts.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MAX_NUMBER_OF_SELECTABLE_FOREGROUND_PERIODS: () => (/* binding */ MAX_NUMBER_OF_SELECTABLE_FOREGROUND_PERIODS),\n/* harmony export */   MAX_NUMBER_OF_STORED_FOREGROUND_PERIODS: () => (/* binding */ MAX_NUMBER_OF_STORED_FOREGROUND_PERIODS),\n/* harmony export */   addNewForegroundPeriod: () => (/* binding */ addNewForegroundPeriod),\n/* harmony export */   closeForegroundPeriod: () => (/* binding */ closeForegroundPeriod),\n/* harmony export */   startForegroundContexts: () => (/* binding */ startForegroundContexts)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/browser/addEventListener.js\");\n\n// Arbitrary value to cap number of element mostly for backend & to save bandwidth\nvar MAX_NUMBER_OF_SELECTABLE_FOREGROUND_PERIODS = 500;\n// Arbitrary value to cap number of element mostly for memory consumption in the browser\nvar MAX_NUMBER_OF_STORED_FOREGROUND_PERIODS = 2500;\nvar foregroundPeriods = [];\nfunction startForegroundContexts() {\n    if (document.hasFocus()) {\n        addNewForegroundPeriod();\n    }\n    var stopForegroundTracking = trackFocus(addNewForegroundPeriod).stop;\n    var stopBlurTracking = trackBlur(closeForegroundPeriod).stop;\n    return {\n        isInForegroundAt: isInForegroundAt,\n        selectInForegroundPeriodsFor: selectInForegroundPeriodsFor,\n        stop: function () {\n            foregroundPeriods = [];\n            stopForegroundTracking();\n            stopBlurTracking();\n        },\n    };\n}\nfunction addNewForegroundPeriod() {\n    if (foregroundPeriods.length > MAX_NUMBER_OF_STORED_FOREGROUND_PERIODS) {\n        return;\n    }\n    var currentForegroundPeriod = foregroundPeriods[foregroundPeriods.length - 1];\n    var now = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.relativeNow)();\n    if (currentForegroundPeriod !== undefined && currentForegroundPeriod.end === undefined) {\n        return;\n    }\n    foregroundPeriods.push({\n        start: now,\n    });\n}\nfunction closeForegroundPeriod() {\n    if (foregroundPeriods.length === 0) {\n        return;\n    }\n    var currentForegroundPeriod = foregroundPeriods[foregroundPeriods.length - 1];\n    var now = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.relativeNow)();\n    if (currentForegroundPeriod.end !== undefined) {\n        return;\n    }\n    currentForegroundPeriod.end = now;\n}\nfunction trackFocus(onFocusChange) {\n    return (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.addEventListener)(window, \"focus\" /* DOM_EVENT.FOCUS */, function (event) {\n        if (!event.isTrusted) {\n            return;\n        }\n        onFocusChange();\n    });\n}\nfunction trackBlur(onBlurChange) {\n    return (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.addEventListener)(window, \"blur\" /* DOM_EVENT.BLUR */, function (event) {\n        if (!event.isTrusted) {\n            return;\n        }\n        onBlurChange();\n    });\n}\nfunction isInForegroundAt(startTime) {\n    for (var i = foregroundPeriods.length - 1; i >= 0; i--) {\n        var foregroundPeriod = foregroundPeriods[i];\n        if (foregroundPeriod.end !== undefined && startTime > foregroundPeriod.end) {\n            break;\n        }\n        if (startTime > foregroundPeriod.start &&\n            (foregroundPeriod.end === undefined || startTime < foregroundPeriod.end)) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction selectInForegroundPeriodsFor(eventStartTime, duration) {\n    var eventEndTime = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.addDuration)(eventStartTime, duration);\n    var filteredForegroundPeriods = [];\n    var earliestIndex = Math.max(0, foregroundPeriods.length - MAX_NUMBER_OF_SELECTABLE_FOREGROUND_PERIODS);\n    for (var i = foregroundPeriods.length - 1; i >= earliestIndex; i--) {\n        var foregroundPeriod = foregroundPeriods[i];\n        if (foregroundPeriod.end !== undefined && eventStartTime > foregroundPeriod.end) {\n            // event starts after the end of the current focus period\n            // since the array is sorted, we can stop looking for foreground periods\n            break;\n        }\n        if (eventEndTime < foregroundPeriod.start) {\n            // event ends before the start of the current focus period\n            // continue to previous one\n            continue;\n        }\n        var startTime = eventStartTime > foregroundPeriod.start ? eventStartTime : foregroundPeriod.start;\n        var startDuration = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.elapsed)(eventStartTime, startTime);\n        var endTime = foregroundPeriod.end === undefined || eventEndTime < foregroundPeriod.end ? eventEndTime : foregroundPeriod.end;\n        var endDuration = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.elapsed)(startTime, endTime);\n        filteredForegroundPeriods.unshift({\n            start: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.toServerDuration)(startDuration),\n            duration: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.toServerDuration)(endDuration),\n        });\n    }\n    return filteredForegroundPeriods;\n}\n//# sourceMappingURL=foregroundContexts.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2RvbWFpbi9jb250ZXh0cy9mb3JlZ3JvdW5kQ29udGV4dHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUE4RztBQUM5RztBQUNPO0FBQ1A7QUFDTztBQUNQO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLGtFQUFXO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxrRUFBVztBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLHVFQUFnQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsV0FBVyx1RUFBZ0I7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLCtDQUErQyxRQUFRO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixrRUFBVztBQUNsQztBQUNBO0FBQ0EsK0NBQStDLG9CQUFvQjtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsOERBQU87QUFDbkM7QUFDQSwwQkFBMEIsOERBQU87QUFDakM7QUFDQSxtQkFBbUIsdUVBQWdCO0FBQ25DLHNCQUFzQix1RUFBZ0I7QUFDdEMsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFyY2FzdGVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLXJ1bS1jb3JlL2VzbS9kb21haW4vY29udGV4dHMvZm9yZWdyb3VuZENvbnRleHRzLmpzP2MyY2MiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYWRkRHVyYXRpb24sIGFkZEV2ZW50TGlzdGVuZXIsIGVsYXBzZWQsIHJlbGF0aXZlTm93LCB0b1NlcnZlckR1cmF0aW9uIH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJztcbi8vIEFyYml0cmFyeSB2YWx1ZSB0byBjYXAgbnVtYmVyIG9mIGVsZW1lbnQgbW9zdGx5IGZvciBiYWNrZW5kICYgdG8gc2F2ZSBiYW5kd2lkdGhcbmV4cG9ydCB2YXIgTUFYX05VTUJFUl9PRl9TRUxFQ1RBQkxFX0ZPUkVHUk9VTkRfUEVSSU9EUyA9IDUwMDtcbi8vIEFyYml0cmFyeSB2YWx1ZSB0byBjYXAgbnVtYmVyIG9mIGVsZW1lbnQgbW9zdGx5IGZvciBtZW1vcnkgY29uc3VtcHRpb24gaW4gdGhlIGJyb3dzZXJcbmV4cG9ydCB2YXIgTUFYX05VTUJFUl9PRl9TVE9SRURfRk9SRUdST1VORF9QRVJJT0RTID0gMjUwMDtcbnZhciBmb3JlZ3JvdW5kUGVyaW9kcyA9IFtdO1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0Rm9yZWdyb3VuZENvbnRleHRzKCkge1xuICAgIGlmIChkb2N1bWVudC5oYXNGb2N1cygpKSB7XG4gICAgICAgIGFkZE5ld0ZvcmVncm91bmRQZXJpb2QoKTtcbiAgICB9XG4gICAgdmFyIHN0b3BGb3JlZ3JvdW5kVHJhY2tpbmcgPSB0cmFja0ZvY3VzKGFkZE5ld0ZvcmVncm91bmRQZXJpb2QpLnN0b3A7XG4gICAgdmFyIHN0b3BCbHVyVHJhY2tpbmcgPSB0cmFja0JsdXIoY2xvc2VGb3JlZ3JvdW5kUGVyaW9kKS5zdG9wO1xuICAgIHJldHVybiB7XG4gICAgICAgIGlzSW5Gb3JlZ3JvdW5kQXQ6IGlzSW5Gb3JlZ3JvdW5kQXQsXG4gICAgICAgIHNlbGVjdEluRm9yZWdyb3VuZFBlcmlvZHNGb3I6IHNlbGVjdEluRm9yZWdyb3VuZFBlcmlvZHNGb3IsXG4gICAgICAgIHN0b3A6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGZvcmVncm91bmRQZXJpb2RzID0gW107XG4gICAgICAgICAgICBzdG9wRm9yZWdyb3VuZFRyYWNraW5nKCk7XG4gICAgICAgICAgICBzdG9wQmx1clRyYWNraW5nKCk7XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhZGROZXdGb3JlZ3JvdW5kUGVyaW9kKCkge1xuICAgIGlmIChmb3JlZ3JvdW5kUGVyaW9kcy5sZW5ndGggPiBNQVhfTlVNQkVSX09GX1NUT1JFRF9GT1JFR1JPVU5EX1BFUklPRFMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgY3VycmVudEZvcmVncm91bmRQZXJpb2QgPSBmb3JlZ3JvdW5kUGVyaW9kc1tmb3JlZ3JvdW5kUGVyaW9kcy5sZW5ndGggLSAxXTtcbiAgICB2YXIgbm93ID0gcmVsYXRpdmVOb3coKTtcbiAgICBpZiAoY3VycmVudEZvcmVncm91bmRQZXJpb2QgIT09IHVuZGVmaW5lZCAmJiBjdXJyZW50Rm9yZWdyb3VuZFBlcmlvZC5lbmQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGZvcmVncm91bmRQZXJpb2RzLnB1c2goe1xuICAgICAgICBzdGFydDogbm93LFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNsb3NlRm9yZWdyb3VuZFBlcmlvZCgpIHtcbiAgICBpZiAoZm9yZWdyb3VuZFBlcmlvZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGN1cnJlbnRGb3JlZ3JvdW5kUGVyaW9kID0gZm9yZWdyb3VuZFBlcmlvZHNbZm9yZWdyb3VuZFBlcmlvZHMubGVuZ3RoIC0gMV07XG4gICAgdmFyIG5vdyA9IHJlbGF0aXZlTm93KCk7XG4gICAgaWYgKGN1cnJlbnRGb3JlZ3JvdW5kUGVyaW9kLmVuZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY3VycmVudEZvcmVncm91bmRQZXJpb2QuZW5kID0gbm93O1xufVxuZnVuY3Rpb24gdHJhY2tGb2N1cyhvbkZvY3VzQ2hhbmdlKSB7XG4gICAgcmV0dXJuIGFkZEV2ZW50TGlzdGVuZXIod2luZG93LCBcImZvY3VzXCIgLyogRE9NX0VWRU5ULkZPQ1VTICovLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgaWYgKCFldmVudC5pc1RydXN0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBvbkZvY3VzQ2hhbmdlKCk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiB0cmFja0JsdXIob25CbHVyQ2hhbmdlKSB7XG4gICAgcmV0dXJuIGFkZEV2ZW50TGlzdGVuZXIod2luZG93LCBcImJsdXJcIiAvKiBET01fRVZFTlQuQkxVUiAqLywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGlmICghZXZlbnQuaXNUcnVzdGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgb25CbHVyQ2hhbmdlKCk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBpc0luRm9yZWdyb3VuZEF0KHN0YXJ0VGltZSkge1xuICAgIGZvciAodmFyIGkgPSBmb3JlZ3JvdW5kUGVyaW9kcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICB2YXIgZm9yZWdyb3VuZFBlcmlvZCA9IGZvcmVncm91bmRQZXJpb2RzW2ldO1xuICAgICAgICBpZiAoZm9yZWdyb3VuZFBlcmlvZC5lbmQgIT09IHVuZGVmaW5lZCAmJiBzdGFydFRpbWUgPiBmb3JlZ3JvdW5kUGVyaW9kLmVuZCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXJ0VGltZSA+IGZvcmVncm91bmRQZXJpb2Quc3RhcnQgJiZcbiAgICAgICAgICAgIChmb3JlZ3JvdW5kUGVyaW9kLmVuZCA9PT0gdW5kZWZpbmVkIHx8IHN0YXJ0VGltZSA8IGZvcmVncm91bmRQZXJpb2QuZW5kKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gc2VsZWN0SW5Gb3JlZ3JvdW5kUGVyaW9kc0ZvcihldmVudFN0YXJ0VGltZSwgZHVyYXRpb24pIHtcbiAgICB2YXIgZXZlbnRFbmRUaW1lID0gYWRkRHVyYXRpb24oZXZlbnRTdGFydFRpbWUsIGR1cmF0aW9uKTtcbiAgICB2YXIgZmlsdGVyZWRGb3JlZ3JvdW5kUGVyaW9kcyA9IFtdO1xuICAgIHZhciBlYXJsaWVzdEluZGV4ID0gTWF0aC5tYXgoMCwgZm9yZWdyb3VuZFBlcmlvZHMubGVuZ3RoIC0gTUFYX05VTUJFUl9PRl9TRUxFQ1RBQkxFX0ZPUkVHUk9VTkRfUEVSSU9EUyk7XG4gICAgZm9yICh2YXIgaSA9IGZvcmVncm91bmRQZXJpb2RzLmxlbmd0aCAtIDE7IGkgPj0gZWFybGllc3RJbmRleDsgaS0tKSB7XG4gICAgICAgIHZhciBmb3JlZ3JvdW5kUGVyaW9kID0gZm9yZWdyb3VuZFBlcmlvZHNbaV07XG4gICAgICAgIGlmIChmb3JlZ3JvdW5kUGVyaW9kLmVuZCAhPT0gdW5kZWZpbmVkICYmIGV2ZW50U3RhcnRUaW1lID4gZm9yZWdyb3VuZFBlcmlvZC5lbmQpIHtcbiAgICAgICAgICAgIC8vIGV2ZW50IHN0YXJ0cyBhZnRlciB0aGUgZW5kIG9mIHRoZSBjdXJyZW50IGZvY3VzIHBlcmlvZFxuICAgICAgICAgICAgLy8gc2luY2UgdGhlIGFycmF5IGlzIHNvcnRlZCwgd2UgY2FuIHN0b3AgbG9va2luZyBmb3IgZm9yZWdyb3VuZCBwZXJpb2RzXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXZlbnRFbmRUaW1lIDwgZm9yZWdyb3VuZFBlcmlvZC5zdGFydCkge1xuICAgICAgICAgICAgLy8gZXZlbnQgZW5kcyBiZWZvcmUgdGhlIHN0YXJ0IG9mIHRoZSBjdXJyZW50IGZvY3VzIHBlcmlvZFxuICAgICAgICAgICAgLy8gY29udGludWUgdG8gcHJldmlvdXMgb25lXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3RhcnRUaW1lID0gZXZlbnRTdGFydFRpbWUgPiBmb3JlZ3JvdW5kUGVyaW9kLnN0YXJ0ID8gZXZlbnRTdGFydFRpbWUgOiBmb3JlZ3JvdW5kUGVyaW9kLnN0YXJ0O1xuICAgICAgICB2YXIgc3RhcnREdXJhdGlvbiA9IGVsYXBzZWQoZXZlbnRTdGFydFRpbWUsIHN0YXJ0VGltZSk7XG4gICAgICAgIHZhciBlbmRUaW1lID0gZm9yZWdyb3VuZFBlcmlvZC5lbmQgPT09IHVuZGVmaW5lZCB8fCBldmVudEVuZFRpbWUgPCBmb3JlZ3JvdW5kUGVyaW9kLmVuZCA/IGV2ZW50RW5kVGltZSA6IGZvcmVncm91bmRQZXJpb2QuZW5kO1xuICAgICAgICB2YXIgZW5kRHVyYXRpb24gPSBlbGFwc2VkKHN0YXJ0VGltZSwgZW5kVGltZSk7XG4gICAgICAgIGZpbHRlcmVkRm9yZWdyb3VuZFBlcmlvZHMudW5zaGlmdCh7XG4gICAgICAgICAgICBzdGFydDogdG9TZXJ2ZXJEdXJhdGlvbihzdGFydER1cmF0aW9uKSxcbiAgICAgICAgICAgIGR1cmF0aW9uOiB0b1NlcnZlckR1cmF0aW9uKGVuZER1cmF0aW9uKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBmaWx0ZXJlZEZvcmVncm91bmRQZXJpb2RzO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Zm9yZWdyb3VuZENvbnRleHRzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/contexts/foregroundContexts.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/contexts/internalContext.js":
/*!*******************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum-core/esm/domain/contexts/internalContext.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   startInternalContext: () => (/* binding */ startInternalContext)\n/* harmony export */ });\n/**\n * Internal context keep returning v1 format\n * to not break compatibility with logs data format\n */\nfunction startInternalContext(applicationId, sessionManager, viewContexts, actionContexts, urlContexts) {\n    return {\n        get: function (startTime) {\n            var viewContext = viewContexts.findView(startTime);\n            var urlContext = urlContexts.findUrl(startTime);\n            var session = sessionManager.findTrackedSession(startTime);\n            if (session && viewContext && urlContext) {\n                var actionId = actionContexts.findActionId(startTime);\n                return {\n                    application_id: applicationId,\n                    session_id: session.id,\n                    user_action: actionId ? { id: actionId } : undefined,\n                    view: { id: viewContext.id, name: viewContext.name, referrer: urlContext.referrer, url: urlContext.url },\n                };\n            }\n        },\n    };\n}\n//# sourceMappingURL=internalContext.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2RvbWFpbi9jb250ZXh0cy9pbnRlcm5hbENvbnRleHQuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxlQUFlO0FBQzdELDRCQUE0QixnR0FBZ0c7QUFDNUg7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYXJjYXN0ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2RvbWFpbi9jb250ZXh0cy9pbnRlcm5hbENvbnRleHQuanM/OTE2ZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEludGVybmFsIGNvbnRleHQga2VlcCByZXR1cm5pbmcgdjEgZm9ybWF0XG4gKiB0byBub3QgYnJlYWsgY29tcGF0aWJpbGl0eSB3aXRoIGxvZ3MgZGF0YSBmb3JtYXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0SW50ZXJuYWxDb250ZXh0KGFwcGxpY2F0aW9uSWQsIHNlc3Npb25NYW5hZ2VyLCB2aWV3Q29udGV4dHMsIGFjdGlvbkNvbnRleHRzLCB1cmxDb250ZXh0cykge1xuICAgIHJldHVybiB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKHN0YXJ0VGltZSkge1xuICAgICAgICAgICAgdmFyIHZpZXdDb250ZXh0ID0gdmlld0NvbnRleHRzLmZpbmRWaWV3KHN0YXJ0VGltZSk7XG4gICAgICAgICAgICB2YXIgdXJsQ29udGV4dCA9IHVybENvbnRleHRzLmZpbmRVcmwoc3RhcnRUaW1lKTtcbiAgICAgICAgICAgIHZhciBzZXNzaW9uID0gc2Vzc2lvbk1hbmFnZXIuZmluZFRyYWNrZWRTZXNzaW9uKHN0YXJ0VGltZSk7XG4gICAgICAgICAgICBpZiAoc2Vzc2lvbiAmJiB2aWV3Q29udGV4dCAmJiB1cmxDb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgdmFyIGFjdGlvbklkID0gYWN0aW9uQ29udGV4dHMuZmluZEFjdGlvbklkKHN0YXJ0VGltZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgYXBwbGljYXRpb25faWQ6IGFwcGxpY2F0aW9uSWQsXG4gICAgICAgICAgICAgICAgICAgIHNlc3Npb25faWQ6IHNlc3Npb24uaWQsXG4gICAgICAgICAgICAgICAgICAgIHVzZXJfYWN0aW9uOiBhY3Rpb25JZCA/IHsgaWQ6IGFjdGlvbklkIH0gOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIHZpZXc6IHsgaWQ6IHZpZXdDb250ZXh0LmlkLCBuYW1lOiB2aWV3Q29udGV4dC5uYW1lLCByZWZlcnJlcjogdXJsQ29udGV4dC5yZWZlcnJlciwgdXJsOiB1cmxDb250ZXh0LnVybCB9LFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWludGVybmFsQ29udGV4dC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/contexts/internalContext.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/contexts/pageStateHistory.js":
/*!********************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum-core/esm/domain/contexts/pageStateHistory.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MAX_PAGE_STATE_ENTRIES: () => (/* binding */ MAX_PAGE_STATE_ENTRIES),\n/* harmony export */   addPageState: () => (/* binding */ addPageState),\n/* harmony export */   resetPageStates: () => (/* binding */ resetPageStates),\n/* harmony export */   startPageStateHistory: () => (/* binding */ startPageStateHistory)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/browser/addEventListener.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js\");\n\nvar MAX_PAGE_STATE_ENTRIES = 500;\nvar pageStateEntries = [];\nvar currentPageState;\nfunction startPageStateHistory() {\n    addPageState(getPageState());\n    var stop = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.addEventListeners)(window, [\n        \"pageshow\" /* DOM_EVENT.PAGE_SHOW */,\n        \"focus\" /* DOM_EVENT.FOCUS */,\n        \"blur\" /* DOM_EVENT.BLUR */,\n        \"visibilitychange\" /* DOM_EVENT.VISIBILITY_CHANGE */,\n        \"resume\" /* DOM_EVENT.RESUME */,\n        \"freeze\" /* DOM_EVENT.FREEZE */,\n        \"pagehide\" /* DOM_EVENT.PAGE_HIDE */,\n    ], function (event) {\n        // Only get events fired by the browser to avoid false currentPageState changes done with custom events\n        // cf: developer extension auto flush: https://github.com/DataDog/browser-sdk/blob/2f72bf05a672794c9e33965351964382a94c72ba/developer-extension/src/panel/flushEvents.ts#L11-L12\n        if (!event.isTrusted) {\n            return;\n        }\n        if (event.type === \"freeze\" /* DOM_EVENT.FREEZE */) {\n            addPageState(\"frozen\" /* PageState.FROZEN */);\n        }\n        else if (event.type === \"pagehide\" /* DOM_EVENT.PAGE_HIDE */) {\n            addPageState(event.persisted ? \"frozen\" /* PageState.FROZEN */ : \"terminated\" /* PageState.TERMINATED */);\n        }\n        else {\n            addPageState(getPageState());\n        }\n    }, { capture: true }).stop;\n    return {\n        findAll: function (startTime, duration) {\n            var entries = [];\n            var endTime = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.addDuration)(startTime, duration);\n            for (var i = pageStateEntries.length - 1; i >= 0; i--) {\n                var stateStartTime = pageStateEntries[i].startTime;\n                if (stateStartTime >= endTime) {\n                    continue;\n                }\n                entries.unshift(pageStateEntries[i]);\n                if (stateStartTime < startTime) {\n                    break;\n                }\n            }\n            return entries.length ? entries : undefined;\n        },\n        stop: stop,\n    };\n}\nfunction getPageState() {\n    if (document.visibilityState === 'hidden') {\n        return \"hidden\" /* PageState.HIDDEN */;\n    }\n    if (document.hasFocus()) {\n        return \"active\" /* PageState.ACTIVE */;\n    }\n    return \"passive\" /* PageState.PASSIVE */;\n}\nfunction addPageState(nextPageState, maxPageStateEntries) {\n    if (maxPageStateEntries === void 0) { maxPageStateEntries = MAX_PAGE_STATE_ENTRIES; }\n    if (nextPageState === currentPageState) {\n        return;\n    }\n    currentPageState = nextPageState;\n    if (pageStateEntries.length === maxPageStateEntries) {\n        pageStateEntries.shift();\n    }\n    pageStateEntries.push({ state: currentPageState, startTime: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.relativeNow)() });\n}\nfunction resetPageStates() {\n    pageStateEntries = [];\n    currentPageState = undefined;\n}\n//# sourceMappingURL=pageStateHistory.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2RvbWFpbi9jb250ZXh0cy9wYWdlU3RhdGVIaXN0b3J5LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFvRjtBQUM3RTtBQUNQO0FBQ0E7QUFDTztBQUNQO0FBQ0EsZUFBZSx3RUFBaUI7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLElBQUksZUFBZTtBQUN4QjtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsa0VBQVc7QUFDckMsc0RBQXNELFFBQVE7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCwwQ0FBMEM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsb0NBQW9DLGtFQUFXLElBQUk7QUFDL0U7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFyY2FzdGVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLXJ1bS1jb3JlL2VzbS9kb21haW4vY29udGV4dHMvcGFnZVN0YXRlSGlzdG9yeS5qcz8wNzBkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFkZER1cmF0aW9uLCBhZGRFdmVudExpc3RlbmVycywgcmVsYXRpdmVOb3cgfSBmcm9tICdAZGF0YWRvZy9icm93c2VyLWNvcmUnO1xuZXhwb3J0IHZhciBNQVhfUEFHRV9TVEFURV9FTlRSSUVTID0gNTAwO1xudmFyIHBhZ2VTdGF0ZUVudHJpZXMgPSBbXTtcbnZhciBjdXJyZW50UGFnZVN0YXRlO1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0UGFnZVN0YXRlSGlzdG9yeSgpIHtcbiAgICBhZGRQYWdlU3RhdGUoZ2V0UGFnZVN0YXRlKCkpO1xuICAgIHZhciBzdG9wID0gYWRkRXZlbnRMaXN0ZW5lcnMod2luZG93LCBbXG4gICAgICAgIFwicGFnZXNob3dcIiAvKiBET01fRVZFTlQuUEFHRV9TSE9XICovLFxuICAgICAgICBcImZvY3VzXCIgLyogRE9NX0VWRU5ULkZPQ1VTICovLFxuICAgICAgICBcImJsdXJcIiAvKiBET01fRVZFTlQuQkxVUiAqLyxcbiAgICAgICAgXCJ2aXNpYmlsaXR5Y2hhbmdlXCIgLyogRE9NX0VWRU5ULlZJU0lCSUxJVFlfQ0hBTkdFICovLFxuICAgICAgICBcInJlc3VtZVwiIC8qIERPTV9FVkVOVC5SRVNVTUUgKi8sXG4gICAgICAgIFwiZnJlZXplXCIgLyogRE9NX0VWRU5ULkZSRUVaRSAqLyxcbiAgICAgICAgXCJwYWdlaGlkZVwiIC8qIERPTV9FVkVOVC5QQUdFX0hJREUgKi8sXG4gICAgXSwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIC8vIE9ubHkgZ2V0IGV2ZW50cyBmaXJlZCBieSB0aGUgYnJvd3NlciB0byBhdm9pZCBmYWxzZSBjdXJyZW50UGFnZVN0YXRlIGNoYW5nZXMgZG9uZSB3aXRoIGN1c3RvbSBldmVudHNcbiAgICAgICAgLy8gY2Y6IGRldmVsb3BlciBleHRlbnNpb24gYXV0byBmbHVzaDogaHR0cHM6Ly9naXRodWIuY29tL0RhdGFEb2cvYnJvd3Nlci1zZGsvYmxvYi8yZjcyYmYwNWE2NzI3OTRjOWUzMzk2NTM1MTk2NDM4MmE5NGM3MmJhL2RldmVsb3Blci1leHRlbnNpb24vc3JjL3BhbmVsL2ZsdXNoRXZlbnRzLnRzI0wxMS1MMTJcbiAgICAgICAgaWYgKCFldmVudC5pc1RydXN0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXZlbnQudHlwZSA9PT0gXCJmcmVlemVcIiAvKiBET01fRVZFTlQuRlJFRVpFICovKSB7XG4gICAgICAgICAgICBhZGRQYWdlU3RhdGUoXCJmcm96ZW5cIiAvKiBQYWdlU3RhdGUuRlJPWkVOICovKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChldmVudC50eXBlID09PSBcInBhZ2VoaWRlXCIgLyogRE9NX0VWRU5ULlBBR0VfSElERSAqLykge1xuICAgICAgICAgICAgYWRkUGFnZVN0YXRlKGV2ZW50LnBlcnNpc3RlZCA/IFwiZnJvemVuXCIgLyogUGFnZVN0YXRlLkZST1pFTiAqLyA6IFwidGVybWluYXRlZFwiIC8qIFBhZ2VTdGF0ZS5URVJNSU5BVEVEICovKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGFkZFBhZ2VTdGF0ZShnZXRQYWdlU3RhdGUoKSk7XG4gICAgICAgIH1cbiAgICB9LCB7IGNhcHR1cmU6IHRydWUgfSkuc3RvcDtcbiAgICByZXR1cm4ge1xuICAgICAgICBmaW5kQWxsOiBmdW5jdGlvbiAoc3RhcnRUaW1lLCBkdXJhdGlvbikge1xuICAgICAgICAgICAgdmFyIGVudHJpZXMgPSBbXTtcbiAgICAgICAgICAgIHZhciBlbmRUaW1lID0gYWRkRHVyYXRpb24oc3RhcnRUaW1lLCBkdXJhdGlvbik7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gcGFnZVN0YXRlRW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgICAgIHZhciBzdGF0ZVN0YXJ0VGltZSA9IHBhZ2VTdGF0ZUVudHJpZXNbaV0uc3RhcnRUaW1lO1xuICAgICAgICAgICAgICAgIGlmIChzdGF0ZVN0YXJ0VGltZSA+PSBlbmRUaW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbnRyaWVzLnVuc2hpZnQocGFnZVN0YXRlRW50cmllc1tpXSk7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlU3RhcnRUaW1lIDwgc3RhcnRUaW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBlbnRyaWVzLmxlbmd0aCA/IGVudHJpZXMgOiB1bmRlZmluZWQ7XG4gICAgICAgIH0sXG4gICAgICAgIHN0b3A6IHN0b3AsXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGdldFBhZ2VTdGF0ZSgpIHtcbiAgICBpZiAoZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlID09PSAnaGlkZGVuJykge1xuICAgICAgICByZXR1cm4gXCJoaWRkZW5cIiAvKiBQYWdlU3RhdGUuSElEREVOICovO1xuICAgIH1cbiAgICBpZiAoZG9jdW1lbnQuaGFzRm9jdXMoKSkge1xuICAgICAgICByZXR1cm4gXCJhY3RpdmVcIiAvKiBQYWdlU3RhdGUuQUNUSVZFICovO1xuICAgIH1cbiAgICByZXR1cm4gXCJwYXNzaXZlXCIgLyogUGFnZVN0YXRlLlBBU1NJVkUgKi87XG59XG5leHBvcnQgZnVuY3Rpb24gYWRkUGFnZVN0YXRlKG5leHRQYWdlU3RhdGUsIG1heFBhZ2VTdGF0ZUVudHJpZXMpIHtcbiAgICBpZiAobWF4UGFnZVN0YXRlRW50cmllcyA9PT0gdm9pZCAwKSB7IG1heFBhZ2VTdGF0ZUVudHJpZXMgPSBNQVhfUEFHRV9TVEFURV9FTlRSSUVTOyB9XG4gICAgaWYgKG5leHRQYWdlU3RhdGUgPT09IGN1cnJlbnRQYWdlU3RhdGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjdXJyZW50UGFnZVN0YXRlID0gbmV4dFBhZ2VTdGF0ZTtcbiAgICBpZiAocGFnZVN0YXRlRW50cmllcy5sZW5ndGggPT09IG1heFBhZ2VTdGF0ZUVudHJpZXMpIHtcbiAgICAgICAgcGFnZVN0YXRlRW50cmllcy5zaGlmdCgpO1xuICAgIH1cbiAgICBwYWdlU3RhdGVFbnRyaWVzLnB1c2goeyBzdGF0ZTogY3VycmVudFBhZ2VTdGF0ZSwgc3RhcnRUaW1lOiByZWxhdGl2ZU5vdygpIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlc2V0UGFnZVN0YXRlcygpIHtcbiAgICBwYWdlU3RhdGVFbnRyaWVzID0gW107XG4gICAgY3VycmVudFBhZ2VTdGF0ZSA9IHVuZGVmaW5lZDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VTdGF0ZUhpc3RvcnkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/contexts/pageStateHistory.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/contexts/syntheticsContext.js":
/*!*********************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum-core/esm/domain/contexts/syntheticsContext.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getSyntheticsContext: () => (/* binding */ getSyntheticsContext)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/synthetics/syntheticsWorkerValues.js\");\n\nfunction getSyntheticsContext() {\n    var testId = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.getSyntheticsTestId)();\n    var resultId = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.getSyntheticsResultId)();\n    if (testId && resultId) {\n        return {\n            test_id: testId,\n            result_id: resultId,\n            injected: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.willSyntheticsInjectRum)(),\n        };\n    }\n}\n//# sourceMappingURL=syntheticsContext.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2RvbWFpbi9jb250ZXh0cy9zeW50aGV0aWNzQ29udGV4dC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUE0RztBQUNyRztBQUNQLGlCQUFpQiwwRUFBbUI7QUFDcEMsbUJBQW1CLDRFQUFxQjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiw4RUFBdUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYXJjYXN0ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2RvbWFpbi9jb250ZXh0cy9zeW50aGV0aWNzQ29udGV4dC5qcz8xMmI3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldFN5bnRoZXRpY3NSZXN1bHRJZCwgZ2V0U3ludGhldGljc1Rlc3RJZCwgd2lsbFN5bnRoZXRpY3NJbmplY3RSdW0gfSBmcm9tICdAZGF0YWRvZy9icm93c2VyLWNvcmUnO1xuZXhwb3J0IGZ1bmN0aW9uIGdldFN5bnRoZXRpY3NDb250ZXh0KCkge1xuICAgIHZhciB0ZXN0SWQgPSBnZXRTeW50aGV0aWNzVGVzdElkKCk7XG4gICAgdmFyIHJlc3VsdElkID0gZ2V0U3ludGhldGljc1Jlc3VsdElkKCk7XG4gICAgaWYgKHRlc3RJZCAmJiByZXN1bHRJZCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdGVzdF9pZDogdGVzdElkLFxuICAgICAgICAgICAgcmVzdWx0X2lkOiByZXN1bHRJZCxcbiAgICAgICAgICAgIGluamVjdGVkOiB3aWxsU3ludGhldGljc0luamVjdFJ1bSgpLFxuICAgICAgICB9O1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN5bnRoZXRpY3NDb250ZXh0LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/contexts/syntheticsContext.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/contexts/urlContexts.js":
/*!***************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum-core/esm/domain/contexts/urlContexts.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   URL_CONTEXT_TIME_OUT_DELAY: () => (/* binding */ URL_CONTEXT_TIME_OUT_DELAY),\n/* harmony export */   startUrlContexts: () => (/* binding */ startUrlContexts)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/session/sessionConstants.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/valueHistory.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js\");\n\n/**\n * We want to attach to an event:\n * - the url corresponding to its start\n * - the referrer corresponding to the previous view url (or document referrer for initial view)\n */\nvar URL_CONTEXT_TIME_OUT_DELAY = _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.SESSION_TIME_OUT_DELAY;\nfunction startUrlContexts(lifeCycle, locationChangeObservable, location) {\n    var urlContextHistory = new _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.ValueHistory(URL_CONTEXT_TIME_OUT_DELAY);\n    var previousViewUrl;\n    lifeCycle.subscribe(4 /* LifeCycleEventType.VIEW_ENDED */, function (_a) {\n        var endClocks = _a.endClocks;\n        urlContextHistory.closeActive(endClocks.relative);\n    });\n    lifeCycle.subscribe(2 /* LifeCycleEventType.VIEW_CREATED */, function (_a) {\n        var startClocks = _a.startClocks;\n        var viewUrl = location.href;\n        urlContextHistory.add(buildUrlContext({\n            url: viewUrl,\n            referrer: !previousViewUrl ? document.referrer : previousViewUrl,\n        }), startClocks.relative);\n        previousViewUrl = viewUrl;\n    });\n    var locationChangeSubscription = locationChangeObservable.subscribe(function (_a) {\n        var newLocation = _a.newLocation;\n        var current = urlContextHistory.find();\n        if (current) {\n            var changeTime = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.relativeNow)();\n            urlContextHistory.closeActive(changeTime);\n            urlContextHistory.add(buildUrlContext({\n                url: newLocation.href,\n                referrer: current.referrer,\n            }), changeTime);\n        }\n    });\n    function buildUrlContext(_a) {\n        var url = _a.url, referrer = _a.referrer;\n        return {\n            url: url,\n            referrer: referrer,\n        };\n    }\n    return {\n        findUrl: function (startTime) { return urlContextHistory.find(startTime); },\n        stop: function () {\n            locationChangeSubscription.unsubscribe();\n            urlContextHistory.stop();\n        },\n    };\n}\n//# sourceMappingURL=urlContexts.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2RvbWFpbi9jb250ZXh0cy91cmxDb250ZXh0cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUEwRjtBQUMxRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08saUNBQWlDLHlFQUFzQjtBQUN2RDtBQUNQLGdDQUFnQywrREFBWTtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsa0VBQVc7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QywyQ0FBMkM7QUFDbkY7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhcmNhc3Rlci8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vZG9tYWluL2NvbnRleHRzL3VybENvbnRleHRzLmpzP2E3ZDkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU0VTU0lPTl9USU1FX09VVF9ERUxBWSwgcmVsYXRpdmVOb3csIFZhbHVlSGlzdG9yeSB9IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItY29yZSc7XG4vKipcbiAqIFdlIHdhbnQgdG8gYXR0YWNoIHRvIGFuIGV2ZW50OlxuICogLSB0aGUgdXJsIGNvcnJlc3BvbmRpbmcgdG8gaXRzIHN0YXJ0XG4gKiAtIHRoZSByZWZlcnJlciBjb3JyZXNwb25kaW5nIHRvIHRoZSBwcmV2aW91cyB2aWV3IHVybCAob3IgZG9jdW1lbnQgcmVmZXJyZXIgZm9yIGluaXRpYWwgdmlldylcbiAqL1xuZXhwb3J0IHZhciBVUkxfQ09OVEVYVF9USU1FX09VVF9ERUxBWSA9IFNFU1NJT05fVElNRV9PVVRfREVMQVk7XG5leHBvcnQgZnVuY3Rpb24gc3RhcnRVcmxDb250ZXh0cyhsaWZlQ3ljbGUsIGxvY2F0aW9uQ2hhbmdlT2JzZXJ2YWJsZSwgbG9jYXRpb24pIHtcbiAgICB2YXIgdXJsQ29udGV4dEhpc3RvcnkgPSBuZXcgVmFsdWVIaXN0b3J5KFVSTF9DT05URVhUX1RJTUVfT1VUX0RFTEFZKTtcbiAgICB2YXIgcHJldmlvdXNWaWV3VXJsO1xuICAgIGxpZmVDeWNsZS5zdWJzY3JpYmUoNCAvKiBMaWZlQ3ljbGVFdmVudFR5cGUuVklFV19FTkRFRCAqLywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciBlbmRDbG9ja3MgPSBfYS5lbmRDbG9ja3M7XG4gICAgICAgIHVybENvbnRleHRIaXN0b3J5LmNsb3NlQWN0aXZlKGVuZENsb2Nrcy5yZWxhdGl2ZSk7XG4gICAgfSk7XG4gICAgbGlmZUN5Y2xlLnN1YnNjcmliZSgyIC8qIExpZmVDeWNsZUV2ZW50VHlwZS5WSUVXX0NSRUFURUQgKi8sIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgc3RhcnRDbG9ja3MgPSBfYS5zdGFydENsb2NrcztcbiAgICAgICAgdmFyIHZpZXdVcmwgPSBsb2NhdGlvbi5ocmVmO1xuICAgICAgICB1cmxDb250ZXh0SGlzdG9yeS5hZGQoYnVpbGRVcmxDb250ZXh0KHtcbiAgICAgICAgICAgIHVybDogdmlld1VybCxcbiAgICAgICAgICAgIHJlZmVycmVyOiAhcHJldmlvdXNWaWV3VXJsID8gZG9jdW1lbnQucmVmZXJyZXIgOiBwcmV2aW91c1ZpZXdVcmwsXG4gICAgICAgIH0pLCBzdGFydENsb2Nrcy5yZWxhdGl2ZSk7XG4gICAgICAgIHByZXZpb3VzVmlld1VybCA9IHZpZXdVcmw7XG4gICAgfSk7XG4gICAgdmFyIGxvY2F0aW9uQ2hhbmdlU3Vic2NyaXB0aW9uID0gbG9jYXRpb25DaGFuZ2VPYnNlcnZhYmxlLnN1YnNjcmliZShmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIG5ld0xvY2F0aW9uID0gX2EubmV3TG9jYXRpb247XG4gICAgICAgIHZhciBjdXJyZW50ID0gdXJsQ29udGV4dEhpc3RvcnkuZmluZCgpO1xuICAgICAgICBpZiAoY3VycmVudCkge1xuICAgICAgICAgICAgdmFyIGNoYW5nZVRpbWUgPSByZWxhdGl2ZU5vdygpO1xuICAgICAgICAgICAgdXJsQ29udGV4dEhpc3RvcnkuY2xvc2VBY3RpdmUoY2hhbmdlVGltZSk7XG4gICAgICAgICAgICB1cmxDb250ZXh0SGlzdG9yeS5hZGQoYnVpbGRVcmxDb250ZXh0KHtcbiAgICAgICAgICAgICAgICB1cmw6IG5ld0xvY2F0aW9uLmhyZWYsXG4gICAgICAgICAgICAgICAgcmVmZXJyZXI6IGN1cnJlbnQucmVmZXJyZXIsXG4gICAgICAgICAgICB9KSwgY2hhbmdlVGltZSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBmdW5jdGlvbiBidWlsZFVybENvbnRleHQoX2EpIHtcbiAgICAgICAgdmFyIHVybCA9IF9hLnVybCwgcmVmZXJyZXIgPSBfYS5yZWZlcnJlcjtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHVybDogdXJsLFxuICAgICAgICAgICAgcmVmZXJyZXI6IHJlZmVycmVyLFxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBmaW5kVXJsOiBmdW5jdGlvbiAoc3RhcnRUaW1lKSB7IHJldHVybiB1cmxDb250ZXh0SGlzdG9yeS5maW5kKHN0YXJ0VGltZSk7IH0sXG4gICAgICAgIHN0b3A6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGxvY2F0aW9uQ2hhbmdlU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB1cmxDb250ZXh0SGlzdG9yeS5zdG9wKCk7XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVybENvbnRleHRzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/contexts/urlContexts.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/contexts/viewContexts.js":
/*!****************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum-core/esm/domain/contexts/viewContexts.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   VIEW_CONTEXT_TIME_OUT_DELAY: () => (/* binding */ VIEW_CONTEXT_TIME_OUT_DELAY),\n/* harmony export */   startViewContexts: () => (/* binding */ startViewContexts)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/session/sessionConstants.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/valueHistory.js\");\n\nvar VIEW_CONTEXT_TIME_OUT_DELAY = _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.SESSION_TIME_OUT_DELAY;\nfunction startViewContexts(lifeCycle) {\n    var viewContextHistory = new _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.ValueHistory(VIEW_CONTEXT_TIME_OUT_DELAY);\n    lifeCycle.subscribe(2 /* LifeCycleEventType.VIEW_CREATED */, function (view) {\n        viewContextHistory.add(buildViewContext(view), view.startClocks.relative);\n    });\n    lifeCycle.subscribe(4 /* LifeCycleEventType.VIEW_ENDED */, function (_a) {\n        var endClocks = _a.endClocks;\n        viewContextHistory.closeActive(endClocks.relative);\n    });\n    lifeCycle.subscribe(8 /* LifeCycleEventType.SESSION_RENEWED */, function () {\n        viewContextHistory.reset();\n    });\n    function buildViewContext(view) {\n        return {\n            service: view.service,\n            version: view.version,\n            id: view.id,\n            name: view.name,\n            startClocks: view.startClocks,\n        };\n    }\n    return {\n        findView: function (startTime) { return viewContextHistory.find(startTime); },\n        stop: function () {\n            viewContextHistory.stop();\n        },\n    };\n}\n//# sourceMappingURL=viewContexts.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2RvbWFpbi9jb250ZXh0cy92aWV3Q29udGV4dHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUE2RTtBQUN0RSxrQ0FBa0MseUVBQXNCO0FBQ3hEO0FBQ1AsaUNBQWlDLCtEQUFZO0FBQzdDO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsNENBQTRDO0FBQ3JGO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFyY2FzdGVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLXJ1bS1jb3JlL2VzbS9kb21haW4vY29udGV4dHMvdmlld0NvbnRleHRzLmpzPzlmNTIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU0VTU0lPTl9USU1FX09VVF9ERUxBWSwgVmFsdWVIaXN0b3J5IH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJztcbmV4cG9ydCB2YXIgVklFV19DT05URVhUX1RJTUVfT1VUX0RFTEFZID0gU0VTU0lPTl9USU1FX09VVF9ERUxBWTtcbmV4cG9ydCBmdW5jdGlvbiBzdGFydFZpZXdDb250ZXh0cyhsaWZlQ3ljbGUpIHtcbiAgICB2YXIgdmlld0NvbnRleHRIaXN0b3J5ID0gbmV3IFZhbHVlSGlzdG9yeShWSUVXX0NPTlRFWFRfVElNRV9PVVRfREVMQVkpO1xuICAgIGxpZmVDeWNsZS5zdWJzY3JpYmUoMiAvKiBMaWZlQ3ljbGVFdmVudFR5cGUuVklFV19DUkVBVEVEICovLCBmdW5jdGlvbiAodmlldykge1xuICAgICAgICB2aWV3Q29udGV4dEhpc3RvcnkuYWRkKGJ1aWxkVmlld0NvbnRleHQodmlldyksIHZpZXcuc3RhcnRDbG9ja3MucmVsYXRpdmUpO1xuICAgIH0pO1xuICAgIGxpZmVDeWNsZS5zdWJzY3JpYmUoNCAvKiBMaWZlQ3ljbGVFdmVudFR5cGUuVklFV19FTkRFRCAqLywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciBlbmRDbG9ja3MgPSBfYS5lbmRDbG9ja3M7XG4gICAgICAgIHZpZXdDb250ZXh0SGlzdG9yeS5jbG9zZUFjdGl2ZShlbmRDbG9ja3MucmVsYXRpdmUpO1xuICAgIH0pO1xuICAgIGxpZmVDeWNsZS5zdWJzY3JpYmUoOCAvKiBMaWZlQ3ljbGVFdmVudFR5cGUuU0VTU0lPTl9SRU5FV0VEICovLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZpZXdDb250ZXh0SGlzdG9yeS5yZXNldCgpO1xuICAgIH0pO1xuICAgIGZ1bmN0aW9uIGJ1aWxkVmlld0NvbnRleHQodmlldykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc2VydmljZTogdmlldy5zZXJ2aWNlLFxuICAgICAgICAgICAgdmVyc2lvbjogdmlldy52ZXJzaW9uLFxuICAgICAgICAgICAgaWQ6IHZpZXcuaWQsXG4gICAgICAgICAgICBuYW1lOiB2aWV3Lm5hbWUsXG4gICAgICAgICAgICBzdGFydENsb2Nrczogdmlldy5zdGFydENsb2NrcyxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZmluZFZpZXc6IGZ1bmN0aW9uIChzdGFydFRpbWUpIHsgcmV0dXJuIHZpZXdDb250ZXh0SGlzdG9yeS5maW5kKHN0YXJ0VGltZSk7IH0sXG4gICAgICAgIHN0b3A6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZpZXdDb250ZXh0SGlzdG9yeS5zdG9wKCk7XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZpZXdDb250ZXh0cy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/contexts/viewContexts.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/getSessionReplayUrl.js":
/*!**************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum-core/esm/domain/getSessionReplayUrl.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getDatadogSiteUrl: () => (/* binding */ getDatadogSiteUrl),\n/* harmony export */   getSessionReplayUrl: () => (/* binding */ getSessionReplayUrl)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/configuration/intakeSites.js\");\n\nfunction getSessionReplayUrl(configuration, _a) {\n    var session = _a.session, viewContext = _a.viewContext, errorType = _a.errorType;\n    var sessionId = session ? session.id : 'no-session-id';\n    var parameters = [];\n    if (errorType !== undefined) {\n        parameters.push(\"error-type=\".concat(errorType));\n    }\n    if (viewContext) {\n        parameters.push(\"seed=\".concat(viewContext.id));\n        parameters.push(\"from=\".concat(viewContext.startClocks.timeStamp));\n    }\n    var origin = getDatadogSiteUrl(configuration);\n    var path = \"/rum/replay/sessions/\".concat(sessionId);\n    return \"\".concat(origin).concat(path, \"?\").concat(parameters.join('&'));\n}\nfunction getDatadogSiteUrl(rumConfiguration) {\n    var site = rumConfiguration.site;\n    var subdomain = rumConfiguration.subdomain || getSiteDefaultSubdomain(rumConfiguration);\n    return \"https://\".concat(subdomain ? \"\".concat(subdomain, \".\") : '').concat(site);\n}\nfunction getSiteDefaultSubdomain(configuration) {\n    switch (configuration.site) {\n        case _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.INTAKE_SITE_US1:\n        case _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.INTAKE_SITE_EU1:\n            return 'app';\n        case _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.INTAKE_SITE_STAGING:\n            return 'dd';\n        default:\n            return undefined;\n    }\n}\n//# sourceMappingURL=getSessionReplayUrl.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2RvbWFpbi9nZXRTZXNzaW9uUmVwbGF5VXJsLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE4RjtBQUN2RjtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsa0VBQWU7QUFDNUIsYUFBYSxrRUFBZTtBQUM1QjtBQUNBLGFBQWEsc0VBQW1CO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhcmNhc3Rlci8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vZG9tYWluL2dldFNlc3Npb25SZXBsYXlVcmwuanM/ZjcxNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJTlRBS0VfU0lURV9TVEFHSU5HLCBJTlRBS0VfU0lURV9VUzEsIElOVEFLRV9TSVRFX0VVMSB9IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItY29yZSc7XG5leHBvcnQgZnVuY3Rpb24gZ2V0U2Vzc2lvblJlcGxheVVybChjb25maWd1cmF0aW9uLCBfYSkge1xuICAgIHZhciBzZXNzaW9uID0gX2Euc2Vzc2lvbiwgdmlld0NvbnRleHQgPSBfYS52aWV3Q29udGV4dCwgZXJyb3JUeXBlID0gX2EuZXJyb3JUeXBlO1xuICAgIHZhciBzZXNzaW9uSWQgPSBzZXNzaW9uID8gc2Vzc2lvbi5pZCA6ICduby1zZXNzaW9uLWlkJztcbiAgICB2YXIgcGFyYW1ldGVycyA9IFtdO1xuICAgIGlmIChlcnJvclR5cGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBwYXJhbWV0ZXJzLnB1c2goXCJlcnJvci10eXBlPVwiLmNvbmNhdChlcnJvclR5cGUpKTtcbiAgICB9XG4gICAgaWYgKHZpZXdDb250ZXh0KSB7XG4gICAgICAgIHBhcmFtZXRlcnMucHVzaChcInNlZWQ9XCIuY29uY2F0KHZpZXdDb250ZXh0LmlkKSk7XG4gICAgICAgIHBhcmFtZXRlcnMucHVzaChcImZyb209XCIuY29uY2F0KHZpZXdDb250ZXh0LnN0YXJ0Q2xvY2tzLnRpbWVTdGFtcCkpO1xuICAgIH1cbiAgICB2YXIgb3JpZ2luID0gZ2V0RGF0YWRvZ1NpdGVVcmwoY29uZmlndXJhdGlvbik7XG4gICAgdmFyIHBhdGggPSBcIi9ydW0vcmVwbGF5L3Nlc3Npb25zL1wiLmNvbmNhdChzZXNzaW9uSWQpO1xuICAgIHJldHVybiBcIlwiLmNvbmNhdChvcmlnaW4pLmNvbmNhdChwYXRoLCBcIj9cIikuY29uY2F0KHBhcmFtZXRlcnMuam9pbignJicpKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXREYXRhZG9nU2l0ZVVybChydW1Db25maWd1cmF0aW9uKSB7XG4gICAgdmFyIHNpdGUgPSBydW1Db25maWd1cmF0aW9uLnNpdGU7XG4gICAgdmFyIHN1YmRvbWFpbiA9IHJ1bUNvbmZpZ3VyYXRpb24uc3ViZG9tYWluIHx8IGdldFNpdGVEZWZhdWx0U3ViZG9tYWluKHJ1bUNvbmZpZ3VyYXRpb24pO1xuICAgIHJldHVybiBcImh0dHBzOi8vXCIuY29uY2F0KHN1YmRvbWFpbiA/IFwiXCIuY29uY2F0KHN1YmRvbWFpbiwgXCIuXCIpIDogJycpLmNvbmNhdChzaXRlKTtcbn1cbmZ1bmN0aW9uIGdldFNpdGVEZWZhdWx0U3ViZG9tYWluKGNvbmZpZ3VyYXRpb24pIHtcbiAgICBzd2l0Y2ggKGNvbmZpZ3VyYXRpb24uc2l0ZSkge1xuICAgICAgICBjYXNlIElOVEFLRV9TSVRFX1VTMTpcbiAgICAgICAgY2FzZSBJTlRBS0VfU0lURV9FVTE6XG4gICAgICAgICAgICByZXR1cm4gJ2FwcCc7XG4gICAgICAgIGNhc2UgSU5UQUtFX1NJVEVfU1RBR0lORzpcbiAgICAgICAgICAgIHJldHVybiAnZGQnO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXRTZXNzaW9uUmVwbGF5VXJsLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/getSessionReplayUrl.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/lifeCycle.js":
/*!****************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum-core/esm/domain/lifeCycle.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LifeCycle: () => (/* binding */ LifeCycle)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/abstractLifeCycle.js\");\n\nvar LifeCycle = (_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.AbstractLifeCycle);\n//# sourceMappingURL=lifeCycle.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2RvbWFpbi9saWZlQ3ljbGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBMEQ7QUFDbkQsaUJBQWlCLG9FQUFpQjtBQUN6QyIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhcmNhc3Rlci8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vZG9tYWluL2xpZmVDeWNsZS5qcz85M2MxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFic3RyYWN0TGlmZUN5Y2xlIH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJztcbmV4cG9ydCB2YXIgTGlmZUN5Y2xlID0gKEFic3RyYWN0TGlmZUN5Y2xlKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxpZmVDeWNsZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/lifeCycle.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/limitModification.js":
/*!************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum-core/esm/domain/limitModification.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   limitModification: () => (/* binding */ limitModification)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/mergeInto.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/polyfills.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/typeUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/serialisation/sanitize.js\");\n\n/**\n * Current limitation:\n * - field path do not support array, 'a.b.c' only\n */\nfunction limitModification(object, modifiableFieldPaths, modifier) {\n    var clone = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.deepClone)(object);\n    var result = modifier(clone);\n    (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.objectEntries)(modifiableFieldPaths).forEach(function (_a) {\n        var fieldPath = _a[0], fieldType = _a[1];\n        var newValue = get(clone, fieldPath);\n        var newType = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.getType)(newValue);\n        if (newType === fieldType) {\n            set(object, fieldPath, (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.sanitize)(newValue));\n        }\n        else if (fieldType === 'object' && (newType === 'undefined' || newType === 'null')) {\n            set(object, fieldPath, {});\n        }\n    });\n    return result;\n}\nfunction get(object, path) {\n    var current = object;\n    for (var _i = 0, _a = path.split('.'); _i < _a.length; _i++) {\n        var field = _a[_i];\n        if (!isValidObjectContaining(current, field)) {\n            return;\n        }\n        current = current[field];\n    }\n    return current;\n}\nfunction set(object, path, value) {\n    var current = object;\n    var fields = path.split('.');\n    for (var i = 0; i < fields.length; i += 1) {\n        var field = fields[i];\n        if (!isValidObject(current)) {\n            return;\n        }\n        if (i !== fields.length - 1) {\n            current = current[field];\n        }\n        else {\n            current[field] = value;\n        }\n    }\n}\nfunction isValidObject(object) {\n    return (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.getType)(object) === 'object';\n}\nfunction isValidObjectContaining(object, field) {\n    return isValidObject(object) && Object.prototype.hasOwnProperty.call(object, field);\n}\n//# sourceMappingURL=limitModification.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2RvbWFpbi9saW1pdE1vZGlmaWNhdGlvbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFvRjtBQUNwRjtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsZ0JBQWdCLGdFQUFTO0FBQ3pCO0FBQ0EsSUFBSSxvRUFBYTtBQUNqQjtBQUNBO0FBQ0Esc0JBQXNCLDhEQUFPO0FBQzdCO0FBQ0EsbUNBQW1DLCtEQUFRO0FBQzNDO0FBQ0E7QUFDQSxxQ0FBcUM7QUFDckM7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsZ0JBQWdCO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsbUJBQW1CO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyw4REFBTztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFyY2FzdGVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLXJ1bS1jb3JlL2VzbS9kb21haW4vbGltaXRNb2RpZmljYXRpb24uanM/M2QzNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzYW5pdGl6ZSwgZGVlcENsb25lLCBnZXRUeXBlLCBvYmplY3RFbnRyaWVzIH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJztcbi8qKlxuICogQ3VycmVudCBsaW1pdGF0aW9uOlxuICogLSBmaWVsZCBwYXRoIGRvIG5vdCBzdXBwb3J0IGFycmF5LCAnYS5iLmMnIG9ubHlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpbWl0TW9kaWZpY2F0aW9uKG9iamVjdCwgbW9kaWZpYWJsZUZpZWxkUGF0aHMsIG1vZGlmaWVyKSB7XG4gICAgdmFyIGNsb25lID0gZGVlcENsb25lKG9iamVjdCk7XG4gICAgdmFyIHJlc3VsdCA9IG1vZGlmaWVyKGNsb25lKTtcbiAgICBvYmplY3RFbnRyaWVzKG1vZGlmaWFibGVGaWVsZFBhdGhzKS5mb3JFYWNoKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgZmllbGRQYXRoID0gX2FbMF0sIGZpZWxkVHlwZSA9IF9hWzFdO1xuICAgICAgICB2YXIgbmV3VmFsdWUgPSBnZXQoY2xvbmUsIGZpZWxkUGF0aCk7XG4gICAgICAgIHZhciBuZXdUeXBlID0gZ2V0VHlwZShuZXdWYWx1ZSk7XG4gICAgICAgIGlmIChuZXdUeXBlID09PSBmaWVsZFR5cGUpIHtcbiAgICAgICAgICAgIHNldChvYmplY3QsIGZpZWxkUGF0aCwgc2FuaXRpemUobmV3VmFsdWUpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChmaWVsZFR5cGUgPT09ICdvYmplY3QnICYmIChuZXdUeXBlID09PSAndW5kZWZpbmVkJyB8fCBuZXdUeXBlID09PSAnbnVsbCcpKSB7XG4gICAgICAgICAgICBzZXQob2JqZWN0LCBmaWVsZFBhdGgsIHt9KTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBnZXQob2JqZWN0LCBwYXRoKSB7XG4gICAgdmFyIGN1cnJlbnQgPSBvYmplY3Q7XG4gICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHBhdGguc3BsaXQoJy4nKTsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgdmFyIGZpZWxkID0gX2FbX2ldO1xuICAgICAgICBpZiAoIWlzVmFsaWRPYmplY3RDb250YWluaW5nKGN1cnJlbnQsIGZpZWxkKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGN1cnJlbnQgPSBjdXJyZW50W2ZpZWxkXTtcbiAgICB9XG4gICAgcmV0dXJuIGN1cnJlbnQ7XG59XG5mdW5jdGlvbiBzZXQob2JqZWN0LCBwYXRoLCB2YWx1ZSkge1xuICAgIHZhciBjdXJyZW50ID0gb2JqZWN0O1xuICAgIHZhciBmaWVsZHMgPSBwYXRoLnNwbGl0KCcuJyk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaWVsZHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgdmFyIGZpZWxkID0gZmllbGRzW2ldO1xuICAgICAgICBpZiAoIWlzVmFsaWRPYmplY3QoY3VycmVudCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaSAhPT0gZmllbGRzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50W2ZpZWxkXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGN1cnJlbnRbZmllbGRdID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBpc1ZhbGlkT2JqZWN0KG9iamVjdCkge1xuICAgIHJldHVybiBnZXRUeXBlKG9iamVjdCkgPT09ICdvYmplY3QnO1xufVxuZnVuY3Rpb24gaXNWYWxpZE9iamVjdENvbnRhaW5pbmcob2JqZWN0LCBmaWVsZCkge1xuICAgIHJldHVybiBpc1ZhbGlkT2JqZWN0KG9iamVjdCkgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgZmllbGQpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGltaXRNb2RpZmljYXRpb24uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/limitModification.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/requestCollection.js":
/*!************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum-core/esm/domain/requestCollection.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   startRequestCollection: () => (/* binding */ startRequestCollection),\n/* harmony export */   trackFetch: () => (/* binding */ trackFetch),\n/* harmony export */   trackXhr: () => (/* binding */ trackXhr)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/browser/xhrObservable.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/browser/fetchObservable.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/responseUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/readBytesFromStream.js\");\n/* harmony import */ var _rumEventsCollection_resource_resourceUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./rumEventsCollection/resource/resourceUtils */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/resource/resourceUtils.js\");\n/* harmony import */ var _tracing_tracer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./tracing/tracer */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/tracing/tracer.js\");\n\n\n\nvar nextRequestIndex = 1;\nfunction startRequestCollection(lifeCycle, configuration, sessionManager) {\n    var tracer = (0,_tracing_tracer__WEBPACK_IMPORTED_MODULE_1__.startTracer)(configuration, sessionManager);\n    trackXhr(lifeCycle, configuration, tracer);\n    trackFetch(lifeCycle, configuration, tracer);\n}\nfunction trackXhr(lifeCycle, configuration, tracer) {\n    var subscription = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.initXhrObservable)().subscribe(function (rawContext) {\n        var context = rawContext;\n        if (!(0,_rumEventsCollection_resource_resourceUtils__WEBPACK_IMPORTED_MODULE_0__.isAllowedRequestUrl)(configuration, context.url)) {\n            return;\n        }\n        switch (context.state) {\n            case 'start':\n                tracer.traceXhr(context, context.xhr);\n                context.requestIndex = getNextRequestIndex();\n                lifeCycle.notify(5 /* LifeCycleEventType.REQUEST_STARTED */, {\n                    requestIndex: context.requestIndex,\n                    url: context.url,\n                });\n                break;\n            case 'complete':\n                tracer.clearTracingIfNeeded(context);\n                lifeCycle.notify(6 /* LifeCycleEventType.REQUEST_COMPLETED */, {\n                    duration: context.duration,\n                    method: context.method,\n                    requestIndex: context.requestIndex,\n                    spanId: context.spanId,\n                    startClocks: context.startClocks,\n                    status: context.status,\n                    traceId: context.traceId,\n                    traceSampled: context.traceSampled,\n                    type: \"xhr\" /* RequestType.XHR */,\n                    url: context.url,\n                    xhr: context.xhr,\n                });\n                break;\n        }\n    });\n    return { stop: function () { return subscription.unsubscribe(); } };\n}\nfunction trackFetch(lifeCycle, configuration, tracer) {\n    var subscription = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.initFetchObservable)().subscribe(function (rawContext) {\n        var context = rawContext;\n        if (!(0,_rumEventsCollection_resource_resourceUtils__WEBPACK_IMPORTED_MODULE_0__.isAllowedRequestUrl)(configuration, context.url)) {\n            return;\n        }\n        switch (context.state) {\n            case 'start':\n                tracer.traceFetch(context);\n                context.requestIndex = getNextRequestIndex();\n                lifeCycle.notify(5 /* LifeCycleEventType.REQUEST_STARTED */, {\n                    requestIndex: context.requestIndex,\n                    url: context.url,\n                });\n                break;\n            case 'resolve':\n                waitForResponseToComplete(context, function (duration) {\n                    tracer.clearTracingIfNeeded(context);\n                    lifeCycle.notify(6 /* LifeCycleEventType.REQUEST_COMPLETED */, {\n                        duration: duration,\n                        method: context.method,\n                        requestIndex: context.requestIndex,\n                        responseType: context.responseType,\n                        spanId: context.spanId,\n                        startClocks: context.startClocks,\n                        status: context.status,\n                        traceId: context.traceId,\n                        traceSampled: context.traceSampled,\n                        type: \"fetch\" /* RequestType.FETCH */,\n                        url: context.url,\n                        response: context.response,\n                        init: context.init,\n                        input: context.input,\n                    });\n                });\n                break;\n        }\n    });\n    return { stop: function () { return subscription.unsubscribe(); } };\n}\nfunction getNextRequestIndex() {\n    var result = nextRequestIndex;\n    nextRequestIndex += 1;\n    return result;\n}\nfunction waitForResponseToComplete(context, callback) {\n    var clonedResponse = context.response && (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.tryToClone)(context.response);\n    if (!clonedResponse || !clonedResponse.body) {\n        // do not try to wait for the response if the clone failed, fetch error or null body\n        callback((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.elapsed)(context.startClocks.timeStamp, (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.timeStampNow)()));\n    }\n    else {\n        (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__.readBytesFromStream)(clonedResponse.body, function () {\n            callback((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.elapsed)(context.startClocks.timeStamp, (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.timeStampNow)()));\n        }, {\n            bytesLimit: Number.POSITIVE_INFINITY,\n            collectStreamBody: false,\n        });\n    }\n}\n//# sourceMappingURL=requestCollection.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2RvbWFpbi9yZXF1ZXN0Q29sbGVjdGlvbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQXdJO0FBQ3JEO0FBQ3BDO0FBQy9DO0FBQ087QUFDUCxpQkFBaUIsNERBQVc7QUFDNUI7QUFDQTtBQUNBO0FBQ087QUFDUCx1QkFBdUIsd0VBQWlCO0FBQ3hDO0FBQ0EsYUFBYSxnR0FBbUI7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsS0FBSztBQUNMLGFBQWEsb0JBQW9CO0FBQ2pDO0FBQ087QUFDUCx1QkFBdUIsMEVBQW1CO0FBQzFDO0FBQ0EsYUFBYSxnR0FBbUI7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsS0FBSztBQUNMLGFBQWEsb0JBQW9CO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLGlFQUFVO0FBQ3ZEO0FBQ0E7QUFDQSxpQkFBaUIsOERBQU8sZ0NBQWdDLG1FQUFZO0FBQ3BFO0FBQ0E7QUFDQSxRQUFRLDBFQUFtQjtBQUMzQixxQkFBcUIsOERBQU8sZ0NBQWdDLG1FQUFZO0FBQ3hFLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhcmNhc3Rlci8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vZG9tYWluL3JlcXVlc3RDb2xsZWN0aW9uLmpzP2E2NDMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaW5pdEZldGNoT2JzZXJ2YWJsZSwgaW5pdFhock9ic2VydmFibGUsIHJlYWRCeXRlc0Zyb21TdHJlYW0sIGVsYXBzZWQsIHRpbWVTdGFtcE5vdywgdHJ5VG9DbG9uZSwgfSBmcm9tICdAZGF0YWRvZy9icm93c2VyLWNvcmUnO1xuaW1wb3J0IHsgaXNBbGxvd2VkUmVxdWVzdFVybCB9IGZyb20gJy4vcnVtRXZlbnRzQ29sbGVjdGlvbi9yZXNvdXJjZS9yZXNvdXJjZVV0aWxzJztcbmltcG9ydCB7IHN0YXJ0VHJhY2VyIH0gZnJvbSAnLi90cmFjaW5nL3RyYWNlcic7XG52YXIgbmV4dFJlcXVlc3RJbmRleCA9IDE7XG5leHBvcnQgZnVuY3Rpb24gc3RhcnRSZXF1ZXN0Q29sbGVjdGlvbihsaWZlQ3ljbGUsIGNvbmZpZ3VyYXRpb24sIHNlc3Npb25NYW5hZ2VyKSB7XG4gICAgdmFyIHRyYWNlciA9IHN0YXJ0VHJhY2VyKGNvbmZpZ3VyYXRpb24sIHNlc3Npb25NYW5hZ2VyKTtcbiAgICB0cmFja1hocihsaWZlQ3ljbGUsIGNvbmZpZ3VyYXRpb24sIHRyYWNlcik7XG4gICAgdHJhY2tGZXRjaChsaWZlQ3ljbGUsIGNvbmZpZ3VyYXRpb24sIHRyYWNlcik7XG59XG5leHBvcnQgZnVuY3Rpb24gdHJhY2tYaHIobGlmZUN5Y2xlLCBjb25maWd1cmF0aW9uLCB0cmFjZXIpIHtcbiAgICB2YXIgc3Vic2NyaXB0aW9uID0gaW5pdFhock9ic2VydmFibGUoKS5zdWJzY3JpYmUoZnVuY3Rpb24gKHJhd0NvbnRleHQpIHtcbiAgICAgICAgdmFyIGNvbnRleHQgPSByYXdDb250ZXh0O1xuICAgICAgICBpZiAoIWlzQWxsb3dlZFJlcXVlc3RVcmwoY29uZmlndXJhdGlvbiwgY29udGV4dC51cmwpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoIChjb250ZXh0LnN0YXRlKSB7XG4gICAgICAgICAgICBjYXNlICdzdGFydCc6XG4gICAgICAgICAgICAgICAgdHJhY2VyLnRyYWNlWGhyKGNvbnRleHQsIGNvbnRleHQueGhyKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnJlcXVlc3RJbmRleCA9IGdldE5leHRSZXF1ZXN0SW5kZXgoKTtcbiAgICAgICAgICAgICAgICBsaWZlQ3ljbGUubm90aWZ5KDUgLyogTGlmZUN5Y2xlRXZlbnRUeXBlLlJFUVVFU1RfU1RBUlRFRCAqLywge1xuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0SW5kZXg6IGNvbnRleHQucmVxdWVzdEluZGV4LFxuICAgICAgICAgICAgICAgICAgICB1cmw6IGNvbnRleHQudXJsLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnY29tcGxldGUnOlxuICAgICAgICAgICAgICAgIHRyYWNlci5jbGVhclRyYWNpbmdJZk5lZWRlZChjb250ZXh0KTtcbiAgICAgICAgICAgICAgICBsaWZlQ3ljbGUubm90aWZ5KDYgLyogTGlmZUN5Y2xlRXZlbnRUeXBlLlJFUVVFU1RfQ09NUExFVEVEICovLCB7XG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBjb250ZXh0LmR1cmF0aW9uLFxuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IGNvbnRleHQubWV0aG9kLFxuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0SW5kZXg6IGNvbnRleHQucmVxdWVzdEluZGV4LFxuICAgICAgICAgICAgICAgICAgICBzcGFuSWQ6IGNvbnRleHQuc3BhbklkLFxuICAgICAgICAgICAgICAgICAgICBzdGFydENsb2NrczogY29udGV4dC5zdGFydENsb2NrcyxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBjb250ZXh0LnN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgdHJhY2VJZDogY29udGV4dC50cmFjZUlkLFxuICAgICAgICAgICAgICAgICAgICB0cmFjZVNhbXBsZWQ6IGNvbnRleHQudHJhY2VTYW1wbGVkLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInhoclwiIC8qIFJlcXVlc3RUeXBlLlhIUiAqLyxcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBjb250ZXh0LnVybCxcbiAgICAgICAgICAgICAgICAgICAgeGhyOiBjb250ZXh0LnhocixcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiB7IHN0b3A6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpOyB9IH07XG59XG5leHBvcnQgZnVuY3Rpb24gdHJhY2tGZXRjaChsaWZlQ3ljbGUsIGNvbmZpZ3VyYXRpb24sIHRyYWNlcikge1xuICAgIHZhciBzdWJzY3JpcHRpb24gPSBpbml0RmV0Y2hPYnNlcnZhYmxlKCkuc3Vic2NyaWJlKGZ1bmN0aW9uIChyYXdDb250ZXh0KSB7XG4gICAgICAgIHZhciBjb250ZXh0ID0gcmF3Q29udGV4dDtcbiAgICAgICAgaWYgKCFpc0FsbG93ZWRSZXF1ZXN0VXJsKGNvbmZpZ3VyYXRpb24sIGNvbnRleHQudXJsKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAoY29udGV4dC5zdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSAnc3RhcnQnOlxuICAgICAgICAgICAgICAgIHRyYWNlci50cmFjZUZldGNoKGNvbnRleHQpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQucmVxdWVzdEluZGV4ID0gZ2V0TmV4dFJlcXVlc3RJbmRleCgpO1xuICAgICAgICAgICAgICAgIGxpZmVDeWNsZS5ub3RpZnkoNSAvKiBMaWZlQ3ljbGVFdmVudFR5cGUuUkVRVUVTVF9TVEFSVEVEICovLCB7XG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3RJbmRleDogY29udGV4dC5yZXF1ZXN0SW5kZXgsXG4gICAgICAgICAgICAgICAgICAgIHVybDogY29udGV4dC51cmwsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdyZXNvbHZlJzpcbiAgICAgICAgICAgICAgICB3YWl0Rm9yUmVzcG9uc2VUb0NvbXBsZXRlKGNvbnRleHQsIGZ1bmN0aW9uIChkdXJhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICB0cmFjZXIuY2xlYXJUcmFjaW5nSWZOZWVkZWQoY29udGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIGxpZmVDeWNsZS5ub3RpZnkoNiAvKiBMaWZlQ3ljbGVFdmVudFR5cGUuUkVRVUVTVF9DT01QTEVURUQgKi8sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBkdXJhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogY29udGV4dC5tZXRob2QsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0SW5kZXg6IGNvbnRleHQucmVxdWVzdEluZGV4LFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VUeXBlOiBjb250ZXh0LnJlc3BvbnNlVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwYW5JZDogY29udGV4dC5zcGFuSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydENsb2NrczogY29udGV4dC5zdGFydENsb2NrcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogY29udGV4dC5zdGF0dXMsXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFjZUlkOiBjb250ZXh0LnRyYWNlSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFjZVNhbXBsZWQ6IGNvbnRleHQudHJhY2VTYW1wbGVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJmZXRjaFwiIC8qIFJlcXVlc3RUeXBlLkZFVENIICovLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBjb250ZXh0LnVybCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlOiBjb250ZXh0LnJlc3BvbnNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5pdDogY29udGV4dC5pbml0LFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQ6IGNvbnRleHQuaW5wdXQsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHsgc3RvcDogZnVuY3Rpb24gKCkgeyByZXR1cm4gc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7IH0gfTtcbn1cbmZ1bmN0aW9uIGdldE5leHRSZXF1ZXN0SW5kZXgoKSB7XG4gICAgdmFyIHJlc3VsdCA9IG5leHRSZXF1ZXN0SW5kZXg7XG4gICAgbmV4dFJlcXVlc3RJbmRleCArPSAxO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiB3YWl0Rm9yUmVzcG9uc2VUb0NvbXBsZXRlKGNvbnRleHQsIGNhbGxiYWNrKSB7XG4gICAgdmFyIGNsb25lZFJlc3BvbnNlID0gY29udGV4dC5yZXNwb25zZSAmJiB0cnlUb0Nsb25lKGNvbnRleHQucmVzcG9uc2UpO1xuICAgIGlmICghY2xvbmVkUmVzcG9uc2UgfHwgIWNsb25lZFJlc3BvbnNlLmJvZHkpIHtcbiAgICAgICAgLy8gZG8gbm90IHRyeSB0byB3YWl0IGZvciB0aGUgcmVzcG9uc2UgaWYgdGhlIGNsb25lIGZhaWxlZCwgZmV0Y2ggZXJyb3Igb3IgbnVsbCBib2R5XG4gICAgICAgIGNhbGxiYWNrKGVsYXBzZWQoY29udGV4dC5zdGFydENsb2Nrcy50aW1lU3RhbXAsIHRpbWVTdGFtcE5vdygpKSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZWFkQnl0ZXNGcm9tU3RyZWFtKGNsb25lZFJlc3BvbnNlLmJvZHksIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKGVsYXBzZWQoY29udGV4dC5zdGFydENsb2Nrcy50aW1lU3RhbXAsIHRpbWVTdGFtcE5vdygpKSk7XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGJ5dGVzTGltaXQ6IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSxcbiAgICAgICAgICAgIGNvbGxlY3RTdHJlYW1Cb2R5OiBmYWxzZSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVxdWVzdENvbGxlY3Rpb24uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/requestCollection.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/action/actionCollection.js":
/*!**************************************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/action/actionCollection.js ***!
  \**************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   startActionCollection: () => (/* binding */ startActionCollection)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/functionUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/polyfills.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/mergeInto.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/stringUtils.js\");\n/* harmony import */ var _trackClickActions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./trackClickActions */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/action/trackClickActions.js\");\n\n\nfunction startActionCollection(lifeCycle, domMutationObservable, configuration, foregroundContexts) {\n    lifeCycle.subscribe(1 /* LifeCycleEventType.AUTO_ACTION_COMPLETED */, function (action) {\n        return lifeCycle.notify(10 /* LifeCycleEventType.RAW_RUM_EVENT_COLLECTED */, processAction(action, foregroundContexts));\n    });\n    var actionContexts = { findActionId: _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.noop };\n    if (configuration.trackUserInteractions) {\n        actionContexts = (0,_trackClickActions__WEBPACK_IMPORTED_MODULE_0__.trackClickActions)(lifeCycle, domMutationObservable, configuration).actionContexts;\n    }\n    return {\n        addAction: function (action, savedCommonContext) {\n            lifeCycle.notify(10 /* LifeCycleEventType.RAW_RUM_EVENT_COLLECTED */, (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.assign)({\n                savedCommonContext: savedCommonContext,\n            }, processAction(action, foregroundContexts)));\n        },\n        actionContexts: actionContexts,\n    };\n}\nfunction processAction(action, foregroundContexts) {\n    var autoActionProperties = isAutoAction(action)\n        ? {\n            action: {\n                id: action.id,\n                loading_time: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.toServerDuration)(action.duration),\n                frustration: {\n                    type: action.frustrationTypes,\n                },\n                error: {\n                    count: action.counts.errorCount,\n                },\n                long_task: {\n                    count: action.counts.longTaskCount,\n                },\n                resource: {\n                    count: action.counts.resourceCount,\n                },\n            },\n            _dd: {\n                action: {\n                    target: action.target,\n                    position: action.position,\n                },\n            },\n        }\n        : undefined;\n    var customerContext = !isAutoAction(action) ? action.context : undefined;\n    var actionEvent = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.combine)({\n        action: {\n            id: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.generateUUID)(),\n            target: {\n                name: action.name,\n            },\n            type: action.type,\n        },\n        date: action.startClocks.timeStamp,\n        type: \"action\" /* RumEventType.ACTION */,\n    }, autoActionProperties);\n    var inForeground = foregroundContexts.isInForegroundAt(action.startClocks.relative);\n    if (inForeground !== undefined) {\n        actionEvent.view = { in_foreground: inForeground };\n    }\n    return {\n        customerContext: customerContext,\n        rawRumEvent: actionEvent,\n        startTime: action.startClocks.relative,\n        domainContext: isAutoAction(action) ? { event: action.event, events: action.events } : {},\n    };\n}\nfunction isAutoAction(action) {\n    return action.type !== \"custom\" /* ActionType.CUSTOM */;\n}\n//# sourceMappingURL=actionCollection.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2RvbWFpbi9ydW1FdmVudHNDb2xsZWN0aW9uL2FjdGlvbi9hY3Rpb25Db2xsZWN0aW9uLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBOEY7QUFDdEM7QUFDakQ7QUFDUDtBQUNBO0FBQ0EsS0FBSztBQUNMLDJCQUEyQixjQUFjLHVEQUFJO0FBQzdDO0FBQ0EseUJBQXlCLHFFQUFpQjtBQUMxQztBQUNBO0FBQ0E7QUFDQSxrRkFBa0YsNkRBQU07QUFDeEY7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsdUVBQWdCO0FBQzlDO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsOERBQU87QUFDN0I7QUFDQSxnQkFBZ0IsbUVBQVk7QUFDNUI7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCw2Q0FBNkMsSUFBSTtBQUNqRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYXJjYXN0ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2RvbWFpbi9ydW1FdmVudHNDb2xsZWN0aW9uL2FjdGlvbi9hY3Rpb25Db2xsZWN0aW9uLmpzP2IzYzIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbm9vcCwgYXNzaWduLCBjb21iaW5lLCB0b1NlcnZlckR1cmF0aW9uLCBnZW5lcmF0ZVVVSUQgfSBmcm9tICdAZGF0YWRvZy9icm93c2VyLWNvcmUnO1xuaW1wb3J0IHsgdHJhY2tDbGlja0FjdGlvbnMgfSBmcm9tICcuL3RyYWNrQ2xpY2tBY3Rpb25zJztcbmV4cG9ydCBmdW5jdGlvbiBzdGFydEFjdGlvbkNvbGxlY3Rpb24obGlmZUN5Y2xlLCBkb21NdXRhdGlvbk9ic2VydmFibGUsIGNvbmZpZ3VyYXRpb24sIGZvcmVncm91bmRDb250ZXh0cykge1xuICAgIGxpZmVDeWNsZS5zdWJzY3JpYmUoMSAvKiBMaWZlQ3ljbGVFdmVudFR5cGUuQVVUT19BQ1RJT05fQ09NUExFVEVEICovLCBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICAgIHJldHVybiBsaWZlQ3ljbGUubm90aWZ5KDEwIC8qIExpZmVDeWNsZUV2ZW50VHlwZS5SQVdfUlVNX0VWRU5UX0NPTExFQ1RFRCAqLywgcHJvY2Vzc0FjdGlvbihhY3Rpb24sIGZvcmVncm91bmRDb250ZXh0cykpO1xuICAgIH0pO1xuICAgIHZhciBhY3Rpb25Db250ZXh0cyA9IHsgZmluZEFjdGlvbklkOiBub29wIH07XG4gICAgaWYgKGNvbmZpZ3VyYXRpb24udHJhY2tVc2VySW50ZXJhY3Rpb25zKSB7XG4gICAgICAgIGFjdGlvbkNvbnRleHRzID0gdHJhY2tDbGlja0FjdGlvbnMobGlmZUN5Y2xlLCBkb21NdXRhdGlvbk9ic2VydmFibGUsIGNvbmZpZ3VyYXRpb24pLmFjdGlvbkNvbnRleHRzO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBhZGRBY3Rpb246IGZ1bmN0aW9uIChhY3Rpb24sIHNhdmVkQ29tbW9uQ29udGV4dCkge1xuICAgICAgICAgICAgbGlmZUN5Y2xlLm5vdGlmeSgxMCAvKiBMaWZlQ3ljbGVFdmVudFR5cGUuUkFXX1JVTV9FVkVOVF9DT0xMRUNURUQgKi8sIGFzc2lnbih7XG4gICAgICAgICAgICAgICAgc2F2ZWRDb21tb25Db250ZXh0OiBzYXZlZENvbW1vbkNvbnRleHQsXG4gICAgICAgICAgICB9LCBwcm9jZXNzQWN0aW9uKGFjdGlvbiwgZm9yZWdyb3VuZENvbnRleHRzKSkpO1xuICAgICAgICB9LFxuICAgICAgICBhY3Rpb25Db250ZXh0czogYWN0aW9uQ29udGV4dHMsXG4gICAgfTtcbn1cbmZ1bmN0aW9uIHByb2Nlc3NBY3Rpb24oYWN0aW9uLCBmb3JlZ3JvdW5kQ29udGV4dHMpIHtcbiAgICB2YXIgYXV0b0FjdGlvblByb3BlcnRpZXMgPSBpc0F1dG9BY3Rpb24oYWN0aW9uKVxuICAgICAgICA/IHtcbiAgICAgICAgICAgIGFjdGlvbjoge1xuICAgICAgICAgICAgICAgIGlkOiBhY3Rpb24uaWQsXG4gICAgICAgICAgICAgICAgbG9hZGluZ190aW1lOiB0b1NlcnZlckR1cmF0aW9uKGFjdGlvbi5kdXJhdGlvbiksXG4gICAgICAgICAgICAgICAgZnJ1c3RyYXRpb246IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogYWN0aW9uLmZydXN0cmF0aW9uVHlwZXMsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlcnJvcjoge1xuICAgICAgICAgICAgICAgICAgICBjb3VudDogYWN0aW9uLmNvdW50cy5lcnJvckNvdW50LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgbG9uZ190YXNrOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvdW50OiBhY3Rpb24uY291bnRzLmxvbmdUYXNrQ291bnQsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICByZXNvdXJjZToge1xuICAgICAgICAgICAgICAgICAgICBjb3VudDogYWN0aW9uLmNvdW50cy5yZXNvdXJjZUNvdW50LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2RkOiB7XG4gICAgICAgICAgICAgICAgYWN0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogYWN0aW9uLnRhcmdldCxcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IGFjdGlvbi5wb3NpdGlvbixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICB2YXIgY3VzdG9tZXJDb250ZXh0ID0gIWlzQXV0b0FjdGlvbihhY3Rpb24pID8gYWN0aW9uLmNvbnRleHQgOiB1bmRlZmluZWQ7XG4gICAgdmFyIGFjdGlvbkV2ZW50ID0gY29tYmluZSh7XG4gICAgICAgIGFjdGlvbjoge1xuICAgICAgICAgICAgaWQ6IGdlbmVyYXRlVVVJRCgpLFxuICAgICAgICAgICAgdGFyZ2V0OiB7XG4gICAgICAgICAgICAgICAgbmFtZTogYWN0aW9uLm5hbWUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdHlwZTogYWN0aW9uLnR5cGUsXG4gICAgICAgIH0sXG4gICAgICAgIGRhdGU6IGFjdGlvbi5zdGFydENsb2Nrcy50aW1lU3RhbXAsXG4gICAgICAgIHR5cGU6IFwiYWN0aW9uXCIgLyogUnVtRXZlbnRUeXBlLkFDVElPTiAqLyxcbiAgICB9LCBhdXRvQWN0aW9uUHJvcGVydGllcyk7XG4gICAgdmFyIGluRm9yZWdyb3VuZCA9IGZvcmVncm91bmRDb250ZXh0cy5pc0luRm9yZWdyb3VuZEF0KGFjdGlvbi5zdGFydENsb2Nrcy5yZWxhdGl2ZSk7XG4gICAgaWYgKGluRm9yZWdyb3VuZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGFjdGlvbkV2ZW50LnZpZXcgPSB7IGluX2ZvcmVncm91bmQ6IGluRm9yZWdyb3VuZCB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBjdXN0b21lckNvbnRleHQ6IGN1c3RvbWVyQ29udGV4dCxcbiAgICAgICAgcmF3UnVtRXZlbnQ6IGFjdGlvbkV2ZW50LFxuICAgICAgICBzdGFydFRpbWU6IGFjdGlvbi5zdGFydENsb2Nrcy5yZWxhdGl2ZSxcbiAgICAgICAgZG9tYWluQ29udGV4dDogaXNBdXRvQWN0aW9uKGFjdGlvbikgPyB7IGV2ZW50OiBhY3Rpb24uZXZlbnQsIGV2ZW50czogYWN0aW9uLmV2ZW50cyB9IDoge30sXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGlzQXV0b0FjdGlvbihhY3Rpb24pIHtcbiAgICByZXR1cm4gYWN0aW9uLnR5cGUgIT09IFwiY3VzdG9tXCIgLyogQWN0aW9uVHlwZS5DVVNUT00gKi87XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hY3Rpb25Db2xsZWN0aW9uLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/action/actionCollection.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/action/clickChain.js":
/*!********************************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/action/clickChain.js ***!
  \********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MAX_DISTANCE_BETWEEN_CLICKS: () => (/* binding */ MAX_DISTANCE_BETWEEN_CLICKS),\n/* harmony export */   MAX_DURATION_BETWEEN_CLICKS: () => (/* binding */ MAX_DURATION_BETWEEN_CLICKS),\n/* harmony export */   createClickChain: () => (/* binding */ createClickChain)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/timer.js\");\n\nvar MAX_DURATION_BETWEEN_CLICKS = _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.ONE_SECOND;\nvar MAX_DISTANCE_BETWEEN_CLICKS = 100;\nfunction createClickChain(firstClick, onFinalize) {\n    var bufferedClicks = [];\n    var status = 0 /* ClickChainStatus.WaitingForMoreClicks */;\n    var maxDurationBetweenClicksTimeoutId;\n    appendClick(firstClick);\n    function appendClick(click) {\n        click.stopObservable.subscribe(tryFinalize);\n        bufferedClicks.push(click);\n        (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.clearTimeout)(maxDurationBetweenClicksTimeoutId);\n        maxDurationBetweenClicksTimeoutId = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.setTimeout)(dontAcceptMoreClick, MAX_DURATION_BETWEEN_CLICKS);\n    }\n    function tryFinalize() {\n        if (status === 1 /* ClickChainStatus.WaitingForClicksToStop */ && bufferedClicks.every(function (click) { return click.isStopped(); })) {\n            status = 2 /* ClickChainStatus.Finalized */;\n            onFinalize(bufferedClicks);\n        }\n    }\n    function dontAcceptMoreClick() {\n        (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.clearTimeout)(maxDurationBetweenClicksTimeoutId);\n        if (status === 0 /* ClickChainStatus.WaitingForMoreClicks */) {\n            status = 1 /* ClickChainStatus.WaitingForClicksToStop */;\n            tryFinalize();\n        }\n    }\n    return {\n        tryAppend: function (click) {\n            if (status !== 0 /* ClickChainStatus.WaitingForMoreClicks */) {\n                return false;\n            }\n            if (bufferedClicks.length > 0 &&\n                !areEventsSimilar(bufferedClicks[bufferedClicks.length - 1].event, click.event)) {\n                dontAcceptMoreClick();\n                return false;\n            }\n            appendClick(click);\n            return true;\n        },\n        stop: function () {\n            dontAcceptMoreClick();\n        },\n    };\n}\n/**\n * Checks whether two events are similar by comparing their target, position and timestamp\n */\nfunction areEventsSimilar(first, second) {\n    return (first.target === second.target &&\n        mouseEventDistance(first, second) <= MAX_DISTANCE_BETWEEN_CLICKS &&\n        first.timeStamp - second.timeStamp <= MAX_DURATION_BETWEEN_CLICKS);\n}\nfunction mouseEventDistance(origin, other) {\n    return Math.sqrt(Math.pow(origin.clientX - other.clientX, 2) + Math.pow(origin.clientY - other.clientY, 2));\n}\n//# sourceMappingURL=clickChain.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2RvbWFpbi9ydW1FdmVudHNDb2xsZWN0aW9uL2FjdGlvbi9jbGlja0NoYWluLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQTZFO0FBQ3RFLGtDQUFrQyw2REFBVTtBQUM1QztBQUNBO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLG1FQUFZO0FBQ3BCLDRDQUE0QyxpRUFBVTtBQUN0RDtBQUNBO0FBQ0Esa0hBQWtILDJCQUEyQjtBQUM3STtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxtRUFBWTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhcmNhc3Rlci8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vZG9tYWluL3J1bUV2ZW50c0NvbGxlY3Rpb24vYWN0aW9uL2NsaWNrQ2hhaW4uanM/MDAwMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBPTkVfU0VDT05ELCBjbGVhclRpbWVvdXQsIHNldFRpbWVvdXQgfSBmcm9tICdAZGF0YWRvZy9icm93c2VyLWNvcmUnO1xuZXhwb3J0IHZhciBNQVhfRFVSQVRJT05fQkVUV0VFTl9DTElDS1MgPSBPTkVfU0VDT05EO1xuZXhwb3J0IHZhciBNQVhfRElTVEFOQ0VfQkVUV0VFTl9DTElDS1MgPSAxMDA7XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ2xpY2tDaGFpbihmaXJzdENsaWNrLCBvbkZpbmFsaXplKSB7XG4gICAgdmFyIGJ1ZmZlcmVkQ2xpY2tzID0gW107XG4gICAgdmFyIHN0YXR1cyA9IDAgLyogQ2xpY2tDaGFpblN0YXR1cy5XYWl0aW5nRm9yTW9yZUNsaWNrcyAqLztcbiAgICB2YXIgbWF4RHVyYXRpb25CZXR3ZWVuQ2xpY2tzVGltZW91dElkO1xuICAgIGFwcGVuZENsaWNrKGZpcnN0Q2xpY2spO1xuICAgIGZ1bmN0aW9uIGFwcGVuZENsaWNrKGNsaWNrKSB7XG4gICAgICAgIGNsaWNrLnN0b3BPYnNlcnZhYmxlLnN1YnNjcmliZSh0cnlGaW5hbGl6ZSk7XG4gICAgICAgIGJ1ZmZlcmVkQ2xpY2tzLnB1c2goY2xpY2spO1xuICAgICAgICBjbGVhclRpbWVvdXQobWF4RHVyYXRpb25CZXR3ZWVuQ2xpY2tzVGltZW91dElkKTtcbiAgICAgICAgbWF4RHVyYXRpb25CZXR3ZWVuQ2xpY2tzVGltZW91dElkID0gc2V0VGltZW91dChkb250QWNjZXB0TW9yZUNsaWNrLCBNQVhfRFVSQVRJT05fQkVUV0VFTl9DTElDS1MpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0cnlGaW5hbGl6ZSgpIHtcbiAgICAgICAgaWYgKHN0YXR1cyA9PT0gMSAvKiBDbGlja0NoYWluU3RhdHVzLldhaXRpbmdGb3JDbGlja3NUb1N0b3AgKi8gJiYgYnVmZmVyZWRDbGlja3MuZXZlcnkoZnVuY3Rpb24gKGNsaWNrKSB7IHJldHVybiBjbGljay5pc1N0b3BwZWQoKTsgfSkpIHtcbiAgICAgICAgICAgIHN0YXR1cyA9IDIgLyogQ2xpY2tDaGFpblN0YXR1cy5GaW5hbGl6ZWQgKi87XG4gICAgICAgICAgICBvbkZpbmFsaXplKGJ1ZmZlcmVkQ2xpY2tzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBkb250QWNjZXB0TW9yZUNsaWNrKCkge1xuICAgICAgICBjbGVhclRpbWVvdXQobWF4RHVyYXRpb25CZXR3ZWVuQ2xpY2tzVGltZW91dElkKTtcbiAgICAgICAgaWYgKHN0YXR1cyA9PT0gMCAvKiBDbGlja0NoYWluU3RhdHVzLldhaXRpbmdGb3JNb3JlQ2xpY2tzICovKSB7XG4gICAgICAgICAgICBzdGF0dXMgPSAxIC8qIENsaWNrQ2hhaW5TdGF0dXMuV2FpdGluZ0ZvckNsaWNrc1RvU3RvcCAqLztcbiAgICAgICAgICAgIHRyeUZpbmFsaXplKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHJ5QXBwZW5kOiBmdW5jdGlvbiAoY2xpY2spIHtcbiAgICAgICAgICAgIGlmIChzdGF0dXMgIT09IDAgLyogQ2xpY2tDaGFpblN0YXR1cy5XYWl0aW5nRm9yTW9yZUNsaWNrcyAqLykge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChidWZmZXJlZENsaWNrcy5sZW5ndGggPiAwICYmXG4gICAgICAgICAgICAgICAgIWFyZUV2ZW50c1NpbWlsYXIoYnVmZmVyZWRDbGlja3NbYnVmZmVyZWRDbGlja3MubGVuZ3RoIC0gMV0uZXZlbnQsIGNsaWNrLmV2ZW50KSkge1xuICAgICAgICAgICAgICAgIGRvbnRBY2NlcHRNb3JlQ2xpY2soKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhcHBlbmRDbGljayhjbGljayk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgc3RvcDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZG9udEFjY2VwdE1vcmVDbGljaygpO1xuICAgICAgICB9LFxuICAgIH07XG59XG4vKipcbiAqIENoZWNrcyB3aGV0aGVyIHR3byBldmVudHMgYXJlIHNpbWlsYXIgYnkgY29tcGFyaW5nIHRoZWlyIHRhcmdldCwgcG9zaXRpb24gYW5kIHRpbWVzdGFtcFxuICovXG5mdW5jdGlvbiBhcmVFdmVudHNTaW1pbGFyKGZpcnN0LCBzZWNvbmQpIHtcbiAgICByZXR1cm4gKGZpcnN0LnRhcmdldCA9PT0gc2Vjb25kLnRhcmdldCAmJlxuICAgICAgICBtb3VzZUV2ZW50RGlzdGFuY2UoZmlyc3QsIHNlY29uZCkgPD0gTUFYX0RJU1RBTkNFX0JFVFdFRU5fQ0xJQ0tTICYmXG4gICAgICAgIGZpcnN0LnRpbWVTdGFtcCAtIHNlY29uZC50aW1lU3RhbXAgPD0gTUFYX0RVUkFUSU9OX0JFVFdFRU5fQ0xJQ0tTKTtcbn1cbmZ1bmN0aW9uIG1vdXNlRXZlbnREaXN0YW5jZShvcmlnaW4sIG90aGVyKSB7XG4gICAgcmV0dXJuIE1hdGguc3FydChNYXRoLnBvdyhvcmlnaW4uY2xpZW50WCAtIG90aGVyLmNsaWVudFgsIDIpICsgTWF0aC5wb3cob3JpZ2luLmNsaWVudFkgLSBvdGhlci5jbGllbnRZLCAyKSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jbGlja0NoYWluLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/action/clickChain.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/action/computeFrustration.js":
/*!****************************************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/action/computeFrustration.js ***!
  \****************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   computeFrustration: () => (/* binding */ computeFrustration),\n/* harmony export */   isDead: () => (/* binding */ isDead),\n/* harmony export */   isRage: () => (/* binding */ isRage)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/polyfills.js\");\n\nvar MIN_CLICKS_PER_SECOND_TO_CONSIDER_RAGE = 3;\nfunction computeFrustration(clicks, rageClick) {\n    if (isRage(clicks)) {\n        rageClick.addFrustration(\"rage_click\" /* FrustrationType.RAGE_CLICK */);\n        if (clicks.some(isDead)) {\n            rageClick.addFrustration(\"dead_click\" /* FrustrationType.DEAD_CLICK */);\n        }\n        if (rageClick.hasError) {\n            rageClick.addFrustration(\"error_click\" /* FrustrationType.ERROR_CLICK */);\n        }\n        return { isRage: true };\n    }\n    var hasSelectionChanged = clicks.some(function (click) { return click.getUserActivity().selection; });\n    clicks.forEach(function (click) {\n        if (click.hasError) {\n            click.addFrustration(\"error_click\" /* FrustrationType.ERROR_CLICK */);\n        }\n        if (isDead(click) &&\n            // Avoid considering clicks part of a double-click or triple-click selections as dead clicks\n            !hasSelectionChanged) {\n            click.addFrustration(\"dead_click\" /* FrustrationType.DEAD_CLICK */);\n        }\n    });\n    return { isRage: false };\n}\nfunction isRage(clicks) {\n    if (clicks.some(function (click) { return click.getUserActivity().selection; })) {\n        return false;\n    }\n    for (var i = 0; i < clicks.length - (MIN_CLICKS_PER_SECOND_TO_CONSIDER_RAGE - 1); i += 1) {\n        if (clicks[i + MIN_CLICKS_PER_SECOND_TO_CONSIDER_RAGE - 1].event.timeStamp - clicks[i].event.timeStamp <=\n            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.ONE_SECOND) {\n            return true;\n        }\n    }\n    return false;\n}\nvar DEAD_CLICK_EXCLUDE_SELECTOR = \n// inputs that don't trigger a meaningful event like \"input\" when clicked, including textual\n// inputs (using a negative selector is shorter here)\n'input:not([type=\"checkbox\"]):not([type=\"radio\"]):not([type=\"button\"]):not([type=\"submit\"]):not([type=\"reset\"]):not([type=\"range\"]),' +\n    'textarea,' +\n    'select,' +\n    // contenteditable and their descendants don't always trigger meaningful changes when manipulated\n    '[contenteditable],' +\n    '[contenteditable] *,' +\n    // canvas, as there is no good way to detect activity occurring on them\n    'canvas,' +\n    // links that are interactive (have an href attribute) or any of their descendants, as they can\n    // open a new tab or navigate to a hash without triggering a meaningful event\n    'a[href],' +\n    'a[href] *';\nfunction isDead(click) {\n    if (click.hasPageActivity || click.getUserActivity().input) {\n        return false;\n    }\n    return !(0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.elementMatches)(click.event.target, DEAD_CLICK_EXCLUDE_SELECTOR);\n}\n//# sourceMappingURL=computeFrustration.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2RvbWFpbi9ydW1FdmVudHNDb2xsZWN0aW9uL2FjdGlvbi9jb21wdXRlRnJ1c3RyYXRpb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBbUU7QUFDbkU7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSw2REFBNkQsMkNBQTJDO0FBQ3hHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxhQUFhO0FBQ2I7QUFDTztBQUNQLHVDQUF1QywyQ0FBMkM7QUFDbEY7QUFDQTtBQUNBLG9CQUFvQixrRUFBa0U7QUFDdEY7QUFDQSxZQUFZLDZEQUFVO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBLFlBQVkscUVBQWM7QUFDMUI7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhcmNhc3Rlci8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vZG9tYWluL3J1bUV2ZW50c0NvbGxlY3Rpb24vYWN0aW9uL2NvbXB1dGVGcnVzdHJhdGlvbi5qcz84MjdlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGVsZW1lbnRNYXRjaGVzLCBPTkVfU0VDT05EIH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJztcbnZhciBNSU5fQ0xJQ0tTX1BFUl9TRUNPTkRfVE9fQ09OU0lERVJfUkFHRSA9IDM7XG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZUZydXN0cmF0aW9uKGNsaWNrcywgcmFnZUNsaWNrKSB7XG4gICAgaWYgKGlzUmFnZShjbGlja3MpKSB7XG4gICAgICAgIHJhZ2VDbGljay5hZGRGcnVzdHJhdGlvbihcInJhZ2VfY2xpY2tcIiAvKiBGcnVzdHJhdGlvblR5cGUuUkFHRV9DTElDSyAqLyk7XG4gICAgICAgIGlmIChjbGlja3Muc29tZShpc0RlYWQpKSB7XG4gICAgICAgICAgICByYWdlQ2xpY2suYWRkRnJ1c3RyYXRpb24oXCJkZWFkX2NsaWNrXCIgLyogRnJ1c3RyYXRpb25UeXBlLkRFQURfQ0xJQ0sgKi8pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyYWdlQ2xpY2suaGFzRXJyb3IpIHtcbiAgICAgICAgICAgIHJhZ2VDbGljay5hZGRGcnVzdHJhdGlvbihcImVycm9yX2NsaWNrXCIgLyogRnJ1c3RyYXRpb25UeXBlLkVSUk9SX0NMSUNLICovKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBpc1JhZ2U6IHRydWUgfTtcbiAgICB9XG4gICAgdmFyIGhhc1NlbGVjdGlvbkNoYW5nZWQgPSBjbGlja3Muc29tZShmdW5jdGlvbiAoY2xpY2spIHsgcmV0dXJuIGNsaWNrLmdldFVzZXJBY3Rpdml0eSgpLnNlbGVjdGlvbjsgfSk7XG4gICAgY2xpY2tzLmZvckVhY2goZnVuY3Rpb24gKGNsaWNrKSB7XG4gICAgICAgIGlmIChjbGljay5oYXNFcnJvcikge1xuICAgICAgICAgICAgY2xpY2suYWRkRnJ1c3RyYXRpb24oXCJlcnJvcl9jbGlja1wiIC8qIEZydXN0cmF0aW9uVHlwZS5FUlJPUl9DTElDSyAqLyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzRGVhZChjbGljaykgJiZcbiAgICAgICAgICAgIC8vIEF2b2lkIGNvbnNpZGVyaW5nIGNsaWNrcyBwYXJ0IG9mIGEgZG91YmxlLWNsaWNrIG9yIHRyaXBsZS1jbGljayBzZWxlY3Rpb25zIGFzIGRlYWQgY2xpY2tzXG4gICAgICAgICAgICAhaGFzU2VsZWN0aW9uQ2hhbmdlZCkge1xuICAgICAgICAgICAgY2xpY2suYWRkRnJ1c3RyYXRpb24oXCJkZWFkX2NsaWNrXCIgLyogRnJ1c3RyYXRpb25UeXBlLkRFQURfQ0xJQ0sgKi8pO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHsgaXNSYWdlOiBmYWxzZSB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzUmFnZShjbGlja3MpIHtcbiAgICBpZiAoY2xpY2tzLnNvbWUoZnVuY3Rpb24gKGNsaWNrKSB7IHJldHVybiBjbGljay5nZXRVc2VyQWN0aXZpdHkoKS5zZWxlY3Rpb247IH0pKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjbGlja3MubGVuZ3RoIC0gKE1JTl9DTElDS1NfUEVSX1NFQ09ORF9UT19DT05TSURFUl9SQUdFIC0gMSk7IGkgKz0gMSkge1xuICAgICAgICBpZiAoY2xpY2tzW2kgKyBNSU5fQ0xJQ0tTX1BFUl9TRUNPTkRfVE9fQ09OU0lERVJfUkFHRSAtIDFdLmV2ZW50LnRpbWVTdGFtcCAtIGNsaWNrc1tpXS5ldmVudC50aW1lU3RhbXAgPD1cbiAgICAgICAgICAgIE9ORV9TRUNPTkQpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbnZhciBERUFEX0NMSUNLX0VYQ0xVREVfU0VMRUNUT1IgPSBcbi8vIGlucHV0cyB0aGF0IGRvbid0IHRyaWdnZXIgYSBtZWFuaW5nZnVsIGV2ZW50IGxpa2UgXCJpbnB1dFwiIHdoZW4gY2xpY2tlZCwgaW5jbHVkaW5nIHRleHR1YWxcbi8vIGlucHV0cyAodXNpbmcgYSBuZWdhdGl2ZSBzZWxlY3RvciBpcyBzaG9ydGVyIGhlcmUpXG4naW5wdXQ6bm90KFt0eXBlPVwiY2hlY2tib3hcIl0pOm5vdChbdHlwZT1cInJhZGlvXCJdKTpub3QoW3R5cGU9XCJidXR0b25cIl0pOm5vdChbdHlwZT1cInN1Ym1pdFwiXSk6bm90KFt0eXBlPVwicmVzZXRcIl0pOm5vdChbdHlwZT1cInJhbmdlXCJdKSwnICtcbiAgICAndGV4dGFyZWEsJyArXG4gICAgJ3NlbGVjdCwnICtcbiAgICAvLyBjb250ZW50ZWRpdGFibGUgYW5kIHRoZWlyIGRlc2NlbmRhbnRzIGRvbid0IGFsd2F5cyB0cmlnZ2VyIG1lYW5pbmdmdWwgY2hhbmdlcyB3aGVuIG1hbmlwdWxhdGVkXG4gICAgJ1tjb250ZW50ZWRpdGFibGVdLCcgK1xuICAgICdbY29udGVudGVkaXRhYmxlXSAqLCcgK1xuICAgIC8vIGNhbnZhcywgYXMgdGhlcmUgaXMgbm8gZ29vZCB3YXkgdG8gZGV0ZWN0IGFjdGl2aXR5IG9jY3VycmluZyBvbiB0aGVtXG4gICAgJ2NhbnZhcywnICtcbiAgICAvLyBsaW5rcyB0aGF0IGFyZSBpbnRlcmFjdGl2ZSAoaGF2ZSBhbiBocmVmIGF0dHJpYnV0ZSkgb3IgYW55IG9mIHRoZWlyIGRlc2NlbmRhbnRzLCBhcyB0aGV5IGNhblxuICAgIC8vIG9wZW4gYSBuZXcgdGFiIG9yIG5hdmlnYXRlIHRvIGEgaGFzaCB3aXRob3V0IHRyaWdnZXJpbmcgYSBtZWFuaW5nZnVsIGV2ZW50XG4gICAgJ2FbaHJlZl0sJyArXG4gICAgJ2FbaHJlZl0gKic7XG5leHBvcnQgZnVuY3Rpb24gaXNEZWFkKGNsaWNrKSB7XG4gICAgaWYgKGNsaWNrLmhhc1BhZ2VBY3Rpdml0eSB8fCBjbGljay5nZXRVc2VyQWN0aXZpdHkoKS5pbnB1dCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiAhZWxlbWVudE1hdGNoZXMoY2xpY2suZXZlbnQudGFyZ2V0LCBERUFEX0NMSUNLX0VYQ0xVREVfU0VMRUNUT1IpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tcHV0ZUZydXN0cmF0aW9uLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/action/computeFrustration.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/action/getActionNameFromElement.js":
/*!**********************************************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/action/getActionNameFromElement.js ***!
  \**********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_PROGRAMMATIC_ACTION_NAME_ATTRIBUTE: () => (/* binding */ DEFAULT_PROGRAMMATIC_ACTION_NAME_ATTRIBUTE),\n/* harmony export */   getActionNameFromElement: () => (/* binding */ getActionNameFromElement)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/polyfills.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/stringUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/browserDetection.js\");\n\n/**\n * Get the action name from the attribute 'data-dd-action-name' on the element or any of its parent.\n * It can also be retrieved from a user defined attribute.\n */\nvar DEFAULT_PROGRAMMATIC_ACTION_NAME_ATTRIBUTE = 'data-dd-action-name';\nfunction getActionNameFromElement(element, userProgrammaticAttribute) {\n    // Proceed to get the action name in two steps:\n    // * first, get the name programmatically, explicitly defined by the user.\n    // * then, use strategies that are known to return good results. Those strategies will be used on\n    //   the element and a few parents, but it's likely that they won't succeed at all.\n    // * if no name is found this way, use strategies returning less accurate names as a fallback.\n    //   Those are much likely to succeed.\n    return (getActionNameFromElementProgrammatically(element, DEFAULT_PROGRAMMATIC_ACTION_NAME_ATTRIBUTE) ||\n        (userProgrammaticAttribute && getActionNameFromElementProgrammatically(element, userProgrammaticAttribute)) ||\n        getActionNameFromElementForStrategies(element, userProgrammaticAttribute, priorityStrategies) ||\n        getActionNameFromElementForStrategies(element, userProgrammaticAttribute, fallbackStrategies) ||\n        '');\n}\nfunction getActionNameFromElementProgrammatically(targetElement, programmaticAttribute) {\n    var elementWithAttribute;\n    // We don't use getActionNameFromElementForStrategies here, because we want to consider all parents,\n    // without limit. It is up to the user to declare a relevant naming strategy.\n    // If available, use element.closest() to match get the attribute from the element or any of its\n    // parent.  Else fallback to a more traditional implementation.\n    if (supportsElementClosest()) {\n        elementWithAttribute = targetElement.closest(\"[\".concat(programmaticAttribute, \"]\"));\n    }\n    else {\n        var element = targetElement;\n        while (element) {\n            if (element.hasAttribute(programmaticAttribute)) {\n                elementWithAttribute = element;\n                break;\n            }\n            element = element.parentElement;\n        }\n    }\n    if (!elementWithAttribute) {\n        return;\n    }\n    var name = elementWithAttribute.getAttribute(programmaticAttribute);\n    return truncate(normalizeWhitespace(name.trim()));\n}\nvar priorityStrategies = [\n    // associated LABEL text\n    function (element, userProgrammaticAttribute) {\n        // IE does not support element.labels, so we fallback to a CSS selector based on the element id\n        // instead\n        if (supportsLabelProperty()) {\n            if ('labels' in element && element.labels && element.labels.length > 0) {\n                return getTextualContent(element.labels[0], userProgrammaticAttribute);\n            }\n        }\n        else if (element.id) {\n            var label = element.ownerDocument &&\n                (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.find)(element.ownerDocument.querySelectorAll('label'), function (label) { return label.htmlFor === element.id; });\n            return label && getTextualContent(label, userProgrammaticAttribute);\n        }\n    },\n    // INPUT button (and associated) value\n    function (element) {\n        if (element.nodeName === 'INPUT') {\n            var input = element;\n            var type = input.getAttribute('type');\n            if (type === 'button' || type === 'submit' || type === 'reset') {\n                return input.value;\n            }\n        }\n    },\n    // BUTTON, LABEL or button-like element text\n    function (element, userProgrammaticAttribute) {\n        if (element.nodeName === 'BUTTON' || element.nodeName === 'LABEL' || element.getAttribute('role') === 'button') {\n            return getTextualContent(element, userProgrammaticAttribute);\n        }\n    },\n    function (element) { return element.getAttribute('aria-label'); },\n    // associated element text designated by the aria-labelledby attribute\n    function (element, userProgrammaticAttribute) {\n        var labelledByAttribute = element.getAttribute('aria-labelledby');\n        if (labelledByAttribute) {\n            return labelledByAttribute\n                .split(/\\s+/)\n                .map(function (id) { return getElementById(element, id); })\n                .filter(function (label) { return Boolean(label); })\n                .map(function (element) { return getTextualContent(element, userProgrammaticAttribute); })\n                .join(' ');\n        }\n    },\n    function (element) { return element.getAttribute('alt'); },\n    function (element) { return element.getAttribute('name'); },\n    function (element) { return element.getAttribute('title'); },\n    function (element) { return element.getAttribute('placeholder'); },\n    // SELECT first OPTION text\n    function (element, userProgrammaticAttribute) {\n        if ('options' in element && element.options.length > 0) {\n            return getTextualContent(element.options[0], userProgrammaticAttribute);\n        }\n    },\n];\nvar fallbackStrategies = [\n    function (element, userProgrammaticAttribute) { return getTextualContent(element, userProgrammaticAttribute); },\n];\n/**\n * Iterates over the target element and its parent, using the strategies list to get an action name.\n * Each strategies are applied on each element, stopping as soon as a non-empty value is returned.\n */\nvar MAX_PARENTS_TO_CONSIDER = 10;\nfunction getActionNameFromElementForStrategies(targetElement, userProgrammaticAttribute, strategies) {\n    var element = targetElement;\n    var recursionCounter = 0;\n    while (recursionCounter <= MAX_PARENTS_TO_CONSIDER &&\n        element &&\n        element.nodeName !== 'BODY' &&\n        element.nodeName !== 'HTML' &&\n        element.nodeName !== 'HEAD') {\n        for (var _i = 0, strategies_1 = strategies; _i < strategies_1.length; _i++) {\n            var strategy = strategies_1[_i];\n            var name_1 = strategy(element, userProgrammaticAttribute);\n            if (typeof name_1 === 'string') {\n                var trimmedName = name_1.trim();\n                if (trimmedName) {\n                    return truncate(normalizeWhitespace(trimmedName));\n                }\n            }\n        }\n        // Consider a FORM as a contextual limit to get the action name.  This is experimental and may\n        // be reconsidered in the future.\n        if (element.nodeName === 'FORM') {\n            break;\n        }\n        element = element.parentElement;\n        recursionCounter += 1;\n    }\n}\nfunction normalizeWhitespace(s) {\n    return s.replace(/\\s+/g, ' ');\n}\nfunction truncate(s) {\n    return s.length > 100 ? \"\".concat((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.safeTruncate)(s, 100), \" [...]\") : s;\n}\nfunction getElementById(refElement, id) {\n    // Use the element ownerDocument here, because tests are executed in an iframe, so\n    // document.getElementById won't work.\n    return refElement.ownerDocument ? refElement.ownerDocument.getElementById(id) : null;\n}\nfunction getTextualContent(element, userProgrammaticAttribute) {\n    if (element.isContentEditable) {\n        return;\n    }\n    if ('innerText' in element) {\n        var text_1 = element.innerText;\n        var removeTextFromElements = function (query) {\n            var list = element.querySelectorAll(query);\n            for (var index = 0; index < list.length; index += 1) {\n                var element_1 = list[index];\n                if ('innerText' in element_1) {\n                    var textToReplace = element_1.innerText;\n                    if (textToReplace && textToReplace.trim().length > 0) {\n                        text_1 = text_1.replace(textToReplace, '');\n                    }\n                }\n            }\n        };\n        if (!supportsInnerTextScriptAndStyleRemoval()) {\n            // remove the inner text of SCRIPT and STYLES from the result. This is a bit dirty, but should\n            // be relatively fast and work in most cases.\n            removeTextFromElements('script, style');\n        }\n        // remove the text of elements with programmatic attribute value\n        removeTextFromElements(\"[\".concat(DEFAULT_PROGRAMMATIC_ACTION_NAME_ATTRIBUTE, \"]\"));\n        if (userProgrammaticAttribute) {\n            removeTextFromElements(\"[\".concat(userProgrammaticAttribute, \"]\"));\n        }\n        return text_1;\n    }\n    return element.textContent;\n}\n/**\n * Returns true if element.innerText excludes the text from inline SCRIPT and STYLE element. This\n * should be the case everywhere except on Internet Explorer 10 and 11 (see [1])\n *\n * The innerText property relies on what is actually rendered to compute its output, so to check if\n * it actually excludes SCRIPT and STYLE content, a solution would be to create a style element, set\n * its content to '*', inject it in the document body, and check if the style element innerText\n * property returns '*'. Using a new `document` instance won't work as it is not rendered.\n *\n * This solution requires specific CSP rules (see [2]) to be set by the customer. We want to avoid\n * this, so instead we rely on browser detection. In case of false negative, the impact should be\n * low, since we rely on this result to remove the SCRIPT and STYLE innerText (which will be empty)\n * from a parent element innerText.\n *\n * [1]: https://web.archive.org/web/20210602165716/http://perfectionkills.com/the-poor-misunderstood-innerText/#diff-with-textContent\n * [2]: https://github.com/DataDog/browser-sdk/issues/1084\n */\nfunction supportsInnerTextScriptAndStyleRemoval() {\n    return !(0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.isIE)();\n}\n/**\n * Returns true if the browser supports the element.labels property.  This should be the case\n * everywhere except on Internet Explorer.\n * Note: The result is computed lazily, because we don't want any DOM access when the SDK is\n * evaluated.\n */\nvar supportsLabelPropertyResult;\nfunction supportsLabelProperty() {\n    if (supportsLabelPropertyResult === undefined) {\n        supportsLabelPropertyResult = 'labels' in HTMLInputElement.prototype;\n    }\n    return supportsLabelPropertyResult;\n}\n/**\n * Returns true if the browser supports the element.closest method.  This should be the case\n * everywhere except on Internet Explorer.\n * Note: The result is computed lazily, because we don't want any DOM access when the SDK is\n * evaluated.\n */\nvar supportsElementClosestResult;\nfunction supportsElementClosest() {\n    if (supportsElementClosestResult === undefined) {\n        supportsElementClosestResult = 'closest' in HTMLElement.prototype;\n    }\n    return supportsElementClosestResult;\n}\n//# sourceMappingURL=getActionNameFromElement.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2RvbWFpbi9ydW1FdmVudHNDb2xsZWN0aW9uL2FjdGlvbi9nZXRBY3Rpb25OYW1lRnJvbUVsZW1lbnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBaUU7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNBO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsMkRBQUkscUVBQXFFLHNDQUFzQztBQUMvSDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLHlCQUF5Qiw0Q0FBNEM7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLHFDQUFxQztBQUMxRSwyQ0FBMkMsd0JBQXdCO0FBQ25FLDBDQUEwQywrREFBK0Q7QUFDekc7QUFDQTtBQUNBLEtBQUs7QUFDTCx5QkFBeUIscUNBQXFDO0FBQzlELHlCQUF5QixzQ0FBc0M7QUFDL0QseUJBQXlCLHVDQUF1QztBQUNoRSx5QkFBeUIsNkNBQTZDO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLG9EQUFvRCwrREFBK0Q7QUFDbkg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCwwQkFBMEI7QUFDOUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsbUVBQVk7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxxQkFBcUI7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksMkRBQUk7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYXJjYXN0ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2RvbWFpbi9ydW1FdmVudHNDb2xsZWN0aW9uL2FjdGlvbi9nZXRBY3Rpb25OYW1lRnJvbUVsZW1lbnQuanM/YmQxYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzYWZlVHJ1bmNhdGUsIGlzSUUsIGZpbmQgfSBmcm9tICdAZGF0YWRvZy9icm93c2VyLWNvcmUnO1xuLyoqXG4gKiBHZXQgdGhlIGFjdGlvbiBuYW1lIGZyb20gdGhlIGF0dHJpYnV0ZSAnZGF0YS1kZC1hY3Rpb24tbmFtZScgb24gdGhlIGVsZW1lbnQgb3IgYW55IG9mIGl0cyBwYXJlbnQuXG4gKiBJdCBjYW4gYWxzbyBiZSByZXRyaWV2ZWQgZnJvbSBhIHVzZXIgZGVmaW5lZCBhdHRyaWJ1dGUuXG4gKi9cbmV4cG9ydCB2YXIgREVGQVVMVF9QUk9HUkFNTUFUSUNfQUNUSU9OX05BTUVfQVRUUklCVVRFID0gJ2RhdGEtZGQtYWN0aW9uLW5hbWUnO1xuZXhwb3J0IGZ1bmN0aW9uIGdldEFjdGlvbk5hbWVGcm9tRWxlbWVudChlbGVtZW50LCB1c2VyUHJvZ3JhbW1hdGljQXR0cmlidXRlKSB7XG4gICAgLy8gUHJvY2VlZCB0byBnZXQgdGhlIGFjdGlvbiBuYW1lIGluIHR3byBzdGVwczpcbiAgICAvLyAqIGZpcnN0LCBnZXQgdGhlIG5hbWUgcHJvZ3JhbW1hdGljYWxseSwgZXhwbGljaXRseSBkZWZpbmVkIGJ5IHRoZSB1c2VyLlxuICAgIC8vICogdGhlbiwgdXNlIHN0cmF0ZWdpZXMgdGhhdCBhcmUga25vd24gdG8gcmV0dXJuIGdvb2QgcmVzdWx0cy4gVGhvc2Ugc3RyYXRlZ2llcyB3aWxsIGJlIHVzZWQgb25cbiAgICAvLyAgIHRoZSBlbGVtZW50IGFuZCBhIGZldyBwYXJlbnRzLCBidXQgaXQncyBsaWtlbHkgdGhhdCB0aGV5IHdvbid0IHN1Y2NlZWQgYXQgYWxsLlxuICAgIC8vICogaWYgbm8gbmFtZSBpcyBmb3VuZCB0aGlzIHdheSwgdXNlIHN0cmF0ZWdpZXMgcmV0dXJuaW5nIGxlc3MgYWNjdXJhdGUgbmFtZXMgYXMgYSBmYWxsYmFjay5cbiAgICAvLyAgIFRob3NlIGFyZSBtdWNoIGxpa2VseSB0byBzdWNjZWVkLlxuICAgIHJldHVybiAoZ2V0QWN0aW9uTmFtZUZyb21FbGVtZW50UHJvZ3JhbW1hdGljYWxseShlbGVtZW50LCBERUZBVUxUX1BST0dSQU1NQVRJQ19BQ1RJT05fTkFNRV9BVFRSSUJVVEUpIHx8XG4gICAgICAgICh1c2VyUHJvZ3JhbW1hdGljQXR0cmlidXRlICYmIGdldEFjdGlvbk5hbWVGcm9tRWxlbWVudFByb2dyYW1tYXRpY2FsbHkoZWxlbWVudCwgdXNlclByb2dyYW1tYXRpY0F0dHJpYnV0ZSkpIHx8XG4gICAgICAgIGdldEFjdGlvbk5hbWVGcm9tRWxlbWVudEZvclN0cmF0ZWdpZXMoZWxlbWVudCwgdXNlclByb2dyYW1tYXRpY0F0dHJpYnV0ZSwgcHJpb3JpdHlTdHJhdGVnaWVzKSB8fFxuICAgICAgICBnZXRBY3Rpb25OYW1lRnJvbUVsZW1lbnRGb3JTdHJhdGVnaWVzKGVsZW1lbnQsIHVzZXJQcm9ncmFtbWF0aWNBdHRyaWJ1dGUsIGZhbGxiYWNrU3RyYXRlZ2llcykgfHxcbiAgICAgICAgJycpO1xufVxuZnVuY3Rpb24gZ2V0QWN0aW9uTmFtZUZyb21FbGVtZW50UHJvZ3JhbW1hdGljYWxseSh0YXJnZXRFbGVtZW50LCBwcm9ncmFtbWF0aWNBdHRyaWJ1dGUpIHtcbiAgICB2YXIgZWxlbWVudFdpdGhBdHRyaWJ1dGU7XG4gICAgLy8gV2UgZG9uJ3QgdXNlIGdldEFjdGlvbk5hbWVGcm9tRWxlbWVudEZvclN0cmF0ZWdpZXMgaGVyZSwgYmVjYXVzZSB3ZSB3YW50IHRvIGNvbnNpZGVyIGFsbCBwYXJlbnRzLFxuICAgIC8vIHdpdGhvdXQgbGltaXQuIEl0IGlzIHVwIHRvIHRoZSB1c2VyIHRvIGRlY2xhcmUgYSByZWxldmFudCBuYW1pbmcgc3RyYXRlZ3kuXG4gICAgLy8gSWYgYXZhaWxhYmxlLCB1c2UgZWxlbWVudC5jbG9zZXN0KCkgdG8gbWF0Y2ggZ2V0IHRoZSBhdHRyaWJ1dGUgZnJvbSB0aGUgZWxlbWVudCBvciBhbnkgb2YgaXRzXG4gICAgLy8gcGFyZW50LiAgRWxzZSBmYWxsYmFjayB0byBhIG1vcmUgdHJhZGl0aW9uYWwgaW1wbGVtZW50YXRpb24uXG4gICAgaWYgKHN1cHBvcnRzRWxlbWVudENsb3Nlc3QoKSkge1xuICAgICAgICBlbGVtZW50V2l0aEF0dHJpYnV0ZSA9IHRhcmdldEVsZW1lbnQuY2xvc2VzdChcIltcIi5jb25jYXQocHJvZ3JhbW1hdGljQXR0cmlidXRlLCBcIl1cIikpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdmFyIGVsZW1lbnQgPSB0YXJnZXRFbGVtZW50O1xuICAgICAgICB3aGlsZSAoZWxlbWVudCkge1xuICAgICAgICAgICAgaWYgKGVsZW1lbnQuaGFzQXR0cmlidXRlKHByb2dyYW1tYXRpY0F0dHJpYnV0ZSkpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50V2l0aEF0dHJpYnV0ZSA9IGVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbGVtZW50ID0gZWxlbWVudC5wYXJlbnRFbGVtZW50O1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICghZWxlbWVudFdpdGhBdHRyaWJ1dGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgbmFtZSA9IGVsZW1lbnRXaXRoQXR0cmlidXRlLmdldEF0dHJpYnV0ZShwcm9ncmFtbWF0aWNBdHRyaWJ1dGUpO1xuICAgIHJldHVybiB0cnVuY2F0ZShub3JtYWxpemVXaGl0ZXNwYWNlKG5hbWUudHJpbSgpKSk7XG59XG52YXIgcHJpb3JpdHlTdHJhdGVnaWVzID0gW1xuICAgIC8vIGFzc29jaWF0ZWQgTEFCRUwgdGV4dFxuICAgIGZ1bmN0aW9uIChlbGVtZW50LCB1c2VyUHJvZ3JhbW1hdGljQXR0cmlidXRlKSB7XG4gICAgICAgIC8vIElFIGRvZXMgbm90IHN1cHBvcnQgZWxlbWVudC5sYWJlbHMsIHNvIHdlIGZhbGxiYWNrIHRvIGEgQ1NTIHNlbGVjdG9yIGJhc2VkIG9uIHRoZSBlbGVtZW50IGlkXG4gICAgICAgIC8vIGluc3RlYWRcbiAgICAgICAgaWYgKHN1cHBvcnRzTGFiZWxQcm9wZXJ0eSgpKSB7XG4gICAgICAgICAgICBpZiAoJ2xhYmVscycgaW4gZWxlbWVudCAmJiBlbGVtZW50LmxhYmVscyAmJiBlbGVtZW50LmxhYmVscy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldFRleHR1YWxDb250ZW50KGVsZW1lbnQubGFiZWxzWzBdLCB1c2VyUHJvZ3JhbW1hdGljQXR0cmlidXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChlbGVtZW50LmlkKSB7XG4gICAgICAgICAgICB2YXIgbGFiZWwgPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQgJiZcbiAgICAgICAgICAgICAgICBmaW5kKGVsZW1lbnQub3duZXJEb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdsYWJlbCcpLCBmdW5jdGlvbiAobGFiZWwpIHsgcmV0dXJuIGxhYmVsLmh0bWxGb3IgPT09IGVsZW1lbnQuaWQ7IH0pO1xuICAgICAgICAgICAgcmV0dXJuIGxhYmVsICYmIGdldFRleHR1YWxDb250ZW50KGxhYmVsLCB1c2VyUHJvZ3JhbW1hdGljQXR0cmlidXRlKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgLy8gSU5QVVQgYnV0dG9uIChhbmQgYXNzb2NpYXRlZCkgdmFsdWVcbiAgICBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICBpZiAoZWxlbWVudC5ub2RlTmFtZSA9PT0gJ0lOUFVUJykge1xuICAgICAgICAgICAgdmFyIGlucHV0ID0gZWxlbWVudDtcbiAgICAgICAgICAgIHZhciB0eXBlID0gaW5wdXQuZ2V0QXR0cmlidXRlKCd0eXBlJyk7XG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gJ2J1dHRvbicgfHwgdHlwZSA9PT0gJ3N1Ym1pdCcgfHwgdHlwZSA9PT0gJ3Jlc2V0Jykge1xuICAgICAgICAgICAgICAgIHJldHVybiBpbnB1dC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgLy8gQlVUVE9OLCBMQUJFTCBvciBidXR0b24tbGlrZSBlbGVtZW50IHRleHRcbiAgICBmdW5jdGlvbiAoZWxlbWVudCwgdXNlclByb2dyYW1tYXRpY0F0dHJpYnV0ZSkge1xuICAgICAgICBpZiAoZWxlbWVudC5ub2RlTmFtZSA9PT0gJ0JVVFRPTicgfHwgZWxlbWVudC5ub2RlTmFtZSA9PT0gJ0xBQkVMJyB8fCBlbGVtZW50LmdldEF0dHJpYnV0ZSgncm9sZScpID09PSAnYnV0dG9uJykge1xuICAgICAgICAgICAgcmV0dXJuIGdldFRleHR1YWxDb250ZW50KGVsZW1lbnQsIHVzZXJQcm9ncmFtbWF0aWNBdHRyaWJ1dGUpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBmdW5jdGlvbiAoZWxlbWVudCkgeyByZXR1cm4gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnKTsgfSxcbiAgICAvLyBhc3NvY2lhdGVkIGVsZW1lbnQgdGV4dCBkZXNpZ25hdGVkIGJ5IHRoZSBhcmlhLWxhYmVsbGVkYnkgYXR0cmlidXRlXG4gICAgZnVuY3Rpb24gKGVsZW1lbnQsIHVzZXJQcm9ncmFtbWF0aWNBdHRyaWJ1dGUpIHtcbiAgICAgICAgdmFyIGxhYmVsbGVkQnlBdHRyaWJ1dGUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbGxlZGJ5Jyk7XG4gICAgICAgIGlmIChsYWJlbGxlZEJ5QXR0cmlidXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gbGFiZWxsZWRCeUF0dHJpYnV0ZVxuICAgICAgICAgICAgICAgIC5zcGxpdCgvXFxzKy8pXG4gICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAoaWQpIHsgcmV0dXJuIGdldEVsZW1lbnRCeUlkKGVsZW1lbnQsIGlkKTsgfSlcbiAgICAgICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChsYWJlbCkgeyByZXR1cm4gQm9vbGVhbihsYWJlbCk7IH0pXG4gICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAoZWxlbWVudCkgeyByZXR1cm4gZ2V0VGV4dHVhbENvbnRlbnQoZWxlbWVudCwgdXNlclByb2dyYW1tYXRpY0F0dHJpYnV0ZSk7IH0pXG4gICAgICAgICAgICAgICAgLmpvaW4oJyAnKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgZnVuY3Rpb24gKGVsZW1lbnQpIHsgcmV0dXJuIGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdhbHQnKTsgfSxcbiAgICBmdW5jdGlvbiAoZWxlbWVudCkgeyByZXR1cm4gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ25hbWUnKTsgfSxcbiAgICBmdW5jdGlvbiAoZWxlbWVudCkgeyByZXR1cm4gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3RpdGxlJyk7IH0sXG4gICAgZnVuY3Rpb24gKGVsZW1lbnQpIHsgcmV0dXJuIGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdwbGFjZWhvbGRlcicpOyB9LFxuICAgIC8vIFNFTEVDVCBmaXJzdCBPUFRJT04gdGV4dFxuICAgIGZ1bmN0aW9uIChlbGVtZW50LCB1c2VyUHJvZ3JhbW1hdGljQXR0cmlidXRlKSB7XG4gICAgICAgIGlmICgnb3B0aW9ucycgaW4gZWxlbWVudCAmJiBlbGVtZW50Lm9wdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGdldFRleHR1YWxDb250ZW50KGVsZW1lbnQub3B0aW9uc1swXSwgdXNlclByb2dyYW1tYXRpY0F0dHJpYnV0ZSk7XG4gICAgICAgIH1cbiAgICB9LFxuXTtcbnZhciBmYWxsYmFja1N0cmF0ZWdpZXMgPSBbXG4gICAgZnVuY3Rpb24gKGVsZW1lbnQsIHVzZXJQcm9ncmFtbWF0aWNBdHRyaWJ1dGUpIHsgcmV0dXJuIGdldFRleHR1YWxDb250ZW50KGVsZW1lbnQsIHVzZXJQcm9ncmFtbWF0aWNBdHRyaWJ1dGUpOyB9LFxuXTtcbi8qKlxuICogSXRlcmF0ZXMgb3ZlciB0aGUgdGFyZ2V0IGVsZW1lbnQgYW5kIGl0cyBwYXJlbnQsIHVzaW5nIHRoZSBzdHJhdGVnaWVzIGxpc3QgdG8gZ2V0IGFuIGFjdGlvbiBuYW1lLlxuICogRWFjaCBzdHJhdGVnaWVzIGFyZSBhcHBsaWVkIG9uIGVhY2ggZWxlbWVudCwgc3RvcHBpbmcgYXMgc29vbiBhcyBhIG5vbi1lbXB0eSB2YWx1ZSBpcyByZXR1cm5lZC5cbiAqL1xudmFyIE1BWF9QQVJFTlRTX1RPX0NPTlNJREVSID0gMTA7XG5mdW5jdGlvbiBnZXRBY3Rpb25OYW1lRnJvbUVsZW1lbnRGb3JTdHJhdGVnaWVzKHRhcmdldEVsZW1lbnQsIHVzZXJQcm9ncmFtbWF0aWNBdHRyaWJ1dGUsIHN0cmF0ZWdpZXMpIHtcbiAgICB2YXIgZWxlbWVudCA9IHRhcmdldEVsZW1lbnQ7XG4gICAgdmFyIHJlY3Vyc2lvbkNvdW50ZXIgPSAwO1xuICAgIHdoaWxlIChyZWN1cnNpb25Db3VudGVyIDw9IE1BWF9QQVJFTlRTX1RPX0NPTlNJREVSICYmXG4gICAgICAgIGVsZW1lbnQgJiZcbiAgICAgICAgZWxlbWVudC5ub2RlTmFtZSAhPT0gJ0JPRFknICYmXG4gICAgICAgIGVsZW1lbnQubm9kZU5hbWUgIT09ICdIVE1MJyAmJlxuICAgICAgICBlbGVtZW50Lm5vZGVOYW1lICE9PSAnSEVBRCcpIHtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBzdHJhdGVnaWVzXzEgPSBzdHJhdGVnaWVzOyBfaSA8IHN0cmF0ZWdpZXNfMS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHZhciBzdHJhdGVneSA9IHN0cmF0ZWdpZXNfMVtfaV07XG4gICAgICAgICAgICB2YXIgbmFtZV8xID0gc3RyYXRlZ3koZWxlbWVudCwgdXNlclByb2dyYW1tYXRpY0F0dHJpYnV0ZSk7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG5hbWVfMSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICB2YXIgdHJpbW1lZE5hbWUgPSBuYW1lXzEudHJpbSgpO1xuICAgICAgICAgICAgICAgIGlmICh0cmltbWVkTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1bmNhdGUobm9ybWFsaXplV2hpdGVzcGFjZSh0cmltbWVkTmFtZSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBDb25zaWRlciBhIEZPUk0gYXMgYSBjb250ZXh0dWFsIGxpbWl0IHRvIGdldCB0aGUgYWN0aW9uIG5hbWUuICBUaGlzIGlzIGV4cGVyaW1lbnRhbCBhbmQgbWF5XG4gICAgICAgIC8vIGJlIHJlY29uc2lkZXJlZCBpbiB0aGUgZnV0dXJlLlxuICAgICAgICBpZiAoZWxlbWVudC5ub2RlTmFtZSA9PT0gJ0ZPUk0nKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBlbGVtZW50ID0gZWxlbWVudC5wYXJlbnRFbGVtZW50O1xuICAgICAgICByZWN1cnNpb25Db3VudGVyICs9IDE7XG4gICAgfVxufVxuZnVuY3Rpb24gbm9ybWFsaXplV2hpdGVzcGFjZShzKSB7XG4gICAgcmV0dXJuIHMucmVwbGFjZSgvXFxzKy9nLCAnICcpO1xufVxuZnVuY3Rpb24gdHJ1bmNhdGUocykge1xuICAgIHJldHVybiBzLmxlbmd0aCA+IDEwMCA/IFwiXCIuY29uY2F0KHNhZmVUcnVuY2F0ZShzLCAxMDApLCBcIiBbLi4uXVwiKSA6IHM7XG59XG5mdW5jdGlvbiBnZXRFbGVtZW50QnlJZChyZWZFbGVtZW50LCBpZCkge1xuICAgIC8vIFVzZSB0aGUgZWxlbWVudCBvd25lckRvY3VtZW50IGhlcmUsIGJlY2F1c2UgdGVzdHMgYXJlIGV4ZWN1dGVkIGluIGFuIGlmcmFtZSwgc29cbiAgICAvLyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCB3b24ndCB3b3JrLlxuICAgIHJldHVybiByZWZFbGVtZW50Lm93bmVyRG9jdW1lbnQgPyByZWZFbGVtZW50Lm93bmVyRG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpIDogbnVsbDtcbn1cbmZ1bmN0aW9uIGdldFRleHR1YWxDb250ZW50KGVsZW1lbnQsIHVzZXJQcm9ncmFtbWF0aWNBdHRyaWJ1dGUpIHtcbiAgICBpZiAoZWxlbWVudC5pc0NvbnRlbnRFZGl0YWJsZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICgnaW5uZXJUZXh0JyBpbiBlbGVtZW50KSB7XG4gICAgICAgIHZhciB0ZXh0XzEgPSBlbGVtZW50LmlubmVyVGV4dDtcbiAgICAgICAgdmFyIHJlbW92ZVRleHRGcm9tRWxlbWVudHMgPSBmdW5jdGlvbiAocXVlcnkpIHtcbiAgICAgICAgICAgIHZhciBsaXN0ID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHF1ZXJ5KTtcbiAgICAgICAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBsaXN0Lmxlbmd0aDsgaW5kZXggKz0gMSkge1xuICAgICAgICAgICAgICAgIHZhciBlbGVtZW50XzEgPSBsaXN0W2luZGV4XTtcbiAgICAgICAgICAgICAgICBpZiAoJ2lubmVyVGV4dCcgaW4gZWxlbWVudF8xKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0ZXh0VG9SZXBsYWNlID0gZWxlbWVudF8xLmlubmVyVGV4dDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRleHRUb1JlcGxhY2UgJiYgdGV4dFRvUmVwbGFjZS50cmltKCkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dF8xID0gdGV4dF8xLnJlcGxhY2UodGV4dFRvUmVwbGFjZSwgJycpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBpZiAoIXN1cHBvcnRzSW5uZXJUZXh0U2NyaXB0QW5kU3R5bGVSZW1vdmFsKCkpIHtcbiAgICAgICAgICAgIC8vIHJlbW92ZSB0aGUgaW5uZXIgdGV4dCBvZiBTQ1JJUFQgYW5kIFNUWUxFUyBmcm9tIHRoZSByZXN1bHQuIFRoaXMgaXMgYSBiaXQgZGlydHksIGJ1dCBzaG91bGRcbiAgICAgICAgICAgIC8vIGJlIHJlbGF0aXZlbHkgZmFzdCBhbmQgd29yayBpbiBtb3N0IGNhc2VzLlxuICAgICAgICAgICAgcmVtb3ZlVGV4dEZyb21FbGVtZW50cygnc2NyaXB0LCBzdHlsZScpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHJlbW92ZSB0aGUgdGV4dCBvZiBlbGVtZW50cyB3aXRoIHByb2dyYW1tYXRpYyBhdHRyaWJ1dGUgdmFsdWVcbiAgICAgICAgcmVtb3ZlVGV4dEZyb21FbGVtZW50cyhcIltcIi5jb25jYXQoREVGQVVMVF9QUk9HUkFNTUFUSUNfQUNUSU9OX05BTUVfQVRUUklCVVRFLCBcIl1cIikpO1xuICAgICAgICBpZiAodXNlclByb2dyYW1tYXRpY0F0dHJpYnV0ZSkge1xuICAgICAgICAgICAgcmVtb3ZlVGV4dEZyb21FbGVtZW50cyhcIltcIi5jb25jYXQodXNlclByb2dyYW1tYXRpY0F0dHJpYnV0ZSwgXCJdXCIpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGV4dF8xO1xuICAgIH1cbiAgICByZXR1cm4gZWxlbWVudC50ZXh0Q29udGVudDtcbn1cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIGVsZW1lbnQuaW5uZXJUZXh0IGV4Y2x1ZGVzIHRoZSB0ZXh0IGZyb20gaW5saW5lIFNDUklQVCBhbmQgU1RZTEUgZWxlbWVudC4gVGhpc1xuICogc2hvdWxkIGJlIHRoZSBjYXNlIGV2ZXJ5d2hlcmUgZXhjZXB0IG9uIEludGVybmV0IEV4cGxvcmVyIDEwIGFuZCAxMSAoc2VlIFsxXSlcbiAqXG4gKiBUaGUgaW5uZXJUZXh0IHByb3BlcnR5IHJlbGllcyBvbiB3aGF0IGlzIGFjdHVhbGx5IHJlbmRlcmVkIHRvIGNvbXB1dGUgaXRzIG91dHB1dCwgc28gdG8gY2hlY2sgaWZcbiAqIGl0IGFjdHVhbGx5IGV4Y2x1ZGVzIFNDUklQVCBhbmQgU1RZTEUgY29udGVudCwgYSBzb2x1dGlvbiB3b3VsZCBiZSB0byBjcmVhdGUgYSBzdHlsZSBlbGVtZW50LCBzZXRcbiAqIGl0cyBjb250ZW50IHRvICcqJywgaW5qZWN0IGl0IGluIHRoZSBkb2N1bWVudCBib2R5LCBhbmQgY2hlY2sgaWYgdGhlIHN0eWxlIGVsZW1lbnQgaW5uZXJUZXh0XG4gKiBwcm9wZXJ0eSByZXR1cm5zICcqJy4gVXNpbmcgYSBuZXcgYGRvY3VtZW50YCBpbnN0YW5jZSB3b24ndCB3b3JrIGFzIGl0IGlzIG5vdCByZW5kZXJlZC5cbiAqXG4gKiBUaGlzIHNvbHV0aW9uIHJlcXVpcmVzIHNwZWNpZmljIENTUCBydWxlcyAoc2VlIFsyXSkgdG8gYmUgc2V0IGJ5IHRoZSBjdXN0b21lci4gV2Ugd2FudCB0byBhdm9pZFxuICogdGhpcywgc28gaW5zdGVhZCB3ZSByZWx5IG9uIGJyb3dzZXIgZGV0ZWN0aW9uLiBJbiBjYXNlIG9mIGZhbHNlIG5lZ2F0aXZlLCB0aGUgaW1wYWN0IHNob3VsZCBiZVxuICogbG93LCBzaW5jZSB3ZSByZWx5IG9uIHRoaXMgcmVzdWx0IHRvIHJlbW92ZSB0aGUgU0NSSVBUIGFuZCBTVFlMRSBpbm5lclRleHQgKHdoaWNoIHdpbGwgYmUgZW1wdHkpXG4gKiBmcm9tIGEgcGFyZW50IGVsZW1lbnQgaW5uZXJUZXh0LlxuICpcbiAqIFsxXTogaHR0cHM6Ly93ZWIuYXJjaGl2ZS5vcmcvd2ViLzIwMjEwNjAyMTY1NzE2L2h0dHA6Ly9wZXJmZWN0aW9ua2lsbHMuY29tL3RoZS1wb29yLW1pc3VuZGVyc3Rvb2QtaW5uZXJUZXh0LyNkaWZmLXdpdGgtdGV4dENvbnRlbnRcbiAqIFsyXTogaHR0cHM6Ly9naXRodWIuY29tL0RhdGFEb2cvYnJvd3Nlci1zZGsvaXNzdWVzLzEwODRcbiAqL1xuZnVuY3Rpb24gc3VwcG9ydHNJbm5lclRleHRTY3JpcHRBbmRTdHlsZVJlbW92YWwoKSB7XG4gICAgcmV0dXJuICFpc0lFKCk7XG59XG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgYnJvd3NlciBzdXBwb3J0cyB0aGUgZWxlbWVudC5sYWJlbHMgcHJvcGVydHkuICBUaGlzIHNob3VsZCBiZSB0aGUgY2FzZVxuICogZXZlcnl3aGVyZSBleGNlcHQgb24gSW50ZXJuZXQgRXhwbG9yZXIuXG4gKiBOb3RlOiBUaGUgcmVzdWx0IGlzIGNvbXB1dGVkIGxhemlseSwgYmVjYXVzZSB3ZSBkb24ndCB3YW50IGFueSBET00gYWNjZXNzIHdoZW4gdGhlIFNESyBpc1xuICogZXZhbHVhdGVkLlxuICovXG52YXIgc3VwcG9ydHNMYWJlbFByb3BlcnR5UmVzdWx0O1xuZnVuY3Rpb24gc3VwcG9ydHNMYWJlbFByb3BlcnR5KCkge1xuICAgIGlmIChzdXBwb3J0c0xhYmVsUHJvcGVydHlSZXN1bHQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBzdXBwb3J0c0xhYmVsUHJvcGVydHlSZXN1bHQgPSAnbGFiZWxzJyBpbiBIVE1MSW5wdXRFbGVtZW50LnByb3RvdHlwZTtcbiAgICB9XG4gICAgcmV0dXJuIHN1cHBvcnRzTGFiZWxQcm9wZXJ0eVJlc3VsdDtcbn1cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBicm93c2VyIHN1cHBvcnRzIHRoZSBlbGVtZW50LmNsb3Nlc3QgbWV0aG9kLiAgVGhpcyBzaG91bGQgYmUgdGhlIGNhc2VcbiAqIGV2ZXJ5d2hlcmUgZXhjZXB0IG9uIEludGVybmV0IEV4cGxvcmVyLlxuICogTm90ZTogVGhlIHJlc3VsdCBpcyBjb21wdXRlZCBsYXppbHksIGJlY2F1c2Ugd2UgZG9uJ3Qgd2FudCBhbnkgRE9NIGFjY2VzcyB3aGVuIHRoZSBTREsgaXNcbiAqIGV2YWx1YXRlZC5cbiAqL1xudmFyIHN1cHBvcnRzRWxlbWVudENsb3Nlc3RSZXN1bHQ7XG5mdW5jdGlvbiBzdXBwb3J0c0VsZW1lbnRDbG9zZXN0KCkge1xuICAgIGlmIChzdXBwb3J0c0VsZW1lbnRDbG9zZXN0UmVzdWx0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgc3VwcG9ydHNFbGVtZW50Q2xvc2VzdFJlc3VsdCA9ICdjbG9zZXN0JyBpbiBIVE1MRWxlbWVudC5wcm90b3R5cGU7XG4gICAgfVxuICAgIHJldHVybiBzdXBwb3J0c0VsZW1lbnRDbG9zZXN0UmVzdWx0O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2V0QWN0aW9uTmFtZUZyb21FbGVtZW50LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/action/getActionNameFromElement.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/action/getSelectorFromElement.js":
/*!********************************************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/action/getSelectorFromElement.js ***!
  \********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   STABLE_ATTRIBUTES: () => (/* binding */ STABLE_ATTRIBUTES),\n/* harmony export */   getSelectorFromElement: () => (/* binding */ getSelectorFromElement),\n/* harmony export */   supportScopeSelector: () => (/* binding */ supportScopeSelector)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/polyfills.js\");\n/* harmony import */ var _getActionNameFromElement__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./getActionNameFromElement */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/action/getActionNameFromElement.js\");\n\n\n/**\n * Stable attributes are attributes that are commonly used to identify parts of a UI (ex:\n * component). Those attribute values should not be generated randomly (hardcoded most of the time)\n * and stay the same across deploys. They are not necessarily unique across the document.\n */\nvar STABLE_ATTRIBUTES = [\n    _getActionNameFromElement__WEBPACK_IMPORTED_MODULE_0__.DEFAULT_PROGRAMMATIC_ACTION_NAME_ATTRIBUTE,\n    // Common test attributes (list provided by google recorder)\n    'data-testid',\n    'data-test',\n    'data-qa',\n    'data-cy',\n    'data-test-id',\n    'data-qa-id',\n    'data-testing',\n    // FullStory decorator attributes:\n    'data-component',\n    'data-element',\n    'data-source-file',\n];\n// Selectors to use if they target a single element on the whole document. Those selectors are\n// considered as \"stable\" and uniquely identify an element regardless of the page state. If we find\n// one, we should consider the selector \"complete\" and stop iterating over ancestors.\nvar GLOBALLY_UNIQUE_SELECTOR_GETTERS = [getStableAttributeSelector, getIDSelector];\n// Selectors to use if they target a single element among an element descendants. Those selectors\n// are more brittle than \"globally unique\" selectors and should be combined with ancestor selectors\n// to improve specificity.\nvar UNIQUE_AMONG_CHILDREN_SELECTOR_GETTERS = [\n    getStableAttributeSelector,\n    getClassSelector,\n    getTagNameSelector,\n];\nfunction getSelectorFromElement(targetElement, actionNameAttribute) {\n    var targetElementSelector = '';\n    var element = targetElement;\n    while (element && element.nodeName !== 'HTML') {\n        var globallyUniqueSelector = findSelector(element, GLOBALLY_UNIQUE_SELECTOR_GETTERS, isSelectorUniqueGlobally, actionNameAttribute, targetElementSelector);\n        if (globallyUniqueSelector) {\n            return globallyUniqueSelector;\n        }\n        var uniqueSelectorAmongChildren = findSelector(element, UNIQUE_AMONG_CHILDREN_SELECTOR_GETTERS, isSelectorUniqueAmongSiblings, actionNameAttribute, targetElementSelector);\n        targetElementSelector =\n            uniqueSelectorAmongChildren || combineSelector(getPositionSelector(element), targetElementSelector);\n        element = element.parentElement;\n    }\n    return targetElementSelector;\n}\nfunction isGeneratedValue(value) {\n    // To compute the \"URL path group\", the backend replaces every URL path parts as a question mark\n    // if it thinks the part is an identifier. The condition it uses is to checks whether a digit is\n    // present.\n    //\n    // Here, we use the same strategy: if a the value contains a digit, we consider it generated. This\n    // strategy might be a bit naive and fail in some cases, but there are many fallbacks to generate\n    // CSS selectors so it should be fine most of the time. We might want to allow customers to\n    // provide their own `isGeneratedValue` at some point.\n    return /[0-9]/.test(value);\n}\nfunction getIDSelector(element) {\n    if (element.id && !isGeneratedValue(element.id)) {\n        return \"#\".concat((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.cssEscape)(element.id));\n    }\n}\nfunction getClassSelector(element) {\n    if (element.tagName === 'BODY') {\n        return;\n    }\n    if (element.classList.length > 0) {\n        for (var i = 0; i < element.classList.length; i += 1) {\n            var className = element.classList[i];\n            if (isGeneratedValue(className)) {\n                continue;\n            }\n            return \"\".concat(element.tagName, \".\").concat((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.cssEscape)(className));\n        }\n    }\n}\nfunction getTagNameSelector(element) {\n    return element.tagName;\n}\nfunction getStableAttributeSelector(element, actionNameAttribute) {\n    if (actionNameAttribute) {\n        var selector = getAttributeSelector(actionNameAttribute);\n        if (selector) {\n            return selector;\n        }\n    }\n    for (var _i = 0, STABLE_ATTRIBUTES_1 = STABLE_ATTRIBUTES; _i < STABLE_ATTRIBUTES_1.length; _i++) {\n        var attributeName = STABLE_ATTRIBUTES_1[_i];\n        var selector = getAttributeSelector(attributeName);\n        if (selector) {\n            return selector;\n        }\n    }\n    function getAttributeSelector(attributeName) {\n        if (element.hasAttribute(attributeName)) {\n            return \"\".concat(element.tagName, \"[\").concat(attributeName, \"=\\\"\").concat((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.cssEscape)(element.getAttribute(attributeName)), \"\\\"]\");\n        }\n    }\n}\nfunction getPositionSelector(element) {\n    var sibling = element.parentElement.firstElementChild;\n    var elementIndex = 1;\n    while (sibling && sibling !== element) {\n        if (sibling.tagName === element.tagName) {\n            elementIndex += 1;\n        }\n        sibling = sibling.nextElementSibling;\n    }\n    return \"\".concat(element.tagName, \":nth-of-type(\").concat(elementIndex, \")\");\n}\nfunction findSelector(element, selectorGetters, predicate, actionNameAttribute, childSelector) {\n    for (var _i = 0, selectorGetters_1 = selectorGetters; _i < selectorGetters_1.length; _i++) {\n        var selectorGetter = selectorGetters_1[_i];\n        var elementSelector = selectorGetter(element, actionNameAttribute);\n        if (!elementSelector) {\n            continue;\n        }\n        var fullSelector = combineSelector(elementSelector, childSelector);\n        if (predicate(element, fullSelector)) {\n            return fullSelector;\n        }\n    }\n}\n/**\n * Check whether the selector is unique among the whole document.\n */\nfunction isSelectorUniqueGlobally(element, selector) {\n    return element.ownerDocument.querySelectorAll(selector).length === 1;\n}\n/**\n * Check whether the selector is unique among the element siblings. In other words, it returns true\n * if \"ELEMENT_PARENT > SELECTOR\" returns a single element.\n *\n * The result will be less accurate on browsers that don't support :scope (i. e. IE): it will check\n * for any element matching the selector contained in the parent (in other words,\n * \"ELEMENT_PARENT SELECTOR\" returns a single element), regardless of whether the selector is a\n * direct descendent of the element parent. This should not impact results too much: if it\n * inaccurately returns false, we'll just fall back to another strategy.\n */\nfunction isSelectorUniqueAmongSiblings(element, selector) {\n    return (element.parentElement.querySelectorAll(supportScopeSelector() ? combineSelector(':scope', selector) : selector)\n        .length === 1);\n}\nfunction combineSelector(parent, child) {\n    return child ? \"\".concat(parent, \">\").concat(child) : parent;\n}\nvar supportScopeSelectorCache;\nfunction supportScopeSelector() {\n    if (supportScopeSelectorCache === undefined) {\n        try {\n            document.querySelector(':scope');\n            supportScopeSelectorCache = true;\n        }\n        catch (_a) {\n            supportScopeSelectorCache = false;\n        }\n    }\n    return supportScopeSelectorCache;\n}\n//# sourceMappingURL=getSelectorFromElement.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2RvbWFpbi9ydW1FdmVudHNDb2xsZWN0aW9uL2FjdGlvbi9nZXRTZWxlY3RvckZyb21FbGVtZW50LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQWtEO0FBQ3NDO0FBQ3hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLElBQUksaUdBQTBDO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsZ0VBQVM7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsOEJBQThCO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMERBQTBELGdFQUFTO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOERBQThELGlDQUFpQztBQUMvRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUZBQXVGLGdFQUFTO0FBQ2hHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBEQUEwRCwrQkFBK0I7QUFDekY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFyY2FzdGVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLXJ1bS1jb3JlL2VzbS9kb21haW4vcnVtRXZlbnRzQ29sbGVjdGlvbi9hY3Rpb24vZ2V0U2VsZWN0b3JGcm9tRWxlbWVudC5qcz8wMzAyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNzc0VzY2FwZSB9IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItY29yZSc7XG5pbXBvcnQgeyBERUZBVUxUX1BST0dSQU1NQVRJQ19BQ1RJT05fTkFNRV9BVFRSSUJVVEUgfSBmcm9tICcuL2dldEFjdGlvbk5hbWVGcm9tRWxlbWVudCc7XG4vKipcbiAqIFN0YWJsZSBhdHRyaWJ1dGVzIGFyZSBhdHRyaWJ1dGVzIHRoYXQgYXJlIGNvbW1vbmx5IHVzZWQgdG8gaWRlbnRpZnkgcGFydHMgb2YgYSBVSSAoZXg6XG4gKiBjb21wb25lbnQpLiBUaG9zZSBhdHRyaWJ1dGUgdmFsdWVzIHNob3VsZCBub3QgYmUgZ2VuZXJhdGVkIHJhbmRvbWx5IChoYXJkY29kZWQgbW9zdCBvZiB0aGUgdGltZSlcbiAqIGFuZCBzdGF5IHRoZSBzYW1lIGFjcm9zcyBkZXBsb3lzLiBUaGV5IGFyZSBub3QgbmVjZXNzYXJpbHkgdW5pcXVlIGFjcm9zcyB0aGUgZG9jdW1lbnQuXG4gKi9cbmV4cG9ydCB2YXIgU1RBQkxFX0FUVFJJQlVURVMgPSBbXG4gICAgREVGQVVMVF9QUk9HUkFNTUFUSUNfQUNUSU9OX05BTUVfQVRUUklCVVRFLFxuICAgIC8vIENvbW1vbiB0ZXN0IGF0dHJpYnV0ZXMgKGxpc3QgcHJvdmlkZWQgYnkgZ29vZ2xlIHJlY29yZGVyKVxuICAgICdkYXRhLXRlc3RpZCcsXG4gICAgJ2RhdGEtdGVzdCcsXG4gICAgJ2RhdGEtcWEnLFxuICAgICdkYXRhLWN5JyxcbiAgICAnZGF0YS10ZXN0LWlkJyxcbiAgICAnZGF0YS1xYS1pZCcsXG4gICAgJ2RhdGEtdGVzdGluZycsXG4gICAgLy8gRnVsbFN0b3J5IGRlY29yYXRvciBhdHRyaWJ1dGVzOlxuICAgICdkYXRhLWNvbXBvbmVudCcsXG4gICAgJ2RhdGEtZWxlbWVudCcsXG4gICAgJ2RhdGEtc291cmNlLWZpbGUnLFxuXTtcbi8vIFNlbGVjdG9ycyB0byB1c2UgaWYgdGhleSB0YXJnZXQgYSBzaW5nbGUgZWxlbWVudCBvbiB0aGUgd2hvbGUgZG9jdW1lbnQuIFRob3NlIHNlbGVjdG9ycyBhcmVcbi8vIGNvbnNpZGVyZWQgYXMgXCJzdGFibGVcIiBhbmQgdW5pcXVlbHkgaWRlbnRpZnkgYW4gZWxlbWVudCByZWdhcmRsZXNzIG9mIHRoZSBwYWdlIHN0YXRlLiBJZiB3ZSBmaW5kXG4vLyBvbmUsIHdlIHNob3VsZCBjb25zaWRlciB0aGUgc2VsZWN0b3IgXCJjb21wbGV0ZVwiIGFuZCBzdG9wIGl0ZXJhdGluZyBvdmVyIGFuY2VzdG9ycy5cbnZhciBHTE9CQUxMWV9VTklRVUVfU0VMRUNUT1JfR0VUVEVSUyA9IFtnZXRTdGFibGVBdHRyaWJ1dGVTZWxlY3RvciwgZ2V0SURTZWxlY3Rvcl07XG4vLyBTZWxlY3RvcnMgdG8gdXNlIGlmIHRoZXkgdGFyZ2V0IGEgc2luZ2xlIGVsZW1lbnQgYW1vbmcgYW4gZWxlbWVudCBkZXNjZW5kYW50cy4gVGhvc2Ugc2VsZWN0b3JzXG4vLyBhcmUgbW9yZSBicml0dGxlIHRoYW4gXCJnbG9iYWxseSB1bmlxdWVcIiBzZWxlY3RvcnMgYW5kIHNob3VsZCBiZSBjb21iaW5lZCB3aXRoIGFuY2VzdG9yIHNlbGVjdG9yc1xuLy8gdG8gaW1wcm92ZSBzcGVjaWZpY2l0eS5cbnZhciBVTklRVUVfQU1PTkdfQ0hJTERSRU5fU0VMRUNUT1JfR0VUVEVSUyA9IFtcbiAgICBnZXRTdGFibGVBdHRyaWJ1dGVTZWxlY3RvcixcbiAgICBnZXRDbGFzc1NlbGVjdG9yLFxuICAgIGdldFRhZ05hbWVTZWxlY3Rvcixcbl07XG5leHBvcnQgZnVuY3Rpb24gZ2V0U2VsZWN0b3JGcm9tRWxlbWVudCh0YXJnZXRFbGVtZW50LCBhY3Rpb25OYW1lQXR0cmlidXRlKSB7XG4gICAgdmFyIHRhcmdldEVsZW1lbnRTZWxlY3RvciA9ICcnO1xuICAgIHZhciBlbGVtZW50ID0gdGFyZ2V0RWxlbWVudDtcbiAgICB3aGlsZSAoZWxlbWVudCAmJiBlbGVtZW50Lm5vZGVOYW1lICE9PSAnSFRNTCcpIHtcbiAgICAgICAgdmFyIGdsb2JhbGx5VW5pcXVlU2VsZWN0b3IgPSBmaW5kU2VsZWN0b3IoZWxlbWVudCwgR0xPQkFMTFlfVU5JUVVFX1NFTEVDVE9SX0dFVFRFUlMsIGlzU2VsZWN0b3JVbmlxdWVHbG9iYWxseSwgYWN0aW9uTmFtZUF0dHJpYnV0ZSwgdGFyZ2V0RWxlbWVudFNlbGVjdG9yKTtcbiAgICAgICAgaWYgKGdsb2JhbGx5VW5pcXVlU2VsZWN0b3IpIHtcbiAgICAgICAgICAgIHJldHVybiBnbG9iYWxseVVuaXF1ZVNlbGVjdG9yO1xuICAgICAgICB9XG4gICAgICAgIHZhciB1bmlxdWVTZWxlY3RvckFtb25nQ2hpbGRyZW4gPSBmaW5kU2VsZWN0b3IoZWxlbWVudCwgVU5JUVVFX0FNT05HX0NISUxEUkVOX1NFTEVDVE9SX0dFVFRFUlMsIGlzU2VsZWN0b3JVbmlxdWVBbW9uZ1NpYmxpbmdzLCBhY3Rpb25OYW1lQXR0cmlidXRlLCB0YXJnZXRFbGVtZW50U2VsZWN0b3IpO1xuICAgICAgICB0YXJnZXRFbGVtZW50U2VsZWN0b3IgPVxuICAgICAgICAgICAgdW5pcXVlU2VsZWN0b3JBbW9uZ0NoaWxkcmVuIHx8IGNvbWJpbmVTZWxlY3RvcihnZXRQb3NpdGlvblNlbGVjdG9yKGVsZW1lbnQpLCB0YXJnZXRFbGVtZW50U2VsZWN0b3IpO1xuICAgICAgICBlbGVtZW50ID0gZWxlbWVudC5wYXJlbnRFbGVtZW50O1xuICAgIH1cbiAgICByZXR1cm4gdGFyZ2V0RWxlbWVudFNlbGVjdG9yO1xufVxuZnVuY3Rpb24gaXNHZW5lcmF0ZWRWYWx1ZSh2YWx1ZSkge1xuICAgIC8vIFRvIGNvbXB1dGUgdGhlIFwiVVJMIHBhdGggZ3JvdXBcIiwgdGhlIGJhY2tlbmQgcmVwbGFjZXMgZXZlcnkgVVJMIHBhdGggcGFydHMgYXMgYSBxdWVzdGlvbiBtYXJrXG4gICAgLy8gaWYgaXQgdGhpbmtzIHRoZSBwYXJ0IGlzIGFuIGlkZW50aWZpZXIuIFRoZSBjb25kaXRpb24gaXQgdXNlcyBpcyB0byBjaGVja3Mgd2hldGhlciBhIGRpZ2l0IGlzXG4gICAgLy8gcHJlc2VudC5cbiAgICAvL1xuICAgIC8vIEhlcmUsIHdlIHVzZSB0aGUgc2FtZSBzdHJhdGVneTogaWYgYSB0aGUgdmFsdWUgY29udGFpbnMgYSBkaWdpdCwgd2UgY29uc2lkZXIgaXQgZ2VuZXJhdGVkLiBUaGlzXG4gICAgLy8gc3RyYXRlZ3kgbWlnaHQgYmUgYSBiaXQgbmFpdmUgYW5kIGZhaWwgaW4gc29tZSBjYXNlcywgYnV0IHRoZXJlIGFyZSBtYW55IGZhbGxiYWNrcyB0byBnZW5lcmF0ZVxuICAgIC8vIENTUyBzZWxlY3RvcnMgc28gaXQgc2hvdWxkIGJlIGZpbmUgbW9zdCBvZiB0aGUgdGltZS4gV2UgbWlnaHQgd2FudCB0byBhbGxvdyBjdXN0b21lcnMgdG9cbiAgICAvLyBwcm92aWRlIHRoZWlyIG93biBgaXNHZW5lcmF0ZWRWYWx1ZWAgYXQgc29tZSBwb2ludC5cbiAgICByZXR1cm4gL1swLTldLy50ZXN0KHZhbHVlKTtcbn1cbmZ1bmN0aW9uIGdldElEU2VsZWN0b3IoZWxlbWVudCkge1xuICAgIGlmIChlbGVtZW50LmlkICYmICFpc0dlbmVyYXRlZFZhbHVlKGVsZW1lbnQuaWQpKSB7XG4gICAgICAgIHJldHVybiBcIiNcIi5jb25jYXQoY3NzRXNjYXBlKGVsZW1lbnQuaWQpKTtcbiAgICB9XG59XG5mdW5jdGlvbiBnZXRDbGFzc1NlbGVjdG9yKGVsZW1lbnQpIHtcbiAgICBpZiAoZWxlbWVudC50YWdOYW1lID09PSAnQk9EWScpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QubGVuZ3RoID4gMCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVsZW1lbnQuY2xhc3NMaXN0Lmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICB2YXIgY2xhc3NOYW1lID0gZWxlbWVudC5jbGFzc0xpc3RbaV07XG4gICAgICAgICAgICBpZiAoaXNHZW5lcmF0ZWRWYWx1ZShjbGFzc05hbWUpKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gXCJcIi5jb25jYXQoZWxlbWVudC50YWdOYW1lLCBcIi5cIikuY29uY2F0KGNzc0VzY2FwZShjbGFzc05hbWUpKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGdldFRhZ05hbWVTZWxlY3RvcihlbGVtZW50KSB7XG4gICAgcmV0dXJuIGVsZW1lbnQudGFnTmFtZTtcbn1cbmZ1bmN0aW9uIGdldFN0YWJsZUF0dHJpYnV0ZVNlbGVjdG9yKGVsZW1lbnQsIGFjdGlvbk5hbWVBdHRyaWJ1dGUpIHtcbiAgICBpZiAoYWN0aW9uTmFtZUF0dHJpYnV0ZSkge1xuICAgICAgICB2YXIgc2VsZWN0b3IgPSBnZXRBdHRyaWJ1dGVTZWxlY3RvcihhY3Rpb25OYW1lQXR0cmlidXRlKTtcbiAgICAgICAgaWYgKHNlbGVjdG9yKSB7XG4gICAgICAgICAgICByZXR1cm4gc2VsZWN0b3I7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yICh2YXIgX2kgPSAwLCBTVEFCTEVfQVRUUklCVVRFU18xID0gU1RBQkxFX0FUVFJJQlVURVM7IF9pIDwgU1RBQkxFX0FUVFJJQlVURVNfMS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgdmFyIGF0dHJpYnV0ZU5hbWUgPSBTVEFCTEVfQVRUUklCVVRFU18xW19pXTtcbiAgICAgICAgdmFyIHNlbGVjdG9yID0gZ2V0QXR0cmlidXRlU2VsZWN0b3IoYXR0cmlidXRlTmFtZSk7XG4gICAgICAgIGlmIChzZWxlY3Rvcikge1xuICAgICAgICAgICAgcmV0dXJuIHNlbGVjdG9yO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldEF0dHJpYnV0ZVNlbGVjdG9yKGF0dHJpYnV0ZU5hbWUpIHtcbiAgICAgICAgaWYgKGVsZW1lbnQuaGFzQXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJcIi5jb25jYXQoZWxlbWVudC50YWdOYW1lLCBcIltcIikuY29uY2F0KGF0dHJpYnV0ZU5hbWUsIFwiPVxcXCJcIikuY29uY2F0KGNzc0VzY2FwZShlbGVtZW50LmdldEF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lKSksIFwiXFxcIl1cIik7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBnZXRQb3NpdGlvblNlbGVjdG9yKGVsZW1lbnQpIHtcbiAgICB2YXIgc2libGluZyA9IGVsZW1lbnQucGFyZW50RWxlbWVudC5maXJzdEVsZW1lbnRDaGlsZDtcbiAgICB2YXIgZWxlbWVudEluZGV4ID0gMTtcbiAgICB3aGlsZSAoc2libGluZyAmJiBzaWJsaW5nICE9PSBlbGVtZW50KSB7XG4gICAgICAgIGlmIChzaWJsaW5nLnRhZ05hbWUgPT09IGVsZW1lbnQudGFnTmFtZSkge1xuICAgICAgICAgICAgZWxlbWVudEluZGV4ICs9IDE7XG4gICAgICAgIH1cbiAgICAgICAgc2libGluZyA9IHNpYmxpbmcubmV4dEVsZW1lbnRTaWJsaW5nO1xuICAgIH1cbiAgICByZXR1cm4gXCJcIi5jb25jYXQoZWxlbWVudC50YWdOYW1lLCBcIjpudGgtb2YtdHlwZShcIikuY29uY2F0KGVsZW1lbnRJbmRleCwgXCIpXCIpO1xufVxuZnVuY3Rpb24gZmluZFNlbGVjdG9yKGVsZW1lbnQsIHNlbGVjdG9yR2V0dGVycywgcHJlZGljYXRlLCBhY3Rpb25OYW1lQXR0cmlidXRlLCBjaGlsZFNlbGVjdG9yKSB7XG4gICAgZm9yICh2YXIgX2kgPSAwLCBzZWxlY3RvckdldHRlcnNfMSA9IHNlbGVjdG9yR2V0dGVyczsgX2kgPCBzZWxlY3RvckdldHRlcnNfMS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgdmFyIHNlbGVjdG9yR2V0dGVyID0gc2VsZWN0b3JHZXR0ZXJzXzFbX2ldO1xuICAgICAgICB2YXIgZWxlbWVudFNlbGVjdG9yID0gc2VsZWN0b3JHZXR0ZXIoZWxlbWVudCwgYWN0aW9uTmFtZUF0dHJpYnV0ZSk7XG4gICAgICAgIGlmICghZWxlbWVudFNlbGVjdG9yKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZnVsbFNlbGVjdG9yID0gY29tYmluZVNlbGVjdG9yKGVsZW1lbnRTZWxlY3RvciwgY2hpbGRTZWxlY3Rvcik7XG4gICAgICAgIGlmIChwcmVkaWNhdGUoZWxlbWVudCwgZnVsbFNlbGVjdG9yKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bGxTZWxlY3RvcjtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogQ2hlY2sgd2hldGhlciB0aGUgc2VsZWN0b3IgaXMgdW5pcXVlIGFtb25nIHRoZSB3aG9sZSBkb2N1bWVudC5cbiAqL1xuZnVuY3Rpb24gaXNTZWxlY3RvclVuaXF1ZUdsb2JhbGx5KGVsZW1lbnQsIHNlbGVjdG9yKSB7XG4gICAgcmV0dXJuIGVsZW1lbnQub3duZXJEb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKS5sZW5ndGggPT09IDE7XG59XG4vKipcbiAqIENoZWNrIHdoZXRoZXIgdGhlIHNlbGVjdG9yIGlzIHVuaXF1ZSBhbW9uZyB0aGUgZWxlbWVudCBzaWJsaW5ncy4gSW4gb3RoZXIgd29yZHMsIGl0IHJldHVybnMgdHJ1ZVxuICogaWYgXCJFTEVNRU5UX1BBUkVOVCA+IFNFTEVDVE9SXCIgcmV0dXJucyBhIHNpbmdsZSBlbGVtZW50LlxuICpcbiAqIFRoZSByZXN1bHQgd2lsbCBiZSBsZXNzIGFjY3VyYXRlIG9uIGJyb3dzZXJzIHRoYXQgZG9uJ3Qgc3VwcG9ydCA6c2NvcGUgKGkuIGUuIElFKTogaXQgd2lsbCBjaGVja1xuICogZm9yIGFueSBlbGVtZW50IG1hdGNoaW5nIHRoZSBzZWxlY3RvciBjb250YWluZWQgaW4gdGhlIHBhcmVudCAoaW4gb3RoZXIgd29yZHMsXG4gKiBcIkVMRU1FTlRfUEFSRU5UIFNFTEVDVE9SXCIgcmV0dXJucyBhIHNpbmdsZSBlbGVtZW50KSwgcmVnYXJkbGVzcyBvZiB3aGV0aGVyIHRoZSBzZWxlY3RvciBpcyBhXG4gKiBkaXJlY3QgZGVzY2VuZGVudCBvZiB0aGUgZWxlbWVudCBwYXJlbnQuIFRoaXMgc2hvdWxkIG5vdCBpbXBhY3QgcmVzdWx0cyB0b28gbXVjaDogaWYgaXRcbiAqIGluYWNjdXJhdGVseSByZXR1cm5zIGZhbHNlLCB3ZSdsbCBqdXN0IGZhbGwgYmFjayB0byBhbm90aGVyIHN0cmF0ZWd5LlxuICovXG5mdW5jdGlvbiBpc1NlbGVjdG9yVW5pcXVlQW1vbmdTaWJsaW5ncyhlbGVtZW50LCBzZWxlY3Rvcikge1xuICAgIHJldHVybiAoZWxlbWVudC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc3VwcG9ydFNjb3BlU2VsZWN0b3IoKSA/IGNvbWJpbmVTZWxlY3RvcignOnNjb3BlJywgc2VsZWN0b3IpIDogc2VsZWN0b3IpXG4gICAgICAgIC5sZW5ndGggPT09IDEpO1xufVxuZnVuY3Rpb24gY29tYmluZVNlbGVjdG9yKHBhcmVudCwgY2hpbGQpIHtcbiAgICByZXR1cm4gY2hpbGQgPyBcIlwiLmNvbmNhdChwYXJlbnQsIFwiPlwiKS5jb25jYXQoY2hpbGQpIDogcGFyZW50O1xufVxudmFyIHN1cHBvcnRTY29wZVNlbGVjdG9yQ2FjaGU7XG5leHBvcnQgZnVuY3Rpb24gc3VwcG9ydFNjb3BlU2VsZWN0b3IoKSB7XG4gICAgaWYgKHN1cHBvcnRTY29wZVNlbGVjdG9yQ2FjaGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignOnNjb3BlJyk7XG4gICAgICAgICAgICBzdXBwb3J0U2NvcGVTZWxlY3RvckNhY2hlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoX2EpIHtcbiAgICAgICAgICAgIHN1cHBvcnRTY29wZVNlbGVjdG9yQ2FjaGUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc3VwcG9ydFNjb3BlU2VsZWN0b3JDYWNoZTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdldFNlbGVjdG9yRnJvbUVsZW1lbnQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/action/getSelectorFromElement.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/action/listenActionEvents.js":
/*!****************************************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/action/listenActionEvents.js ***!
  \****************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   listenActionEvents: () => (/* binding */ listenActionEvents)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/browser/addEventListener.js\");\n\nfunction listenActionEvents(_a) {\n    var onPointerDown = _a.onPointerDown, onPointerUp = _a.onPointerUp;\n    var selectionEmptyAtPointerDown;\n    var userActivity = {\n        selection: false,\n        input: false,\n    };\n    var clickContext;\n    var listeners = [\n        (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.addEventListener)(window, \"pointerdown\" /* DOM_EVENT.POINTER_DOWN */, function (event) {\n            if (isValidPointerEvent(event)) {\n                selectionEmptyAtPointerDown = isSelectionEmpty();\n                userActivity = {\n                    selection: false,\n                    input: false,\n                };\n                clickContext = onPointerDown(event);\n            }\n        }, { capture: true }),\n        (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.addEventListener)(window, \"selectionchange\" /* DOM_EVENT.SELECTION_CHANGE */, function () {\n            if (!selectionEmptyAtPointerDown || !isSelectionEmpty()) {\n                userActivity.selection = true;\n            }\n        }, { capture: true }),\n        (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.addEventListener)(window, \"pointerup\" /* DOM_EVENT.POINTER_UP */, function (event) {\n            if (isValidPointerEvent(event) && clickContext) {\n                // Use a scoped variable to make sure the value is not changed by other clicks\n                var localUserActivity_1 = userActivity;\n                onPointerUp(clickContext, event, function () { return localUserActivity_1; });\n                clickContext = undefined;\n            }\n        }, { capture: true }),\n        (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.addEventListener)(window, \"input\" /* DOM_EVENT.INPUT */, function () {\n            userActivity.input = true;\n        }, { capture: true }),\n    ];\n    return {\n        stop: function () {\n            listeners.forEach(function (listener) { return listener.stop(); });\n        },\n    };\n}\nfunction isSelectionEmpty() {\n    var selection = window.getSelection();\n    return !selection || selection.isCollapsed;\n}\nfunction isValidPointerEvent(event) {\n    return (event.target instanceof Element &&\n        // Only consider 'primary' pointer events for now. Multi-touch support could be implemented in\n        // the future.\n        event.isPrimary !== false);\n}\n//# sourceMappingURL=listenActionEvents.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2RvbWFpbi9ydW1FdmVudHNDb2xsZWN0aW9uL2FjdGlvbi9saXN0ZW5BY3Rpb25FdmVudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBeUQ7QUFDbEQ7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSx1RUFBZ0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsSUFBSSxlQUFlO0FBQzVCLFFBQVEsdUVBQWdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBLFNBQVMsSUFBSSxlQUFlO0FBQzVCLFFBQVEsdUVBQWdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBLCtEQUErRCw2QkFBNkI7QUFDNUY7QUFDQTtBQUNBLFNBQVMsSUFBSSxlQUFlO0FBQzVCLFFBQVEsdUVBQWdCO0FBQ3hCO0FBQ0EsU0FBUyxJQUFJLGVBQWU7QUFDNUI7QUFDQTtBQUNBO0FBQ0Esb0RBQW9ELHlCQUF5QjtBQUM3RSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYXJjYXN0ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2RvbWFpbi9ydW1FdmVudHNDb2xsZWN0aW9uL2FjdGlvbi9saXN0ZW5BY3Rpb25FdmVudHMuanM/ZjMxOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhZGRFdmVudExpc3RlbmVyIH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJztcbmV4cG9ydCBmdW5jdGlvbiBsaXN0ZW5BY3Rpb25FdmVudHMoX2EpIHtcbiAgICB2YXIgb25Qb2ludGVyRG93biA9IF9hLm9uUG9pbnRlckRvd24sIG9uUG9pbnRlclVwID0gX2Eub25Qb2ludGVyVXA7XG4gICAgdmFyIHNlbGVjdGlvbkVtcHR5QXRQb2ludGVyRG93bjtcbiAgICB2YXIgdXNlckFjdGl2aXR5ID0ge1xuICAgICAgICBzZWxlY3Rpb246IGZhbHNlLFxuICAgICAgICBpbnB1dDogZmFsc2UsXG4gICAgfTtcbiAgICB2YXIgY2xpY2tDb250ZXh0O1xuICAgIHZhciBsaXN0ZW5lcnMgPSBbXG4gICAgICAgIGFkZEV2ZW50TGlzdGVuZXIod2luZG93LCBcInBvaW50ZXJkb3duXCIgLyogRE9NX0VWRU5ULlBPSU5URVJfRE9XTiAqLywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICBpZiAoaXNWYWxpZFBvaW50ZXJFdmVudChldmVudCkpIHtcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb25FbXB0eUF0UG9pbnRlckRvd24gPSBpc1NlbGVjdGlvbkVtcHR5KCk7XG4gICAgICAgICAgICAgICAgdXNlckFjdGl2aXR5ID0ge1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb246IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBpbnB1dDogZmFsc2UsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBjbGlja0NvbnRleHQgPSBvblBvaW50ZXJEb3duKGV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgeyBjYXB0dXJlOiB0cnVlIH0pLFxuICAgICAgICBhZGRFdmVudExpc3RlbmVyKHdpbmRvdywgXCJzZWxlY3Rpb25jaGFuZ2VcIiAvKiBET01fRVZFTlQuU0VMRUNUSU9OX0NIQU5HRSAqLywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCFzZWxlY3Rpb25FbXB0eUF0UG9pbnRlckRvd24gfHwgIWlzU2VsZWN0aW9uRW1wdHkoKSkge1xuICAgICAgICAgICAgICAgIHVzZXJBY3Rpdml0eS5zZWxlY3Rpb24gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7IGNhcHR1cmU6IHRydWUgfSksXG4gICAgICAgIGFkZEV2ZW50TGlzdGVuZXIod2luZG93LCBcInBvaW50ZXJ1cFwiIC8qIERPTV9FVkVOVC5QT0lOVEVSX1VQICovLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIGlmIChpc1ZhbGlkUG9pbnRlckV2ZW50KGV2ZW50KSAmJiBjbGlja0NvbnRleHQpIHtcbiAgICAgICAgICAgICAgICAvLyBVc2UgYSBzY29wZWQgdmFyaWFibGUgdG8gbWFrZSBzdXJlIHRoZSB2YWx1ZSBpcyBub3QgY2hhbmdlZCBieSBvdGhlciBjbGlja3NcbiAgICAgICAgICAgICAgICB2YXIgbG9jYWxVc2VyQWN0aXZpdHlfMSA9IHVzZXJBY3Rpdml0eTtcbiAgICAgICAgICAgICAgICBvblBvaW50ZXJVcChjbGlja0NvbnRleHQsIGV2ZW50LCBmdW5jdGlvbiAoKSB7IHJldHVybiBsb2NhbFVzZXJBY3Rpdml0eV8xOyB9KTtcbiAgICAgICAgICAgICAgICBjbGlja0NvbnRleHQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHsgY2FwdHVyZTogdHJ1ZSB9KSxcbiAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcih3aW5kb3csIFwiaW5wdXRcIiAvKiBET01fRVZFTlQuSU5QVVQgKi8sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHVzZXJBY3Rpdml0eS5pbnB1dCA9IHRydWU7XG4gICAgICAgIH0sIHsgY2FwdHVyZTogdHJ1ZSB9KSxcbiAgICBdO1xuICAgIHJldHVybiB7XG4gICAgICAgIHN0b3A6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGxpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uIChsaXN0ZW5lcikgeyByZXR1cm4gbGlzdGVuZXIuc3RvcCgpOyB9KTtcbiAgICAgICAgfSxcbiAgICB9O1xufVxuZnVuY3Rpb24gaXNTZWxlY3Rpb25FbXB0eSgpIHtcbiAgICB2YXIgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuICAgIHJldHVybiAhc2VsZWN0aW9uIHx8IHNlbGVjdGlvbi5pc0NvbGxhcHNlZDtcbn1cbmZ1bmN0aW9uIGlzVmFsaWRQb2ludGVyRXZlbnQoZXZlbnQpIHtcbiAgICByZXR1cm4gKGV2ZW50LnRhcmdldCBpbnN0YW5jZW9mIEVsZW1lbnQgJiZcbiAgICAgICAgLy8gT25seSBjb25zaWRlciAncHJpbWFyeScgcG9pbnRlciBldmVudHMgZm9yIG5vdy4gTXVsdGktdG91Y2ggc3VwcG9ydCBjb3VsZCBiZSBpbXBsZW1lbnRlZCBpblxuICAgICAgICAvLyB0aGUgZnV0dXJlLlxuICAgICAgICBldmVudC5pc1ByaW1hcnkgIT09IGZhbHNlKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxpc3RlbkFjdGlvbkV2ZW50cy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/action/listenActionEvents.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/action/trackClickActions.js":
/*!***************************************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/action/trackClickActions.js ***!
  \***************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ACTION_CONTEXT_TIME_OUT_DELAY: () => (/* binding */ ACTION_CONTEXT_TIME_OUT_DELAY),\n/* harmony export */   CLICK_ACTION_MAX_DURATION: () => (/* binding */ CLICK_ACTION_MAX_DURATION),\n/* harmony export */   finalizeClicks: () => (/* binding */ finalizeClicks),\n/* harmony export */   trackClickActions: () => (/* binding */ trackClickActions)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/valueHistory.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/observable.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/stringUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/polyfills.js\");\n/* harmony import */ var _trackEventCounts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../trackEventCounts */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/trackEventCounts.js\");\n/* harmony import */ var _waitPageActivityEnd__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../waitPageActivityEnd */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/waitPageActivityEnd.js\");\n/* harmony import */ var _clickChain__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./clickChain */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/action/clickChain.js\");\n/* harmony import */ var _getActionNameFromElement__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./getActionNameFromElement */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/action/getActionNameFromElement.js\");\n/* harmony import */ var _getSelectorFromElement__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./getSelectorFromElement */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/action/getSelectorFromElement.js\");\n/* harmony import */ var _listenActionEvents__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./listenActionEvents */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/action/listenActionEvents.js\");\n/* harmony import */ var _computeFrustration__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./computeFrustration */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/action/computeFrustration.js\");\n\n\n\n\n\n\n\n\n// Maximum duration for click actions\nvar CLICK_ACTION_MAX_DURATION = 10 * _datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.ONE_SECOND;\nvar ACTION_CONTEXT_TIME_OUT_DELAY = 5 * _datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.ONE_MINUTE; // arbitrary\nfunction trackClickActions(lifeCycle, domMutationObservable, configuration) {\n    var history = new _datadog_browser_core__WEBPACK_IMPORTED_MODULE_8__.ValueHistory(ACTION_CONTEXT_TIME_OUT_DELAY);\n    var stopObservable = new _datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__.Observable();\n    var currentClickChain;\n    lifeCycle.subscribe(8 /* LifeCycleEventType.SESSION_RENEWED */, function () {\n        history.reset();\n    });\n    lifeCycle.subscribe(4 /* LifeCycleEventType.VIEW_ENDED */, stopClickChain);\n    var stopActionEventsListener = (0,_listenActionEvents__WEBPACK_IMPORTED_MODULE_5__.listenActionEvents)({\n        onPointerDown: function (pointerDownEvent) {\n            return processPointerDown(configuration, lifeCycle, domMutationObservable, history, pointerDownEvent);\n        },\n        onPointerUp: function (_a, startEvent, getUserActivity) {\n            var clickActionBase = _a.clickActionBase, hadActivityOnPointerDown = _a.hadActivityOnPointerDown;\n            return startClickAction(configuration, lifeCycle, domMutationObservable, history, stopObservable, appendClickToClickChain, clickActionBase, startEvent, getUserActivity, hadActivityOnPointerDown);\n        },\n    }).stop;\n    var actionContexts = {\n        findActionId: function (startTime) {\n            return configuration.trackFrustrations ? history.findAll(startTime) : history.find(startTime);\n        },\n    };\n    return {\n        stop: function () {\n            stopClickChain();\n            stopObservable.notify();\n            stopActionEventsListener();\n        },\n        actionContexts: actionContexts,\n    };\n    function appendClickToClickChain(click) {\n        if (!currentClickChain || !currentClickChain.tryAppend(click)) {\n            var rageClick_1 = click.clone();\n            currentClickChain = (0,_clickChain__WEBPACK_IMPORTED_MODULE_2__.createClickChain)(click, function (clicks) {\n                finalizeClicks(clicks, rageClick_1);\n            });\n        }\n    }\n    function stopClickChain() {\n        if (currentClickChain) {\n            currentClickChain.stop();\n        }\n    }\n}\nfunction processPointerDown(configuration, lifeCycle, domMutationObservable, history, pointerDownEvent) {\n    if (!configuration.trackFrustrations && history.find()) {\n        // TODO: remove this in a future major version. To keep retrocompatibility, ignore any new\n        // action if another one is already occurring.\n        return;\n    }\n    var clickActionBase = computeClickActionBase(pointerDownEvent, configuration.actionNameAttribute);\n    if (!configuration.trackFrustrations && !clickActionBase.name) {\n        // TODO: remove this in a future major version. To keep retrocompatibility, ignore any action\n        // with a blank name\n        return;\n    }\n    var hadActivityOnPointerDown = false;\n    (0,_waitPageActivityEnd__WEBPACK_IMPORTED_MODULE_1__.waitPageActivityEnd)(lifeCycle, domMutationObservable, configuration, function (pageActivityEndEvent) {\n        hadActivityOnPointerDown = pageActivityEndEvent.hadActivity;\n    }, \n    // We don't care about the activity duration, we just want to know whether an activity did happen\n    // within the \"validation delay\" or not. Limit the duration so the callback is called sooner.\n    _waitPageActivityEnd__WEBPACK_IMPORTED_MODULE_1__.PAGE_ACTIVITY_VALIDATION_DELAY);\n    return { clickActionBase: clickActionBase, hadActivityOnPointerDown: function () { return hadActivityOnPointerDown; } };\n}\nfunction startClickAction(configuration, lifeCycle, domMutationObservable, history, stopObservable, appendClickToClickChain, clickActionBase, startEvent, getUserActivity, hadActivityOnPointerDown) {\n    var click = newClick(lifeCycle, history, getUserActivity, clickActionBase, startEvent);\n    if (configuration.trackFrustrations) {\n        appendClickToClickChain(click);\n    }\n    var stopWaitPageActivityEnd = (0,_waitPageActivityEnd__WEBPACK_IMPORTED_MODULE_1__.waitPageActivityEnd)(lifeCycle, domMutationObservable, configuration, function (pageActivityEndEvent) {\n        if (pageActivityEndEvent.hadActivity && pageActivityEndEvent.end < click.startClocks.timeStamp) {\n            // If the clock is looking weird, just discard the click\n            click.discard();\n        }\n        else {\n            if (pageActivityEndEvent.hadActivity) {\n                click.stop(pageActivityEndEvent.end);\n            }\n            else if (hadActivityOnPointerDown()) {\n                click.stop(\n                // using the click start as activity end, so the click will have some activity but its\n                // duration will be 0 (as the activity started before the click start)\n                click.startClocks.timeStamp);\n            }\n            else {\n                click.stop();\n            }\n            // Validate or discard the click only if we don't track frustrations. It'll be done when\n            // the click chain is finalized.\n            if (!configuration.trackFrustrations) {\n                if (!pageActivityEndEvent.hadActivity) {\n                    // If we are not tracking frustrations, we should discard the click to keep backward\n                    // compatibility.\n                    click.discard();\n                }\n                else {\n                    click.validate();\n                }\n            }\n        }\n    }, CLICK_ACTION_MAX_DURATION).stop;\n    var viewEndedSubscription = lifeCycle.subscribe(4 /* LifeCycleEventType.VIEW_ENDED */, function (_a) {\n        var endClocks = _a.endClocks;\n        click.stop(endClocks.timeStamp);\n    });\n    var stopSubscription = stopObservable.subscribe(function () {\n        click.stop();\n    });\n    click.stopObservable.subscribe(function () {\n        viewEndedSubscription.unsubscribe();\n        stopWaitPageActivityEnd();\n        stopSubscription.unsubscribe();\n    });\n}\nfunction computeClickActionBase(event, actionNameAttribute) {\n    var rect = event.target.getBoundingClientRect();\n    return {\n        type: \"click\" /* ActionType.CLICK */,\n        target: {\n            width: Math.round(rect.width),\n            height: Math.round(rect.height),\n            selector: (0,_getSelectorFromElement__WEBPACK_IMPORTED_MODULE_4__.getSelectorFromElement)(event.target, actionNameAttribute),\n        },\n        position: {\n            // Use clientX and Y because for SVG element offsetX and Y are relatives to the <svg> element\n            x: Math.round(event.clientX - rect.left),\n            y: Math.round(event.clientY - rect.top),\n        },\n        name: (0,_getActionNameFromElement__WEBPACK_IMPORTED_MODULE_3__.getActionNameFromElement)(event.target, actionNameAttribute),\n    };\n}\nfunction newClick(lifeCycle, history, getUserActivity, clickActionBase, startEvent) {\n    var id = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_10__.generateUUID)();\n    var startClocks = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.clocksNow)();\n    var historyEntry = history.add(id, startClocks.relative);\n    var eventCountsSubscription = (0,_trackEventCounts__WEBPACK_IMPORTED_MODULE_0__.trackEventCounts)({\n        lifeCycle: lifeCycle,\n        isChildEvent: function (event) {\n            return event.action !== undefined &&\n                (Array.isArray(event.action.id) ? (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_11__.includes)(event.action.id, id) : event.action.id === id);\n        },\n    });\n    var status = 0 /* ClickStatus.ONGOING */;\n    var activityEndTime;\n    var frustrationTypes = [];\n    var stopObservable = new _datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__.Observable();\n    function stop(newActivityEndTime) {\n        if (status !== 0 /* ClickStatus.ONGOING */) {\n            return;\n        }\n        activityEndTime = newActivityEndTime;\n        status = 1 /* ClickStatus.STOPPED */;\n        if (activityEndTime) {\n            historyEntry.close((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.getRelativeTime)(activityEndTime));\n        }\n        else {\n            historyEntry.remove();\n        }\n        eventCountsSubscription.stop();\n        stopObservable.notify();\n    }\n    return {\n        event: startEvent,\n        stop: stop,\n        stopObservable: stopObservable,\n        get hasError() {\n            return eventCountsSubscription.eventCounts.errorCount > 0;\n        },\n        get hasPageActivity() {\n            return activityEndTime !== undefined;\n        },\n        getUserActivity: getUserActivity,\n        addFrustration: function (frustrationType) {\n            frustrationTypes.push(frustrationType);\n        },\n        startClocks: startClocks,\n        isStopped: function () { return status === 1 /* ClickStatus.STOPPED */ || status === 2 /* ClickStatus.FINALIZED */; },\n        clone: function () { return newClick(lifeCycle, history, getUserActivity, clickActionBase, startEvent); },\n        validate: function (domEvents) {\n            stop();\n            if (status !== 1 /* ClickStatus.STOPPED */) {\n                return;\n            }\n            var _a = eventCountsSubscription.eventCounts, resourceCount = _a.resourceCount, errorCount = _a.errorCount, longTaskCount = _a.longTaskCount;\n            var clickAction = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_11__.assign)({\n                type: \"click\" /* ActionType.CLICK */,\n                duration: activityEndTime && (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.elapsed)(startClocks.timeStamp, activityEndTime),\n                startClocks: startClocks,\n                id: id,\n                frustrationTypes: frustrationTypes,\n                counts: {\n                    resourceCount: resourceCount,\n                    errorCount: errorCount,\n                    longTaskCount: longTaskCount,\n                },\n                events: domEvents !== null && domEvents !== void 0 ? domEvents : [startEvent],\n                event: startEvent,\n            }, clickActionBase);\n            lifeCycle.notify(1 /* LifeCycleEventType.AUTO_ACTION_COMPLETED */, clickAction);\n            status = 2 /* ClickStatus.FINALIZED */;\n        },\n        discard: function () {\n            stop();\n            status = 2 /* ClickStatus.FINALIZED */;\n        },\n    };\n}\nfunction finalizeClicks(clicks, rageClick) {\n    var isRage = (0,_computeFrustration__WEBPACK_IMPORTED_MODULE_6__.computeFrustration)(clicks, rageClick).isRage;\n    if (isRage) {\n        clicks.forEach(function (click) { return click.discard(); });\n        rageClick.stop((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.timeStampNow)());\n        rageClick.validate(clicks.map(function (click) { return click.event; }));\n    }\n    else {\n        rageClick.discard();\n        clicks.forEach(function (click) { return click.validate(); });\n    }\n}\n//# sourceMappingURL=trackClickActions.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2RvbWFpbi9ydW1FdmVudHNDb2xsZWN0aW9uL2FjdGlvbi90cmFja0NsaWNrQWN0aW9ucy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQTZLO0FBQ25IO0FBQ3NDO0FBQ2hEO0FBQ3NCO0FBQ0o7QUFDUjtBQUNBO0FBQzFEO0FBQ08scUNBQXFDLDZEQUFVO0FBQy9DLHdDQUF3Qyw2REFBVSxFQUFFO0FBQ3BEO0FBQ1Asc0JBQXNCLCtEQUFZO0FBQ2xDLDZCQUE2Qiw2REFBVTtBQUN2QztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxtQ0FBbUMsdUVBQWtCO0FBQ3JEO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsNkRBQWdCO0FBQ2hEO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUkseUVBQW1CO0FBQ3ZCO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxJQUFJLGdGQUE4QjtBQUNsQyxhQUFhLDBFQUEwRTtBQUN2RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MseUVBQW1CO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLCtFQUFzQjtBQUM1QyxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsY0FBYyxtRkFBd0I7QUFDdEM7QUFDQTtBQUNBO0FBQ0EsYUFBYSxvRUFBWTtBQUN6QixzQkFBc0IsZ0VBQVM7QUFDL0I7QUFDQSxrQ0FBa0MsbUVBQWdCO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCxnRUFBUTtBQUMxRCxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLDZCQUE2Qiw2REFBVTtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixzRUFBZTtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLGlDQUFpQyw0RkFBNEY7QUFDN0gsNkJBQTZCLG9GQUFvRjtBQUNqSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsOERBQU07QUFDcEM7QUFDQSw2Q0FBNkMsOERBQU87QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ087QUFDUCxpQkFBaUIsdUVBQWtCO0FBQ25DO0FBQ0EsMENBQTBDLHlCQUF5QjtBQUNuRSx1QkFBdUIsbUVBQVk7QUFDbkMseURBQXlELHFCQUFxQjtBQUM5RTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsMEJBQTBCO0FBQ3BFO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhcmNhc3Rlci8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vZG9tYWluL3J1bUV2ZW50c0NvbGxlY3Rpb24vYWN0aW9uL3RyYWNrQ2xpY2tBY3Rpb25zLmpzPzcwZDYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaW5jbHVkZXMsIHRpbWVTdGFtcE5vdywgT2JzZXJ2YWJsZSwgYXNzaWduLCBnZXRSZWxhdGl2ZVRpbWUsIE9ORV9NSU5VVEUsIFZhbHVlSGlzdG9yeSwgZ2VuZXJhdGVVVUlELCBjbG9ja3NOb3csIE9ORV9TRUNPTkQsIGVsYXBzZWQsIH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJztcbmltcG9ydCB7IHRyYWNrRXZlbnRDb3VudHMgfSBmcm9tICcuLi8uLi90cmFja0V2ZW50Q291bnRzJztcbmltcG9ydCB7IFBBR0VfQUNUSVZJVFlfVkFMSURBVElPTl9ERUxBWSwgd2FpdFBhZ2VBY3Rpdml0eUVuZCB9IGZyb20gJy4uLy4uL3dhaXRQYWdlQWN0aXZpdHlFbmQnO1xuaW1wb3J0IHsgY3JlYXRlQ2xpY2tDaGFpbiB9IGZyb20gJy4vY2xpY2tDaGFpbic7XG5pbXBvcnQgeyBnZXRBY3Rpb25OYW1lRnJvbUVsZW1lbnQgfSBmcm9tICcuL2dldEFjdGlvbk5hbWVGcm9tRWxlbWVudCc7XG5pbXBvcnQgeyBnZXRTZWxlY3RvckZyb21FbGVtZW50IH0gZnJvbSAnLi9nZXRTZWxlY3RvckZyb21FbGVtZW50JztcbmltcG9ydCB7IGxpc3RlbkFjdGlvbkV2ZW50cyB9IGZyb20gJy4vbGlzdGVuQWN0aW9uRXZlbnRzJztcbmltcG9ydCB7IGNvbXB1dGVGcnVzdHJhdGlvbiB9IGZyb20gJy4vY29tcHV0ZUZydXN0cmF0aW9uJztcbi8vIE1heGltdW0gZHVyYXRpb24gZm9yIGNsaWNrIGFjdGlvbnNcbmV4cG9ydCB2YXIgQ0xJQ0tfQUNUSU9OX01BWF9EVVJBVElPTiA9IDEwICogT05FX1NFQ09ORDtcbmV4cG9ydCB2YXIgQUNUSU9OX0NPTlRFWFRfVElNRV9PVVRfREVMQVkgPSA1ICogT05FX01JTlVURTsgLy8gYXJiaXRyYXJ5XG5leHBvcnQgZnVuY3Rpb24gdHJhY2tDbGlja0FjdGlvbnMobGlmZUN5Y2xlLCBkb21NdXRhdGlvbk9ic2VydmFibGUsIGNvbmZpZ3VyYXRpb24pIHtcbiAgICB2YXIgaGlzdG9yeSA9IG5ldyBWYWx1ZUhpc3RvcnkoQUNUSU9OX0NPTlRFWFRfVElNRV9PVVRfREVMQVkpO1xuICAgIHZhciBzdG9wT2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlKCk7XG4gICAgdmFyIGN1cnJlbnRDbGlja0NoYWluO1xuICAgIGxpZmVDeWNsZS5zdWJzY3JpYmUoOCAvKiBMaWZlQ3ljbGVFdmVudFR5cGUuU0VTU0lPTl9SRU5FV0VEICovLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGhpc3RvcnkucmVzZXQoKTtcbiAgICB9KTtcbiAgICBsaWZlQ3ljbGUuc3Vic2NyaWJlKDQgLyogTGlmZUN5Y2xlRXZlbnRUeXBlLlZJRVdfRU5ERUQgKi8sIHN0b3BDbGlja0NoYWluKTtcbiAgICB2YXIgc3RvcEFjdGlvbkV2ZW50c0xpc3RlbmVyID0gbGlzdGVuQWN0aW9uRXZlbnRzKHtcbiAgICAgICAgb25Qb2ludGVyRG93bjogZnVuY3Rpb24gKHBvaW50ZXJEb3duRXZlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBwcm9jZXNzUG9pbnRlckRvd24oY29uZmlndXJhdGlvbiwgbGlmZUN5Y2xlLCBkb21NdXRhdGlvbk9ic2VydmFibGUsIGhpc3RvcnksIHBvaW50ZXJEb3duRXZlbnQpO1xuICAgICAgICB9LFxuICAgICAgICBvblBvaW50ZXJVcDogZnVuY3Rpb24gKF9hLCBzdGFydEV2ZW50LCBnZXRVc2VyQWN0aXZpdHkpIHtcbiAgICAgICAgICAgIHZhciBjbGlja0FjdGlvbkJhc2UgPSBfYS5jbGlja0FjdGlvbkJhc2UsIGhhZEFjdGl2aXR5T25Qb2ludGVyRG93biA9IF9hLmhhZEFjdGl2aXR5T25Qb2ludGVyRG93bjtcbiAgICAgICAgICAgIHJldHVybiBzdGFydENsaWNrQWN0aW9uKGNvbmZpZ3VyYXRpb24sIGxpZmVDeWNsZSwgZG9tTXV0YXRpb25PYnNlcnZhYmxlLCBoaXN0b3J5LCBzdG9wT2JzZXJ2YWJsZSwgYXBwZW5kQ2xpY2tUb0NsaWNrQ2hhaW4sIGNsaWNrQWN0aW9uQmFzZSwgc3RhcnRFdmVudCwgZ2V0VXNlckFjdGl2aXR5LCBoYWRBY3Rpdml0eU9uUG9pbnRlckRvd24pO1xuICAgICAgICB9LFxuICAgIH0pLnN0b3A7XG4gICAgdmFyIGFjdGlvbkNvbnRleHRzID0ge1xuICAgICAgICBmaW5kQWN0aW9uSWQ6IGZ1bmN0aW9uIChzdGFydFRpbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBjb25maWd1cmF0aW9uLnRyYWNrRnJ1c3RyYXRpb25zID8gaGlzdG9yeS5maW5kQWxsKHN0YXJ0VGltZSkgOiBoaXN0b3J5LmZpbmQoc3RhcnRUaW1lKTtcbiAgICAgICAgfSxcbiAgICB9O1xuICAgIHJldHVybiB7XG4gICAgICAgIHN0b3A6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHN0b3BDbGlja0NoYWluKCk7XG4gICAgICAgICAgICBzdG9wT2JzZXJ2YWJsZS5ub3RpZnkoKTtcbiAgICAgICAgICAgIHN0b3BBY3Rpb25FdmVudHNMaXN0ZW5lcigpO1xuICAgICAgICB9LFxuICAgICAgICBhY3Rpb25Db250ZXh0czogYWN0aW9uQ29udGV4dHMsXG4gICAgfTtcbiAgICBmdW5jdGlvbiBhcHBlbmRDbGlja1RvQ2xpY2tDaGFpbihjbGljaykge1xuICAgICAgICBpZiAoIWN1cnJlbnRDbGlja0NoYWluIHx8ICFjdXJyZW50Q2xpY2tDaGFpbi50cnlBcHBlbmQoY2xpY2spKSB7XG4gICAgICAgICAgICB2YXIgcmFnZUNsaWNrXzEgPSBjbGljay5jbG9uZSgpO1xuICAgICAgICAgICAgY3VycmVudENsaWNrQ2hhaW4gPSBjcmVhdGVDbGlja0NoYWluKGNsaWNrLCBmdW5jdGlvbiAoY2xpY2tzKSB7XG4gICAgICAgICAgICAgICAgZmluYWxpemVDbGlja3MoY2xpY2tzLCByYWdlQ2xpY2tfMSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBzdG9wQ2xpY2tDaGFpbigpIHtcbiAgICAgICAgaWYgKGN1cnJlbnRDbGlja0NoYWluKSB7XG4gICAgICAgICAgICBjdXJyZW50Q2xpY2tDaGFpbi5zdG9wKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBwcm9jZXNzUG9pbnRlckRvd24oY29uZmlndXJhdGlvbiwgbGlmZUN5Y2xlLCBkb21NdXRhdGlvbk9ic2VydmFibGUsIGhpc3RvcnksIHBvaW50ZXJEb3duRXZlbnQpIHtcbiAgICBpZiAoIWNvbmZpZ3VyYXRpb24udHJhY2tGcnVzdHJhdGlvbnMgJiYgaGlzdG9yeS5maW5kKCkpIHtcbiAgICAgICAgLy8gVE9ETzogcmVtb3ZlIHRoaXMgaW4gYSBmdXR1cmUgbWFqb3IgdmVyc2lvbi4gVG8ga2VlcCByZXRyb2NvbXBhdGliaWxpdHksIGlnbm9yZSBhbnkgbmV3XG4gICAgICAgIC8vIGFjdGlvbiBpZiBhbm90aGVyIG9uZSBpcyBhbHJlYWR5IG9jY3VycmluZy5cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgY2xpY2tBY3Rpb25CYXNlID0gY29tcHV0ZUNsaWNrQWN0aW9uQmFzZShwb2ludGVyRG93bkV2ZW50LCBjb25maWd1cmF0aW9uLmFjdGlvbk5hbWVBdHRyaWJ1dGUpO1xuICAgIGlmICghY29uZmlndXJhdGlvbi50cmFja0ZydXN0cmF0aW9ucyAmJiAhY2xpY2tBY3Rpb25CYXNlLm5hbWUpIHtcbiAgICAgICAgLy8gVE9ETzogcmVtb3ZlIHRoaXMgaW4gYSBmdXR1cmUgbWFqb3IgdmVyc2lvbi4gVG8ga2VlcCByZXRyb2NvbXBhdGliaWxpdHksIGlnbm9yZSBhbnkgYWN0aW9uXG4gICAgICAgIC8vIHdpdGggYSBibGFuayBuYW1lXG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGhhZEFjdGl2aXR5T25Qb2ludGVyRG93biA9IGZhbHNlO1xuICAgIHdhaXRQYWdlQWN0aXZpdHlFbmQobGlmZUN5Y2xlLCBkb21NdXRhdGlvbk9ic2VydmFibGUsIGNvbmZpZ3VyYXRpb24sIGZ1bmN0aW9uIChwYWdlQWN0aXZpdHlFbmRFdmVudCkge1xuICAgICAgICBoYWRBY3Rpdml0eU9uUG9pbnRlckRvd24gPSBwYWdlQWN0aXZpdHlFbmRFdmVudC5oYWRBY3Rpdml0eTtcbiAgICB9LCBcbiAgICAvLyBXZSBkb24ndCBjYXJlIGFib3V0IHRoZSBhY3Rpdml0eSBkdXJhdGlvbiwgd2UganVzdCB3YW50IHRvIGtub3cgd2hldGhlciBhbiBhY3Rpdml0eSBkaWQgaGFwcGVuXG4gICAgLy8gd2l0aGluIHRoZSBcInZhbGlkYXRpb24gZGVsYXlcIiBvciBub3QuIExpbWl0IHRoZSBkdXJhdGlvbiBzbyB0aGUgY2FsbGJhY2sgaXMgY2FsbGVkIHNvb25lci5cbiAgICBQQUdFX0FDVElWSVRZX1ZBTElEQVRJT05fREVMQVkpO1xuICAgIHJldHVybiB7IGNsaWNrQWN0aW9uQmFzZTogY2xpY2tBY3Rpb25CYXNlLCBoYWRBY3Rpdml0eU9uUG9pbnRlckRvd246IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGhhZEFjdGl2aXR5T25Qb2ludGVyRG93bjsgfSB9O1xufVxuZnVuY3Rpb24gc3RhcnRDbGlja0FjdGlvbihjb25maWd1cmF0aW9uLCBsaWZlQ3ljbGUsIGRvbU11dGF0aW9uT2JzZXJ2YWJsZSwgaGlzdG9yeSwgc3RvcE9ic2VydmFibGUsIGFwcGVuZENsaWNrVG9DbGlja0NoYWluLCBjbGlja0FjdGlvbkJhc2UsIHN0YXJ0RXZlbnQsIGdldFVzZXJBY3Rpdml0eSwgaGFkQWN0aXZpdHlPblBvaW50ZXJEb3duKSB7XG4gICAgdmFyIGNsaWNrID0gbmV3Q2xpY2sobGlmZUN5Y2xlLCBoaXN0b3J5LCBnZXRVc2VyQWN0aXZpdHksIGNsaWNrQWN0aW9uQmFzZSwgc3RhcnRFdmVudCk7XG4gICAgaWYgKGNvbmZpZ3VyYXRpb24udHJhY2tGcnVzdHJhdGlvbnMpIHtcbiAgICAgICAgYXBwZW5kQ2xpY2tUb0NsaWNrQ2hhaW4oY2xpY2spO1xuICAgIH1cbiAgICB2YXIgc3RvcFdhaXRQYWdlQWN0aXZpdHlFbmQgPSB3YWl0UGFnZUFjdGl2aXR5RW5kKGxpZmVDeWNsZSwgZG9tTXV0YXRpb25PYnNlcnZhYmxlLCBjb25maWd1cmF0aW9uLCBmdW5jdGlvbiAocGFnZUFjdGl2aXR5RW5kRXZlbnQpIHtcbiAgICAgICAgaWYgKHBhZ2VBY3Rpdml0eUVuZEV2ZW50LmhhZEFjdGl2aXR5ICYmIHBhZ2VBY3Rpdml0eUVuZEV2ZW50LmVuZCA8IGNsaWNrLnN0YXJ0Q2xvY2tzLnRpbWVTdGFtcCkge1xuICAgICAgICAgICAgLy8gSWYgdGhlIGNsb2NrIGlzIGxvb2tpbmcgd2VpcmQsIGp1c3QgZGlzY2FyZCB0aGUgY2xpY2tcbiAgICAgICAgICAgIGNsaWNrLmRpc2NhcmQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChwYWdlQWN0aXZpdHlFbmRFdmVudC5oYWRBY3Rpdml0eSkge1xuICAgICAgICAgICAgICAgIGNsaWNrLnN0b3AocGFnZUFjdGl2aXR5RW5kRXZlbnQuZW5kKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGhhZEFjdGl2aXR5T25Qb2ludGVyRG93bigpKSB7XG4gICAgICAgICAgICAgICAgY2xpY2suc3RvcChcbiAgICAgICAgICAgICAgICAvLyB1c2luZyB0aGUgY2xpY2sgc3RhcnQgYXMgYWN0aXZpdHkgZW5kLCBzbyB0aGUgY2xpY2sgd2lsbCBoYXZlIHNvbWUgYWN0aXZpdHkgYnV0IGl0c1xuICAgICAgICAgICAgICAgIC8vIGR1cmF0aW9uIHdpbGwgYmUgMCAoYXMgdGhlIGFjdGl2aXR5IHN0YXJ0ZWQgYmVmb3JlIHRoZSBjbGljayBzdGFydClcbiAgICAgICAgICAgICAgICBjbGljay5zdGFydENsb2Nrcy50aW1lU3RhbXApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY2xpY2suc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVmFsaWRhdGUgb3IgZGlzY2FyZCB0aGUgY2xpY2sgb25seSBpZiB3ZSBkb24ndCB0cmFjayBmcnVzdHJhdGlvbnMuIEl0J2xsIGJlIGRvbmUgd2hlblxuICAgICAgICAgICAgLy8gdGhlIGNsaWNrIGNoYWluIGlzIGZpbmFsaXplZC5cbiAgICAgICAgICAgIGlmICghY29uZmlndXJhdGlvbi50cmFja0ZydXN0cmF0aW9ucykge1xuICAgICAgICAgICAgICAgIGlmICghcGFnZUFjdGl2aXR5RW5kRXZlbnQuaGFkQWN0aXZpdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgd2UgYXJlIG5vdCB0cmFja2luZyBmcnVzdHJhdGlvbnMsIHdlIHNob3VsZCBkaXNjYXJkIHRoZSBjbGljayB0byBrZWVwIGJhY2t3YXJkXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbXBhdGliaWxpdHkuXG4gICAgICAgICAgICAgICAgICAgIGNsaWNrLmRpc2NhcmQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrLnZhbGlkYXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwgQ0xJQ0tfQUNUSU9OX01BWF9EVVJBVElPTikuc3RvcDtcbiAgICB2YXIgdmlld0VuZGVkU3Vic2NyaXB0aW9uID0gbGlmZUN5Y2xlLnN1YnNjcmliZSg0IC8qIExpZmVDeWNsZUV2ZW50VHlwZS5WSUVXX0VOREVEICovLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIGVuZENsb2NrcyA9IF9hLmVuZENsb2NrcztcbiAgICAgICAgY2xpY2suc3RvcChlbmRDbG9ja3MudGltZVN0YW1wKTtcbiAgICB9KTtcbiAgICB2YXIgc3RvcFN1YnNjcmlwdGlvbiA9IHN0b3BPYnNlcnZhYmxlLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNsaWNrLnN0b3AoKTtcbiAgICB9KTtcbiAgICBjbGljay5zdG9wT2JzZXJ2YWJsZS5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xuICAgICAgICB2aWV3RW5kZWRTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgc3RvcFdhaXRQYWdlQWN0aXZpdHlFbmQoKTtcbiAgICAgICAgc3RvcFN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgIH0pO1xufVxuZnVuY3Rpb24gY29tcHV0ZUNsaWNrQWN0aW9uQmFzZShldmVudCwgYWN0aW9uTmFtZUF0dHJpYnV0ZSkge1xuICAgIHZhciByZWN0ID0gZXZlbnQudGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFwiY2xpY2tcIiAvKiBBY3Rpb25UeXBlLkNMSUNLICovLFxuICAgICAgICB0YXJnZXQ6IHtcbiAgICAgICAgICAgIHdpZHRoOiBNYXRoLnJvdW5kKHJlY3Qud2lkdGgpLFxuICAgICAgICAgICAgaGVpZ2h0OiBNYXRoLnJvdW5kKHJlY3QuaGVpZ2h0KSxcbiAgICAgICAgICAgIHNlbGVjdG9yOiBnZXRTZWxlY3RvckZyb21FbGVtZW50KGV2ZW50LnRhcmdldCwgYWN0aW9uTmFtZUF0dHJpYnV0ZSksXG4gICAgICAgIH0sXG4gICAgICAgIHBvc2l0aW9uOiB7XG4gICAgICAgICAgICAvLyBVc2UgY2xpZW50WCBhbmQgWSBiZWNhdXNlIGZvciBTVkcgZWxlbWVudCBvZmZzZXRYIGFuZCBZIGFyZSByZWxhdGl2ZXMgdG8gdGhlIDxzdmc+IGVsZW1lbnRcbiAgICAgICAgICAgIHg6IE1hdGgucm91bmQoZXZlbnQuY2xpZW50WCAtIHJlY3QubGVmdCksXG4gICAgICAgICAgICB5OiBNYXRoLnJvdW5kKGV2ZW50LmNsaWVudFkgLSByZWN0LnRvcCksXG4gICAgICAgIH0sXG4gICAgICAgIG5hbWU6IGdldEFjdGlvbk5hbWVGcm9tRWxlbWVudChldmVudC50YXJnZXQsIGFjdGlvbk5hbWVBdHRyaWJ1dGUpLFxuICAgIH07XG59XG5mdW5jdGlvbiBuZXdDbGljayhsaWZlQ3ljbGUsIGhpc3RvcnksIGdldFVzZXJBY3Rpdml0eSwgY2xpY2tBY3Rpb25CYXNlLCBzdGFydEV2ZW50KSB7XG4gICAgdmFyIGlkID0gZ2VuZXJhdGVVVUlEKCk7XG4gICAgdmFyIHN0YXJ0Q2xvY2tzID0gY2xvY2tzTm93KCk7XG4gICAgdmFyIGhpc3RvcnlFbnRyeSA9IGhpc3RvcnkuYWRkKGlkLCBzdGFydENsb2Nrcy5yZWxhdGl2ZSk7XG4gICAgdmFyIGV2ZW50Q291bnRzU3Vic2NyaXB0aW9uID0gdHJhY2tFdmVudENvdW50cyh7XG4gICAgICAgIGxpZmVDeWNsZTogbGlmZUN5Y2xlLFxuICAgICAgICBpc0NoaWxkRXZlbnQ6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgcmV0dXJuIGV2ZW50LmFjdGlvbiAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAgICAgKEFycmF5LmlzQXJyYXkoZXZlbnQuYWN0aW9uLmlkKSA/IGluY2x1ZGVzKGV2ZW50LmFjdGlvbi5pZCwgaWQpIDogZXZlbnQuYWN0aW9uLmlkID09PSBpZCk7XG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgdmFyIHN0YXR1cyA9IDAgLyogQ2xpY2tTdGF0dXMuT05HT0lORyAqLztcbiAgICB2YXIgYWN0aXZpdHlFbmRUaW1lO1xuICAgIHZhciBmcnVzdHJhdGlvblR5cGVzID0gW107XG4gICAgdmFyIHN0b3BPYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGUoKTtcbiAgICBmdW5jdGlvbiBzdG9wKG5ld0FjdGl2aXR5RW5kVGltZSkge1xuICAgICAgICBpZiAoc3RhdHVzICE9PSAwIC8qIENsaWNrU3RhdHVzLk9OR09JTkcgKi8pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBhY3Rpdml0eUVuZFRpbWUgPSBuZXdBY3Rpdml0eUVuZFRpbWU7XG4gICAgICAgIHN0YXR1cyA9IDEgLyogQ2xpY2tTdGF0dXMuU1RPUFBFRCAqLztcbiAgICAgICAgaWYgKGFjdGl2aXR5RW5kVGltZSkge1xuICAgICAgICAgICAgaGlzdG9yeUVudHJ5LmNsb3NlKGdldFJlbGF0aXZlVGltZShhY3Rpdml0eUVuZFRpbWUpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGhpc3RvcnlFbnRyeS5yZW1vdmUoKTtcbiAgICAgICAgfVxuICAgICAgICBldmVudENvdW50c1N1YnNjcmlwdGlvbi5zdG9wKCk7XG4gICAgICAgIHN0b3BPYnNlcnZhYmxlLm5vdGlmeSgpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBldmVudDogc3RhcnRFdmVudCxcbiAgICAgICAgc3RvcDogc3RvcCxcbiAgICAgICAgc3RvcE9ic2VydmFibGU6IHN0b3BPYnNlcnZhYmxlLFxuICAgICAgICBnZXQgaGFzRXJyb3IoKSB7XG4gICAgICAgICAgICByZXR1cm4gZXZlbnRDb3VudHNTdWJzY3JpcHRpb24uZXZlbnRDb3VudHMuZXJyb3JDb3VudCA+IDA7XG4gICAgICAgIH0sXG4gICAgICAgIGdldCBoYXNQYWdlQWN0aXZpdHkoKSB7XG4gICAgICAgICAgICByZXR1cm4gYWN0aXZpdHlFbmRUaW1lICE9PSB1bmRlZmluZWQ7XG4gICAgICAgIH0sXG4gICAgICAgIGdldFVzZXJBY3Rpdml0eTogZ2V0VXNlckFjdGl2aXR5LFxuICAgICAgICBhZGRGcnVzdHJhdGlvbjogZnVuY3Rpb24gKGZydXN0cmF0aW9uVHlwZSkge1xuICAgICAgICAgICAgZnJ1c3RyYXRpb25UeXBlcy5wdXNoKGZydXN0cmF0aW9uVHlwZSk7XG4gICAgICAgIH0sXG4gICAgICAgIHN0YXJ0Q2xvY2tzOiBzdGFydENsb2NrcyxcbiAgICAgICAgaXNTdG9wcGVkOiBmdW5jdGlvbiAoKSB7IHJldHVybiBzdGF0dXMgPT09IDEgLyogQ2xpY2tTdGF0dXMuU1RPUFBFRCAqLyB8fCBzdGF0dXMgPT09IDIgLyogQ2xpY2tTdGF0dXMuRklOQUxJWkVEICovOyB9LFxuICAgICAgICBjbG9uZTogZnVuY3Rpb24gKCkgeyByZXR1cm4gbmV3Q2xpY2sobGlmZUN5Y2xlLCBoaXN0b3J5LCBnZXRVc2VyQWN0aXZpdHksIGNsaWNrQWN0aW9uQmFzZSwgc3RhcnRFdmVudCk7IH0sXG4gICAgICAgIHZhbGlkYXRlOiBmdW5jdGlvbiAoZG9tRXZlbnRzKSB7XG4gICAgICAgICAgICBzdG9wKCk7XG4gICAgICAgICAgICBpZiAoc3RhdHVzICE9PSAxIC8qIENsaWNrU3RhdHVzLlNUT1BQRUQgKi8pIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgX2EgPSBldmVudENvdW50c1N1YnNjcmlwdGlvbi5ldmVudENvdW50cywgcmVzb3VyY2VDb3VudCA9IF9hLnJlc291cmNlQ291bnQsIGVycm9yQ291bnQgPSBfYS5lcnJvckNvdW50LCBsb25nVGFza0NvdW50ID0gX2EubG9uZ1Rhc2tDb3VudDtcbiAgICAgICAgICAgIHZhciBjbGlja0FjdGlvbiA9IGFzc2lnbih7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJjbGlja1wiIC8qIEFjdGlvblR5cGUuQ0xJQ0sgKi8sXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IGFjdGl2aXR5RW5kVGltZSAmJiBlbGFwc2VkKHN0YXJ0Q2xvY2tzLnRpbWVTdGFtcCwgYWN0aXZpdHlFbmRUaW1lKSxcbiAgICAgICAgICAgICAgICBzdGFydENsb2Nrczogc3RhcnRDbG9ja3MsXG4gICAgICAgICAgICAgICAgaWQ6IGlkLFxuICAgICAgICAgICAgICAgIGZydXN0cmF0aW9uVHlwZXM6IGZydXN0cmF0aW9uVHlwZXMsXG4gICAgICAgICAgICAgICAgY291bnRzOiB7XG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlQ291bnQ6IHJlc291cmNlQ291bnQsXG4gICAgICAgICAgICAgICAgICAgIGVycm9yQ291bnQ6IGVycm9yQ291bnQsXG4gICAgICAgICAgICAgICAgICAgIGxvbmdUYXNrQ291bnQ6IGxvbmdUYXNrQ291bnQsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBldmVudHM6IGRvbUV2ZW50cyAhPT0gbnVsbCAmJiBkb21FdmVudHMgIT09IHZvaWQgMCA/IGRvbUV2ZW50cyA6IFtzdGFydEV2ZW50XSxcbiAgICAgICAgICAgICAgICBldmVudDogc3RhcnRFdmVudCxcbiAgICAgICAgICAgIH0sIGNsaWNrQWN0aW9uQmFzZSk7XG4gICAgICAgICAgICBsaWZlQ3ljbGUubm90aWZ5KDEgLyogTGlmZUN5Y2xlRXZlbnRUeXBlLkFVVE9fQUNUSU9OX0NPTVBMRVRFRCAqLywgY2xpY2tBY3Rpb24pO1xuICAgICAgICAgICAgc3RhdHVzID0gMiAvKiBDbGlja1N0YXR1cy5GSU5BTElaRUQgKi87XG4gICAgICAgIH0sXG4gICAgICAgIGRpc2NhcmQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHN0b3AoKTtcbiAgICAgICAgICAgIHN0YXR1cyA9IDIgLyogQ2xpY2tTdGF0dXMuRklOQUxJWkVEICovO1xuICAgICAgICB9LFxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gZmluYWxpemVDbGlja3MoY2xpY2tzLCByYWdlQ2xpY2spIHtcbiAgICB2YXIgaXNSYWdlID0gY29tcHV0ZUZydXN0cmF0aW9uKGNsaWNrcywgcmFnZUNsaWNrKS5pc1JhZ2U7XG4gICAgaWYgKGlzUmFnZSkge1xuICAgICAgICBjbGlja3MuZm9yRWFjaChmdW5jdGlvbiAoY2xpY2spIHsgcmV0dXJuIGNsaWNrLmRpc2NhcmQoKTsgfSk7XG4gICAgICAgIHJhZ2VDbGljay5zdG9wKHRpbWVTdGFtcE5vdygpKTtcbiAgICAgICAgcmFnZUNsaWNrLnZhbGlkYXRlKGNsaWNrcy5tYXAoZnVuY3Rpb24gKGNsaWNrKSB7IHJldHVybiBjbGljay5ldmVudDsgfSkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmFnZUNsaWNrLmRpc2NhcmQoKTtcbiAgICAgICAgY2xpY2tzLmZvckVhY2goZnVuY3Rpb24gKGNsaWNrKSB7IHJldHVybiBjbGljay52YWxpZGF0ZSgpOyB9KTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10cmFja0NsaWNrQWN0aW9ucy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/action/trackClickActions.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/error/errorCollection.js":
/*!************************************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/error/errorCollection.js ***!
  \************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   doStartErrorCollection: () => (/* binding */ doStartErrorCollection),\n/* harmony export */   startErrorCollection: () => (/* binding */ startErrorCollection)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/observable.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/error/trackRuntimeError.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/polyfills.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/tracekit/computeStackTrace.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/error/error.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/error/error.types.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/stringUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/objectUtils.js\");\n/* harmony import */ var _trackConsoleError__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./trackConsoleError */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/error/trackConsoleError.js\");\n/* harmony import */ var _trackReportError__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./trackReportError */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/error/trackReportError.js\");\n\n\n\nfunction startErrorCollection(lifeCycle, foregroundContexts, featureFlagContexts) {\n    var errorObservable = new _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.Observable();\n    (0,_trackConsoleError__WEBPACK_IMPORTED_MODULE_0__.trackConsoleError)(errorObservable);\n    (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.trackRuntimeError)(errorObservable);\n    (0,_trackReportError__WEBPACK_IMPORTED_MODULE_1__.trackReportError)(errorObservable);\n    errorObservable.subscribe(function (error) { return lifeCycle.notify(12 /* LifeCycleEventType.RAW_ERROR_COLLECTED */, { error: error }); });\n    return doStartErrorCollection(lifeCycle, foregroundContexts, featureFlagContexts);\n}\nfunction doStartErrorCollection(lifeCycle, foregroundContexts, featureFlagContexts) {\n    lifeCycle.subscribe(12 /* LifeCycleEventType.RAW_ERROR_COLLECTED */, function (_a) {\n        var error = _a.error, customerContext = _a.customerContext, savedCommonContext = _a.savedCommonContext;\n        lifeCycle.notify(10 /* LifeCycleEventType.RAW_RUM_EVENT_COLLECTED */, (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.assign)({\n            customerContext: customerContext,\n            savedCommonContext: savedCommonContext,\n        }, processError(error, foregroundContexts, featureFlagContexts)));\n    });\n    return {\n        addError: function (_a, savedCommonContext) {\n            var error = _a.error, handlingStack = _a.handlingStack, startClocks = _a.startClocks, customerContext = _a.context;\n            var stackTrace = error instanceof Error ? (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.computeStackTrace)(error) : undefined;\n            var rawError = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__.computeRawError)({\n                stackTrace: stackTrace,\n                originalError: error,\n                handlingStack: handlingStack,\n                startClocks: startClocks,\n                nonErrorPrefix: \"Provided\" /* NonErrorPrefix.PROVIDED */,\n                source: _datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.ErrorSource.CUSTOM,\n                handling: \"handled\" /* ErrorHandling.HANDLED */,\n            });\n            lifeCycle.notify(12 /* LifeCycleEventType.RAW_ERROR_COLLECTED */, {\n                customerContext: customerContext,\n                savedCommonContext: savedCommonContext,\n                error: rawError,\n            });\n        },\n    };\n}\nfunction processError(error, foregroundContexts, featureFlagContexts) {\n    var rawRumEvent = {\n        date: error.startClocks.timeStamp,\n        error: {\n            id: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_8__.generateUUID)(),\n            message: error.message,\n            source: error.source,\n            stack: error.stack,\n            handling_stack: error.handlingStack,\n            type: error.type,\n            handling: error.handling,\n            causes: error.causes,\n            source_type: 'browser',\n            fingerprint: error.fingerprint,\n        },\n        type: \"error\" /* RumEventType.ERROR */,\n    };\n    var inForeground = foregroundContexts.isInForegroundAt(error.startClocks.relative);\n    if (inForeground) {\n        rawRumEvent.view = { in_foreground: inForeground };\n    }\n    var featureFlagContext = featureFlagContexts.findFeatureFlagEvaluations(error.startClocks.relative);\n    if (featureFlagContext && !(0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__.isEmptyObject)(featureFlagContext)) {\n        rawRumEvent.feature_flags = featureFlagContext;\n    }\n    return {\n        rawRumEvent: rawRumEvent,\n        startTime: error.startClocks.relative,\n        domainContext: {\n            error: error.originalError,\n        },\n    };\n}\n//# sourceMappingURL=errorCollection.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2RvbWFpbi9ydW1FdmVudHNDb2xsZWN0aW9uL2Vycm9yL2Vycm9yQ29sbGVjdGlvbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBNko7QUFDckc7QUFDRjtBQUMvQztBQUNQLDhCQUE4Qiw2REFBVTtBQUN4QyxJQUFJLHFFQUFpQjtBQUNyQixJQUFJLHdFQUFpQjtBQUNyQixJQUFJLG1FQUFnQjtBQUNwQixpREFBaUQsMkVBQTJFLGNBQWMsSUFBSTtBQUM5STtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EsOEVBQThFLDZEQUFNO0FBQ3BGO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCx3RUFBaUI7QUFDdkUsMkJBQTJCLHNFQUFlO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsOERBQVc7QUFDbkM7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixtRUFBWTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBLCtCQUErQixvRUFBYTtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYXJjYXN0ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2RvbWFpbi9ydW1FdmVudHNDb2xsZWN0aW9uL2Vycm9yL2Vycm9yQ29sbGVjdGlvbi5qcz8yOTI5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzRW1wdHlPYmplY3QsIGFzc2lnbiwgRXJyb3JTb3VyY2UsIGdlbmVyYXRlVVVJRCwgY29tcHV0ZVJhd0Vycm9yLCBjb21wdXRlU3RhY2tUcmFjZSwgT2JzZXJ2YWJsZSwgdHJhY2tSdW50aW1lRXJyb3IsIH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJztcbmltcG9ydCB7IHRyYWNrQ29uc29sZUVycm9yIH0gZnJvbSAnLi90cmFja0NvbnNvbGVFcnJvcic7XG5pbXBvcnQgeyB0cmFja1JlcG9ydEVycm9yIH0gZnJvbSAnLi90cmFja1JlcG9ydEVycm9yJztcbmV4cG9ydCBmdW5jdGlvbiBzdGFydEVycm9yQ29sbGVjdGlvbihsaWZlQ3ljbGUsIGZvcmVncm91bmRDb250ZXh0cywgZmVhdHVyZUZsYWdDb250ZXh0cykge1xuICAgIHZhciBlcnJvck9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZSgpO1xuICAgIHRyYWNrQ29uc29sZUVycm9yKGVycm9yT2JzZXJ2YWJsZSk7XG4gICAgdHJhY2tSdW50aW1lRXJyb3IoZXJyb3JPYnNlcnZhYmxlKTtcbiAgICB0cmFja1JlcG9ydEVycm9yKGVycm9yT2JzZXJ2YWJsZSk7XG4gICAgZXJyb3JPYnNlcnZhYmxlLnN1YnNjcmliZShmdW5jdGlvbiAoZXJyb3IpIHsgcmV0dXJuIGxpZmVDeWNsZS5ub3RpZnkoMTIgLyogTGlmZUN5Y2xlRXZlbnRUeXBlLlJBV19FUlJPUl9DT0xMRUNURUQgKi8sIHsgZXJyb3I6IGVycm9yIH0pOyB9KTtcbiAgICByZXR1cm4gZG9TdGFydEVycm9yQ29sbGVjdGlvbihsaWZlQ3ljbGUsIGZvcmVncm91bmRDb250ZXh0cywgZmVhdHVyZUZsYWdDb250ZXh0cyk7XG59XG5leHBvcnQgZnVuY3Rpb24gZG9TdGFydEVycm9yQ29sbGVjdGlvbihsaWZlQ3ljbGUsIGZvcmVncm91bmRDb250ZXh0cywgZmVhdHVyZUZsYWdDb250ZXh0cykge1xuICAgIGxpZmVDeWNsZS5zdWJzY3JpYmUoMTIgLyogTGlmZUN5Y2xlRXZlbnRUeXBlLlJBV19FUlJPUl9DT0xMRUNURUQgKi8sIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgZXJyb3IgPSBfYS5lcnJvciwgY3VzdG9tZXJDb250ZXh0ID0gX2EuY3VzdG9tZXJDb250ZXh0LCBzYXZlZENvbW1vbkNvbnRleHQgPSBfYS5zYXZlZENvbW1vbkNvbnRleHQ7XG4gICAgICAgIGxpZmVDeWNsZS5ub3RpZnkoMTAgLyogTGlmZUN5Y2xlRXZlbnRUeXBlLlJBV19SVU1fRVZFTlRfQ09MTEVDVEVEICovLCBhc3NpZ24oe1xuICAgICAgICAgICAgY3VzdG9tZXJDb250ZXh0OiBjdXN0b21lckNvbnRleHQsXG4gICAgICAgICAgICBzYXZlZENvbW1vbkNvbnRleHQ6IHNhdmVkQ29tbW9uQ29udGV4dCxcbiAgICAgICAgfSwgcHJvY2Vzc0Vycm9yKGVycm9yLCBmb3JlZ3JvdW5kQ29udGV4dHMsIGZlYXR1cmVGbGFnQ29udGV4dHMpKSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYWRkRXJyb3I6IGZ1bmN0aW9uIChfYSwgc2F2ZWRDb21tb25Db250ZXh0KSB7XG4gICAgICAgICAgICB2YXIgZXJyb3IgPSBfYS5lcnJvciwgaGFuZGxpbmdTdGFjayA9IF9hLmhhbmRsaW5nU3RhY2ssIHN0YXJ0Q2xvY2tzID0gX2Euc3RhcnRDbG9ja3MsIGN1c3RvbWVyQ29udGV4dCA9IF9hLmNvbnRleHQ7XG4gICAgICAgICAgICB2YXIgc3RhY2tUcmFjZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBjb21wdXRlU3RhY2tUcmFjZShlcnJvcikgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB2YXIgcmF3RXJyb3IgPSBjb21wdXRlUmF3RXJyb3Ioe1xuICAgICAgICAgICAgICAgIHN0YWNrVHJhY2U6IHN0YWNrVHJhY2UsXG4gICAgICAgICAgICAgICAgb3JpZ2luYWxFcnJvcjogZXJyb3IsXG4gICAgICAgICAgICAgICAgaGFuZGxpbmdTdGFjazogaGFuZGxpbmdTdGFjayxcbiAgICAgICAgICAgICAgICBzdGFydENsb2Nrczogc3RhcnRDbG9ja3MsXG4gICAgICAgICAgICAgICAgbm9uRXJyb3JQcmVmaXg6IFwiUHJvdmlkZWRcIiAvKiBOb25FcnJvclByZWZpeC5QUk9WSURFRCAqLyxcbiAgICAgICAgICAgICAgICBzb3VyY2U6IEVycm9yU291cmNlLkNVU1RPTSxcbiAgICAgICAgICAgICAgICBoYW5kbGluZzogXCJoYW5kbGVkXCIgLyogRXJyb3JIYW5kbGluZy5IQU5ETEVEICovLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBsaWZlQ3ljbGUubm90aWZ5KDEyIC8qIExpZmVDeWNsZUV2ZW50VHlwZS5SQVdfRVJST1JfQ09MTEVDVEVEICovLCB7XG4gICAgICAgICAgICAgICAgY3VzdG9tZXJDb250ZXh0OiBjdXN0b21lckNvbnRleHQsXG4gICAgICAgICAgICAgICAgc2F2ZWRDb21tb25Db250ZXh0OiBzYXZlZENvbW1vbkNvbnRleHQsXG4gICAgICAgICAgICAgICAgZXJyb3I6IHJhd0Vycm9yLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbmZ1bmN0aW9uIHByb2Nlc3NFcnJvcihlcnJvciwgZm9yZWdyb3VuZENvbnRleHRzLCBmZWF0dXJlRmxhZ0NvbnRleHRzKSB7XG4gICAgdmFyIHJhd1J1bUV2ZW50ID0ge1xuICAgICAgICBkYXRlOiBlcnJvci5zdGFydENsb2Nrcy50aW1lU3RhbXAsXG4gICAgICAgIGVycm9yOiB7XG4gICAgICAgICAgICBpZDogZ2VuZXJhdGVVVUlEKCksXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxuICAgICAgICAgICAgc291cmNlOiBlcnJvci5zb3VyY2UsXG4gICAgICAgICAgICBzdGFjazogZXJyb3Iuc3RhY2ssXG4gICAgICAgICAgICBoYW5kbGluZ19zdGFjazogZXJyb3IuaGFuZGxpbmdTdGFjayxcbiAgICAgICAgICAgIHR5cGU6IGVycm9yLnR5cGUsXG4gICAgICAgICAgICBoYW5kbGluZzogZXJyb3IuaGFuZGxpbmcsXG4gICAgICAgICAgICBjYXVzZXM6IGVycm9yLmNhdXNlcyxcbiAgICAgICAgICAgIHNvdXJjZV90eXBlOiAnYnJvd3NlcicsXG4gICAgICAgICAgICBmaW5nZXJwcmludDogZXJyb3IuZmluZ2VycHJpbnQsXG4gICAgICAgIH0sXG4gICAgICAgIHR5cGU6IFwiZXJyb3JcIiAvKiBSdW1FdmVudFR5cGUuRVJST1IgKi8sXG4gICAgfTtcbiAgICB2YXIgaW5Gb3JlZ3JvdW5kID0gZm9yZWdyb3VuZENvbnRleHRzLmlzSW5Gb3JlZ3JvdW5kQXQoZXJyb3Iuc3RhcnRDbG9ja3MucmVsYXRpdmUpO1xuICAgIGlmIChpbkZvcmVncm91bmQpIHtcbiAgICAgICAgcmF3UnVtRXZlbnQudmlldyA9IHsgaW5fZm9yZWdyb3VuZDogaW5Gb3JlZ3JvdW5kIH07XG4gICAgfVxuICAgIHZhciBmZWF0dXJlRmxhZ0NvbnRleHQgPSBmZWF0dXJlRmxhZ0NvbnRleHRzLmZpbmRGZWF0dXJlRmxhZ0V2YWx1YXRpb25zKGVycm9yLnN0YXJ0Q2xvY2tzLnJlbGF0aXZlKTtcbiAgICBpZiAoZmVhdHVyZUZsYWdDb250ZXh0ICYmICFpc0VtcHR5T2JqZWN0KGZlYXR1cmVGbGFnQ29udGV4dCkpIHtcbiAgICAgICAgcmF3UnVtRXZlbnQuZmVhdHVyZV9mbGFncyA9IGZlYXR1cmVGbGFnQ29udGV4dDtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmF3UnVtRXZlbnQ6IHJhd1J1bUV2ZW50LFxuICAgICAgICBzdGFydFRpbWU6IGVycm9yLnN0YXJ0Q2xvY2tzLnJlbGF0aXZlLFxuICAgICAgICBkb21haW5Db250ZXh0OiB7XG4gICAgICAgICAgICBlcnJvcjogZXJyb3Iub3JpZ2luYWxFcnJvcixcbiAgICAgICAgfSxcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXJyb3JDb2xsZWN0aW9uLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/error/errorCollection.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/error/trackConsoleError.js":
/*!**************************************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/error/trackConsoleError.js ***!
  \**************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   trackConsoleError: () => (/* binding */ trackConsoleError)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/console/consoleObservable.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/display.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/error/error.types.js\");\n\nfunction trackConsoleError(errorObservable) {\n    var subscription = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.initConsoleObservable)([_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.ConsoleApiName.error]).subscribe(function (consoleError) {\n        return errorObservable.notify({\n            startClocks: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.clocksNow)(),\n            message: consoleError.message,\n            stack: consoleError.stack,\n            fingerprint: consoleError.fingerprint,\n            source: _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.ErrorSource.CONSOLE,\n            handling: \"handled\" /* ErrorHandling.HANDLED */,\n            handlingStack: consoleError.handlingStack,\n        });\n    });\n    return {\n        stop: function () {\n            subscription.unsubscribe();\n        },\n    };\n}\n//# sourceMappingURL=trackConsoleError.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2RvbWFpbi9ydW1FdmVudHNDb2xsZWN0aW9uL2Vycm9yL3RyYWNrQ29uc29sZUVycm9yLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQXNHO0FBQy9GO0FBQ1AsdUJBQXVCLDRFQUFxQixFQUFFLGlFQUFjO0FBQzVEO0FBQ0EseUJBQXlCLGdFQUFTO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiw4REFBVztBQUMvQjtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFyY2FzdGVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLXJ1bS1jb3JlL2VzbS9kb21haW4vcnVtRXZlbnRzQ29sbGVjdGlvbi9lcnJvci90cmFja0NvbnNvbGVFcnJvci5qcz85M2ZkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNsb2Nrc05vdywgaW5pdENvbnNvbGVPYnNlcnZhYmxlLCBFcnJvclNvdXJjZSwgQ29uc29sZUFwaU5hbWUgfSBmcm9tICdAZGF0YWRvZy9icm93c2VyLWNvcmUnO1xuZXhwb3J0IGZ1bmN0aW9uIHRyYWNrQ29uc29sZUVycm9yKGVycm9yT2JzZXJ2YWJsZSkge1xuICAgIHZhciBzdWJzY3JpcHRpb24gPSBpbml0Q29uc29sZU9ic2VydmFibGUoW0NvbnNvbGVBcGlOYW1lLmVycm9yXSkuc3Vic2NyaWJlKGZ1bmN0aW9uIChjb25zb2xlRXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIGVycm9yT2JzZXJ2YWJsZS5ub3RpZnkoe1xuICAgICAgICAgICAgc3RhcnRDbG9ja3M6IGNsb2Nrc05vdygpLFxuICAgICAgICAgICAgbWVzc2FnZTogY29uc29sZUVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgICBzdGFjazogY29uc29sZUVycm9yLnN0YWNrLFxuICAgICAgICAgICAgZmluZ2VycHJpbnQ6IGNvbnNvbGVFcnJvci5maW5nZXJwcmludCxcbiAgICAgICAgICAgIHNvdXJjZTogRXJyb3JTb3VyY2UuQ09OU09MRSxcbiAgICAgICAgICAgIGhhbmRsaW5nOiBcImhhbmRsZWRcIiAvKiBFcnJvckhhbmRsaW5nLkhBTkRMRUQgKi8sXG4gICAgICAgICAgICBoYW5kbGluZ1N0YWNrOiBjb25zb2xlRXJyb3IuaGFuZGxpbmdTdGFjayxcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc3RvcDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRyYWNrQ29uc29sZUVycm9yLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/error/trackConsoleError.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/error/trackReportError.js":
/*!*************************************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/error/trackReportError.js ***!
  \*************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   trackReportError: () => (/* binding */ trackReportError)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/report/reportObservable.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/error/error.types.js\");\n\nfunction trackReportError(errorObservable) {\n    var subscription = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.initReportObservable)([_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.RawReportType.cspViolation, _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.RawReportType.intervention]).subscribe(function (reportError) {\n        return errorObservable.notify({\n            startClocks: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.clocksNow)(),\n            message: reportError.message,\n            stack: reportError.stack,\n            type: reportError.subtype,\n            source: _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.ErrorSource.REPORT,\n            handling: \"unhandled\" /* ErrorHandling.UNHANDLED */,\n        });\n    });\n    return {\n        stop: function () {\n            subscription.unsubscribe();\n        },\n    };\n}\n//# sourceMappingURL=trackReportError.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2RvbWFpbi9ydW1FdmVudHNDb2xsZWN0aW9uL2Vycm9yL3RyYWNrUmVwb3J0RXJyb3IuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFvRztBQUM3RjtBQUNQLHVCQUF1QiwyRUFBb0IsRUFBRSxnRUFBYSxlQUFlLGdFQUFhO0FBQ3RGO0FBQ0EseUJBQXlCLGdFQUFTO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiw4REFBVztBQUMvQjtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhcmNhc3Rlci8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vZG9tYWluL3J1bUV2ZW50c0NvbGxlY3Rpb24vZXJyb3IvdHJhY2tSZXBvcnRFcnJvci5qcz80OTNjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNsb2Nrc05vdywgRXJyb3JTb3VyY2UsIGluaXRSZXBvcnRPYnNlcnZhYmxlLCBSYXdSZXBvcnRUeXBlIH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJztcbmV4cG9ydCBmdW5jdGlvbiB0cmFja1JlcG9ydEVycm9yKGVycm9yT2JzZXJ2YWJsZSkge1xuICAgIHZhciBzdWJzY3JpcHRpb24gPSBpbml0UmVwb3J0T2JzZXJ2YWJsZShbUmF3UmVwb3J0VHlwZS5jc3BWaW9sYXRpb24sIFJhd1JlcG9ydFR5cGUuaW50ZXJ2ZW50aW9uXSkuc3Vic2NyaWJlKGZ1bmN0aW9uIChyZXBvcnRFcnJvcikge1xuICAgICAgICByZXR1cm4gZXJyb3JPYnNlcnZhYmxlLm5vdGlmeSh7XG4gICAgICAgICAgICBzdGFydENsb2NrczogY2xvY2tzTm93KCksXG4gICAgICAgICAgICBtZXNzYWdlOiByZXBvcnRFcnJvci5tZXNzYWdlLFxuICAgICAgICAgICAgc3RhY2s6IHJlcG9ydEVycm9yLnN0YWNrLFxuICAgICAgICAgICAgdHlwZTogcmVwb3J0RXJyb3Iuc3VidHlwZSxcbiAgICAgICAgICAgIHNvdXJjZTogRXJyb3JTb3VyY2UuUkVQT1JULFxuICAgICAgICAgICAgaGFuZGxpbmc6IFwidW5oYW5kbGVkXCIgLyogRXJyb3JIYW5kbGluZy5VTkhBTkRMRUQgKi8sXG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICAgIHN0b3A6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICB9LFxuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10cmFja1JlcG9ydEVycm9yLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/error/trackReportError.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/longTask/longTaskCollection.js":
/*!******************************************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/longTask/longTaskCollection.js ***!
  \******************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   startLongTaskCollection: () => (/* binding */ startLongTaskCollection)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/stringUtils.js\");\n\nfunction startLongTaskCollection(lifeCycle, sessionManager) {\n    lifeCycle.subscribe(0 /* LifeCycleEventType.PERFORMANCE_ENTRIES_COLLECTED */, function (entries) {\n        for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\n            var entry = entries_1[_i];\n            if (entry.entryType !== 'longtask') {\n                break;\n            }\n            var session = sessionManager.findTrackedSession(entry.startTime);\n            if (!session || !session.longTaskAllowed) {\n                break;\n            }\n            var startClocks = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.relativeToClocks)(entry.startTime);\n            var rawRumEvent = {\n                date: startClocks.timeStamp,\n                long_task: {\n                    id: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.generateUUID)(),\n                    duration: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.toServerDuration)(entry.duration),\n                },\n                type: \"long_task\" /* RumEventType.LONG_TASK */,\n                _dd: {\n                    discarded: false,\n                },\n            };\n            lifeCycle.notify(10 /* LifeCycleEventType.RAW_RUM_EVENT_COLLECTED */, {\n                rawRumEvent: rawRumEvent,\n                startTime: startClocks.relative,\n                domainContext: { performanceEntry: entry.toJSON() },\n            });\n        }\n    });\n}\n//# sourceMappingURL=longTaskCollection.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2RvbWFpbi9ydW1FdmVudHNDb2xsZWN0aW9uL2xvbmdUYXNrL2xvbmdUYXNrQ29sbGVjdGlvbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBeUY7QUFDbEY7QUFDUDtBQUNBLDhDQUE4Qyx1QkFBdUI7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4Qix1RUFBZ0I7QUFDOUM7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLG1FQUFZO0FBQ3BDLDhCQUE4Qix1RUFBZ0I7QUFDOUMsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxrQ0FBa0M7QUFDbkUsYUFBYTtBQUNiO0FBQ0EsS0FBSztBQUNMO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYXJjYXN0ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2RvbWFpbi9ydW1FdmVudHNDb2xsZWN0aW9uL2xvbmdUYXNrL2xvbmdUYXNrQ29sbGVjdGlvbi5qcz9jMGY2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHRvU2VydmVyRHVyYXRpb24sIHJlbGF0aXZlVG9DbG9ja3MsIGdlbmVyYXRlVVVJRCB9IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItY29yZSc7XG5leHBvcnQgZnVuY3Rpb24gc3RhcnRMb25nVGFza0NvbGxlY3Rpb24obGlmZUN5Y2xlLCBzZXNzaW9uTWFuYWdlcikge1xuICAgIGxpZmVDeWNsZS5zdWJzY3JpYmUoMCAvKiBMaWZlQ3ljbGVFdmVudFR5cGUuUEVSRk9STUFOQ0VfRU5UUklFU19DT0xMRUNURUQgKi8sIGZ1bmN0aW9uIChlbnRyaWVzKSB7XG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgZW50cmllc18xID0gZW50cmllczsgX2kgPCBlbnRyaWVzXzEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgZW50cnkgPSBlbnRyaWVzXzFbX2ldO1xuICAgICAgICAgICAgaWYgKGVudHJ5LmVudHJ5VHlwZSAhPT0gJ2xvbmd0YXNrJykge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHNlc3Npb24gPSBzZXNzaW9uTWFuYWdlci5maW5kVHJhY2tlZFNlc3Npb24oZW50cnkuc3RhcnRUaW1lKTtcbiAgICAgICAgICAgIGlmICghc2Vzc2lvbiB8fCAhc2Vzc2lvbi5sb25nVGFza0FsbG93ZWQpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBzdGFydENsb2NrcyA9IHJlbGF0aXZlVG9DbG9ja3MoZW50cnkuc3RhcnRUaW1lKTtcbiAgICAgICAgICAgIHZhciByYXdSdW1FdmVudCA9IHtcbiAgICAgICAgICAgICAgICBkYXRlOiBzdGFydENsb2Nrcy50aW1lU3RhbXAsXG4gICAgICAgICAgICAgICAgbG9uZ190YXNrOiB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBnZW5lcmF0ZVVVSUQoKSxcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IHRvU2VydmVyRHVyYXRpb24oZW50cnkuZHVyYXRpb24pLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdHlwZTogXCJsb25nX3Rhc2tcIiAvKiBSdW1FdmVudFR5cGUuTE9OR19UQVNLICovLFxuICAgICAgICAgICAgICAgIF9kZDoge1xuICAgICAgICAgICAgICAgICAgICBkaXNjYXJkZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgbGlmZUN5Y2xlLm5vdGlmeSgxMCAvKiBMaWZlQ3ljbGVFdmVudFR5cGUuUkFXX1JVTV9FVkVOVF9DT0xMRUNURUQgKi8sIHtcbiAgICAgICAgICAgICAgICByYXdSdW1FdmVudDogcmF3UnVtRXZlbnQsXG4gICAgICAgICAgICAgICAgc3RhcnRUaW1lOiBzdGFydENsb2Nrcy5yZWxhdGl2ZSxcbiAgICAgICAgICAgICAgICBkb21haW5Db250ZXh0OiB7IHBlcmZvcm1hbmNlRW50cnk6IGVudHJ5LnRvSlNPTigpIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bG9uZ1Rhc2tDb2xsZWN0aW9uLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/longTask/longTaskCollection.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/resource/matchRequestTiming.js":
/*!******************************************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/resource/matchRequestTiming.js ***!
  \******************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   matchRequestTiming: () => (/* binding */ matchRequestTiming)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js\");\n/* harmony import */ var _resourceUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./resourceUtils */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/resource/resourceUtils.js\");\n\n\n/**\n * Look for corresponding timing in resource timing buffer\n *\n * Observations:\n * - Timing (start, end) are nested inside the request (start, end)\n * - Some timing can be not exactly nested, being off by < 1 ms\n *\n * Strategy:\n * - from valid nested entries (with 1 ms error margin)\n * - if a single timing match, return the timing\n * - otherwise we can't decide, return undefined\n */\nfunction matchRequestTiming(request) {\n    if (!performance || !('getEntriesByName' in performance)) {\n        return;\n    }\n    var sameNameEntries = performance.getEntriesByName(request.url, 'resource');\n    if (!sameNameEntries.length || !('toJSON' in sameNameEntries[0])) {\n        return;\n    }\n    var candidates = sameNameEntries\n        .map(function (entry) { return entry.toJSON(); })\n        .filter(_resourceUtils__WEBPACK_IMPORTED_MODULE_0__.toValidEntry)\n        .filter(function (entry) {\n        return isBetween(entry, request.startClocks.relative, endTime({ startTime: request.startClocks.relative, duration: request.duration }));\n    });\n    if (candidates.length === 1) {\n        return candidates[0];\n    }\n    return;\n}\nfunction endTime(timing) {\n    return (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.addDuration)(timing.startTime, timing.duration);\n}\nfunction isBetween(timing, start, end) {\n    var errorMargin = 1;\n    return timing.startTime >= start - errorMargin && endTime(timing) <= (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.addDuration)(end, errorMargin);\n}\n//# sourceMappingURL=matchRequestTiming.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2RvbWFpbi9ydW1FdmVudHNDb2xsZWN0aW9uL3Jlc291cmNlL21hdGNoUmVxdWVzdFRpbWluZy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBb0Q7QUFDTDtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0Msd0JBQXdCO0FBQ3hELGdCQUFnQix3REFBWTtBQUM1QjtBQUNBLHdFQUF3RSxxRUFBcUU7QUFDN0ksS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsa0VBQVc7QUFDdEI7QUFDQTtBQUNBO0FBQ0EseUVBQXlFLGtFQUFXO0FBQ3BGO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYXJjYXN0ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2RvbWFpbi9ydW1FdmVudHNDb2xsZWN0aW9uL3Jlc291cmNlL21hdGNoUmVxdWVzdFRpbWluZy5qcz8xNDliIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFkZER1cmF0aW9uIH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJztcbmltcG9ydCB7IHRvVmFsaWRFbnRyeSB9IGZyb20gJy4vcmVzb3VyY2VVdGlscyc7XG4vKipcbiAqIExvb2sgZm9yIGNvcnJlc3BvbmRpbmcgdGltaW5nIGluIHJlc291cmNlIHRpbWluZyBidWZmZXJcbiAqXG4gKiBPYnNlcnZhdGlvbnM6XG4gKiAtIFRpbWluZyAoc3RhcnQsIGVuZCkgYXJlIG5lc3RlZCBpbnNpZGUgdGhlIHJlcXVlc3QgKHN0YXJ0LCBlbmQpXG4gKiAtIFNvbWUgdGltaW5nIGNhbiBiZSBub3QgZXhhY3RseSBuZXN0ZWQsIGJlaW5nIG9mZiBieSA8IDEgbXNcbiAqXG4gKiBTdHJhdGVneTpcbiAqIC0gZnJvbSB2YWxpZCBuZXN0ZWQgZW50cmllcyAod2l0aCAxIG1zIGVycm9yIG1hcmdpbilcbiAqIC0gaWYgYSBzaW5nbGUgdGltaW5nIG1hdGNoLCByZXR1cm4gdGhlIHRpbWluZ1xuICogLSBvdGhlcndpc2Ugd2UgY2FuJ3QgZGVjaWRlLCByZXR1cm4gdW5kZWZpbmVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtYXRjaFJlcXVlc3RUaW1pbmcocmVxdWVzdCkge1xuICAgIGlmICghcGVyZm9ybWFuY2UgfHwgISgnZ2V0RW50cmllc0J5TmFtZScgaW4gcGVyZm9ybWFuY2UpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHNhbWVOYW1lRW50cmllcyA9IHBlcmZvcm1hbmNlLmdldEVudHJpZXNCeU5hbWUocmVxdWVzdC51cmwsICdyZXNvdXJjZScpO1xuICAgIGlmICghc2FtZU5hbWVFbnRyaWVzLmxlbmd0aCB8fCAhKCd0b0pTT04nIGluIHNhbWVOYW1lRW50cmllc1swXSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgY2FuZGlkYXRlcyA9IHNhbWVOYW1lRW50cmllc1xuICAgICAgICAubWFwKGZ1bmN0aW9uIChlbnRyeSkgeyByZXR1cm4gZW50cnkudG9KU09OKCk7IH0pXG4gICAgICAgIC5maWx0ZXIodG9WYWxpZEVudHJ5KVxuICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChlbnRyeSkge1xuICAgICAgICByZXR1cm4gaXNCZXR3ZWVuKGVudHJ5LCByZXF1ZXN0LnN0YXJ0Q2xvY2tzLnJlbGF0aXZlLCBlbmRUaW1lKHsgc3RhcnRUaW1lOiByZXF1ZXN0LnN0YXJ0Q2xvY2tzLnJlbGF0aXZlLCBkdXJhdGlvbjogcmVxdWVzdC5kdXJhdGlvbiB9KSk7XG4gICAgfSk7XG4gICAgaWYgKGNhbmRpZGF0ZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybiBjYW5kaWRhdGVzWzBdO1xuICAgIH1cbiAgICByZXR1cm47XG59XG5mdW5jdGlvbiBlbmRUaW1lKHRpbWluZykge1xuICAgIHJldHVybiBhZGREdXJhdGlvbih0aW1pbmcuc3RhcnRUaW1lLCB0aW1pbmcuZHVyYXRpb24pO1xufVxuZnVuY3Rpb24gaXNCZXR3ZWVuKHRpbWluZywgc3RhcnQsIGVuZCkge1xuICAgIHZhciBlcnJvck1hcmdpbiA9IDE7XG4gICAgcmV0dXJuIHRpbWluZy5zdGFydFRpbWUgPj0gc3RhcnQgLSBlcnJvck1hcmdpbiAmJiBlbmRUaW1lKHRpbWluZykgPD0gYWRkRHVyYXRpb24oZW5kLCBlcnJvck1hcmdpbik7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXRjaFJlcXVlc3RUaW1pbmcuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/resource/matchRequestTiming.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/resource/resourceCollection.js":
/*!******************************************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/resource/resourceCollection.js ***!
  \******************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   startResourceCollection: () => (/* binding */ startResourceCollection)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/mergeInto.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/stringUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/polyfills.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/numberUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/experimentalFeatures.js\");\n/* harmony import */ var _matchRequestTiming__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./matchRequestTiming */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/resource/matchRequestTiming.js\");\n/* harmony import */ var _resourceUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./resourceUtils */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/resource/resourceUtils.js\");\n\n\n\nfunction startResourceCollection(lifeCycle, configuration, sessionManager, pageStateHistory) {\n    lifeCycle.subscribe(6 /* LifeCycleEventType.REQUEST_COMPLETED */, function (request) {\n        lifeCycle.notify(10 /* LifeCycleEventType.RAW_RUM_EVENT_COLLECTED */, processRequest(request, configuration, sessionManager, pageStateHistory));\n    });\n    lifeCycle.subscribe(0 /* LifeCycleEventType.PERFORMANCE_ENTRIES_COLLECTED */, function (entries) {\n        for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\n            var entry = entries_1[_i];\n            if (entry.entryType === 'resource' && !(0,_resourceUtils__WEBPACK_IMPORTED_MODULE_1__.isRequestKind)(entry)) {\n                lifeCycle.notify(10 /* LifeCycleEventType.RAW_RUM_EVENT_COLLECTED */, processResourceEntry(entry, configuration, sessionManager, pageStateHistory));\n            }\n        }\n    });\n}\nfunction processRequest(request, configuration, sessionManager, pageStateHistory) {\n    var _a;\n    var type = request.type === \"xhr\" /* RequestType.XHR */ ? \"xhr\" /* ResourceType.XHR */ : \"fetch\" /* ResourceType.FETCH */;\n    var matchingTiming = (0,_matchRequestTiming__WEBPACK_IMPORTED_MODULE_0__.matchRequestTiming)(request);\n    var startClocks = matchingTiming ? (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.relativeToClocks)(matchingTiming.startTime) : request.startClocks;\n    var correspondingTimingOverrides = matchingTiming ? computePerformanceEntryMetrics(matchingTiming) : undefined;\n    var tracingInfo = computeRequestTracingInfo(request, configuration);\n    var indexingInfo = computeIndexingInfo(sessionManager, startClocks);\n    var duration = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.toServerDuration)(request.duration);\n    var pageStateInfo = computePageStateInfo(pageStateHistory, startClocks, (_a = matchingTiming === null || matchingTiming === void 0 ? void 0 : matchingTiming.duration) !== null && _a !== void 0 ? _a : request.duration);\n    var resourceEvent = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.combine)({\n        date: startClocks.timeStamp,\n        resource: {\n            id: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.generateUUID)(),\n            type: type,\n            duration: duration,\n            method: request.method,\n            status_code: request.status,\n            url: request.url,\n        },\n        type: \"resource\" /* RumEventType.RESOURCE */,\n    }, tracingInfo, correspondingTimingOverrides, indexingInfo, pageStateInfo);\n    return {\n        startTime: startClocks.relative,\n        rawRumEvent: resourceEvent,\n        domainContext: {\n            performanceEntry: matchingTiming && toPerformanceEntryRepresentation(matchingTiming),\n            xhr: request.xhr,\n            response: request.response,\n            requestInput: request.input,\n            requestInit: request.init,\n            error: request.error,\n        },\n    };\n}\nfunction processResourceEntry(entry, configuration, sessionManager, pageStateHistory) {\n    var type = (0,_resourceUtils__WEBPACK_IMPORTED_MODULE_1__.computeResourceKind)(entry);\n    var entryMetrics = computePerformanceEntryMetrics(entry);\n    var startClocks = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.relativeToClocks)(entry.startTime);\n    var tracingInfo = computeEntryTracingInfo(entry, configuration);\n    var indexingInfo = computeIndexingInfo(sessionManager, startClocks);\n    var pageStateInfo = computePageStateInfo(pageStateHistory, startClocks, entry.duration);\n    var resourceEvent = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.combine)({\n        date: startClocks.timeStamp,\n        resource: {\n            id: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.generateUUID)(),\n            type: type,\n            url: entry.name,\n        },\n        type: \"resource\" /* RumEventType.RESOURCE */,\n    }, tracingInfo, entryMetrics, indexingInfo, pageStateInfo);\n    return {\n        startTime: startClocks.relative,\n        rawRumEvent: resourceEvent,\n        domainContext: {\n            performanceEntry: toPerformanceEntryRepresentation(entry),\n        },\n    };\n}\nfunction computePerformanceEntryMetrics(timing) {\n    return {\n        resource: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.assign)({\n            duration: (0,_resourceUtils__WEBPACK_IMPORTED_MODULE_1__.computePerformanceResourceDuration)(timing),\n            size: (0,_resourceUtils__WEBPACK_IMPORTED_MODULE_1__.computeSize)(timing),\n        }, (0,_resourceUtils__WEBPACK_IMPORTED_MODULE_1__.computePerformanceResourceDetails)(timing)),\n    };\n}\nfunction computeRequestTracingInfo(request, configuration) {\n    var hasBeenTraced = request.traceSampled && request.traceId && request.spanId;\n    if (!hasBeenTraced) {\n        return undefined;\n    }\n    return {\n        _dd: {\n            span_id: request.spanId.toDecimalString(),\n            trace_id: request.traceId.toDecimalString(),\n            rule_psr: getRulePsr(configuration),\n        },\n    };\n}\nfunction computeEntryTracingInfo(entry, configuration) {\n    var hasBeenTraced = entry.traceId;\n    if (!hasBeenTraced) {\n        return undefined;\n    }\n    return {\n        _dd: {\n            trace_id: entry.traceId,\n            rule_psr: getRulePsr(configuration),\n        },\n    };\n}\n// TODO next major: use directly PerformanceEntry type in domain context\nfunction toPerformanceEntryRepresentation(entry) {\n    return entry;\n}\n/**\n * @returns number between 0 and 1 which represents trace sample rate\n */\nfunction getRulePsr(configuration) {\n    return (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__.isNumber)(configuration.traceSampleRate) ? configuration.traceSampleRate / 100 : undefined;\n}\nfunction computeIndexingInfo(sessionManager, resourceStart) {\n    var session = sessionManager.findTrackedSession(resourceStart.relative);\n    return {\n        _dd: {\n            discarded: !session || !session.resourceAllowed,\n        },\n    };\n}\nfunction computePageStateInfo(pageStateHistory, startClocks, duration) {\n    if (!(0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.isExperimentalFeatureEnabled)(_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.ExperimentalFeature.RESOURCE_PAGE_STATES)) {\n        return;\n    }\n    return {\n        _dd: {\n            page_states: pageStateHistory.findAll(startClocks.relative, duration),\n            page_was_discarded: String(document.wasDiscarded),\n        },\n    };\n}\n//# sourceMappingURL=resourceCollection.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2RvbWFpbi9ydW1FdmVudHNDb2xsZWN0aW9uL3Jlc291cmNlL3Jlc291cmNlQ29sbGVjdGlvbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBd0s7QUFDOUc7QUFDZ0c7QUFDbko7QUFDUDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsOENBQThDLHVCQUF1QjtBQUNyRTtBQUNBLG1EQUFtRCw2REFBYTtBQUNoRTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsdUVBQWtCO0FBQzNDLHVDQUF1Qyx1RUFBZ0I7QUFDdkQ7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHVFQUFnQjtBQUNuQztBQUNBLHdCQUF3Qiw4REFBTztBQUMvQjtBQUNBO0FBQ0EsZ0JBQWdCLG1FQUFZO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsZUFBZSxtRUFBbUI7QUFDbEM7QUFDQSxzQkFBc0IsdUVBQWdCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qiw4REFBTztBQUMvQjtBQUNBO0FBQ0EsZ0JBQWdCLG1FQUFZO0FBQzVCO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQiw2REFBTTtBQUN4QixzQkFBc0Isa0ZBQWtDO0FBQ3hELGtCQUFrQiwyREFBVztBQUM3QixTQUFTLEVBQUUsaUZBQWlDO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVywrREFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUyxtRkFBNEIsQ0FBQyxzRUFBbUI7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhcmNhc3Rlci8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vZG9tYWluL3J1bUV2ZW50c0NvbGxlY3Rpb24vcmVzb3VyY2UvcmVzb3VyY2VDb2xsZWN0aW9uLmpzP2NiMTkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY29tYmluZSwgZ2VuZXJhdGVVVUlELCB0b1NlcnZlckR1cmF0aW9uLCByZWxhdGl2ZVRvQ2xvY2tzLCBhc3NpZ24sIGlzTnVtYmVyLCBpc0V4cGVyaW1lbnRhbEZlYXR1cmVFbmFibGVkLCBFeHBlcmltZW50YWxGZWF0dXJlLCB9IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItY29yZSc7XG5pbXBvcnQgeyBtYXRjaFJlcXVlc3RUaW1pbmcgfSBmcm9tICcuL21hdGNoUmVxdWVzdFRpbWluZyc7XG5pbXBvcnQgeyBjb21wdXRlUGVyZm9ybWFuY2VSZXNvdXJjZURldGFpbHMsIGNvbXB1dGVQZXJmb3JtYW5jZVJlc291cmNlRHVyYXRpb24sIGNvbXB1dGVSZXNvdXJjZUtpbmQsIGNvbXB1dGVTaXplLCBpc1JlcXVlc3RLaW5kLCB9IGZyb20gJy4vcmVzb3VyY2VVdGlscyc7XG5leHBvcnQgZnVuY3Rpb24gc3RhcnRSZXNvdXJjZUNvbGxlY3Rpb24obGlmZUN5Y2xlLCBjb25maWd1cmF0aW9uLCBzZXNzaW9uTWFuYWdlciwgcGFnZVN0YXRlSGlzdG9yeSkge1xuICAgIGxpZmVDeWNsZS5zdWJzY3JpYmUoNiAvKiBMaWZlQ3ljbGVFdmVudFR5cGUuUkVRVUVTVF9DT01QTEVURUQgKi8sIGZ1bmN0aW9uIChyZXF1ZXN0KSB7XG4gICAgICAgIGxpZmVDeWNsZS5ub3RpZnkoMTAgLyogTGlmZUN5Y2xlRXZlbnRUeXBlLlJBV19SVU1fRVZFTlRfQ09MTEVDVEVEICovLCBwcm9jZXNzUmVxdWVzdChyZXF1ZXN0LCBjb25maWd1cmF0aW9uLCBzZXNzaW9uTWFuYWdlciwgcGFnZVN0YXRlSGlzdG9yeSkpO1xuICAgIH0pO1xuICAgIGxpZmVDeWNsZS5zdWJzY3JpYmUoMCAvKiBMaWZlQ3ljbGVFdmVudFR5cGUuUEVSRk9STUFOQ0VfRU5UUklFU19DT0xMRUNURUQgKi8sIGZ1bmN0aW9uIChlbnRyaWVzKSB7XG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgZW50cmllc18xID0gZW50cmllczsgX2kgPCBlbnRyaWVzXzEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgZW50cnkgPSBlbnRyaWVzXzFbX2ldO1xuICAgICAgICAgICAgaWYgKGVudHJ5LmVudHJ5VHlwZSA9PT0gJ3Jlc291cmNlJyAmJiAhaXNSZXF1ZXN0S2luZChlbnRyeSkpIHtcbiAgICAgICAgICAgICAgICBsaWZlQ3ljbGUubm90aWZ5KDEwIC8qIExpZmVDeWNsZUV2ZW50VHlwZS5SQVdfUlVNX0VWRU5UX0NPTExFQ1RFRCAqLywgcHJvY2Vzc1Jlc291cmNlRW50cnkoZW50cnksIGNvbmZpZ3VyYXRpb24sIHNlc3Npb25NYW5hZ2VyLCBwYWdlU3RhdGVIaXN0b3J5KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbmZ1bmN0aW9uIHByb2Nlc3NSZXF1ZXN0KHJlcXVlc3QsIGNvbmZpZ3VyYXRpb24sIHNlc3Npb25NYW5hZ2VyLCBwYWdlU3RhdGVIaXN0b3J5KSB7XG4gICAgdmFyIF9hO1xuICAgIHZhciB0eXBlID0gcmVxdWVzdC50eXBlID09PSBcInhoclwiIC8qIFJlcXVlc3RUeXBlLlhIUiAqLyA/IFwieGhyXCIgLyogUmVzb3VyY2VUeXBlLlhIUiAqLyA6IFwiZmV0Y2hcIiAvKiBSZXNvdXJjZVR5cGUuRkVUQ0ggKi87XG4gICAgdmFyIG1hdGNoaW5nVGltaW5nID0gbWF0Y2hSZXF1ZXN0VGltaW5nKHJlcXVlc3QpO1xuICAgIHZhciBzdGFydENsb2NrcyA9IG1hdGNoaW5nVGltaW5nID8gcmVsYXRpdmVUb0Nsb2NrcyhtYXRjaGluZ1RpbWluZy5zdGFydFRpbWUpIDogcmVxdWVzdC5zdGFydENsb2NrcztcbiAgICB2YXIgY29ycmVzcG9uZGluZ1RpbWluZ092ZXJyaWRlcyA9IG1hdGNoaW5nVGltaW5nID8gY29tcHV0ZVBlcmZvcm1hbmNlRW50cnlNZXRyaWNzKG1hdGNoaW5nVGltaW5nKSA6IHVuZGVmaW5lZDtcbiAgICB2YXIgdHJhY2luZ0luZm8gPSBjb21wdXRlUmVxdWVzdFRyYWNpbmdJbmZvKHJlcXVlc3QsIGNvbmZpZ3VyYXRpb24pO1xuICAgIHZhciBpbmRleGluZ0luZm8gPSBjb21wdXRlSW5kZXhpbmdJbmZvKHNlc3Npb25NYW5hZ2VyLCBzdGFydENsb2Nrcyk7XG4gICAgdmFyIGR1cmF0aW9uID0gdG9TZXJ2ZXJEdXJhdGlvbihyZXF1ZXN0LmR1cmF0aW9uKTtcbiAgICB2YXIgcGFnZVN0YXRlSW5mbyA9IGNvbXB1dGVQYWdlU3RhdGVJbmZvKHBhZ2VTdGF0ZUhpc3RvcnksIHN0YXJ0Q2xvY2tzLCAoX2EgPSBtYXRjaGluZ1RpbWluZyA9PT0gbnVsbCB8fCBtYXRjaGluZ1RpbWluZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogbWF0Y2hpbmdUaW1pbmcuZHVyYXRpb24pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHJlcXVlc3QuZHVyYXRpb24pO1xuICAgIHZhciByZXNvdXJjZUV2ZW50ID0gY29tYmluZSh7XG4gICAgICAgIGRhdGU6IHN0YXJ0Q2xvY2tzLnRpbWVTdGFtcCxcbiAgICAgICAgcmVzb3VyY2U6IHtcbiAgICAgICAgICAgIGlkOiBnZW5lcmF0ZVVVSUQoKSxcbiAgICAgICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgICAgICBkdXJhdGlvbjogZHVyYXRpb24sXG4gICAgICAgICAgICBtZXRob2Q6IHJlcXVlc3QubWV0aG9kLFxuICAgICAgICAgICAgc3RhdHVzX2NvZGU6IHJlcXVlc3Quc3RhdHVzLFxuICAgICAgICAgICAgdXJsOiByZXF1ZXN0LnVybCxcbiAgICAgICAgfSxcbiAgICAgICAgdHlwZTogXCJyZXNvdXJjZVwiIC8qIFJ1bUV2ZW50VHlwZS5SRVNPVVJDRSAqLyxcbiAgICB9LCB0cmFjaW5nSW5mbywgY29ycmVzcG9uZGluZ1RpbWluZ092ZXJyaWRlcywgaW5kZXhpbmdJbmZvLCBwYWdlU3RhdGVJbmZvKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBzdGFydFRpbWU6IHN0YXJ0Q2xvY2tzLnJlbGF0aXZlLFxuICAgICAgICByYXdSdW1FdmVudDogcmVzb3VyY2VFdmVudCxcbiAgICAgICAgZG9tYWluQ29udGV4dDoge1xuICAgICAgICAgICAgcGVyZm9ybWFuY2VFbnRyeTogbWF0Y2hpbmdUaW1pbmcgJiYgdG9QZXJmb3JtYW5jZUVudHJ5UmVwcmVzZW50YXRpb24obWF0Y2hpbmdUaW1pbmcpLFxuICAgICAgICAgICAgeGhyOiByZXF1ZXN0LnhocixcbiAgICAgICAgICAgIHJlc3BvbnNlOiByZXF1ZXN0LnJlc3BvbnNlLFxuICAgICAgICAgICAgcmVxdWVzdElucHV0OiByZXF1ZXN0LmlucHV0LFxuICAgICAgICAgICAgcmVxdWVzdEluaXQ6IHJlcXVlc3QuaW5pdCxcbiAgICAgICAgICAgIGVycm9yOiByZXF1ZXN0LmVycm9yLFxuICAgICAgICB9LFxuICAgIH07XG59XG5mdW5jdGlvbiBwcm9jZXNzUmVzb3VyY2VFbnRyeShlbnRyeSwgY29uZmlndXJhdGlvbiwgc2Vzc2lvbk1hbmFnZXIsIHBhZ2VTdGF0ZUhpc3RvcnkpIHtcbiAgICB2YXIgdHlwZSA9IGNvbXB1dGVSZXNvdXJjZUtpbmQoZW50cnkpO1xuICAgIHZhciBlbnRyeU1ldHJpY3MgPSBjb21wdXRlUGVyZm9ybWFuY2VFbnRyeU1ldHJpY3MoZW50cnkpO1xuICAgIHZhciBzdGFydENsb2NrcyA9IHJlbGF0aXZlVG9DbG9ja3MoZW50cnkuc3RhcnRUaW1lKTtcbiAgICB2YXIgdHJhY2luZ0luZm8gPSBjb21wdXRlRW50cnlUcmFjaW5nSW5mbyhlbnRyeSwgY29uZmlndXJhdGlvbik7XG4gICAgdmFyIGluZGV4aW5nSW5mbyA9IGNvbXB1dGVJbmRleGluZ0luZm8oc2Vzc2lvbk1hbmFnZXIsIHN0YXJ0Q2xvY2tzKTtcbiAgICB2YXIgcGFnZVN0YXRlSW5mbyA9IGNvbXB1dGVQYWdlU3RhdGVJbmZvKHBhZ2VTdGF0ZUhpc3RvcnksIHN0YXJ0Q2xvY2tzLCBlbnRyeS5kdXJhdGlvbik7XG4gICAgdmFyIHJlc291cmNlRXZlbnQgPSBjb21iaW5lKHtcbiAgICAgICAgZGF0ZTogc3RhcnRDbG9ja3MudGltZVN0YW1wLFxuICAgICAgICByZXNvdXJjZToge1xuICAgICAgICAgICAgaWQ6IGdlbmVyYXRlVVVJRCgpLFxuICAgICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICAgIHVybDogZW50cnkubmFtZSxcbiAgICAgICAgfSxcbiAgICAgICAgdHlwZTogXCJyZXNvdXJjZVwiIC8qIFJ1bUV2ZW50VHlwZS5SRVNPVVJDRSAqLyxcbiAgICB9LCB0cmFjaW5nSW5mbywgZW50cnlNZXRyaWNzLCBpbmRleGluZ0luZm8sIHBhZ2VTdGF0ZUluZm8pO1xuICAgIHJldHVybiB7XG4gICAgICAgIHN0YXJ0VGltZTogc3RhcnRDbG9ja3MucmVsYXRpdmUsXG4gICAgICAgIHJhd1J1bUV2ZW50OiByZXNvdXJjZUV2ZW50LFxuICAgICAgICBkb21haW5Db250ZXh0OiB7XG4gICAgICAgICAgICBwZXJmb3JtYW5jZUVudHJ5OiB0b1BlcmZvcm1hbmNlRW50cnlSZXByZXNlbnRhdGlvbihlbnRyeSksXG4gICAgICAgIH0sXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGNvbXB1dGVQZXJmb3JtYW5jZUVudHJ5TWV0cmljcyh0aW1pbmcpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICByZXNvdXJjZTogYXNzaWduKHtcbiAgICAgICAgICAgIGR1cmF0aW9uOiBjb21wdXRlUGVyZm9ybWFuY2VSZXNvdXJjZUR1cmF0aW9uKHRpbWluZyksXG4gICAgICAgICAgICBzaXplOiBjb21wdXRlU2l6ZSh0aW1pbmcpLFxuICAgICAgICB9LCBjb21wdXRlUGVyZm9ybWFuY2VSZXNvdXJjZURldGFpbHModGltaW5nKSksXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGNvbXB1dGVSZXF1ZXN0VHJhY2luZ0luZm8ocmVxdWVzdCwgY29uZmlndXJhdGlvbikge1xuICAgIHZhciBoYXNCZWVuVHJhY2VkID0gcmVxdWVzdC50cmFjZVNhbXBsZWQgJiYgcmVxdWVzdC50cmFjZUlkICYmIHJlcXVlc3Quc3BhbklkO1xuICAgIGlmICghaGFzQmVlblRyYWNlZCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBfZGQ6IHtcbiAgICAgICAgICAgIHNwYW5faWQ6IHJlcXVlc3Quc3BhbklkLnRvRGVjaW1hbFN0cmluZygpLFxuICAgICAgICAgICAgdHJhY2VfaWQ6IHJlcXVlc3QudHJhY2VJZC50b0RlY2ltYWxTdHJpbmcoKSxcbiAgICAgICAgICAgIHJ1bGVfcHNyOiBnZXRSdWxlUHNyKGNvbmZpZ3VyYXRpb24pLFxuICAgICAgICB9LFxuICAgIH07XG59XG5mdW5jdGlvbiBjb21wdXRlRW50cnlUcmFjaW5nSW5mbyhlbnRyeSwgY29uZmlndXJhdGlvbikge1xuICAgIHZhciBoYXNCZWVuVHJhY2VkID0gZW50cnkudHJhY2VJZDtcbiAgICBpZiAoIWhhc0JlZW5UcmFjZWQpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgX2RkOiB7XG4gICAgICAgICAgICB0cmFjZV9pZDogZW50cnkudHJhY2VJZCxcbiAgICAgICAgICAgIHJ1bGVfcHNyOiBnZXRSdWxlUHNyKGNvbmZpZ3VyYXRpb24pLFxuICAgICAgICB9LFxuICAgIH07XG59XG4vLyBUT0RPIG5leHQgbWFqb3I6IHVzZSBkaXJlY3RseSBQZXJmb3JtYW5jZUVudHJ5IHR5cGUgaW4gZG9tYWluIGNvbnRleHRcbmZ1bmN0aW9uIHRvUGVyZm9ybWFuY2VFbnRyeVJlcHJlc2VudGF0aW9uKGVudHJ5KSB7XG4gICAgcmV0dXJuIGVudHJ5O1xufVxuLyoqXG4gKiBAcmV0dXJucyBudW1iZXIgYmV0d2VlbiAwIGFuZCAxIHdoaWNoIHJlcHJlc2VudHMgdHJhY2Ugc2FtcGxlIHJhdGVcbiAqL1xuZnVuY3Rpb24gZ2V0UnVsZVBzcihjb25maWd1cmF0aW9uKSB7XG4gICAgcmV0dXJuIGlzTnVtYmVyKGNvbmZpZ3VyYXRpb24udHJhY2VTYW1wbGVSYXRlKSA/IGNvbmZpZ3VyYXRpb24udHJhY2VTYW1wbGVSYXRlIC8gMTAwIDogdW5kZWZpbmVkO1xufVxuZnVuY3Rpb24gY29tcHV0ZUluZGV4aW5nSW5mbyhzZXNzaW9uTWFuYWdlciwgcmVzb3VyY2VTdGFydCkge1xuICAgIHZhciBzZXNzaW9uID0gc2Vzc2lvbk1hbmFnZXIuZmluZFRyYWNrZWRTZXNzaW9uKHJlc291cmNlU3RhcnQucmVsYXRpdmUpO1xuICAgIHJldHVybiB7XG4gICAgICAgIF9kZDoge1xuICAgICAgICAgICAgZGlzY2FyZGVkOiAhc2Vzc2lvbiB8fCAhc2Vzc2lvbi5yZXNvdXJjZUFsbG93ZWQsXG4gICAgICAgIH0sXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGNvbXB1dGVQYWdlU3RhdGVJbmZvKHBhZ2VTdGF0ZUhpc3RvcnksIHN0YXJ0Q2xvY2tzLCBkdXJhdGlvbikge1xuICAgIGlmICghaXNFeHBlcmltZW50YWxGZWF0dXJlRW5hYmxlZChFeHBlcmltZW50YWxGZWF0dXJlLlJFU09VUkNFX1BBR0VfU1RBVEVTKSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIF9kZDoge1xuICAgICAgICAgICAgcGFnZV9zdGF0ZXM6IHBhZ2VTdGF0ZUhpc3RvcnkuZmluZEFsbChzdGFydENsb2Nrcy5yZWxhdGl2ZSwgZHVyYXRpb24pLFxuICAgICAgICAgICAgcGFnZV93YXNfZGlzY2FyZGVkOiBTdHJpbmcoZG9jdW1lbnQud2FzRGlzY2FyZGVkKSxcbiAgICAgICAgfSxcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVzb3VyY2VDb2xsZWN0aW9uLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/resource/resourceCollection.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/resource/resourceUtils.js":
/*!*************************************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/resource/resourceUtils.js ***!
  \*************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FAKE_INITIAL_DOCUMENT: () => (/* binding */ FAKE_INITIAL_DOCUMENT),\n/* harmony export */   computePerformanceResourceDetails: () => (/* binding */ computePerformanceResourceDetails),\n/* harmony export */   computePerformanceResourceDuration: () => (/* binding */ computePerformanceResourceDuration),\n/* harmony export */   computeResourceKind: () => (/* binding */ computeResourceKind),\n/* harmony export */   computeSize: () => (/* binding */ computeSize),\n/* harmony export */   isAllowedRequestUrl: () => (/* binding */ isAllowedRequestUrl),\n/* harmony export */   isRequestKind: () => (/* binding */ isRequestKind),\n/* harmony export */   toValidEntry: () => (/* binding */ toValidEntry)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/polyfills.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/urlPolyfill.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/telemetry/telemetry.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js\");\n\nvar FAKE_INITIAL_DOCUMENT = 'initial_document';\nvar RESOURCE_TYPES = [\n    [\"document\" /* ResourceType.DOCUMENT */, function (initiatorType) { return FAKE_INITIAL_DOCUMENT === initiatorType; }],\n    [\"xhr\" /* ResourceType.XHR */, function (initiatorType) { return 'xmlhttprequest' === initiatorType; }],\n    [\"fetch\" /* ResourceType.FETCH */, function (initiatorType) { return 'fetch' === initiatorType; }],\n    [\"beacon\" /* ResourceType.BEACON */, function (initiatorType) { return 'beacon' === initiatorType; }],\n    [\"css\" /* ResourceType.CSS */, function (_, path) { return /\\.css$/i.test(path); }],\n    [\"js\" /* ResourceType.JS */, function (_, path) { return /\\.js$/i.test(path); }],\n    [\n        \"image\" /* ResourceType.IMAGE */,\n        function (initiatorType, path) {\n            return (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.includes)(['image', 'img', 'icon'], initiatorType) || /\\.(gif|jpg|jpeg|tiff|png|svg|ico)$/i.exec(path) !== null;\n        },\n    ],\n    [\"font\" /* ResourceType.FONT */, function (_, path) { return /\\.(woff|eot|woff2|ttf)$/i.exec(path) !== null; }],\n    [\n        \"media\" /* ResourceType.MEDIA */,\n        function (initiatorType, path) {\n            return (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.includes)(['audio', 'video'], initiatorType) || /\\.(mp3|mp4)$/i.exec(path) !== null;\n        },\n    ],\n];\nfunction computeResourceKind(timing) {\n    var url = timing.name;\n    if (!(0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.isValidUrl)(url)) {\n        (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.addTelemetryDebug)(\"Failed to construct URL for \\\"\".concat(timing.name, \"\\\"\"));\n        return \"other\" /* ResourceType.OTHER */;\n    }\n    var path = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.getPathName)(url);\n    for (var _i = 0, RESOURCE_TYPES_1 = RESOURCE_TYPES; _i < RESOURCE_TYPES_1.length; _i++) {\n        var _a = RESOURCE_TYPES_1[_i], type = _a[0], isType = _a[1];\n        if (isType(timing.initiatorType, path)) {\n            return type;\n        }\n    }\n    return \"other\" /* ResourceType.OTHER */;\n}\nfunction areInOrder() {\n    var numbers = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        numbers[_i] = arguments[_i];\n    }\n    for (var i = 1; i < numbers.length; i += 1) {\n        if (numbers[i - 1] > numbers[i]) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction isRequestKind(timing) {\n    return timing.initiatorType === 'xmlhttprequest' || timing.initiatorType === 'fetch';\n}\nfunction computePerformanceResourceDuration(entry) {\n    var duration = entry.duration, startTime = entry.startTime, responseEnd = entry.responseEnd;\n    // Safari duration is always 0 on timings blocked by cross origin policies.\n    if (duration === 0 && startTime < responseEnd) {\n        return (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.toServerDuration)((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.elapsed)(startTime, responseEnd));\n    }\n    return (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.toServerDuration)(duration);\n}\nfunction computePerformanceResourceDetails(entry) {\n    var validEntry = toValidEntry(entry);\n    if (!validEntry) {\n        return undefined;\n    }\n    var startTime = validEntry.startTime, fetchStart = validEntry.fetchStart, redirectStart = validEntry.redirectStart, redirectEnd = validEntry.redirectEnd, domainLookupStart = validEntry.domainLookupStart, domainLookupEnd = validEntry.domainLookupEnd, connectStart = validEntry.connectStart, secureConnectionStart = validEntry.secureConnectionStart, connectEnd = validEntry.connectEnd, requestStart = validEntry.requestStart, responseStart = validEntry.responseStart, responseEnd = validEntry.responseEnd;\n    var details = {\n        download: formatTiming(startTime, responseStart, responseEnd),\n        first_byte: formatTiming(startTime, requestStart, responseStart),\n    };\n    // Make sure a connection occurred\n    if (connectEnd !== fetchStart) {\n        details.connect = formatTiming(startTime, connectStart, connectEnd);\n        // Make sure a secure connection occurred\n        if (areInOrder(connectStart, secureConnectionStart, connectEnd)) {\n            details.ssl = formatTiming(startTime, secureConnectionStart, connectEnd);\n        }\n    }\n    // Make sure a domain lookup occurred\n    if (domainLookupEnd !== fetchStart) {\n        details.dns = formatTiming(startTime, domainLookupStart, domainLookupEnd);\n    }\n    if (hasRedirection(entry)) {\n        details.redirect = formatTiming(startTime, redirectStart, redirectEnd);\n    }\n    return details;\n}\nfunction toValidEntry(entry) {\n    // Ensure timings are in the right order. On top of filtering out potential invalid\n    // RumPerformanceResourceTiming, it will ignore entries from requests where timings cannot be\n    // collected, for example cross origin requests without a \"Timing-Allow-Origin\" header allowing\n    // it.\n    if (!areInOrder(entry.startTime, entry.fetchStart, entry.domainLookupStart, entry.domainLookupEnd, entry.connectStart, entry.connectEnd, entry.requestStart, entry.responseStart, entry.responseEnd)) {\n        return undefined;\n    }\n    if (!hasRedirection(entry)) {\n        return entry;\n    }\n    var redirectStart = entry.redirectStart, redirectEnd = entry.redirectEnd;\n    // Firefox doesn't provide redirect timings on cross origin requests.\n    // Provide a default for those.\n    if (redirectStart < entry.startTime) {\n        redirectStart = entry.startTime;\n    }\n    if (redirectEnd < entry.startTime) {\n        redirectEnd = entry.fetchStart;\n    }\n    // Make sure redirect timings are in order\n    if (!areInOrder(entry.startTime, redirectStart, redirectEnd, entry.fetchStart)) {\n        return undefined;\n    }\n    return (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.assign)({}, entry, {\n        redirectEnd: redirectEnd,\n        redirectStart: redirectStart,\n    });\n}\nfunction hasRedirection(entry) {\n    // The only time fetchStart is different than startTime is if a redirection occurred.\n    return entry.fetchStart !== entry.startTime;\n}\nfunction formatTiming(origin, start, end) {\n    return {\n        duration: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.toServerDuration)((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.elapsed)(start, end)),\n        start: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.toServerDuration)((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.elapsed)(origin, start)),\n    };\n}\nfunction computeSize(entry) {\n    // Make sure a request actually occurred\n    if (entry.startTime < entry.responseStart) {\n        return entry.decodedBodySize;\n    }\n    return undefined;\n}\nfunction isAllowedRequestUrl(configuration, url) {\n    return url && !configuration.isIntakeUrl(url);\n}\n//# sourceMappingURL=resourceUtils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2RvbWFpbi9ydW1FdmVudHNDb2xsZWN0aW9uL3Jlc291cmNlL3Jlc291cmNlVXRpbHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQWlJO0FBQzFIO0FBQ1A7QUFDQSx3RUFBd0UsaURBQWlEO0FBQ3pILDhEQUE4RCw0Q0FBNEM7QUFDMUcsa0VBQWtFLG1DQUFtQztBQUNyRyxvRUFBb0Usb0NBQW9DO0FBQ3hHLHdEQUF3RCw4QkFBOEI7QUFDdEYsc0RBQXNELDZCQUE2QjtBQUNuRjtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsK0RBQVE7QUFDM0IsU0FBUztBQUNUO0FBQ0EsMERBQTBELHdEQUF3RDtBQUNsSDtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsK0RBQVE7QUFDM0IsU0FBUztBQUNUO0FBQ0E7QUFDTztBQUNQO0FBQ0EsU0FBUyxpRUFBVTtBQUNuQixRQUFRLHdFQUFpQjtBQUN6QjtBQUNBO0FBQ0EsZUFBZSxrRUFBVztBQUMxQix3REFBd0QsOEJBQThCO0FBQ3RGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQix1QkFBdUI7QUFDNUM7QUFDQTtBQUNBLG9CQUFvQixvQkFBb0I7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQSxlQUFlLHVFQUFnQixDQUFDLDhEQUFPO0FBQ3ZDO0FBQ0EsV0FBVyx1RUFBZ0I7QUFDM0I7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLDZEQUFNLEdBQUc7QUFDcEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQix1RUFBZ0IsQ0FBQyw4REFBTztBQUMxQyxlQUFlLHVFQUFnQixDQUFDLDhEQUFPO0FBQ3ZDO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFyY2FzdGVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLXJ1bS1jb3JlL2VzbS9kb21haW4vcnVtRXZlbnRzQ29sbGVjdGlvbi9yZXNvdXJjZS9yZXNvdXJjZVV0aWxzLmpzPzU4ZDEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYXNzaWduLCBhZGRUZWxlbWV0cnlEZWJ1ZywgZWxhcHNlZCwgZ2V0UGF0aE5hbWUsIGluY2x1ZGVzLCBpc1ZhbGlkVXJsLCB0b1NlcnZlckR1cmF0aW9uLCB9IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItY29yZSc7XG5leHBvcnQgdmFyIEZBS0VfSU5JVElBTF9ET0NVTUVOVCA9ICdpbml0aWFsX2RvY3VtZW50JztcbnZhciBSRVNPVVJDRV9UWVBFUyA9IFtcbiAgICBbXCJkb2N1bWVudFwiIC8qIFJlc291cmNlVHlwZS5ET0NVTUVOVCAqLywgZnVuY3Rpb24gKGluaXRpYXRvclR5cGUpIHsgcmV0dXJuIEZBS0VfSU5JVElBTF9ET0NVTUVOVCA9PT0gaW5pdGlhdG9yVHlwZTsgfV0sXG4gICAgW1wieGhyXCIgLyogUmVzb3VyY2VUeXBlLlhIUiAqLywgZnVuY3Rpb24gKGluaXRpYXRvclR5cGUpIHsgcmV0dXJuICd4bWxodHRwcmVxdWVzdCcgPT09IGluaXRpYXRvclR5cGU7IH1dLFxuICAgIFtcImZldGNoXCIgLyogUmVzb3VyY2VUeXBlLkZFVENIICovLCBmdW5jdGlvbiAoaW5pdGlhdG9yVHlwZSkgeyByZXR1cm4gJ2ZldGNoJyA9PT0gaW5pdGlhdG9yVHlwZTsgfV0sXG4gICAgW1wiYmVhY29uXCIgLyogUmVzb3VyY2VUeXBlLkJFQUNPTiAqLywgZnVuY3Rpb24gKGluaXRpYXRvclR5cGUpIHsgcmV0dXJuICdiZWFjb24nID09PSBpbml0aWF0b3JUeXBlOyB9XSxcbiAgICBbXCJjc3NcIiAvKiBSZXNvdXJjZVR5cGUuQ1NTICovLCBmdW5jdGlvbiAoXywgcGF0aCkgeyByZXR1cm4gL1xcLmNzcyQvaS50ZXN0KHBhdGgpOyB9XSxcbiAgICBbXCJqc1wiIC8qIFJlc291cmNlVHlwZS5KUyAqLywgZnVuY3Rpb24gKF8sIHBhdGgpIHsgcmV0dXJuIC9cXC5qcyQvaS50ZXN0KHBhdGgpOyB9XSxcbiAgICBbXG4gICAgICAgIFwiaW1hZ2VcIiAvKiBSZXNvdXJjZVR5cGUuSU1BR0UgKi8sXG4gICAgICAgIGZ1bmN0aW9uIChpbml0aWF0b3JUeXBlLCBwYXRoKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5jbHVkZXMoWydpbWFnZScsICdpbWcnLCAnaWNvbiddLCBpbml0aWF0b3JUeXBlKSB8fCAvXFwuKGdpZnxqcGd8anBlZ3x0aWZmfHBuZ3xzdmd8aWNvKSQvaS5leGVjKHBhdGgpICE9PSBudWxsO1xuICAgICAgICB9LFxuICAgIF0sXG4gICAgW1wiZm9udFwiIC8qIFJlc291cmNlVHlwZS5GT05UICovLCBmdW5jdGlvbiAoXywgcGF0aCkgeyByZXR1cm4gL1xcLih3b2ZmfGVvdHx3b2ZmMnx0dGYpJC9pLmV4ZWMocGF0aCkgIT09IG51bGw7IH1dLFxuICAgIFtcbiAgICAgICAgXCJtZWRpYVwiIC8qIFJlc291cmNlVHlwZS5NRURJQSAqLyxcbiAgICAgICAgZnVuY3Rpb24gKGluaXRpYXRvclR5cGUsIHBhdGgpIHtcbiAgICAgICAgICAgIHJldHVybiBpbmNsdWRlcyhbJ2F1ZGlvJywgJ3ZpZGVvJ10sIGluaXRpYXRvclR5cGUpIHx8IC9cXC4obXAzfG1wNCkkL2kuZXhlYyhwYXRoKSAhPT0gbnVsbDtcbiAgICAgICAgfSxcbiAgICBdLFxuXTtcbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlUmVzb3VyY2VLaW5kKHRpbWluZykge1xuICAgIHZhciB1cmwgPSB0aW1pbmcubmFtZTtcbiAgICBpZiAoIWlzVmFsaWRVcmwodXJsKSkge1xuICAgICAgICBhZGRUZWxlbWV0cnlEZWJ1ZyhcIkZhaWxlZCB0byBjb25zdHJ1Y3QgVVJMIGZvciBcXFwiXCIuY29uY2F0KHRpbWluZy5uYW1lLCBcIlxcXCJcIikpO1xuICAgICAgICByZXR1cm4gXCJvdGhlclwiIC8qIFJlc291cmNlVHlwZS5PVEhFUiAqLztcbiAgICB9XG4gICAgdmFyIHBhdGggPSBnZXRQYXRoTmFtZSh1cmwpO1xuICAgIGZvciAodmFyIF9pID0gMCwgUkVTT1VSQ0VfVFlQRVNfMSA9IFJFU09VUkNFX1RZUEVTOyBfaSA8IFJFU09VUkNFX1RZUEVTXzEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHZhciBfYSA9IFJFU09VUkNFX1RZUEVTXzFbX2ldLCB0eXBlID0gX2FbMF0sIGlzVHlwZSA9IF9hWzFdO1xuICAgICAgICBpZiAoaXNUeXBlKHRpbWluZy5pbml0aWF0b3JUeXBlLCBwYXRoKSkge1xuICAgICAgICAgICAgcmV0dXJuIHR5cGU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIFwib3RoZXJcIiAvKiBSZXNvdXJjZVR5cGUuT1RIRVIgKi87XG59XG5mdW5jdGlvbiBhcmVJbk9yZGVyKCkge1xuICAgIHZhciBudW1iZXJzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgbnVtYmVyc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IG51bWJlcnMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgaWYgKG51bWJlcnNbaSAtIDFdID4gbnVtYmVyc1tpXSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzUmVxdWVzdEtpbmQodGltaW5nKSB7XG4gICAgcmV0dXJuIHRpbWluZy5pbml0aWF0b3JUeXBlID09PSAneG1saHR0cHJlcXVlc3QnIHx8IHRpbWluZy5pbml0aWF0b3JUeXBlID09PSAnZmV0Y2gnO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVQZXJmb3JtYW5jZVJlc291cmNlRHVyYXRpb24oZW50cnkpIHtcbiAgICB2YXIgZHVyYXRpb24gPSBlbnRyeS5kdXJhdGlvbiwgc3RhcnRUaW1lID0gZW50cnkuc3RhcnRUaW1lLCByZXNwb25zZUVuZCA9IGVudHJ5LnJlc3BvbnNlRW5kO1xuICAgIC8vIFNhZmFyaSBkdXJhdGlvbiBpcyBhbHdheXMgMCBvbiB0aW1pbmdzIGJsb2NrZWQgYnkgY3Jvc3Mgb3JpZ2luIHBvbGljaWVzLlxuICAgIGlmIChkdXJhdGlvbiA9PT0gMCAmJiBzdGFydFRpbWUgPCByZXNwb25zZUVuZCkge1xuICAgICAgICByZXR1cm4gdG9TZXJ2ZXJEdXJhdGlvbihlbGFwc2VkKHN0YXJ0VGltZSwgcmVzcG9uc2VFbmQpKTtcbiAgICB9XG4gICAgcmV0dXJuIHRvU2VydmVyRHVyYXRpb24oZHVyYXRpb24pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVQZXJmb3JtYW5jZVJlc291cmNlRGV0YWlscyhlbnRyeSkge1xuICAgIHZhciB2YWxpZEVudHJ5ID0gdG9WYWxpZEVudHJ5KGVudHJ5KTtcbiAgICBpZiAoIXZhbGlkRW50cnkpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgdmFyIHN0YXJ0VGltZSA9IHZhbGlkRW50cnkuc3RhcnRUaW1lLCBmZXRjaFN0YXJ0ID0gdmFsaWRFbnRyeS5mZXRjaFN0YXJ0LCByZWRpcmVjdFN0YXJ0ID0gdmFsaWRFbnRyeS5yZWRpcmVjdFN0YXJ0LCByZWRpcmVjdEVuZCA9IHZhbGlkRW50cnkucmVkaXJlY3RFbmQsIGRvbWFpbkxvb2t1cFN0YXJ0ID0gdmFsaWRFbnRyeS5kb21haW5Mb29rdXBTdGFydCwgZG9tYWluTG9va3VwRW5kID0gdmFsaWRFbnRyeS5kb21haW5Mb29rdXBFbmQsIGNvbm5lY3RTdGFydCA9IHZhbGlkRW50cnkuY29ubmVjdFN0YXJ0LCBzZWN1cmVDb25uZWN0aW9uU3RhcnQgPSB2YWxpZEVudHJ5LnNlY3VyZUNvbm5lY3Rpb25TdGFydCwgY29ubmVjdEVuZCA9IHZhbGlkRW50cnkuY29ubmVjdEVuZCwgcmVxdWVzdFN0YXJ0ID0gdmFsaWRFbnRyeS5yZXF1ZXN0U3RhcnQsIHJlc3BvbnNlU3RhcnQgPSB2YWxpZEVudHJ5LnJlc3BvbnNlU3RhcnQsIHJlc3BvbnNlRW5kID0gdmFsaWRFbnRyeS5yZXNwb25zZUVuZDtcbiAgICB2YXIgZGV0YWlscyA9IHtcbiAgICAgICAgZG93bmxvYWQ6IGZvcm1hdFRpbWluZyhzdGFydFRpbWUsIHJlc3BvbnNlU3RhcnQsIHJlc3BvbnNlRW5kKSxcbiAgICAgICAgZmlyc3RfYnl0ZTogZm9ybWF0VGltaW5nKHN0YXJ0VGltZSwgcmVxdWVzdFN0YXJ0LCByZXNwb25zZVN0YXJ0KSxcbiAgICB9O1xuICAgIC8vIE1ha2Ugc3VyZSBhIGNvbm5lY3Rpb24gb2NjdXJyZWRcbiAgICBpZiAoY29ubmVjdEVuZCAhPT0gZmV0Y2hTdGFydCkge1xuICAgICAgICBkZXRhaWxzLmNvbm5lY3QgPSBmb3JtYXRUaW1pbmcoc3RhcnRUaW1lLCBjb25uZWN0U3RhcnQsIGNvbm5lY3RFbmQpO1xuICAgICAgICAvLyBNYWtlIHN1cmUgYSBzZWN1cmUgY29ubmVjdGlvbiBvY2N1cnJlZFxuICAgICAgICBpZiAoYXJlSW5PcmRlcihjb25uZWN0U3RhcnQsIHNlY3VyZUNvbm5lY3Rpb25TdGFydCwgY29ubmVjdEVuZCkpIHtcbiAgICAgICAgICAgIGRldGFpbHMuc3NsID0gZm9ybWF0VGltaW5nKHN0YXJ0VGltZSwgc2VjdXJlQ29ubmVjdGlvblN0YXJ0LCBjb25uZWN0RW5kKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBNYWtlIHN1cmUgYSBkb21haW4gbG9va3VwIG9jY3VycmVkXG4gICAgaWYgKGRvbWFpbkxvb2t1cEVuZCAhPT0gZmV0Y2hTdGFydCkge1xuICAgICAgICBkZXRhaWxzLmRucyA9IGZvcm1hdFRpbWluZyhzdGFydFRpbWUsIGRvbWFpbkxvb2t1cFN0YXJ0LCBkb21haW5Mb29rdXBFbmQpO1xuICAgIH1cbiAgICBpZiAoaGFzUmVkaXJlY3Rpb24oZW50cnkpKSB7XG4gICAgICAgIGRldGFpbHMucmVkaXJlY3QgPSBmb3JtYXRUaW1pbmcoc3RhcnRUaW1lLCByZWRpcmVjdFN0YXJ0LCByZWRpcmVjdEVuZCk7XG4gICAgfVxuICAgIHJldHVybiBkZXRhaWxzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHRvVmFsaWRFbnRyeShlbnRyeSkge1xuICAgIC8vIEVuc3VyZSB0aW1pbmdzIGFyZSBpbiB0aGUgcmlnaHQgb3JkZXIuIE9uIHRvcCBvZiBmaWx0ZXJpbmcgb3V0IHBvdGVudGlhbCBpbnZhbGlkXG4gICAgLy8gUnVtUGVyZm9ybWFuY2VSZXNvdXJjZVRpbWluZywgaXQgd2lsbCBpZ25vcmUgZW50cmllcyBmcm9tIHJlcXVlc3RzIHdoZXJlIHRpbWluZ3MgY2Fubm90IGJlXG4gICAgLy8gY29sbGVjdGVkLCBmb3IgZXhhbXBsZSBjcm9zcyBvcmlnaW4gcmVxdWVzdHMgd2l0aG91dCBhIFwiVGltaW5nLUFsbG93LU9yaWdpblwiIGhlYWRlciBhbGxvd2luZ1xuICAgIC8vIGl0LlxuICAgIGlmICghYXJlSW5PcmRlcihlbnRyeS5zdGFydFRpbWUsIGVudHJ5LmZldGNoU3RhcnQsIGVudHJ5LmRvbWFpbkxvb2t1cFN0YXJ0LCBlbnRyeS5kb21haW5Mb29rdXBFbmQsIGVudHJ5LmNvbm5lY3RTdGFydCwgZW50cnkuY29ubmVjdEVuZCwgZW50cnkucmVxdWVzdFN0YXJ0LCBlbnRyeS5yZXNwb25zZVN0YXJ0LCBlbnRyeS5yZXNwb25zZUVuZCkpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKCFoYXNSZWRpcmVjdGlvbihlbnRyeSkpIHtcbiAgICAgICAgcmV0dXJuIGVudHJ5O1xuICAgIH1cbiAgICB2YXIgcmVkaXJlY3RTdGFydCA9IGVudHJ5LnJlZGlyZWN0U3RhcnQsIHJlZGlyZWN0RW5kID0gZW50cnkucmVkaXJlY3RFbmQ7XG4gICAgLy8gRmlyZWZveCBkb2Vzbid0IHByb3ZpZGUgcmVkaXJlY3QgdGltaW5ncyBvbiBjcm9zcyBvcmlnaW4gcmVxdWVzdHMuXG4gICAgLy8gUHJvdmlkZSBhIGRlZmF1bHQgZm9yIHRob3NlLlxuICAgIGlmIChyZWRpcmVjdFN0YXJ0IDwgZW50cnkuc3RhcnRUaW1lKSB7XG4gICAgICAgIHJlZGlyZWN0U3RhcnQgPSBlbnRyeS5zdGFydFRpbWU7XG4gICAgfVxuICAgIGlmIChyZWRpcmVjdEVuZCA8IGVudHJ5LnN0YXJ0VGltZSkge1xuICAgICAgICByZWRpcmVjdEVuZCA9IGVudHJ5LmZldGNoU3RhcnQ7XG4gICAgfVxuICAgIC8vIE1ha2Ugc3VyZSByZWRpcmVjdCB0aW1pbmdzIGFyZSBpbiBvcmRlclxuICAgIGlmICghYXJlSW5PcmRlcihlbnRyeS5zdGFydFRpbWUsIHJlZGlyZWN0U3RhcnQsIHJlZGlyZWN0RW5kLCBlbnRyeS5mZXRjaFN0YXJ0KSkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4gYXNzaWduKHt9LCBlbnRyeSwge1xuICAgICAgICByZWRpcmVjdEVuZDogcmVkaXJlY3RFbmQsXG4gICAgICAgIHJlZGlyZWN0U3RhcnQ6IHJlZGlyZWN0U3RhcnQsXG4gICAgfSk7XG59XG5mdW5jdGlvbiBoYXNSZWRpcmVjdGlvbihlbnRyeSkge1xuICAgIC8vIFRoZSBvbmx5IHRpbWUgZmV0Y2hTdGFydCBpcyBkaWZmZXJlbnQgdGhhbiBzdGFydFRpbWUgaXMgaWYgYSByZWRpcmVjdGlvbiBvY2N1cnJlZC5cbiAgICByZXR1cm4gZW50cnkuZmV0Y2hTdGFydCAhPT0gZW50cnkuc3RhcnRUaW1lO1xufVxuZnVuY3Rpb24gZm9ybWF0VGltaW5nKG9yaWdpbiwgc3RhcnQsIGVuZCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGR1cmF0aW9uOiB0b1NlcnZlckR1cmF0aW9uKGVsYXBzZWQoc3RhcnQsIGVuZCkpLFxuICAgICAgICBzdGFydDogdG9TZXJ2ZXJEdXJhdGlvbihlbGFwc2VkKG9yaWdpbiwgc3RhcnQpKSxcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVTaXplKGVudHJ5KSB7XG4gICAgLy8gTWFrZSBzdXJlIGEgcmVxdWVzdCBhY3R1YWxseSBvY2N1cnJlZFxuICAgIGlmIChlbnRyeS5zdGFydFRpbWUgPCBlbnRyeS5yZXNwb25zZVN0YXJ0KSB7XG4gICAgICAgIHJldHVybiBlbnRyeS5kZWNvZGVkQm9keVNpemU7XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNBbGxvd2VkUmVxdWVzdFVybChjb25maWd1cmF0aW9uLCB1cmwpIHtcbiAgICByZXR1cm4gdXJsICYmICFjb25maWd1cmF0aW9uLmlzSW50YWtlVXJsKHVybCk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXNvdXJjZVV0aWxzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/resource/resourceUtils.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/view/trackFirstHidden.js":
/*!************************************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/view/trackFirstHidden.js ***!
  \************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   resetFirstHidden: () => (/* binding */ resetFirstHidden),\n/* harmony export */   trackFirstHidden: () => (/* binding */ trackFirstHidden)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/browser/addEventListener.js\");\n\nvar trackFirstHiddenSingleton;\nvar stopListeners;\nfunction trackFirstHidden(eventTarget) {\n    if (eventTarget === void 0) { eventTarget = window; }\n    if (!trackFirstHiddenSingleton) {\n        if (document.visibilityState === 'hidden') {\n            trackFirstHiddenSingleton = {\n                timeStamp: 0,\n            };\n        }\n        else {\n            trackFirstHiddenSingleton = {\n                timeStamp: Infinity,\n            };\n            (stopListeners = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.addEventListeners)(eventTarget, [\"pagehide\" /* DOM_EVENT.PAGE_HIDE */, \"visibilitychange\" /* DOM_EVENT.VISIBILITY_CHANGE */], function (event) {\n                if (event.type === 'pagehide' || document.visibilityState === 'hidden') {\n                    trackFirstHiddenSingleton.timeStamp = event.timeStamp;\n                    stopListeners();\n                }\n            }, { capture: true }).stop);\n        }\n    }\n    return trackFirstHiddenSingleton;\n}\nfunction resetFirstHidden() {\n    if (stopListeners) {\n        stopListeners();\n    }\n    trackFirstHiddenSingleton = undefined;\n}\n//# sourceMappingURL=trackFirstHidden.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2RvbWFpbi9ydW1FdmVudHNDb2xsZWN0aW9uL3ZpZXcvdHJhY2tGaXJzdEhpZGRlbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBMEQ7QUFDMUQ7QUFDQTtBQUNPO0FBQ1Asa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLHdFQUFpQjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsSUFBSSxlQUFlO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYXJjYXN0ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2RvbWFpbi9ydW1FdmVudHNDb2xsZWN0aW9uL3ZpZXcvdHJhY2tGaXJzdEhpZGRlbi5qcz8xMDk0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFkZEV2ZW50TGlzdGVuZXJzIH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJztcbnZhciB0cmFja0ZpcnN0SGlkZGVuU2luZ2xldG9uO1xudmFyIHN0b3BMaXN0ZW5lcnM7XG5leHBvcnQgZnVuY3Rpb24gdHJhY2tGaXJzdEhpZGRlbihldmVudFRhcmdldCkge1xuICAgIGlmIChldmVudFRhcmdldCA9PT0gdm9pZCAwKSB7IGV2ZW50VGFyZ2V0ID0gd2luZG93OyB9XG4gICAgaWYgKCF0cmFja0ZpcnN0SGlkZGVuU2luZ2xldG9uKSB7XG4gICAgICAgIGlmIChkb2N1bWVudC52aXNpYmlsaXR5U3RhdGUgPT09ICdoaWRkZW4nKSB7XG4gICAgICAgICAgICB0cmFja0ZpcnN0SGlkZGVuU2luZ2xldG9uID0ge1xuICAgICAgICAgICAgICAgIHRpbWVTdGFtcDogMCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0cmFja0ZpcnN0SGlkZGVuU2luZ2xldG9uID0ge1xuICAgICAgICAgICAgICAgIHRpbWVTdGFtcDogSW5maW5pdHksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgKHN0b3BMaXN0ZW5lcnMgPSBhZGRFdmVudExpc3RlbmVycyhldmVudFRhcmdldCwgW1wicGFnZWhpZGVcIiAvKiBET01fRVZFTlQuUEFHRV9ISURFICovLCBcInZpc2liaWxpdHljaGFuZ2VcIiAvKiBET01fRVZFTlQuVklTSUJJTElUWV9DSEFOR0UgKi9dLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ3BhZ2VoaWRlJyB8fCBkb2N1bWVudC52aXNpYmlsaXR5U3RhdGUgPT09ICdoaWRkZW4nKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyYWNrRmlyc3RIaWRkZW5TaW5nbGV0b24udGltZVN0YW1wID0gZXZlbnQudGltZVN0YW1wO1xuICAgICAgICAgICAgICAgICAgICBzdG9wTGlzdGVuZXJzKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgeyBjYXB0dXJlOiB0cnVlIH0pLnN0b3ApO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cmFja0ZpcnN0SGlkZGVuU2luZ2xldG9uO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlc2V0Rmlyc3RIaWRkZW4oKSB7XG4gICAgaWYgKHN0b3BMaXN0ZW5lcnMpIHtcbiAgICAgICAgc3RvcExpc3RlbmVycygpO1xuICAgIH1cbiAgICB0cmFja0ZpcnN0SGlkZGVuU2luZ2xldG9uID0gdW5kZWZpbmVkO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHJhY2tGaXJzdEhpZGRlbi5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/view/trackFirstHidden.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/view/trackInitialViewTimings.js":
/*!*******************************************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/view/trackInitialViewTimings.js ***!
  \*******************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   KEEP_TRACKING_TIMINGS_AFTER_VIEW_DELAY: () => (/* binding */ KEEP_TRACKING_TIMINGS_AFTER_VIEW_DELAY),\n/* harmony export */   TIMING_MAXIMUM_DELAY: () => (/* binding */ TIMING_MAXIMUM_DELAY),\n/* harmony export */   trackFirstContentfulPaintTiming: () => (/* binding */ trackFirstContentfulPaintTiming),\n/* harmony export */   trackFirstInputTimings: () => (/* binding */ trackFirstInputTimings),\n/* harmony export */   trackInitialViewTimings: () => (/* binding */ trackInitialViewTimings),\n/* harmony export */   trackLargestContentfulPaintTiming: () => (/* binding */ trackLargestContentfulPaintTiming),\n/* harmony export */   trackNavigationTimings: () => (/* binding */ trackNavigationTimings)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/polyfills.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/timer.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/browser/addEventListener.js\");\n/* harmony import */ var _trackFirstHidden__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./trackFirstHidden */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/view/trackFirstHidden.js\");\n\n\n// Discard LCP and FCP timings above a certain delay to avoid incorrect data\n// It happens in some cases like sleep mode or some browser implementations\nvar TIMING_MAXIMUM_DELAY = 10 * _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.ONE_MINUTE;\n/**\n * The initial view can finish quickly, before some metrics can be produced (ex: before the page load\n * event, or the first input). Also, we don't want to trigger a view update indefinitely, to avoid\n * updates on views that ended a long time ago. Keep watching for metrics after the view ends for a\n * limited amount of time.\n */\nvar KEEP_TRACKING_TIMINGS_AFTER_VIEW_DELAY = 5 * _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.ONE_MINUTE;\nfunction trackInitialViewTimings(lifeCycle, setLoadEvent, scheduleViewUpdate) {\n    var timings = {};\n    function setTimings(newTimings) {\n        (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.assign)(timings, newTimings);\n        scheduleViewUpdate();\n    }\n    var stopNavigationTracking = trackNavigationTimings(lifeCycle, function (newTimings) {\n        setLoadEvent(newTimings.loadEvent);\n        setTimings(newTimings);\n    }).stop;\n    var stopFCPTracking = trackFirstContentfulPaintTiming(lifeCycle, function (firstContentfulPaint) {\n        return setTimings({ firstContentfulPaint: firstContentfulPaint });\n    }).stop;\n    var stopLCPTracking = trackLargestContentfulPaintTiming(lifeCycle, window, function (largestContentfulPaint) {\n        setTimings({\n            largestContentfulPaint: largestContentfulPaint,\n        });\n    }).stop;\n    var stopFIDTracking = trackFirstInputTimings(lifeCycle, function (_a) {\n        var firstInputDelay = _a.firstInputDelay, firstInputTime = _a.firstInputTime;\n        setTimings({\n            firstInputDelay: firstInputDelay,\n            firstInputTime: firstInputTime,\n        });\n    }).stop;\n    function stop() {\n        stopNavigationTracking();\n        stopFCPTracking();\n        stopLCPTracking();\n        stopFIDTracking();\n    }\n    return {\n        stop: stop,\n        timings: timings,\n        scheduleStop: function () {\n            (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.setTimeout)(stop, KEEP_TRACKING_TIMINGS_AFTER_VIEW_DELAY);\n        },\n    };\n}\nfunction trackNavigationTimings(lifeCycle, callback) {\n    var stop = lifeCycle.subscribe(0 /* LifeCycleEventType.PERFORMANCE_ENTRIES_COLLECTED */, function (entries) {\n        for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\n            var entry = entries_1[_i];\n            if (entry.entryType === 'navigation') {\n                callback({\n                    domComplete: entry.domComplete,\n                    domContentLoaded: entry.domContentLoadedEventEnd,\n                    domInteractive: entry.domInteractive,\n                    loadEvent: entry.loadEventEnd,\n                    // In some cases the value reported is negative or is larger\n                    // than the current page time. Ignore these cases:\n                    // https://github.com/GoogleChrome/web-vitals/issues/137\n                    // https://github.com/GoogleChrome/web-vitals/issues/162\n                    firstByte: entry.responseStart >= 0 && entry.responseStart <= (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.relativeNow)() ? entry.responseStart : undefined,\n                });\n            }\n        }\n    }).unsubscribe;\n    return { stop: stop };\n}\nfunction trackFirstContentfulPaintTiming(lifeCycle, callback) {\n    var firstHidden = (0,_trackFirstHidden__WEBPACK_IMPORTED_MODULE_0__.trackFirstHidden)();\n    var stop = lifeCycle.subscribe(0 /* LifeCycleEventType.PERFORMANCE_ENTRIES_COLLECTED */, function (entries) {\n        var fcpEntry = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.find)(entries, function (entry) {\n            return entry.entryType === 'paint' &&\n                entry.name === 'first-contentful-paint' &&\n                entry.startTime < firstHidden.timeStamp &&\n                entry.startTime < TIMING_MAXIMUM_DELAY;\n        });\n        if (fcpEntry) {\n            callback(fcpEntry.startTime);\n        }\n    }).unsubscribe;\n    return { stop: stop };\n}\n/**\n * Track the largest contentful paint (LCP) occurring during the initial View.  This can yield\n * multiple values, only the most recent one should be used.\n * Documentation: https://web.dev/lcp/\n * Reference implementation: https://github.com/GoogleChrome/web-vitals/blob/master/src/getLCP.ts\n */\nfunction trackLargestContentfulPaintTiming(lifeCycle, eventTarget, callback) {\n    var firstHidden = (0,_trackFirstHidden__WEBPACK_IMPORTED_MODULE_0__.trackFirstHidden)();\n    // Ignore entries that come after the first user interaction.  According to the documentation, the\n    // browser should not send largest-contentful-paint entries after a user interact with the page,\n    // but the web-vitals reference implementation uses this as a safeguard.\n    var firstInteractionTimestamp = Infinity;\n    var stopEventListener = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.addEventListeners)(eventTarget, [\"pointerdown\" /* DOM_EVENT.POINTER_DOWN */, \"keydown\" /* DOM_EVENT.KEY_DOWN */], function (event) {\n        firstInteractionTimestamp = event.timeStamp;\n    }, { capture: true, once: true }).stop;\n    var unsubscribeLifeCycle = lifeCycle.subscribe(0 /* LifeCycleEventType.PERFORMANCE_ENTRIES_COLLECTED */, function (entries) {\n        var lcpEntry = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.findLast)(entries, function (entry) {\n            return entry.entryType === 'largest-contentful-paint' &&\n                entry.startTime < firstInteractionTimestamp &&\n                entry.startTime < firstHidden.timeStamp &&\n                entry.startTime < TIMING_MAXIMUM_DELAY;\n        });\n        if (lcpEntry) {\n            callback(lcpEntry.startTime);\n        }\n    }).unsubscribe;\n    return {\n        stop: function () {\n            stopEventListener();\n            unsubscribeLifeCycle();\n        },\n    };\n}\n/**\n * Track the first input occurring during the initial View to return:\n * - First Input Delay\n * - First Input Time\n * Callback is called at most one time.\n * Documentation: https://web.dev/fid/\n * Reference implementation: https://github.com/GoogleChrome/web-vitals/blob/master/src/getFID.ts\n */\nfunction trackFirstInputTimings(lifeCycle, callback) {\n    var firstHidden = (0,_trackFirstHidden__WEBPACK_IMPORTED_MODULE_0__.trackFirstHidden)();\n    var stop = lifeCycle.subscribe(0 /* LifeCycleEventType.PERFORMANCE_ENTRIES_COLLECTED */, function (entries) {\n        var firstInputEntry = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.find)(entries, function (entry) {\n            return entry.entryType === 'first-input' && entry.startTime < firstHidden.timeStamp;\n        });\n        if (firstInputEntry) {\n            var firstInputDelay = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.elapsed)(firstInputEntry.startTime, firstInputEntry.processingStart);\n            callback({\n                // Ensure firstInputDelay to be positive, see\n                // https://bugs.chromium.org/p/chromium/issues/detail?id=1185815\n                firstInputDelay: firstInputDelay >= 0 ? firstInputDelay : 0,\n                firstInputTime: firstInputEntry.startTime,\n            });\n        }\n    }).unsubscribe;\n    return {\n        stop: stop,\n    };\n}\n//# sourceMappingURL=trackInitialViewTimings.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2RvbWFpbi9ydW1FdmVudHNDb2xsZWN0aW9uL3ZpZXcvdHJhY2tJbml0aWFsVmlld1RpbWluZ3MuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQWlJO0FBQzNFO0FBQ3REO0FBQ0E7QUFDTyxnQ0FBZ0MsNkRBQVU7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08saURBQWlELDZEQUFVO0FBQzNEO0FBQ1A7QUFDQTtBQUNBLFFBQVEsNkRBQU07QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsNEJBQTRCLDRDQUE0QztBQUN4RSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksaUVBQVU7QUFDdEIsU0FBUztBQUNUO0FBQ0E7QUFDTztBQUNQO0FBQ0EsOENBQThDLHVCQUF1QjtBQUNyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0ZBQWtGLGtFQUFXO0FBQzdGLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsS0FBSztBQUNMLGFBQWE7QUFDYjtBQUNPO0FBQ1Asc0JBQXNCLG1FQUFnQjtBQUN0QztBQUNBLHVCQUF1QiwyREFBSTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxzQkFBc0IsbUVBQWdCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLHdFQUFpQjtBQUM3QztBQUNBLEtBQUssSUFBSSwyQkFBMkI7QUFDcEM7QUFDQSx1QkFBdUIsK0RBQVE7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxzQkFBc0IsbUVBQWdCO0FBQ3RDO0FBQ0EsOEJBQThCLDJEQUFJO0FBQ2xDO0FBQ0EsU0FBUztBQUNUO0FBQ0Esa0NBQWtDLDhEQUFPO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhcmNhc3Rlci8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vZG9tYWluL3J1bUV2ZW50c0NvbGxlY3Rpb24vdmlldy90cmFja0luaXRpYWxWaWV3VGltaW5ncy5qcz9jYjAwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHNldFRpbWVvdXQsIGFzc2lnbiwgYWRkRXZlbnRMaXN0ZW5lcnMsIGVsYXBzZWQsIE9ORV9NSU5VVEUsIGZpbmQsIGZpbmRMYXN0LCByZWxhdGl2ZU5vdywgfSBmcm9tICdAZGF0YWRvZy9icm93c2VyLWNvcmUnO1xuaW1wb3J0IHsgdHJhY2tGaXJzdEhpZGRlbiB9IGZyb20gJy4vdHJhY2tGaXJzdEhpZGRlbic7XG4vLyBEaXNjYXJkIExDUCBhbmQgRkNQIHRpbWluZ3MgYWJvdmUgYSBjZXJ0YWluIGRlbGF5IHRvIGF2b2lkIGluY29ycmVjdCBkYXRhXG4vLyBJdCBoYXBwZW5zIGluIHNvbWUgY2FzZXMgbGlrZSBzbGVlcCBtb2RlIG9yIHNvbWUgYnJvd3NlciBpbXBsZW1lbnRhdGlvbnNcbmV4cG9ydCB2YXIgVElNSU5HX01BWElNVU1fREVMQVkgPSAxMCAqIE9ORV9NSU5VVEU7XG4vKipcbiAqIFRoZSBpbml0aWFsIHZpZXcgY2FuIGZpbmlzaCBxdWlja2x5LCBiZWZvcmUgc29tZSBtZXRyaWNzIGNhbiBiZSBwcm9kdWNlZCAoZXg6IGJlZm9yZSB0aGUgcGFnZSBsb2FkXG4gKiBldmVudCwgb3IgdGhlIGZpcnN0IGlucHV0KS4gQWxzbywgd2UgZG9uJ3Qgd2FudCB0byB0cmlnZ2VyIGEgdmlldyB1cGRhdGUgaW5kZWZpbml0ZWx5LCB0byBhdm9pZFxuICogdXBkYXRlcyBvbiB2aWV3cyB0aGF0IGVuZGVkIGEgbG9uZyB0aW1lIGFnby4gS2VlcCB3YXRjaGluZyBmb3IgbWV0cmljcyBhZnRlciB0aGUgdmlldyBlbmRzIGZvciBhXG4gKiBsaW1pdGVkIGFtb3VudCBvZiB0aW1lLlxuICovXG5leHBvcnQgdmFyIEtFRVBfVFJBQ0tJTkdfVElNSU5HU19BRlRFUl9WSUVXX0RFTEFZID0gNSAqIE9ORV9NSU5VVEU7XG5leHBvcnQgZnVuY3Rpb24gdHJhY2tJbml0aWFsVmlld1RpbWluZ3MobGlmZUN5Y2xlLCBzZXRMb2FkRXZlbnQsIHNjaGVkdWxlVmlld1VwZGF0ZSkge1xuICAgIHZhciB0aW1pbmdzID0ge307XG4gICAgZnVuY3Rpb24gc2V0VGltaW5ncyhuZXdUaW1pbmdzKSB7XG4gICAgICAgIGFzc2lnbih0aW1pbmdzLCBuZXdUaW1pbmdzKTtcbiAgICAgICAgc2NoZWR1bGVWaWV3VXBkYXRlKCk7XG4gICAgfVxuICAgIHZhciBzdG9wTmF2aWdhdGlvblRyYWNraW5nID0gdHJhY2tOYXZpZ2F0aW9uVGltaW5ncyhsaWZlQ3ljbGUsIGZ1bmN0aW9uIChuZXdUaW1pbmdzKSB7XG4gICAgICAgIHNldExvYWRFdmVudChuZXdUaW1pbmdzLmxvYWRFdmVudCk7XG4gICAgICAgIHNldFRpbWluZ3MobmV3VGltaW5ncyk7XG4gICAgfSkuc3RvcDtcbiAgICB2YXIgc3RvcEZDUFRyYWNraW5nID0gdHJhY2tGaXJzdENvbnRlbnRmdWxQYWludFRpbWluZyhsaWZlQ3ljbGUsIGZ1bmN0aW9uIChmaXJzdENvbnRlbnRmdWxQYWludCkge1xuICAgICAgICByZXR1cm4gc2V0VGltaW5ncyh7IGZpcnN0Q29udGVudGZ1bFBhaW50OiBmaXJzdENvbnRlbnRmdWxQYWludCB9KTtcbiAgICB9KS5zdG9wO1xuICAgIHZhciBzdG9wTENQVHJhY2tpbmcgPSB0cmFja0xhcmdlc3RDb250ZW50ZnVsUGFpbnRUaW1pbmcobGlmZUN5Y2xlLCB3aW5kb3csIGZ1bmN0aW9uIChsYXJnZXN0Q29udGVudGZ1bFBhaW50KSB7XG4gICAgICAgIHNldFRpbWluZ3Moe1xuICAgICAgICAgICAgbGFyZ2VzdENvbnRlbnRmdWxQYWludDogbGFyZ2VzdENvbnRlbnRmdWxQYWludCxcbiAgICAgICAgfSk7XG4gICAgfSkuc3RvcDtcbiAgICB2YXIgc3RvcEZJRFRyYWNraW5nID0gdHJhY2tGaXJzdElucHV0VGltaW5ncyhsaWZlQ3ljbGUsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgZmlyc3RJbnB1dERlbGF5ID0gX2EuZmlyc3RJbnB1dERlbGF5LCBmaXJzdElucHV0VGltZSA9IF9hLmZpcnN0SW5wdXRUaW1lO1xuICAgICAgICBzZXRUaW1pbmdzKHtcbiAgICAgICAgICAgIGZpcnN0SW5wdXREZWxheTogZmlyc3RJbnB1dERlbGF5LFxuICAgICAgICAgICAgZmlyc3RJbnB1dFRpbWU6IGZpcnN0SW5wdXRUaW1lLFxuICAgICAgICB9KTtcbiAgICB9KS5zdG9wO1xuICAgIGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgICAgIHN0b3BOYXZpZ2F0aW9uVHJhY2tpbmcoKTtcbiAgICAgICAgc3RvcEZDUFRyYWNraW5nKCk7XG4gICAgICAgIHN0b3BMQ1BUcmFja2luZygpO1xuICAgICAgICBzdG9wRklEVHJhY2tpbmcoKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc3RvcDogc3RvcCxcbiAgICAgICAgdGltaW5nczogdGltaW5ncyxcbiAgICAgICAgc2NoZWR1bGVTdG9wOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KHN0b3AsIEtFRVBfVFJBQ0tJTkdfVElNSU5HU19BRlRFUl9WSUVXX0RFTEFZKTtcbiAgICAgICAgfSxcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIHRyYWNrTmF2aWdhdGlvblRpbWluZ3MobGlmZUN5Y2xlLCBjYWxsYmFjaykge1xuICAgIHZhciBzdG9wID0gbGlmZUN5Y2xlLnN1YnNjcmliZSgwIC8qIExpZmVDeWNsZUV2ZW50VHlwZS5QRVJGT1JNQU5DRV9FTlRSSUVTX0NPTExFQ1RFRCAqLywgZnVuY3Rpb24gKGVudHJpZXMpIHtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBlbnRyaWVzXzEgPSBlbnRyaWVzOyBfaSA8IGVudHJpZXNfMS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHZhciBlbnRyeSA9IGVudHJpZXNfMVtfaV07XG4gICAgICAgICAgICBpZiAoZW50cnkuZW50cnlUeXBlID09PSAnbmF2aWdhdGlvbicpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayh7XG4gICAgICAgICAgICAgICAgICAgIGRvbUNvbXBsZXRlOiBlbnRyeS5kb21Db21wbGV0ZSxcbiAgICAgICAgICAgICAgICAgICAgZG9tQ29udGVudExvYWRlZDogZW50cnkuZG9tQ29udGVudExvYWRlZEV2ZW50RW5kLFxuICAgICAgICAgICAgICAgICAgICBkb21JbnRlcmFjdGl2ZTogZW50cnkuZG9tSW50ZXJhY3RpdmUsXG4gICAgICAgICAgICAgICAgICAgIGxvYWRFdmVudDogZW50cnkubG9hZEV2ZW50RW5kLFxuICAgICAgICAgICAgICAgICAgICAvLyBJbiBzb21lIGNhc2VzIHRoZSB2YWx1ZSByZXBvcnRlZCBpcyBuZWdhdGl2ZSBvciBpcyBsYXJnZXJcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhhbiB0aGUgY3VycmVudCBwYWdlIHRpbWUuIElnbm9yZSB0aGVzZSBjYXNlczpcbiAgICAgICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL0dvb2dsZUNocm9tZS93ZWItdml0YWxzL2lzc3Vlcy8xMzdcbiAgICAgICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL0dvb2dsZUNocm9tZS93ZWItdml0YWxzL2lzc3Vlcy8xNjJcbiAgICAgICAgICAgICAgICAgICAgZmlyc3RCeXRlOiBlbnRyeS5yZXNwb25zZVN0YXJ0ID49IDAgJiYgZW50cnkucmVzcG9uc2VTdGFydCA8PSByZWxhdGl2ZU5vdygpID8gZW50cnkucmVzcG9uc2VTdGFydCA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pLnVuc3Vic2NyaWJlO1xuICAgIHJldHVybiB7IHN0b3A6IHN0b3AgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB0cmFja0ZpcnN0Q29udGVudGZ1bFBhaW50VGltaW5nKGxpZmVDeWNsZSwgY2FsbGJhY2spIHtcbiAgICB2YXIgZmlyc3RIaWRkZW4gPSB0cmFja0ZpcnN0SGlkZGVuKCk7XG4gICAgdmFyIHN0b3AgPSBsaWZlQ3ljbGUuc3Vic2NyaWJlKDAgLyogTGlmZUN5Y2xlRXZlbnRUeXBlLlBFUkZPUk1BTkNFX0VOVFJJRVNfQ09MTEVDVEVEICovLCBmdW5jdGlvbiAoZW50cmllcykge1xuICAgICAgICB2YXIgZmNwRW50cnkgPSBmaW5kKGVudHJpZXMsIGZ1bmN0aW9uIChlbnRyeSkge1xuICAgICAgICAgICAgcmV0dXJuIGVudHJ5LmVudHJ5VHlwZSA9PT0gJ3BhaW50JyAmJlxuICAgICAgICAgICAgICAgIGVudHJ5Lm5hbWUgPT09ICdmaXJzdC1jb250ZW50ZnVsLXBhaW50JyAmJlxuICAgICAgICAgICAgICAgIGVudHJ5LnN0YXJ0VGltZSA8IGZpcnN0SGlkZGVuLnRpbWVTdGFtcCAmJlxuICAgICAgICAgICAgICAgIGVudHJ5LnN0YXJ0VGltZSA8IFRJTUlOR19NQVhJTVVNX0RFTEFZO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGZjcEVudHJ5KSB7XG4gICAgICAgICAgICBjYWxsYmFjayhmY3BFbnRyeS5zdGFydFRpbWUpO1xuICAgICAgICB9XG4gICAgfSkudW5zdWJzY3JpYmU7XG4gICAgcmV0dXJuIHsgc3RvcDogc3RvcCB9O1xufVxuLyoqXG4gKiBUcmFjayB0aGUgbGFyZ2VzdCBjb250ZW50ZnVsIHBhaW50IChMQ1ApIG9jY3VycmluZyBkdXJpbmcgdGhlIGluaXRpYWwgVmlldy4gIFRoaXMgY2FuIHlpZWxkXG4gKiBtdWx0aXBsZSB2YWx1ZXMsIG9ubHkgdGhlIG1vc3QgcmVjZW50IG9uZSBzaG91bGQgYmUgdXNlZC5cbiAqIERvY3VtZW50YXRpb246IGh0dHBzOi8vd2ViLmRldi9sY3AvXG4gKiBSZWZlcmVuY2UgaW1wbGVtZW50YXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9Hb29nbGVDaHJvbWUvd2ViLXZpdGFscy9ibG9iL21hc3Rlci9zcmMvZ2V0TENQLnRzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmFja0xhcmdlc3RDb250ZW50ZnVsUGFpbnRUaW1pbmcobGlmZUN5Y2xlLCBldmVudFRhcmdldCwgY2FsbGJhY2spIHtcbiAgICB2YXIgZmlyc3RIaWRkZW4gPSB0cmFja0ZpcnN0SGlkZGVuKCk7XG4gICAgLy8gSWdub3JlIGVudHJpZXMgdGhhdCBjb21lIGFmdGVyIHRoZSBmaXJzdCB1c2VyIGludGVyYWN0aW9uLiAgQWNjb3JkaW5nIHRvIHRoZSBkb2N1bWVudGF0aW9uLCB0aGVcbiAgICAvLyBicm93c2VyIHNob3VsZCBub3Qgc2VuZCBsYXJnZXN0LWNvbnRlbnRmdWwtcGFpbnQgZW50cmllcyBhZnRlciBhIHVzZXIgaW50ZXJhY3Qgd2l0aCB0aGUgcGFnZSxcbiAgICAvLyBidXQgdGhlIHdlYi12aXRhbHMgcmVmZXJlbmNlIGltcGxlbWVudGF0aW9uIHVzZXMgdGhpcyBhcyBhIHNhZmVndWFyZC5cbiAgICB2YXIgZmlyc3RJbnRlcmFjdGlvblRpbWVzdGFtcCA9IEluZmluaXR5O1xuICAgIHZhciBzdG9wRXZlbnRMaXN0ZW5lciA9IGFkZEV2ZW50TGlzdGVuZXJzKGV2ZW50VGFyZ2V0LCBbXCJwb2ludGVyZG93blwiIC8qIERPTV9FVkVOVC5QT0lOVEVSX0RPV04gKi8sIFwia2V5ZG93blwiIC8qIERPTV9FVkVOVC5LRVlfRE9XTiAqL10sIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBmaXJzdEludGVyYWN0aW9uVGltZXN0YW1wID0gZXZlbnQudGltZVN0YW1wO1xuICAgIH0sIHsgY2FwdHVyZTogdHJ1ZSwgb25jZTogdHJ1ZSB9KS5zdG9wO1xuICAgIHZhciB1bnN1YnNjcmliZUxpZmVDeWNsZSA9IGxpZmVDeWNsZS5zdWJzY3JpYmUoMCAvKiBMaWZlQ3ljbGVFdmVudFR5cGUuUEVSRk9STUFOQ0VfRU5UUklFU19DT0xMRUNURUQgKi8sIGZ1bmN0aW9uIChlbnRyaWVzKSB7XG4gICAgICAgIHZhciBsY3BFbnRyeSA9IGZpbmRMYXN0KGVudHJpZXMsIGZ1bmN0aW9uIChlbnRyeSkge1xuICAgICAgICAgICAgcmV0dXJuIGVudHJ5LmVudHJ5VHlwZSA9PT0gJ2xhcmdlc3QtY29udGVudGZ1bC1wYWludCcgJiZcbiAgICAgICAgICAgICAgICBlbnRyeS5zdGFydFRpbWUgPCBmaXJzdEludGVyYWN0aW9uVGltZXN0YW1wICYmXG4gICAgICAgICAgICAgICAgZW50cnkuc3RhcnRUaW1lIDwgZmlyc3RIaWRkZW4udGltZVN0YW1wICYmXG4gICAgICAgICAgICAgICAgZW50cnkuc3RhcnRUaW1lIDwgVElNSU5HX01BWElNVU1fREVMQVk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAobGNwRW50cnkpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKGxjcEVudHJ5LnN0YXJ0VGltZSk7XG4gICAgICAgIH1cbiAgICB9KS51bnN1YnNjcmliZTtcbiAgICByZXR1cm4ge1xuICAgICAgICBzdG9wOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzdG9wRXZlbnRMaXN0ZW5lcigpO1xuICAgICAgICAgICAgdW5zdWJzY3JpYmVMaWZlQ3ljbGUoKTtcbiAgICAgICAgfSxcbiAgICB9O1xufVxuLyoqXG4gKiBUcmFjayB0aGUgZmlyc3QgaW5wdXQgb2NjdXJyaW5nIGR1cmluZyB0aGUgaW5pdGlhbCBWaWV3IHRvIHJldHVybjpcbiAqIC0gRmlyc3QgSW5wdXQgRGVsYXlcbiAqIC0gRmlyc3QgSW5wdXQgVGltZVxuICogQ2FsbGJhY2sgaXMgY2FsbGVkIGF0IG1vc3Qgb25lIHRpbWUuXG4gKiBEb2N1bWVudGF0aW9uOiBodHRwczovL3dlYi5kZXYvZmlkL1xuICogUmVmZXJlbmNlIGltcGxlbWVudGF0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vR29vZ2xlQ2hyb21lL3dlYi12aXRhbHMvYmxvYi9tYXN0ZXIvc3JjL2dldEZJRC50c1xuICovXG5leHBvcnQgZnVuY3Rpb24gdHJhY2tGaXJzdElucHV0VGltaW5ncyhsaWZlQ3ljbGUsIGNhbGxiYWNrKSB7XG4gICAgdmFyIGZpcnN0SGlkZGVuID0gdHJhY2tGaXJzdEhpZGRlbigpO1xuICAgIHZhciBzdG9wID0gbGlmZUN5Y2xlLnN1YnNjcmliZSgwIC8qIExpZmVDeWNsZUV2ZW50VHlwZS5QRVJGT1JNQU5DRV9FTlRSSUVTX0NPTExFQ1RFRCAqLywgZnVuY3Rpb24gKGVudHJpZXMpIHtcbiAgICAgICAgdmFyIGZpcnN0SW5wdXRFbnRyeSA9IGZpbmQoZW50cmllcywgZnVuY3Rpb24gKGVudHJ5KSB7XG4gICAgICAgICAgICByZXR1cm4gZW50cnkuZW50cnlUeXBlID09PSAnZmlyc3QtaW5wdXQnICYmIGVudHJ5LnN0YXJ0VGltZSA8IGZpcnN0SGlkZGVuLnRpbWVTdGFtcDtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChmaXJzdElucHV0RW50cnkpIHtcbiAgICAgICAgICAgIHZhciBmaXJzdElucHV0RGVsYXkgPSBlbGFwc2VkKGZpcnN0SW5wdXRFbnRyeS5zdGFydFRpbWUsIGZpcnN0SW5wdXRFbnRyeS5wcm9jZXNzaW5nU3RhcnQpO1xuICAgICAgICAgICAgY2FsbGJhY2soe1xuICAgICAgICAgICAgICAgIC8vIEVuc3VyZSBmaXJzdElucHV0RGVsYXkgdG8gYmUgcG9zaXRpdmUsIHNlZVxuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTExODU4MTVcbiAgICAgICAgICAgICAgICBmaXJzdElucHV0RGVsYXk6IGZpcnN0SW5wdXREZWxheSA+PSAwID8gZmlyc3RJbnB1dERlbGF5IDogMCxcbiAgICAgICAgICAgICAgICBmaXJzdElucHV0VGltZTogZmlyc3RJbnB1dEVudHJ5LnN0YXJ0VGltZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSkudW5zdWJzY3JpYmU7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc3RvcDogc3RvcCxcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHJhY2tJbml0aWFsVmlld1RpbWluZ3MuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/view/trackInitialViewTimings.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/view/trackViewEventCounts.js":
/*!****************************************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/view/trackViewEventCounts.js ***!
  \****************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   KEEP_TRACKING_EVENT_COUNTS_AFTER_VIEW_DELAY: () => (/* binding */ KEEP_TRACKING_EVENT_COUNTS_AFTER_VIEW_DELAY),\n/* harmony export */   trackViewEventCounts: () => (/* binding */ trackViewEventCounts)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/timer.js\");\n/* harmony import */ var _trackEventCounts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../trackEventCounts */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/trackEventCounts.js\");\n\n\n// Some events are not being counted as they transcend views. To reduce the occurrence;\n// an arbitrary delay is added for stopping event counting after the view ends.\n//\n// Ideally, we would not stop and keep counting events until the end of the session.\n// But this might have a small performance impact if there are many many views:\n// we would need to go through each event to see if the related view matches.\n// So let's have a fairly short delay to avoid impacting performances too much.\n//\n// In the future, we could have views stored in a data structure similar to ContextHistory. Whenever\n// a child event is collected, we could look into this history to find the matching view and\n// increase the associated and increase its counter. Having a centralized data structure for it\n// would allow us to look for views more efficiently.\n//\n// For now, having a small cleanup delay will already improve the situation in most cases.\nvar KEEP_TRACKING_EVENT_COUNTS_AFTER_VIEW_DELAY = 5 * _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.ONE_MINUTE;\nfunction trackViewEventCounts(lifeCycle, viewId, onChange) {\n    var _a = (0,_trackEventCounts__WEBPACK_IMPORTED_MODULE_0__.trackEventCounts)({\n        lifeCycle: lifeCycle,\n        isChildEvent: function (event) { return event.view.id === viewId; },\n        onChange: onChange,\n    }), stop = _a.stop, eventCounts = _a.eventCounts;\n    return {\n        scheduleStop: function () {\n            (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.setTimeout)(stop, KEEP_TRACKING_EVENT_COUNTS_AFTER_VIEW_DELAY);\n        },\n        eventCounts: eventCounts,\n    };\n}\n//# sourceMappingURL=trackViewEventCounts.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2RvbWFpbi9ydW1FdmVudHNDb2xsZWN0aW9uL3ZpZXcvdHJhY2tWaWV3RXZlbnRDb3VudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBK0Q7QUFDTDtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sc0RBQXNELDZEQUFVO0FBQ2hFO0FBQ1AsYUFBYSxtRUFBZ0I7QUFDN0I7QUFDQSx5Q0FBeUMsa0NBQWtDO0FBQzNFO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZLGlFQUFVO0FBQ3RCLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhcmNhc3Rlci8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vZG9tYWluL3J1bUV2ZW50c0NvbGxlY3Rpb24vdmlldy90cmFja1ZpZXdFdmVudENvdW50cy5qcz9kODNkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE9ORV9NSU5VVEUsIHNldFRpbWVvdXQgfSBmcm9tICdAZGF0YWRvZy9icm93c2VyLWNvcmUnO1xuaW1wb3J0IHsgdHJhY2tFdmVudENvdW50cyB9IGZyb20gJy4uLy4uL3RyYWNrRXZlbnRDb3VudHMnO1xuLy8gU29tZSBldmVudHMgYXJlIG5vdCBiZWluZyBjb3VudGVkIGFzIHRoZXkgdHJhbnNjZW5kIHZpZXdzLiBUbyByZWR1Y2UgdGhlIG9jY3VycmVuY2U7XG4vLyBhbiBhcmJpdHJhcnkgZGVsYXkgaXMgYWRkZWQgZm9yIHN0b3BwaW5nIGV2ZW50IGNvdW50aW5nIGFmdGVyIHRoZSB2aWV3IGVuZHMuXG4vL1xuLy8gSWRlYWxseSwgd2Ugd291bGQgbm90IHN0b3AgYW5kIGtlZXAgY291bnRpbmcgZXZlbnRzIHVudGlsIHRoZSBlbmQgb2YgdGhlIHNlc3Npb24uXG4vLyBCdXQgdGhpcyBtaWdodCBoYXZlIGEgc21hbGwgcGVyZm9ybWFuY2UgaW1wYWN0IGlmIHRoZXJlIGFyZSBtYW55IG1hbnkgdmlld3M6XG4vLyB3ZSB3b3VsZCBuZWVkIHRvIGdvIHRocm91Z2ggZWFjaCBldmVudCB0byBzZWUgaWYgdGhlIHJlbGF0ZWQgdmlldyBtYXRjaGVzLlxuLy8gU28gbGV0J3MgaGF2ZSBhIGZhaXJseSBzaG9ydCBkZWxheSB0byBhdm9pZCBpbXBhY3RpbmcgcGVyZm9ybWFuY2VzIHRvbyBtdWNoLlxuLy9cbi8vIEluIHRoZSBmdXR1cmUsIHdlIGNvdWxkIGhhdmUgdmlld3Mgc3RvcmVkIGluIGEgZGF0YSBzdHJ1Y3R1cmUgc2ltaWxhciB0byBDb250ZXh0SGlzdG9yeS4gV2hlbmV2ZXJcbi8vIGEgY2hpbGQgZXZlbnQgaXMgY29sbGVjdGVkLCB3ZSBjb3VsZCBsb29rIGludG8gdGhpcyBoaXN0b3J5IHRvIGZpbmQgdGhlIG1hdGNoaW5nIHZpZXcgYW5kXG4vLyBpbmNyZWFzZSB0aGUgYXNzb2NpYXRlZCBhbmQgaW5jcmVhc2UgaXRzIGNvdW50ZXIuIEhhdmluZyBhIGNlbnRyYWxpemVkIGRhdGEgc3RydWN0dXJlIGZvciBpdFxuLy8gd291bGQgYWxsb3cgdXMgdG8gbG9vayBmb3Igdmlld3MgbW9yZSBlZmZpY2llbnRseS5cbi8vXG4vLyBGb3Igbm93LCBoYXZpbmcgYSBzbWFsbCBjbGVhbnVwIGRlbGF5IHdpbGwgYWxyZWFkeSBpbXByb3ZlIHRoZSBzaXR1YXRpb24gaW4gbW9zdCBjYXNlcy5cbmV4cG9ydCB2YXIgS0VFUF9UUkFDS0lOR19FVkVOVF9DT1VOVFNfQUZURVJfVklFV19ERUxBWSA9IDUgKiBPTkVfTUlOVVRFO1xuZXhwb3J0IGZ1bmN0aW9uIHRyYWNrVmlld0V2ZW50Q291bnRzKGxpZmVDeWNsZSwgdmlld0lkLCBvbkNoYW5nZSkge1xuICAgIHZhciBfYSA9IHRyYWNrRXZlbnRDb3VudHMoe1xuICAgICAgICBsaWZlQ3ljbGU6IGxpZmVDeWNsZSxcbiAgICAgICAgaXNDaGlsZEV2ZW50OiBmdW5jdGlvbiAoZXZlbnQpIHsgcmV0dXJuIGV2ZW50LnZpZXcuaWQgPT09IHZpZXdJZDsgfSxcbiAgICAgICAgb25DaGFuZ2U6IG9uQ2hhbmdlLFxuICAgIH0pLCBzdG9wID0gX2Euc3RvcCwgZXZlbnRDb3VudHMgPSBfYS5ldmVudENvdW50cztcbiAgICByZXR1cm4ge1xuICAgICAgICBzY2hlZHVsZVN0b3A6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoc3RvcCwgS0VFUF9UUkFDS0lOR19FVkVOVF9DT1VOVFNfQUZURVJfVklFV19ERUxBWSk7XG4gICAgICAgIH0sXG4gICAgICAgIGV2ZW50Q291bnRzOiBldmVudENvdW50cyxcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHJhY2tWaWV3RXZlbnRDb3VudHMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/view/trackViewEventCounts.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/view/trackViewMetrics.js":
/*!************************************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/view/trackViewMetrics.js ***!
  \************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   trackViewMetrics: () => (/* binding */ trackViewMetrics)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/functionUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/numberUtils.js\");\n/* harmony import */ var _browser_performanceCollection__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../browser/performanceCollection */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/browser/performanceCollection.js\");\n/* harmony import */ var _waitPageActivityEnd__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../waitPageActivityEnd */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/waitPageActivityEnd.js\");\n\n\n\nfunction trackViewMetrics(lifeCycle, domMutationObservable, configuration, scheduleViewUpdate, loadingType, viewStart) {\n    var viewMetrics = {};\n    var _a = trackLoadingTime(lifeCycle, domMutationObservable, configuration, loadingType, viewStart, function (newLoadingTime) {\n        viewMetrics.loadingTime = newLoadingTime;\n        scheduleViewUpdate();\n    }), stopLoadingTimeTracking = _a.stop, setLoadEvent = _a.setLoadEvent;\n    var stopCLSTracking;\n    if (isLayoutShiftSupported()) {\n        viewMetrics.cumulativeLayoutShift = 0;\n        (stopCLSTracking = trackCumulativeLayoutShift(lifeCycle, function (cumulativeLayoutShift) {\n            viewMetrics.cumulativeLayoutShift = cumulativeLayoutShift;\n            scheduleViewUpdate();\n        }).stop);\n    }\n    else {\n        stopCLSTracking = _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.noop;\n    }\n    return {\n        stop: function () {\n            stopLoadingTimeTracking();\n            stopCLSTracking();\n        },\n        setLoadEvent: setLoadEvent,\n        viewMetrics: viewMetrics,\n    };\n}\nfunction trackLoadingTime(lifeCycle, domMutationObservable, configuration, loadType, viewStart, callback) {\n    var isWaitingForLoadEvent = loadType === \"initial_load\" /* ViewLoadingType.INITIAL_LOAD */;\n    var isWaitingForActivityLoadingTime = true;\n    var loadingTimeCandidates = [];\n    function invokeCallbackIfAllCandidatesAreReceived() {\n        if (!isWaitingForActivityLoadingTime && !isWaitingForLoadEvent && loadingTimeCandidates.length > 0) {\n            callback(Math.max.apply(Math, loadingTimeCandidates));\n        }\n    }\n    var stop = (0,_waitPageActivityEnd__WEBPACK_IMPORTED_MODULE_1__.waitPageActivityEnd)(lifeCycle, domMutationObservable, configuration, function (event) {\n        if (isWaitingForActivityLoadingTime) {\n            isWaitingForActivityLoadingTime = false;\n            if (event.hadActivity) {\n                loadingTimeCandidates.push((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.elapsed)(viewStart.timeStamp, event.end));\n            }\n            invokeCallbackIfAllCandidatesAreReceived();\n        }\n    }).stop;\n    return {\n        stop: stop,\n        setLoadEvent: function (loadEvent) {\n            if (isWaitingForLoadEvent) {\n                isWaitingForLoadEvent = false;\n                loadingTimeCandidates.push(loadEvent);\n                invokeCallbackIfAllCandidatesAreReceived();\n            }\n        },\n    };\n}\n/**\n * Track the cumulative layout shifts (CLS).\n * Layout shifts are grouped into session windows.\n * The minimum gap between session windows is 1 second.\n * The maximum duration of a session window is 5 second.\n * The session window layout shift value is the sum of layout shifts inside it.\n * The CLS value is the max of session windows values.\n *\n * This yields a new value whenever the CLS value is updated (a higher session window value is computed).\n *\n * See isLayoutShiftSupported to check for browser support.\n *\n * Documentation:\n * https://web.dev/cls/\n * https://web.dev/evolving-cls/\n * Reference implementation: https://github.com/GoogleChrome/web-vitals/blob/master/src/getCLS.ts\n */\nfunction trackCumulativeLayoutShift(lifeCycle, callback) {\n    var maxClsValue = 0;\n    var window = slidingSessionWindow();\n    var stop = lifeCycle.subscribe(0 /* LifeCycleEventType.PERFORMANCE_ENTRIES_COLLECTED */, function (entries) {\n        for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\n            var entry = entries_1[_i];\n            if (entry.entryType === 'layout-shift' && !entry.hadRecentInput) {\n                window.update(entry);\n                if (window.value() > maxClsValue) {\n                    maxClsValue = window.value();\n                    callback((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.round)(maxClsValue, 4));\n                }\n            }\n        }\n    }).unsubscribe;\n    return {\n        stop: stop,\n    };\n}\nfunction slidingSessionWindow() {\n    var value = 0;\n    var startTime;\n    var endTime;\n    return {\n        update: function (entry) {\n            var shouldCreateNewWindow = startTime === undefined ||\n                entry.startTime - endTime >= _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.ONE_SECOND ||\n                entry.startTime - startTime >= 5 * _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.ONE_SECOND;\n            if (shouldCreateNewWindow) {\n                startTime = endTime = entry.startTime;\n                value = entry.value;\n            }\n            else {\n                value += entry.value;\n                endTime = entry.startTime;\n            }\n        },\n        value: function () { return value; },\n    };\n}\n/**\n * Check whether `layout-shift` is supported by the browser.\n */\nfunction isLayoutShiftSupported() {\n    return (0,_browser_performanceCollection__WEBPACK_IMPORTED_MODULE_0__.supportPerformanceTimingEvent)('layout-shift');\n}\n//# sourceMappingURL=trackViewMetrics.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2RvbWFpbi9ydW1FdmVudHNDb2xsZWN0aW9uL3ZpZXcvdHJhY2tWaWV3TWV0cmljcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBeUU7QUFDYztBQUN2QjtBQUN6RDtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsMEJBQTBCLHVEQUFJO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLHlFQUFtQjtBQUNsQztBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsOERBQU87QUFDbEQ7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4Qyx1QkFBdUI7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2Qiw0REFBSztBQUNsQztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2Qyw2REFBVTtBQUN2RCxtREFBbUQsNkRBQVU7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCw2QkFBNkIsZUFBZTtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLDZGQUE2QjtBQUN4QztBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFyY2FzdGVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLXJ1bS1jb3JlL2VzbS9kb21haW4vcnVtRXZlbnRzQ29sbGVjdGlvbi92aWV3L3RyYWNrVmlld01ldHJpY3MuanM/ODhmMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBub29wLCByb3VuZCwgT05FX1NFQ09ORCwgZWxhcHNlZCB9IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItY29yZSc7XG5pbXBvcnQgeyBzdXBwb3J0UGVyZm9ybWFuY2VUaW1pbmdFdmVudCB9IGZyb20gJy4uLy4uLy4uL2Jyb3dzZXIvcGVyZm9ybWFuY2VDb2xsZWN0aW9uJztcbmltcG9ydCB7IHdhaXRQYWdlQWN0aXZpdHlFbmQgfSBmcm9tICcuLi8uLi93YWl0UGFnZUFjdGl2aXR5RW5kJztcbmV4cG9ydCBmdW5jdGlvbiB0cmFja1ZpZXdNZXRyaWNzKGxpZmVDeWNsZSwgZG9tTXV0YXRpb25PYnNlcnZhYmxlLCBjb25maWd1cmF0aW9uLCBzY2hlZHVsZVZpZXdVcGRhdGUsIGxvYWRpbmdUeXBlLCB2aWV3U3RhcnQpIHtcbiAgICB2YXIgdmlld01ldHJpY3MgPSB7fTtcbiAgICB2YXIgX2EgPSB0cmFja0xvYWRpbmdUaW1lKGxpZmVDeWNsZSwgZG9tTXV0YXRpb25PYnNlcnZhYmxlLCBjb25maWd1cmF0aW9uLCBsb2FkaW5nVHlwZSwgdmlld1N0YXJ0LCBmdW5jdGlvbiAobmV3TG9hZGluZ1RpbWUpIHtcbiAgICAgICAgdmlld01ldHJpY3MubG9hZGluZ1RpbWUgPSBuZXdMb2FkaW5nVGltZTtcbiAgICAgICAgc2NoZWR1bGVWaWV3VXBkYXRlKCk7XG4gICAgfSksIHN0b3BMb2FkaW5nVGltZVRyYWNraW5nID0gX2Euc3RvcCwgc2V0TG9hZEV2ZW50ID0gX2Euc2V0TG9hZEV2ZW50O1xuICAgIHZhciBzdG9wQ0xTVHJhY2tpbmc7XG4gICAgaWYgKGlzTGF5b3V0U2hpZnRTdXBwb3J0ZWQoKSkge1xuICAgICAgICB2aWV3TWV0cmljcy5jdW11bGF0aXZlTGF5b3V0U2hpZnQgPSAwO1xuICAgICAgICAoc3RvcENMU1RyYWNraW5nID0gdHJhY2tDdW11bGF0aXZlTGF5b3V0U2hpZnQobGlmZUN5Y2xlLCBmdW5jdGlvbiAoY3VtdWxhdGl2ZUxheW91dFNoaWZ0KSB7XG4gICAgICAgICAgICB2aWV3TWV0cmljcy5jdW11bGF0aXZlTGF5b3V0U2hpZnQgPSBjdW11bGF0aXZlTGF5b3V0U2hpZnQ7XG4gICAgICAgICAgICBzY2hlZHVsZVZpZXdVcGRhdGUoKTtcbiAgICAgICAgfSkuc3RvcCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBzdG9wQ0xTVHJhY2tpbmcgPSBub29wO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBzdG9wOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzdG9wTG9hZGluZ1RpbWVUcmFja2luZygpO1xuICAgICAgICAgICAgc3RvcENMU1RyYWNraW5nKCk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldExvYWRFdmVudDogc2V0TG9hZEV2ZW50LFxuICAgICAgICB2aWV3TWV0cmljczogdmlld01ldHJpY3MsXG4gICAgfTtcbn1cbmZ1bmN0aW9uIHRyYWNrTG9hZGluZ1RpbWUobGlmZUN5Y2xlLCBkb21NdXRhdGlvbk9ic2VydmFibGUsIGNvbmZpZ3VyYXRpb24sIGxvYWRUeXBlLCB2aWV3U3RhcnQsIGNhbGxiYWNrKSB7XG4gICAgdmFyIGlzV2FpdGluZ0ZvckxvYWRFdmVudCA9IGxvYWRUeXBlID09PSBcImluaXRpYWxfbG9hZFwiIC8qIFZpZXdMb2FkaW5nVHlwZS5JTklUSUFMX0xPQUQgKi87XG4gICAgdmFyIGlzV2FpdGluZ0ZvckFjdGl2aXR5TG9hZGluZ1RpbWUgPSB0cnVlO1xuICAgIHZhciBsb2FkaW5nVGltZUNhbmRpZGF0ZXMgPSBbXTtcbiAgICBmdW5jdGlvbiBpbnZva2VDYWxsYmFja0lmQWxsQ2FuZGlkYXRlc0FyZVJlY2VpdmVkKCkge1xuICAgICAgICBpZiAoIWlzV2FpdGluZ0ZvckFjdGl2aXR5TG9hZGluZ1RpbWUgJiYgIWlzV2FpdGluZ0ZvckxvYWRFdmVudCAmJiBsb2FkaW5nVGltZUNhbmRpZGF0ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY2FsbGJhY2soTWF0aC5tYXguYXBwbHkoTWF0aCwgbG9hZGluZ1RpbWVDYW5kaWRhdGVzKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmFyIHN0b3AgPSB3YWl0UGFnZUFjdGl2aXR5RW5kKGxpZmVDeWNsZSwgZG9tTXV0YXRpb25PYnNlcnZhYmxlLCBjb25maWd1cmF0aW9uLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgaWYgKGlzV2FpdGluZ0ZvckFjdGl2aXR5TG9hZGluZ1RpbWUpIHtcbiAgICAgICAgICAgIGlzV2FpdGluZ0ZvckFjdGl2aXR5TG9hZGluZ1RpbWUgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChldmVudC5oYWRBY3Rpdml0eSkge1xuICAgICAgICAgICAgICAgIGxvYWRpbmdUaW1lQ2FuZGlkYXRlcy5wdXNoKGVsYXBzZWQodmlld1N0YXJ0LnRpbWVTdGFtcCwgZXZlbnQuZW5kKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbnZva2VDYWxsYmFja0lmQWxsQ2FuZGlkYXRlc0FyZVJlY2VpdmVkKCk7XG4gICAgICAgIH1cbiAgICB9KS5zdG9wO1xuICAgIHJldHVybiB7XG4gICAgICAgIHN0b3A6IHN0b3AsXG4gICAgICAgIHNldExvYWRFdmVudDogZnVuY3Rpb24gKGxvYWRFdmVudCkge1xuICAgICAgICAgICAgaWYgKGlzV2FpdGluZ0ZvckxvYWRFdmVudCkge1xuICAgICAgICAgICAgICAgIGlzV2FpdGluZ0ZvckxvYWRFdmVudCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGxvYWRpbmdUaW1lQ2FuZGlkYXRlcy5wdXNoKGxvYWRFdmVudCk7XG4gICAgICAgICAgICAgICAgaW52b2tlQ2FsbGJhY2tJZkFsbENhbmRpZGF0ZXNBcmVSZWNlaXZlZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgIH07XG59XG4vKipcbiAqIFRyYWNrIHRoZSBjdW11bGF0aXZlIGxheW91dCBzaGlmdHMgKENMUykuXG4gKiBMYXlvdXQgc2hpZnRzIGFyZSBncm91cGVkIGludG8gc2Vzc2lvbiB3aW5kb3dzLlxuICogVGhlIG1pbmltdW0gZ2FwIGJldHdlZW4gc2Vzc2lvbiB3aW5kb3dzIGlzIDEgc2Vjb25kLlxuICogVGhlIG1heGltdW0gZHVyYXRpb24gb2YgYSBzZXNzaW9uIHdpbmRvdyBpcyA1IHNlY29uZC5cbiAqIFRoZSBzZXNzaW9uIHdpbmRvdyBsYXlvdXQgc2hpZnQgdmFsdWUgaXMgdGhlIHN1bSBvZiBsYXlvdXQgc2hpZnRzIGluc2lkZSBpdC5cbiAqIFRoZSBDTFMgdmFsdWUgaXMgdGhlIG1heCBvZiBzZXNzaW9uIHdpbmRvd3MgdmFsdWVzLlxuICpcbiAqIFRoaXMgeWllbGRzIGEgbmV3IHZhbHVlIHdoZW5ldmVyIHRoZSBDTFMgdmFsdWUgaXMgdXBkYXRlZCAoYSBoaWdoZXIgc2Vzc2lvbiB3aW5kb3cgdmFsdWUgaXMgY29tcHV0ZWQpLlxuICpcbiAqIFNlZSBpc0xheW91dFNoaWZ0U3VwcG9ydGVkIHRvIGNoZWNrIGZvciBicm93c2VyIHN1cHBvcnQuXG4gKlxuICogRG9jdW1lbnRhdGlvbjpcbiAqIGh0dHBzOi8vd2ViLmRldi9jbHMvXG4gKiBodHRwczovL3dlYi5kZXYvZXZvbHZpbmctY2xzL1xuICogUmVmZXJlbmNlIGltcGxlbWVudGF0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vR29vZ2xlQ2hyb21lL3dlYi12aXRhbHMvYmxvYi9tYXN0ZXIvc3JjL2dldENMUy50c1xuICovXG5mdW5jdGlvbiB0cmFja0N1bXVsYXRpdmVMYXlvdXRTaGlmdChsaWZlQ3ljbGUsIGNhbGxiYWNrKSB7XG4gICAgdmFyIG1heENsc1ZhbHVlID0gMDtcbiAgICB2YXIgd2luZG93ID0gc2xpZGluZ1Nlc3Npb25XaW5kb3coKTtcbiAgICB2YXIgc3RvcCA9IGxpZmVDeWNsZS5zdWJzY3JpYmUoMCAvKiBMaWZlQ3ljbGVFdmVudFR5cGUuUEVSRk9STUFOQ0VfRU5UUklFU19DT0xMRUNURUQgKi8sIGZ1bmN0aW9uIChlbnRyaWVzKSB7XG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgZW50cmllc18xID0gZW50cmllczsgX2kgPCBlbnRyaWVzXzEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgZW50cnkgPSBlbnRyaWVzXzFbX2ldO1xuICAgICAgICAgICAgaWYgKGVudHJ5LmVudHJ5VHlwZSA9PT0gJ2xheW91dC1zaGlmdCcgJiYgIWVudHJ5LmhhZFJlY2VudElucHV0KSB7XG4gICAgICAgICAgICAgICAgd2luZG93LnVwZGF0ZShlbnRyeSk7XG4gICAgICAgICAgICAgICAgaWYgKHdpbmRvdy52YWx1ZSgpID4gbWF4Q2xzVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgbWF4Q2xzVmFsdWUgPSB3aW5kb3cudmFsdWUoKTtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2socm91bmQobWF4Q2xzVmFsdWUsIDQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KS51bnN1YnNjcmliZTtcbiAgICByZXR1cm4ge1xuICAgICAgICBzdG9wOiBzdG9wLFxuICAgIH07XG59XG5mdW5jdGlvbiBzbGlkaW5nU2Vzc2lvbldpbmRvdygpIHtcbiAgICB2YXIgdmFsdWUgPSAwO1xuICAgIHZhciBzdGFydFRpbWU7XG4gICAgdmFyIGVuZFRpbWU7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdXBkYXRlOiBmdW5jdGlvbiAoZW50cnkpIHtcbiAgICAgICAgICAgIHZhciBzaG91bGRDcmVhdGVOZXdXaW5kb3cgPSBzdGFydFRpbWUgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgICAgIGVudHJ5LnN0YXJ0VGltZSAtIGVuZFRpbWUgPj0gT05FX1NFQ09ORCB8fFxuICAgICAgICAgICAgICAgIGVudHJ5LnN0YXJ0VGltZSAtIHN0YXJ0VGltZSA+PSA1ICogT05FX1NFQ09ORDtcbiAgICAgICAgICAgIGlmIChzaG91bGRDcmVhdGVOZXdXaW5kb3cpIHtcbiAgICAgICAgICAgICAgICBzdGFydFRpbWUgPSBlbmRUaW1lID0gZW50cnkuc3RhcnRUaW1lO1xuICAgICAgICAgICAgICAgIHZhbHVlID0gZW50cnkudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSArPSBlbnRyeS52YWx1ZTtcbiAgICAgICAgICAgICAgICBlbmRUaW1lID0gZW50cnkuc3RhcnRUaW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gKCkgeyByZXR1cm4gdmFsdWU7IH0sXG4gICAgfTtcbn1cbi8qKlxuICogQ2hlY2sgd2hldGhlciBgbGF5b3V0LXNoaWZ0YCBpcyBzdXBwb3J0ZWQgYnkgdGhlIGJyb3dzZXIuXG4gKi9cbmZ1bmN0aW9uIGlzTGF5b3V0U2hpZnRTdXBwb3J0ZWQoKSB7XG4gICAgcmV0dXJuIHN1cHBvcnRQZXJmb3JtYW5jZVRpbWluZ0V2ZW50KCdsYXlvdXQtc2hpZnQnKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRyYWNrVmlld01ldHJpY3MuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/view/trackViewMetrics.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/view/trackViews.js":
/*!******************************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/view/trackViews.js ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SESSION_KEEP_ALIVE_INTERVAL: () => (/* binding */ SESSION_KEEP_ALIVE_INTERVAL),\n/* harmony export */   THROTTLE_VIEW_UPDATE_PERIOD: () => (/* binding */ THROTTLE_VIEW_UPDATE_PERIOD),\n/* harmony export */   trackViews: () => (/* binding */ trackViews)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/browser/pageExitObservable.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/stringUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/objectUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/functionUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/timer.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/polyfills.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/display.js\");\n/* harmony import */ var _trackInitialViewTimings__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./trackInitialViewTimings */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/view/trackInitialViewTimings.js\");\n/* harmony import */ var _trackViewMetrics__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./trackViewMetrics */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/view/trackViewMetrics.js\");\n/* harmony import */ var _trackViewEventCounts__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./trackViewEventCounts */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/view/trackViewEventCounts.js\");\n\n\n\n\nvar THROTTLE_VIEW_UPDATE_PERIOD = 3000;\nvar SESSION_KEEP_ALIVE_INTERVAL = 5 * _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.ONE_MINUTE;\nfunction trackViews(location, lifeCycle, domMutationObservable, configuration, locationChangeObservable, areViewsTrackedAutomatically, initialViewOptions) {\n    var currentView = startNewView(\"initial_load\" /* ViewLoadingType.INITIAL_LOAD */, (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.clocksOrigin)(), initialViewOptions);\n    startViewLifeCycle();\n    var locationChangeSubscription;\n    if (areViewsTrackedAutomatically) {\n        locationChangeSubscription = renewViewOnLocationChange(locationChangeObservable);\n    }\n    function startNewView(loadingType, startClocks, viewOptions) {\n        return newView(lifeCycle, domMutationObservable, configuration, location, loadingType, startClocks, viewOptions);\n    }\n    function startViewLifeCycle() {\n        lifeCycle.subscribe(8 /* LifeCycleEventType.SESSION_RENEWED */, function () {\n            // Renew view on session renewal\n            currentView = startNewView(\"route_change\" /* ViewLoadingType.ROUTE_CHANGE */, undefined, {\n                name: currentView.name,\n                service: currentView.service,\n                version: currentView.version,\n            });\n        });\n        lifeCycle.subscribe(7 /* LifeCycleEventType.SESSION_EXPIRED */, function () {\n            currentView.end({ sessionIsActive: false });\n        });\n        // End the current view on page unload\n        lifeCycle.subscribe(9 /* LifeCycleEventType.PAGE_EXITED */, function (pageExitEvent) {\n            if (pageExitEvent.reason === _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.PageExitReason.UNLOADING || pageExitEvent.reason === _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.PageExitReason.PAGEHIDE) {\n                currentView.end();\n            }\n        });\n    }\n    function renewViewOnLocationChange(locationChangeObservable) {\n        return locationChangeObservable.subscribe(function (_a) {\n            var oldLocation = _a.oldLocation, newLocation = _a.newLocation;\n            if (areDifferentLocation(oldLocation, newLocation)) {\n                currentView.end();\n                currentView = startNewView(\"route_change\" /* ViewLoadingType.ROUTE_CHANGE */);\n            }\n        });\n    }\n    return {\n        addTiming: function (name, time) {\n            if (time === void 0) { time = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.timeStampNow)(); }\n            currentView.addTiming(name, time);\n        },\n        startView: function (options, startClocks) {\n            currentView.end({ endClocks: startClocks });\n            currentView = startNewView(\"route_change\" /* ViewLoadingType.ROUTE_CHANGE */, startClocks, options);\n        },\n        stop: function () {\n            locationChangeSubscription === null || locationChangeSubscription === void 0 ? void 0 : locationChangeSubscription.unsubscribe();\n            currentView.end();\n        },\n    };\n}\nfunction newView(lifeCycle, domMutationObservable, configuration, initialLocation, loadingType, startClocks, viewOptions) {\n    if (startClocks === void 0) { startClocks = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.clocksNow)(); }\n    // Setup initial values\n    var id = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.generateUUID)();\n    var customTimings = {};\n    var documentVersion = 0;\n    var endClocks;\n    var location = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__.shallowClone)(initialLocation);\n    var sessionIsActive = true;\n    var name;\n    var service;\n    var version;\n    if (viewOptions) {\n        name = viewOptions.name;\n        service = viewOptions.service;\n        version = viewOptions.version;\n    }\n    lifeCycle.notify(2 /* LifeCycleEventType.VIEW_CREATED */, {\n        id: id,\n        name: name,\n        startClocks: startClocks,\n        service: service,\n        version: version,\n    });\n    // Update the view every time the measures are changing\n    var _a = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.throttle)(triggerViewUpdate, THROTTLE_VIEW_UPDATE_PERIOD, {\n        leading: false,\n    }), scheduleViewUpdate = _a.throttled, cancelScheduleViewUpdate = _a.cancel;\n    var _b = (0,_trackViewMetrics__WEBPACK_IMPORTED_MODULE_1__.trackViewMetrics)(lifeCycle, domMutationObservable, configuration, scheduleViewUpdate, loadingType, startClocks), setLoadEvent = _b.setLoadEvent, stopViewMetricsTracking = _b.stop, viewMetrics = _b.viewMetrics;\n    var _c = loadingType === \"initial_load\" /* ViewLoadingType.INITIAL_LOAD */\n        ? (0,_trackInitialViewTimings__WEBPACK_IMPORTED_MODULE_0__.trackInitialViewTimings)(lifeCycle, setLoadEvent, scheduleViewUpdate)\n        : { scheduleStop: _datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.noop, timings: {} }, scheduleStopInitialViewTimingsTracking = _c.scheduleStop, timings = _c.timings;\n    var _d = (0,_trackViewEventCounts__WEBPACK_IMPORTED_MODULE_2__.trackViewEventCounts)(lifeCycle, id, scheduleViewUpdate), scheduleStopEventCountsTracking = _d.scheduleStop, eventCounts = _d.eventCounts;\n    // Session keep alive\n    var keepAliveIntervalId = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_8__.setInterval)(triggerViewUpdate, SESSION_KEEP_ALIVE_INTERVAL);\n    // Initial view update\n    triggerViewUpdate();\n    function triggerViewUpdate() {\n        cancelScheduleViewUpdate();\n        documentVersion += 1;\n        var currentEnd = endClocks === undefined ? (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.timeStampNow)() : endClocks.timeStamp;\n        lifeCycle.notify(3 /* LifeCycleEventType.VIEW_UPDATED */, (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__.assign)({\n            customTimings: customTimings,\n            documentVersion: documentVersion,\n            id: id,\n            name: name,\n            service: service,\n            version: version,\n            loadingType: loadingType,\n            location: location,\n            startClocks: startClocks,\n            timings: timings,\n            duration: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.elapsed)(startClocks.timeStamp, currentEnd),\n            isActive: endClocks === undefined,\n            sessionIsActive: sessionIsActive,\n            eventCounts: eventCounts,\n        }, viewMetrics));\n    }\n    return {\n        name: name,\n        service: service,\n        version: version,\n        end: function (options) {\n            var _a, _b;\n            if (options === void 0) { options = {}; }\n            if (endClocks) {\n                // view already ended\n                return;\n            }\n            endClocks = (_a = options.endClocks) !== null && _a !== void 0 ? _a : (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.clocksNow)();\n            sessionIsActive = (_b = options.sessionIsActive) !== null && _b !== void 0 ? _b : true;\n            lifeCycle.notify(4 /* LifeCycleEventType.VIEW_ENDED */, { endClocks: endClocks });\n            (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_8__.clearInterval)(keepAliveIntervalId);\n            stopViewMetricsTracking();\n            scheduleStopInitialViewTimingsTracking();\n            scheduleStopEventCountsTracking();\n            triggerViewUpdate();\n        },\n        addTiming: function (name, time) {\n            if (endClocks) {\n                return;\n            }\n            var relativeTime = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.looksLikeRelativeTime)(time) ? time : (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.elapsed)(startClocks.timeStamp, time);\n            customTimings[sanitizeTiming(name)] = relativeTime;\n            scheduleViewUpdate();\n        },\n    };\n}\n/**\n * Timing name is used as facet path that must contain only letters, digits, or the characters - _ . @ $\n */\nfunction sanitizeTiming(name) {\n    var sanitized = name.replace(/[^a-zA-Z0-9-_.@$]/g, '_');\n    if (sanitized !== name) {\n        _datadog_browser_core__WEBPACK_IMPORTED_MODULE_10__.display.warn(\"Invalid timing name: \".concat(name, \", sanitized to: \").concat(sanitized));\n    }\n    return sanitized;\n}\nfunction areDifferentLocation(currentLocation, otherLocation) {\n    return (currentLocation.pathname !== otherLocation.pathname ||\n        (!isHashAnAnchor(otherLocation.hash) &&\n            getPathFromHash(otherLocation.hash) !== getPathFromHash(currentLocation.hash)));\n}\nfunction isHashAnAnchor(hash) {\n    var correspondingId = hash.substr(1);\n    return !!document.getElementById(correspondingId);\n}\nfunction getPathFromHash(hash) {\n    var index = hash.indexOf('?');\n    return index < 0 ? hash : hash.slice(0, index);\n}\n//# sourceMappingURL=trackViews.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2RvbWFpbi9ydW1FdmVudHNDb2xsZWN0aW9uL3ZpZXcvdHJhY2tWaWV3cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFvTztBQUNoSztBQUNkO0FBQ1E7QUFDdkQ7QUFDQSxzQ0FBc0MsNkRBQVU7QUFDaEQ7QUFDUCxzRkFBc0YsbUVBQVk7QUFDbEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBLDhCQUE4Qix3QkFBd0I7QUFDdEQsU0FBUztBQUNUO0FBQ0E7QUFDQSx5Q0FBeUMsaUVBQWMsdUNBQXVDLGlFQUFjO0FBQzVHO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsT0FBTyxtRUFBWTtBQUN0RDtBQUNBLFNBQVM7QUFDVDtBQUNBLDhCQUE4Qix3QkFBd0I7QUFDdEQ7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxjQUFjLGdFQUFTO0FBQ3pEO0FBQ0EsYUFBYSxtRUFBWTtBQUN6QjtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsbUVBQVk7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsYUFBYSwrREFBUTtBQUNyQjtBQUNBLEtBQUs7QUFDTCxhQUFhLG1FQUFnQjtBQUM3QjtBQUNBLFVBQVUsaUZBQXVCO0FBQ2pDLFlBQVksY0FBYyx1REFBSSxlQUFlO0FBQzdDLGFBQWEsMkVBQW9CO0FBQ2pDO0FBQ0EsOEJBQThCLGtFQUFXO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtREFBbUQsbUVBQVk7QUFDL0Qsa0VBQWtFLDZEQUFNO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLDhEQUFPO0FBQzdCO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBLGtGQUFrRixnRUFBUztBQUMzRjtBQUNBLHNFQUFzRSxzQkFBc0I7QUFDNUYsWUFBWSxvRUFBYTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQiw0RUFBcUIsZ0JBQWdCLDhEQUFPO0FBQzNFO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsMkRBQU87QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFyY2FzdGVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLXJ1bS1jb3JlL2VzbS9kb21haW4vcnVtRXZlbnRzQ29sbGVjdGlvbi92aWV3L3RyYWNrVmlld3MuanM/NDk2NyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBub29wLCBQYWdlRXhpdFJlYXNvbiwgc2hhbGxvd0Nsb25lLCBhc3NpZ24sIGVsYXBzZWQsIGdlbmVyYXRlVVVJRCwgT05FX01JTlVURSwgdGhyb3R0bGUsIGNsb2Nrc05vdywgY2xvY2tzT3JpZ2luLCB0aW1lU3RhbXBOb3csIGRpc3BsYXksIGxvb2tzTGlrZVJlbGF0aXZlVGltZSwgc2V0SW50ZXJ2YWwsIGNsZWFySW50ZXJ2YWwsIH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJztcbmltcG9ydCB7IHRyYWNrSW5pdGlhbFZpZXdUaW1pbmdzIH0gZnJvbSAnLi90cmFja0luaXRpYWxWaWV3VGltaW5ncyc7XG5pbXBvcnQgeyB0cmFja1ZpZXdNZXRyaWNzIH0gZnJvbSAnLi90cmFja1ZpZXdNZXRyaWNzJztcbmltcG9ydCB7IHRyYWNrVmlld0V2ZW50Q291bnRzIH0gZnJvbSAnLi90cmFja1ZpZXdFdmVudENvdW50cyc7XG5leHBvcnQgdmFyIFRIUk9UVExFX1ZJRVdfVVBEQVRFX1BFUklPRCA9IDMwMDA7XG5leHBvcnQgdmFyIFNFU1NJT05fS0VFUF9BTElWRV9JTlRFUlZBTCA9IDUgKiBPTkVfTUlOVVRFO1xuZXhwb3J0IGZ1bmN0aW9uIHRyYWNrVmlld3MobG9jYXRpb24sIGxpZmVDeWNsZSwgZG9tTXV0YXRpb25PYnNlcnZhYmxlLCBjb25maWd1cmF0aW9uLCBsb2NhdGlvbkNoYW5nZU9ic2VydmFibGUsIGFyZVZpZXdzVHJhY2tlZEF1dG9tYXRpY2FsbHksIGluaXRpYWxWaWV3T3B0aW9ucykge1xuICAgIHZhciBjdXJyZW50VmlldyA9IHN0YXJ0TmV3VmlldyhcImluaXRpYWxfbG9hZFwiIC8qIFZpZXdMb2FkaW5nVHlwZS5JTklUSUFMX0xPQUQgKi8sIGNsb2Nrc09yaWdpbigpLCBpbml0aWFsVmlld09wdGlvbnMpO1xuICAgIHN0YXJ0Vmlld0xpZmVDeWNsZSgpO1xuICAgIHZhciBsb2NhdGlvbkNoYW5nZVN1YnNjcmlwdGlvbjtcbiAgICBpZiAoYXJlVmlld3NUcmFja2VkQXV0b21hdGljYWxseSkge1xuICAgICAgICBsb2NhdGlvbkNoYW5nZVN1YnNjcmlwdGlvbiA9IHJlbmV3Vmlld09uTG9jYXRpb25DaGFuZ2UobG9jYXRpb25DaGFuZ2VPYnNlcnZhYmxlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc3RhcnROZXdWaWV3KGxvYWRpbmdUeXBlLCBzdGFydENsb2Nrcywgdmlld09wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIG5ld1ZpZXcobGlmZUN5Y2xlLCBkb21NdXRhdGlvbk9ic2VydmFibGUsIGNvbmZpZ3VyYXRpb24sIGxvY2F0aW9uLCBsb2FkaW5nVHlwZSwgc3RhcnRDbG9ja3MsIHZpZXdPcHRpb25zKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc3RhcnRWaWV3TGlmZUN5Y2xlKCkge1xuICAgICAgICBsaWZlQ3ljbGUuc3Vic2NyaWJlKDggLyogTGlmZUN5Y2xlRXZlbnRUeXBlLlNFU1NJT05fUkVORVdFRCAqLywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gUmVuZXcgdmlldyBvbiBzZXNzaW9uIHJlbmV3YWxcbiAgICAgICAgICAgIGN1cnJlbnRWaWV3ID0gc3RhcnROZXdWaWV3KFwicm91dGVfY2hhbmdlXCIgLyogVmlld0xvYWRpbmdUeXBlLlJPVVRFX0NIQU5HRSAqLywgdW5kZWZpbmVkLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogY3VycmVudFZpZXcubmFtZSxcbiAgICAgICAgICAgICAgICBzZXJ2aWNlOiBjdXJyZW50Vmlldy5zZXJ2aWNlLFxuICAgICAgICAgICAgICAgIHZlcnNpb246IGN1cnJlbnRWaWV3LnZlcnNpb24sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGxpZmVDeWNsZS5zdWJzY3JpYmUoNyAvKiBMaWZlQ3ljbGVFdmVudFR5cGUuU0VTU0lPTl9FWFBJUkVEICovLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjdXJyZW50Vmlldy5lbmQoeyBzZXNzaW9uSXNBY3RpdmU6IGZhbHNlIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gRW5kIHRoZSBjdXJyZW50IHZpZXcgb24gcGFnZSB1bmxvYWRcbiAgICAgICAgbGlmZUN5Y2xlLnN1YnNjcmliZSg5IC8qIExpZmVDeWNsZUV2ZW50VHlwZS5QQUdFX0VYSVRFRCAqLywgZnVuY3Rpb24gKHBhZ2VFeGl0RXZlbnQpIHtcbiAgICAgICAgICAgIGlmIChwYWdlRXhpdEV2ZW50LnJlYXNvbiA9PT0gUGFnZUV4aXRSZWFzb24uVU5MT0FESU5HIHx8IHBhZ2VFeGl0RXZlbnQucmVhc29uID09PSBQYWdlRXhpdFJlYXNvbi5QQUdFSElERSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRWaWV3LmVuZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVuZXdWaWV3T25Mb2NhdGlvbkNoYW5nZShsb2NhdGlvbkNoYW5nZU9ic2VydmFibGUpIHtcbiAgICAgICAgcmV0dXJuIGxvY2F0aW9uQ2hhbmdlT2JzZXJ2YWJsZS5zdWJzY3JpYmUoZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICB2YXIgb2xkTG9jYXRpb24gPSBfYS5vbGRMb2NhdGlvbiwgbmV3TG9jYXRpb24gPSBfYS5uZXdMb2NhdGlvbjtcbiAgICAgICAgICAgIGlmIChhcmVEaWZmZXJlbnRMb2NhdGlvbihvbGRMb2NhdGlvbiwgbmV3TG9jYXRpb24pKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFZpZXcuZW5kKCk7XG4gICAgICAgICAgICAgICAgY3VycmVudFZpZXcgPSBzdGFydE5ld1ZpZXcoXCJyb3V0ZV9jaGFuZ2VcIiAvKiBWaWV3TG9hZGluZ1R5cGUuUk9VVEVfQ0hBTkdFICovKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGFkZFRpbWluZzogZnVuY3Rpb24gKG5hbWUsIHRpbWUpIHtcbiAgICAgICAgICAgIGlmICh0aW1lID09PSB2b2lkIDApIHsgdGltZSA9IHRpbWVTdGFtcE5vdygpOyB9XG4gICAgICAgICAgICBjdXJyZW50Vmlldy5hZGRUaW1pbmcobmFtZSwgdGltZSk7XG4gICAgICAgIH0sXG4gICAgICAgIHN0YXJ0VmlldzogZnVuY3Rpb24gKG9wdGlvbnMsIHN0YXJ0Q2xvY2tzKSB7XG4gICAgICAgICAgICBjdXJyZW50Vmlldy5lbmQoeyBlbmRDbG9ja3M6IHN0YXJ0Q2xvY2tzIH0pO1xuICAgICAgICAgICAgY3VycmVudFZpZXcgPSBzdGFydE5ld1ZpZXcoXCJyb3V0ZV9jaGFuZ2VcIiAvKiBWaWV3TG9hZGluZ1R5cGUuUk9VVEVfQ0hBTkdFICovLCBzdGFydENsb2Nrcywgb3B0aW9ucyk7XG4gICAgICAgIH0sXG4gICAgICAgIHN0b3A6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGxvY2F0aW9uQ2hhbmdlU3Vic2NyaXB0aW9uID09PSBudWxsIHx8IGxvY2F0aW9uQ2hhbmdlU3Vic2NyaXB0aW9uID09PSB2b2lkIDAgPyB2b2lkIDAgOiBsb2NhdGlvbkNoYW5nZVN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgY3VycmVudFZpZXcuZW5kKCk7XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbmZ1bmN0aW9uIG5ld1ZpZXcobGlmZUN5Y2xlLCBkb21NdXRhdGlvbk9ic2VydmFibGUsIGNvbmZpZ3VyYXRpb24sIGluaXRpYWxMb2NhdGlvbiwgbG9hZGluZ1R5cGUsIHN0YXJ0Q2xvY2tzLCB2aWV3T3B0aW9ucykge1xuICAgIGlmIChzdGFydENsb2NrcyA9PT0gdm9pZCAwKSB7IHN0YXJ0Q2xvY2tzID0gY2xvY2tzTm93KCk7IH1cbiAgICAvLyBTZXR1cCBpbml0aWFsIHZhbHVlc1xuICAgIHZhciBpZCA9IGdlbmVyYXRlVVVJRCgpO1xuICAgIHZhciBjdXN0b21UaW1pbmdzID0ge307XG4gICAgdmFyIGRvY3VtZW50VmVyc2lvbiA9IDA7XG4gICAgdmFyIGVuZENsb2NrcztcbiAgICB2YXIgbG9jYXRpb24gPSBzaGFsbG93Q2xvbmUoaW5pdGlhbExvY2F0aW9uKTtcbiAgICB2YXIgc2Vzc2lvbklzQWN0aXZlID0gdHJ1ZTtcbiAgICB2YXIgbmFtZTtcbiAgICB2YXIgc2VydmljZTtcbiAgICB2YXIgdmVyc2lvbjtcbiAgICBpZiAodmlld09wdGlvbnMpIHtcbiAgICAgICAgbmFtZSA9IHZpZXdPcHRpb25zLm5hbWU7XG4gICAgICAgIHNlcnZpY2UgPSB2aWV3T3B0aW9ucy5zZXJ2aWNlO1xuICAgICAgICB2ZXJzaW9uID0gdmlld09wdGlvbnMudmVyc2lvbjtcbiAgICB9XG4gICAgbGlmZUN5Y2xlLm5vdGlmeSgyIC8qIExpZmVDeWNsZUV2ZW50VHlwZS5WSUVXX0NSRUFURUQgKi8sIHtcbiAgICAgICAgaWQ6IGlkLFxuICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICBzdGFydENsb2Nrczogc3RhcnRDbG9ja3MsXG4gICAgICAgIHNlcnZpY2U6IHNlcnZpY2UsXG4gICAgICAgIHZlcnNpb246IHZlcnNpb24sXG4gICAgfSk7XG4gICAgLy8gVXBkYXRlIHRoZSB2aWV3IGV2ZXJ5IHRpbWUgdGhlIG1lYXN1cmVzIGFyZSBjaGFuZ2luZ1xuICAgIHZhciBfYSA9IHRocm90dGxlKHRyaWdnZXJWaWV3VXBkYXRlLCBUSFJPVFRMRV9WSUVXX1VQREFURV9QRVJJT0QsIHtcbiAgICAgICAgbGVhZGluZzogZmFsc2UsXG4gICAgfSksIHNjaGVkdWxlVmlld1VwZGF0ZSA9IF9hLnRocm90dGxlZCwgY2FuY2VsU2NoZWR1bGVWaWV3VXBkYXRlID0gX2EuY2FuY2VsO1xuICAgIHZhciBfYiA9IHRyYWNrVmlld01ldHJpY3MobGlmZUN5Y2xlLCBkb21NdXRhdGlvbk9ic2VydmFibGUsIGNvbmZpZ3VyYXRpb24sIHNjaGVkdWxlVmlld1VwZGF0ZSwgbG9hZGluZ1R5cGUsIHN0YXJ0Q2xvY2tzKSwgc2V0TG9hZEV2ZW50ID0gX2Iuc2V0TG9hZEV2ZW50LCBzdG9wVmlld01ldHJpY3NUcmFja2luZyA9IF9iLnN0b3AsIHZpZXdNZXRyaWNzID0gX2Iudmlld01ldHJpY3M7XG4gICAgdmFyIF9jID0gbG9hZGluZ1R5cGUgPT09IFwiaW5pdGlhbF9sb2FkXCIgLyogVmlld0xvYWRpbmdUeXBlLklOSVRJQUxfTE9BRCAqL1xuICAgICAgICA/IHRyYWNrSW5pdGlhbFZpZXdUaW1pbmdzKGxpZmVDeWNsZSwgc2V0TG9hZEV2ZW50LCBzY2hlZHVsZVZpZXdVcGRhdGUpXG4gICAgICAgIDogeyBzY2hlZHVsZVN0b3A6IG5vb3AsIHRpbWluZ3M6IHt9IH0sIHNjaGVkdWxlU3RvcEluaXRpYWxWaWV3VGltaW5nc1RyYWNraW5nID0gX2Muc2NoZWR1bGVTdG9wLCB0aW1pbmdzID0gX2MudGltaW5ncztcbiAgICB2YXIgX2QgPSB0cmFja1ZpZXdFdmVudENvdW50cyhsaWZlQ3ljbGUsIGlkLCBzY2hlZHVsZVZpZXdVcGRhdGUpLCBzY2hlZHVsZVN0b3BFdmVudENvdW50c1RyYWNraW5nID0gX2Quc2NoZWR1bGVTdG9wLCBldmVudENvdW50cyA9IF9kLmV2ZW50Q291bnRzO1xuICAgIC8vIFNlc3Npb24ga2VlcCBhbGl2ZVxuICAgIHZhciBrZWVwQWxpdmVJbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwodHJpZ2dlclZpZXdVcGRhdGUsIFNFU1NJT05fS0VFUF9BTElWRV9JTlRFUlZBTCk7XG4gICAgLy8gSW5pdGlhbCB2aWV3IHVwZGF0ZVxuICAgIHRyaWdnZXJWaWV3VXBkYXRlKCk7XG4gICAgZnVuY3Rpb24gdHJpZ2dlclZpZXdVcGRhdGUoKSB7XG4gICAgICAgIGNhbmNlbFNjaGVkdWxlVmlld1VwZGF0ZSgpO1xuICAgICAgICBkb2N1bWVudFZlcnNpb24gKz0gMTtcbiAgICAgICAgdmFyIGN1cnJlbnRFbmQgPSBlbmRDbG9ja3MgPT09IHVuZGVmaW5lZCA/IHRpbWVTdGFtcE5vdygpIDogZW5kQ2xvY2tzLnRpbWVTdGFtcDtcbiAgICAgICAgbGlmZUN5Y2xlLm5vdGlmeSgzIC8qIExpZmVDeWNsZUV2ZW50VHlwZS5WSUVXX1VQREFURUQgKi8sIGFzc2lnbih7XG4gICAgICAgICAgICBjdXN0b21UaW1pbmdzOiBjdXN0b21UaW1pbmdzLFxuICAgICAgICAgICAgZG9jdW1lbnRWZXJzaW9uOiBkb2N1bWVudFZlcnNpb24sXG4gICAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgICAgc2VydmljZTogc2VydmljZSxcbiAgICAgICAgICAgIHZlcnNpb246IHZlcnNpb24sXG4gICAgICAgICAgICBsb2FkaW5nVHlwZTogbG9hZGluZ1R5cGUsXG4gICAgICAgICAgICBsb2NhdGlvbjogbG9jYXRpb24sXG4gICAgICAgICAgICBzdGFydENsb2Nrczogc3RhcnRDbG9ja3MsXG4gICAgICAgICAgICB0aW1pbmdzOiB0aW1pbmdzLFxuICAgICAgICAgICAgZHVyYXRpb246IGVsYXBzZWQoc3RhcnRDbG9ja3MudGltZVN0YW1wLCBjdXJyZW50RW5kKSxcbiAgICAgICAgICAgIGlzQWN0aXZlOiBlbmRDbG9ja3MgPT09IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHNlc3Npb25Jc0FjdGl2ZTogc2Vzc2lvbklzQWN0aXZlLFxuICAgICAgICAgICAgZXZlbnRDb3VudHM6IGV2ZW50Q291bnRzLFxuICAgICAgICB9LCB2aWV3TWV0cmljcykpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICBzZXJ2aWNlOiBzZXJ2aWNlLFxuICAgICAgICB2ZXJzaW9uOiB2ZXJzaW9uLFxuICAgICAgICBlbmQ6IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICAgICAgICAgIGlmIChlbmRDbG9ja3MpIHtcbiAgICAgICAgICAgICAgICAvLyB2aWV3IGFscmVhZHkgZW5kZWRcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbmRDbG9ja3MgPSAoX2EgPSBvcHRpb25zLmVuZENsb2NrcykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogY2xvY2tzTm93KCk7XG4gICAgICAgICAgICBzZXNzaW9uSXNBY3RpdmUgPSAoX2IgPSBvcHRpb25zLnNlc3Npb25Jc0FjdGl2ZSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogdHJ1ZTtcbiAgICAgICAgICAgIGxpZmVDeWNsZS5ub3RpZnkoNCAvKiBMaWZlQ3ljbGVFdmVudFR5cGUuVklFV19FTkRFRCAqLywgeyBlbmRDbG9ja3M6IGVuZENsb2NrcyB9KTtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoa2VlcEFsaXZlSW50ZXJ2YWxJZCk7XG4gICAgICAgICAgICBzdG9wVmlld01ldHJpY3NUcmFja2luZygpO1xuICAgICAgICAgICAgc2NoZWR1bGVTdG9wSW5pdGlhbFZpZXdUaW1pbmdzVHJhY2tpbmcoKTtcbiAgICAgICAgICAgIHNjaGVkdWxlU3RvcEV2ZW50Q291bnRzVHJhY2tpbmcoKTtcbiAgICAgICAgICAgIHRyaWdnZXJWaWV3VXBkYXRlKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGFkZFRpbWluZzogZnVuY3Rpb24gKG5hbWUsIHRpbWUpIHtcbiAgICAgICAgICAgIGlmIChlbmRDbG9ja3MpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcmVsYXRpdmVUaW1lID0gbG9va3NMaWtlUmVsYXRpdmVUaW1lKHRpbWUpID8gdGltZSA6IGVsYXBzZWQoc3RhcnRDbG9ja3MudGltZVN0YW1wLCB0aW1lKTtcbiAgICAgICAgICAgIGN1c3RvbVRpbWluZ3Nbc2FuaXRpemVUaW1pbmcobmFtZSldID0gcmVsYXRpdmVUaW1lO1xuICAgICAgICAgICAgc2NoZWR1bGVWaWV3VXBkYXRlKCk7XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbi8qKlxuICogVGltaW5nIG5hbWUgaXMgdXNlZCBhcyBmYWNldCBwYXRoIHRoYXQgbXVzdCBjb250YWluIG9ubHkgbGV0dGVycywgZGlnaXRzLCBvciB0aGUgY2hhcmFjdGVycyAtIF8gLiBAICRcbiAqL1xuZnVuY3Rpb24gc2FuaXRpemVUaW1pbmcobmFtZSkge1xuICAgIHZhciBzYW5pdGl6ZWQgPSBuYW1lLnJlcGxhY2UoL1teYS16QS1aMC05LV8uQCRdL2csICdfJyk7XG4gICAgaWYgKHNhbml0aXplZCAhPT0gbmFtZSkge1xuICAgICAgICBkaXNwbGF5Lndhcm4oXCJJbnZhbGlkIHRpbWluZyBuYW1lOiBcIi5jb25jYXQobmFtZSwgXCIsIHNhbml0aXplZCB0bzogXCIpLmNvbmNhdChzYW5pdGl6ZWQpKTtcbiAgICB9XG4gICAgcmV0dXJuIHNhbml0aXplZDtcbn1cbmZ1bmN0aW9uIGFyZURpZmZlcmVudExvY2F0aW9uKGN1cnJlbnRMb2NhdGlvbiwgb3RoZXJMb2NhdGlvbikge1xuICAgIHJldHVybiAoY3VycmVudExvY2F0aW9uLnBhdGhuYW1lICE9PSBvdGhlckxvY2F0aW9uLnBhdGhuYW1lIHx8XG4gICAgICAgICghaXNIYXNoQW5BbmNob3Iob3RoZXJMb2NhdGlvbi5oYXNoKSAmJlxuICAgICAgICAgICAgZ2V0UGF0aEZyb21IYXNoKG90aGVyTG9jYXRpb24uaGFzaCkgIT09IGdldFBhdGhGcm9tSGFzaChjdXJyZW50TG9jYXRpb24uaGFzaCkpKTtcbn1cbmZ1bmN0aW9uIGlzSGFzaEFuQW5jaG9yKGhhc2gpIHtcbiAgICB2YXIgY29ycmVzcG9uZGluZ0lkID0gaGFzaC5zdWJzdHIoMSk7XG4gICAgcmV0dXJuICEhZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY29ycmVzcG9uZGluZ0lkKTtcbn1cbmZ1bmN0aW9uIGdldFBhdGhGcm9tSGFzaChoYXNoKSB7XG4gICAgdmFyIGluZGV4ID0gaGFzaC5pbmRleE9mKCc/Jyk7XG4gICAgcmV0dXJuIGluZGV4IDwgMCA/IGhhc2ggOiBoYXNoLnNsaWNlKDAsIGluZGV4KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRyYWNrVmlld3MuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/view/trackViews.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/view/viewCollection.js":
/*!**********************************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/view/viewCollection.js ***!
  \**********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   startViewCollection: () => (/* binding */ startViewCollection)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/objectUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/numberUtils.js\");\n/* harmony import */ var _trackViews__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./trackViews */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/view/trackViews.js\");\n\n\nfunction startViewCollection(lifeCycle, configuration, location, domMutationObservable, locationChangeObservable, foregroundContexts, featureFlagContexts, recorderApi, initialViewOptions) {\n    lifeCycle.subscribe(3 /* LifeCycleEventType.VIEW_UPDATED */, function (view) {\n        return lifeCycle.notify(10 /* LifeCycleEventType.RAW_RUM_EVENT_COLLECTED */, processViewUpdate(view, foregroundContexts, featureFlagContexts, recorderApi));\n    });\n    return (0,_trackViews__WEBPACK_IMPORTED_MODULE_0__.trackViews)(location, lifeCycle, domMutationObservable, configuration, locationChangeObservable, !configuration.trackViewsManually, initialViewOptions);\n}\nfunction processViewUpdate(view, foregroundContexts, featureFlagContexts, recorderApi) {\n    var replayStats = recorderApi.getReplayStats(view.id);\n    var featureFlagContext = featureFlagContexts.findFeatureFlagEvaluations(view.startClocks.relative);\n    var viewEvent = {\n        _dd: {\n            document_version: view.documentVersion,\n            replay_stats: replayStats,\n        },\n        date: view.startClocks.timeStamp,\n        type: \"view\" /* RumEventType.VIEW */,\n        view: {\n            action: {\n                count: view.eventCounts.actionCount,\n            },\n            frustration: {\n                count: view.eventCounts.frustrationCount,\n            },\n            cumulative_layout_shift: view.cumulativeLayoutShift,\n            first_byte: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.toServerDuration)(view.timings.firstByte),\n            dom_complete: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.toServerDuration)(view.timings.domComplete),\n            dom_content_loaded: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.toServerDuration)(view.timings.domContentLoaded),\n            dom_interactive: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.toServerDuration)(view.timings.domInteractive),\n            error: {\n                count: view.eventCounts.errorCount,\n            },\n            first_contentful_paint: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.toServerDuration)(view.timings.firstContentfulPaint),\n            first_input_delay: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.toServerDuration)(view.timings.firstInputDelay),\n            first_input_time: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.toServerDuration)(view.timings.firstInputTime),\n            is_active: view.isActive,\n            name: view.name,\n            largest_contentful_paint: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.toServerDuration)(view.timings.largestContentfulPaint),\n            load_event: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.toServerDuration)(view.timings.loadEvent),\n            loading_time: discardNegativeDuration((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.toServerDuration)(view.loadingTime)),\n            loading_type: view.loadingType,\n            long_task: {\n                count: view.eventCounts.longTaskCount,\n            },\n            resource: {\n                count: view.eventCounts.resourceCount,\n            },\n            time_spent: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.toServerDuration)(view.duration),\n            in_foreground_periods: foregroundContexts.selectInForegroundPeriodsFor(view.startClocks.relative, view.duration),\n        },\n        feature_flags: featureFlagContext && !(0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.isEmptyObject)(featureFlagContext) ? featureFlagContext : undefined,\n        session: {\n            has_replay: replayStats ? true : undefined,\n            is_active: view.sessionIsActive ? undefined : false,\n        },\n    };\n    if (!(0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.isEmptyObject)(view.customTimings)) {\n        viewEvent.view.custom_timings = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.mapValues)(view.customTimings, _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.toServerDuration);\n    }\n    return {\n        rawRumEvent: viewEvent,\n        startTime: view.startClocks.relative,\n        domainContext: {\n            location: view.location,\n        },\n    };\n}\nfunction discardNegativeDuration(duration) {\n    return (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.isNumber)(duration) && duration < 0 ? undefined : duration;\n}\n//# sourceMappingURL=viewCollection.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2RvbWFpbi9ydW1FdmVudHNDb2xsZWN0aW9uL3ZpZXcvdmlld0NvbGxlY3Rpb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBNkY7QUFDbkQ7QUFDbkM7QUFDUDtBQUNBO0FBQ0EsS0FBSztBQUNMLFdBQVcsdURBQVU7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSx3QkFBd0IsdUVBQWdCO0FBQ3hDLDBCQUEwQix1RUFBZ0I7QUFDMUMsZ0NBQWdDLHVFQUFnQjtBQUNoRCw2QkFBNkIsdUVBQWdCO0FBQzdDO0FBQ0E7QUFDQSxhQUFhO0FBQ2Isb0NBQW9DLHVFQUFnQjtBQUNwRCwrQkFBK0IsdUVBQWdCO0FBQy9DLDhCQUE4Qix1RUFBZ0I7QUFDOUM7QUFDQTtBQUNBLHNDQUFzQyx1RUFBZ0I7QUFDdEQsd0JBQXdCLHVFQUFnQjtBQUN4QyxrREFBa0QsdUVBQWdCO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiLHdCQUF3Qix1RUFBZ0I7QUFDeEM7QUFDQSxTQUFTO0FBQ1QsOENBQThDLG9FQUFhO0FBQzNEO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVMsb0VBQWE7QUFDdEIsd0NBQXdDLGdFQUFTLHFCQUFxQixtRUFBZ0I7QUFDdEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFdBQVcsK0RBQVE7QUFDbkI7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhcmNhc3Rlci8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vZG9tYWluL3J1bUV2ZW50c0NvbGxlY3Rpb24vdmlldy92aWV3Q29sbGVjdGlvbi5qcz8xMDNmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzRW1wdHlPYmplY3QsIG1hcFZhbHVlcywgdG9TZXJ2ZXJEdXJhdGlvbiwgaXNOdW1iZXIgfSBmcm9tICdAZGF0YWRvZy9icm93c2VyLWNvcmUnO1xuaW1wb3J0IHsgdHJhY2tWaWV3cyB9IGZyb20gJy4vdHJhY2tWaWV3cyc7XG5leHBvcnQgZnVuY3Rpb24gc3RhcnRWaWV3Q29sbGVjdGlvbihsaWZlQ3ljbGUsIGNvbmZpZ3VyYXRpb24sIGxvY2F0aW9uLCBkb21NdXRhdGlvbk9ic2VydmFibGUsIGxvY2F0aW9uQ2hhbmdlT2JzZXJ2YWJsZSwgZm9yZWdyb3VuZENvbnRleHRzLCBmZWF0dXJlRmxhZ0NvbnRleHRzLCByZWNvcmRlckFwaSwgaW5pdGlhbFZpZXdPcHRpb25zKSB7XG4gICAgbGlmZUN5Y2xlLnN1YnNjcmliZSgzIC8qIExpZmVDeWNsZUV2ZW50VHlwZS5WSUVXX1VQREFURUQgKi8sIGZ1bmN0aW9uICh2aWV3KSB7XG4gICAgICAgIHJldHVybiBsaWZlQ3ljbGUubm90aWZ5KDEwIC8qIExpZmVDeWNsZUV2ZW50VHlwZS5SQVdfUlVNX0VWRU5UX0NPTExFQ1RFRCAqLywgcHJvY2Vzc1ZpZXdVcGRhdGUodmlldywgZm9yZWdyb3VuZENvbnRleHRzLCBmZWF0dXJlRmxhZ0NvbnRleHRzLCByZWNvcmRlckFwaSkpO1xuICAgIH0pO1xuICAgIHJldHVybiB0cmFja1ZpZXdzKGxvY2F0aW9uLCBsaWZlQ3ljbGUsIGRvbU11dGF0aW9uT2JzZXJ2YWJsZSwgY29uZmlndXJhdGlvbiwgbG9jYXRpb25DaGFuZ2VPYnNlcnZhYmxlLCAhY29uZmlndXJhdGlvbi50cmFja1ZpZXdzTWFudWFsbHksIGluaXRpYWxWaWV3T3B0aW9ucyk7XG59XG5mdW5jdGlvbiBwcm9jZXNzVmlld1VwZGF0ZSh2aWV3LCBmb3JlZ3JvdW5kQ29udGV4dHMsIGZlYXR1cmVGbGFnQ29udGV4dHMsIHJlY29yZGVyQXBpKSB7XG4gICAgdmFyIHJlcGxheVN0YXRzID0gcmVjb3JkZXJBcGkuZ2V0UmVwbGF5U3RhdHModmlldy5pZCk7XG4gICAgdmFyIGZlYXR1cmVGbGFnQ29udGV4dCA9IGZlYXR1cmVGbGFnQ29udGV4dHMuZmluZEZlYXR1cmVGbGFnRXZhbHVhdGlvbnModmlldy5zdGFydENsb2Nrcy5yZWxhdGl2ZSk7XG4gICAgdmFyIHZpZXdFdmVudCA9IHtcbiAgICAgICAgX2RkOiB7XG4gICAgICAgICAgICBkb2N1bWVudF92ZXJzaW9uOiB2aWV3LmRvY3VtZW50VmVyc2lvbixcbiAgICAgICAgICAgIHJlcGxheV9zdGF0czogcmVwbGF5U3RhdHMsXG4gICAgICAgIH0sXG4gICAgICAgIGRhdGU6IHZpZXcuc3RhcnRDbG9ja3MudGltZVN0YW1wLFxuICAgICAgICB0eXBlOiBcInZpZXdcIiAvKiBSdW1FdmVudFR5cGUuVklFVyAqLyxcbiAgICAgICAgdmlldzoge1xuICAgICAgICAgICAgYWN0aW9uOiB7XG4gICAgICAgICAgICAgICAgY291bnQ6IHZpZXcuZXZlbnRDb3VudHMuYWN0aW9uQ291bnQsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZnJ1c3RyYXRpb246IHtcbiAgICAgICAgICAgICAgICBjb3VudDogdmlldy5ldmVudENvdW50cy5mcnVzdHJhdGlvbkNvdW50LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGN1bXVsYXRpdmVfbGF5b3V0X3NoaWZ0OiB2aWV3LmN1bXVsYXRpdmVMYXlvdXRTaGlmdCxcbiAgICAgICAgICAgIGZpcnN0X2J5dGU6IHRvU2VydmVyRHVyYXRpb24odmlldy50aW1pbmdzLmZpcnN0Qnl0ZSksXG4gICAgICAgICAgICBkb21fY29tcGxldGU6IHRvU2VydmVyRHVyYXRpb24odmlldy50aW1pbmdzLmRvbUNvbXBsZXRlKSxcbiAgICAgICAgICAgIGRvbV9jb250ZW50X2xvYWRlZDogdG9TZXJ2ZXJEdXJhdGlvbih2aWV3LnRpbWluZ3MuZG9tQ29udGVudExvYWRlZCksXG4gICAgICAgICAgICBkb21faW50ZXJhY3RpdmU6IHRvU2VydmVyRHVyYXRpb24odmlldy50aW1pbmdzLmRvbUludGVyYWN0aXZlKSxcbiAgICAgICAgICAgIGVycm9yOiB7XG4gICAgICAgICAgICAgICAgY291bnQ6IHZpZXcuZXZlbnRDb3VudHMuZXJyb3JDb3VudCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmaXJzdF9jb250ZW50ZnVsX3BhaW50OiB0b1NlcnZlckR1cmF0aW9uKHZpZXcudGltaW5ncy5maXJzdENvbnRlbnRmdWxQYWludCksXG4gICAgICAgICAgICBmaXJzdF9pbnB1dF9kZWxheTogdG9TZXJ2ZXJEdXJhdGlvbih2aWV3LnRpbWluZ3MuZmlyc3RJbnB1dERlbGF5KSxcbiAgICAgICAgICAgIGZpcnN0X2lucHV0X3RpbWU6IHRvU2VydmVyRHVyYXRpb24odmlldy50aW1pbmdzLmZpcnN0SW5wdXRUaW1lKSxcbiAgICAgICAgICAgIGlzX2FjdGl2ZTogdmlldy5pc0FjdGl2ZSxcbiAgICAgICAgICAgIG5hbWU6IHZpZXcubmFtZSxcbiAgICAgICAgICAgIGxhcmdlc3RfY29udGVudGZ1bF9wYWludDogdG9TZXJ2ZXJEdXJhdGlvbih2aWV3LnRpbWluZ3MubGFyZ2VzdENvbnRlbnRmdWxQYWludCksXG4gICAgICAgICAgICBsb2FkX2V2ZW50OiB0b1NlcnZlckR1cmF0aW9uKHZpZXcudGltaW5ncy5sb2FkRXZlbnQpLFxuICAgICAgICAgICAgbG9hZGluZ190aW1lOiBkaXNjYXJkTmVnYXRpdmVEdXJhdGlvbih0b1NlcnZlckR1cmF0aW9uKHZpZXcubG9hZGluZ1RpbWUpKSxcbiAgICAgICAgICAgIGxvYWRpbmdfdHlwZTogdmlldy5sb2FkaW5nVHlwZSxcbiAgICAgICAgICAgIGxvbmdfdGFzazoge1xuICAgICAgICAgICAgICAgIGNvdW50OiB2aWV3LmV2ZW50Q291bnRzLmxvbmdUYXNrQ291bnQsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVzb3VyY2U6IHtcbiAgICAgICAgICAgICAgICBjb3VudDogdmlldy5ldmVudENvdW50cy5yZXNvdXJjZUNvdW50LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRpbWVfc3BlbnQ6IHRvU2VydmVyRHVyYXRpb24odmlldy5kdXJhdGlvbiksXG4gICAgICAgICAgICBpbl9mb3JlZ3JvdW5kX3BlcmlvZHM6IGZvcmVncm91bmRDb250ZXh0cy5zZWxlY3RJbkZvcmVncm91bmRQZXJpb2RzRm9yKHZpZXcuc3RhcnRDbG9ja3MucmVsYXRpdmUsIHZpZXcuZHVyYXRpb24pLFxuICAgICAgICB9LFxuICAgICAgICBmZWF0dXJlX2ZsYWdzOiBmZWF0dXJlRmxhZ0NvbnRleHQgJiYgIWlzRW1wdHlPYmplY3QoZmVhdHVyZUZsYWdDb250ZXh0KSA/IGZlYXR1cmVGbGFnQ29udGV4dCA6IHVuZGVmaW5lZCxcbiAgICAgICAgc2Vzc2lvbjoge1xuICAgICAgICAgICAgaGFzX3JlcGxheTogcmVwbGF5U3RhdHMgPyB0cnVlIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgaXNfYWN0aXZlOiB2aWV3LnNlc3Npb25Jc0FjdGl2ZSA/IHVuZGVmaW5lZCA6IGZhbHNlLFxuICAgICAgICB9LFxuICAgIH07XG4gICAgaWYgKCFpc0VtcHR5T2JqZWN0KHZpZXcuY3VzdG9tVGltaW5ncykpIHtcbiAgICAgICAgdmlld0V2ZW50LnZpZXcuY3VzdG9tX3RpbWluZ3MgPSBtYXBWYWx1ZXModmlldy5jdXN0b21UaW1pbmdzLCB0b1NlcnZlckR1cmF0aW9uKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmF3UnVtRXZlbnQ6IHZpZXdFdmVudCxcbiAgICAgICAgc3RhcnRUaW1lOiB2aWV3LnN0YXJ0Q2xvY2tzLnJlbGF0aXZlLFxuICAgICAgICBkb21haW5Db250ZXh0OiB7XG4gICAgICAgICAgICBsb2NhdGlvbjogdmlldy5sb2NhdGlvbixcbiAgICAgICAgfSxcbiAgICB9O1xufVxuZnVuY3Rpb24gZGlzY2FyZE5lZ2F0aXZlRHVyYXRpb24oZHVyYXRpb24pIHtcbiAgICByZXR1cm4gaXNOdW1iZXIoZHVyYXRpb24pICYmIGR1cmF0aW9uIDwgMCA/IHVuZGVmaW5lZCA6IGR1cmF0aW9uO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmlld0NvbGxlY3Rpb24uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/view/viewCollection.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/rumSessionManager.js":
/*!************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum-core/esm/domain/rumSessionManager.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RUM_SESSION_KEY: () => (/* binding */ RUM_SESSION_KEY),\n/* harmony export */   startRumSessionManager: () => (/* binding */ startRumSessionManager),\n/* harmony export */   startRumSessionManagerStub: () => (/* binding */ startRumSessionManagerStub)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/session/sessionManager.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/functionUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/observable.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/numberUtils.js\");\n\nvar RUM_SESSION_KEY = 'rum';\nfunction startRumSessionManager(configuration, lifeCycle) {\n    var sessionManager = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.startSessionManager)(configuration.cookieOptions, RUM_SESSION_KEY, function (rawTrackingType) {\n        return computeSessionState(configuration, rawTrackingType);\n    });\n    sessionManager.expireObservable.subscribe(function () {\n        lifeCycle.notify(7 /* LifeCycleEventType.SESSION_EXPIRED */);\n    });\n    sessionManager.renewObservable.subscribe(function () {\n        lifeCycle.notify(8 /* LifeCycleEventType.SESSION_RENEWED */);\n    });\n    return {\n        findTrackedSession: function (startTime) {\n            var session = sessionManager.findActiveSession(startTime);\n            if (!session || !isTypeTracked(session.trackingType)) {\n                return;\n            }\n            var plan = session.trackingType === \"1\" /* RumTrackingType.TRACKED_WITH_SESSION_REPLAY */\n                ? 2 /* RumSessionPlan.WITH_SESSION_REPLAY */\n                : 1 /* RumSessionPlan.WITHOUT_SESSION_REPLAY */;\n            return {\n                id: session.id,\n                plan: plan,\n                sessionReplayAllowed: plan === 2 /* RumSessionPlan.WITH_SESSION_REPLAY */,\n                longTaskAllowed: configuration.trackLongTasks !== undefined\n                    ? configuration.trackLongTasks\n                    : configuration.oldPlansBehavior && plan === 2 /* RumSessionPlan.WITH_SESSION_REPLAY */,\n                resourceAllowed: configuration.trackResources !== undefined\n                    ? configuration.trackResources\n                    : configuration.oldPlansBehavior && plan === 2 /* RumSessionPlan.WITH_SESSION_REPLAY */,\n            };\n        },\n        expire: sessionManager.expire,\n        expireObservable: sessionManager.expireObservable,\n    };\n}\n/**\n * Start a tracked replay session stub\n */\nfunction startRumSessionManagerStub() {\n    var session = {\n        id: '00000000-aaaa-0000-aaaa-000000000000',\n        plan: 1 /* RumSessionPlan.WITHOUT_SESSION_REPLAY */,\n        sessionReplayAllowed: false,\n        longTaskAllowed: true,\n        resourceAllowed: true,\n    };\n    return {\n        findTrackedSession: function () { return session; },\n        expire: _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.noop,\n        expireObservable: new _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.Observable(),\n    };\n}\nfunction computeSessionState(configuration, rawTrackingType) {\n    var trackingType;\n    if (hasValidRumSession(rawTrackingType)) {\n        trackingType = rawTrackingType;\n    }\n    else if (!(0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.performDraw)(configuration.sessionSampleRate)) {\n        trackingType = \"0\" /* RumTrackingType.NOT_TRACKED */;\n    }\n    else if (!(0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.performDraw)(configuration.sessionReplaySampleRate)) {\n        trackingType = \"2\" /* RumTrackingType.TRACKED_WITHOUT_SESSION_REPLAY */;\n    }\n    else {\n        trackingType = \"1\" /* RumTrackingType.TRACKED_WITH_SESSION_REPLAY */;\n    }\n    return {\n        trackingType: trackingType,\n        isTracked: isTypeTracked(trackingType),\n    };\n}\nfunction hasValidRumSession(trackingType) {\n    return (trackingType === \"0\" /* RumTrackingType.NOT_TRACKED */ ||\n        trackingType === \"1\" /* RumTrackingType.TRACKED_WITH_SESSION_REPLAY */ ||\n        trackingType === \"2\" /* RumTrackingType.TRACKED_WITHOUT_SESSION_REPLAY */);\n}\nfunction isTypeTracked(rumSessionType) {\n    return (rumSessionType === \"2\" /* RumTrackingType.TRACKED_WITHOUT_SESSION_REPLAY */ ||\n        rumSessionType === \"1\" /* RumTrackingType.TRACKED_WITH_SESSION_REPLAY */);\n}\n//# sourceMappingURL=rumSessionManager.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2RvbWFpbi9ydW1TZXNzaW9uTWFuYWdlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQTJGO0FBQ3BGO0FBQ0E7QUFDUCx5QkFBeUIsMEVBQW1CO0FBQzVDO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLGlCQUFpQjtBQUMzRCxnQkFBZ0IsdURBQUk7QUFDcEIsOEJBQThCLDZEQUFVO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxrRUFBVztBQUN6QjtBQUNBO0FBQ0EsY0FBYyxrRUFBVztBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFyY2FzdGVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLXJ1bS1jb3JlL2VzbS9kb21haW4vcnVtU2Vzc2lvbk1hbmFnZXIuanM/NjIwOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBPYnNlcnZhYmxlLCBub29wLCBwZXJmb3JtRHJhdywgc3RhcnRTZXNzaW9uTWFuYWdlciB9IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItY29yZSc7XG5leHBvcnQgdmFyIFJVTV9TRVNTSU9OX0tFWSA9ICdydW0nO1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0UnVtU2Vzc2lvbk1hbmFnZXIoY29uZmlndXJhdGlvbiwgbGlmZUN5Y2xlKSB7XG4gICAgdmFyIHNlc3Npb25NYW5hZ2VyID0gc3RhcnRTZXNzaW9uTWFuYWdlcihjb25maWd1cmF0aW9uLmNvb2tpZU9wdGlvbnMsIFJVTV9TRVNTSU9OX0tFWSwgZnVuY3Rpb24gKHJhd1RyYWNraW5nVHlwZSkge1xuICAgICAgICByZXR1cm4gY29tcHV0ZVNlc3Npb25TdGF0ZShjb25maWd1cmF0aW9uLCByYXdUcmFja2luZ1R5cGUpO1xuICAgIH0pO1xuICAgIHNlc3Npb25NYW5hZ2VyLmV4cGlyZU9ic2VydmFibGUuc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbGlmZUN5Y2xlLm5vdGlmeSg3IC8qIExpZmVDeWNsZUV2ZW50VHlwZS5TRVNTSU9OX0VYUElSRUQgKi8pO1xuICAgIH0pO1xuICAgIHNlc3Npb25NYW5hZ2VyLnJlbmV3T2JzZXJ2YWJsZS5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xuICAgICAgICBsaWZlQ3ljbGUubm90aWZ5KDggLyogTGlmZUN5Y2xlRXZlbnRUeXBlLlNFU1NJT05fUkVORVdFRCAqLyk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZmluZFRyYWNrZWRTZXNzaW9uOiBmdW5jdGlvbiAoc3RhcnRUaW1lKSB7XG4gICAgICAgICAgICB2YXIgc2Vzc2lvbiA9IHNlc3Npb25NYW5hZ2VyLmZpbmRBY3RpdmVTZXNzaW9uKHN0YXJ0VGltZSk7XG4gICAgICAgICAgICBpZiAoIXNlc3Npb24gfHwgIWlzVHlwZVRyYWNrZWQoc2Vzc2lvbi50cmFja2luZ1R5cGUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHBsYW4gPSBzZXNzaW9uLnRyYWNraW5nVHlwZSA9PT0gXCIxXCIgLyogUnVtVHJhY2tpbmdUeXBlLlRSQUNLRURfV0lUSF9TRVNTSU9OX1JFUExBWSAqL1xuICAgICAgICAgICAgICAgID8gMiAvKiBSdW1TZXNzaW9uUGxhbi5XSVRIX1NFU1NJT05fUkVQTEFZICovXG4gICAgICAgICAgICAgICAgOiAxIC8qIFJ1bVNlc3Npb25QbGFuLldJVEhPVVRfU0VTU0lPTl9SRVBMQVkgKi87XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGlkOiBzZXNzaW9uLmlkLFxuICAgICAgICAgICAgICAgIHBsYW46IHBsYW4sXG4gICAgICAgICAgICAgICAgc2Vzc2lvblJlcGxheUFsbG93ZWQ6IHBsYW4gPT09IDIgLyogUnVtU2Vzc2lvblBsYW4uV0lUSF9TRVNTSU9OX1JFUExBWSAqLyxcbiAgICAgICAgICAgICAgICBsb25nVGFza0FsbG93ZWQ6IGNvbmZpZ3VyYXRpb24udHJhY2tMb25nVGFza3MgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICA/IGNvbmZpZ3VyYXRpb24udHJhY2tMb25nVGFza3NcbiAgICAgICAgICAgICAgICAgICAgOiBjb25maWd1cmF0aW9uLm9sZFBsYW5zQmVoYXZpb3IgJiYgcGxhbiA9PT0gMiAvKiBSdW1TZXNzaW9uUGxhbi5XSVRIX1NFU1NJT05fUkVQTEFZICovLFxuICAgICAgICAgICAgICAgIHJlc291cmNlQWxsb3dlZDogY29uZmlndXJhdGlvbi50cmFja1Jlc291cmNlcyAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgID8gY29uZmlndXJhdGlvbi50cmFja1Jlc291cmNlc1xuICAgICAgICAgICAgICAgICAgICA6IGNvbmZpZ3VyYXRpb24ub2xkUGxhbnNCZWhhdmlvciAmJiBwbGFuID09PSAyIC8qIFJ1bVNlc3Npb25QbGFuLldJVEhfU0VTU0lPTl9SRVBMQVkgKi8sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICBleHBpcmU6IHNlc3Npb25NYW5hZ2VyLmV4cGlyZSxcbiAgICAgICAgZXhwaXJlT2JzZXJ2YWJsZTogc2Vzc2lvbk1hbmFnZXIuZXhwaXJlT2JzZXJ2YWJsZSxcbiAgICB9O1xufVxuLyoqXG4gKiBTdGFydCBhIHRyYWNrZWQgcmVwbGF5IHNlc3Npb24gc3R1YlxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRSdW1TZXNzaW9uTWFuYWdlclN0dWIoKSB7XG4gICAgdmFyIHNlc3Npb24gPSB7XG4gICAgICAgIGlkOiAnMDAwMDAwMDAtYWFhYS0wMDAwLWFhYWEtMDAwMDAwMDAwMDAwJyxcbiAgICAgICAgcGxhbjogMSAvKiBSdW1TZXNzaW9uUGxhbi5XSVRIT1VUX1NFU1NJT05fUkVQTEFZICovLFxuICAgICAgICBzZXNzaW9uUmVwbGF5QWxsb3dlZDogZmFsc2UsXG4gICAgICAgIGxvbmdUYXNrQWxsb3dlZDogdHJ1ZSxcbiAgICAgICAgcmVzb3VyY2VBbGxvd2VkOiB0cnVlLFxuICAgIH07XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZmluZFRyYWNrZWRTZXNzaW9uOiBmdW5jdGlvbiAoKSB7IHJldHVybiBzZXNzaW9uOyB9LFxuICAgICAgICBleHBpcmU6IG5vb3AsXG4gICAgICAgIGV4cGlyZU9ic2VydmFibGU6IG5ldyBPYnNlcnZhYmxlKCksXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGNvbXB1dGVTZXNzaW9uU3RhdGUoY29uZmlndXJhdGlvbiwgcmF3VHJhY2tpbmdUeXBlKSB7XG4gICAgdmFyIHRyYWNraW5nVHlwZTtcbiAgICBpZiAoaGFzVmFsaWRSdW1TZXNzaW9uKHJhd1RyYWNraW5nVHlwZSkpIHtcbiAgICAgICAgdHJhY2tpbmdUeXBlID0gcmF3VHJhY2tpbmdUeXBlO1xuICAgIH1cbiAgICBlbHNlIGlmICghcGVyZm9ybURyYXcoY29uZmlndXJhdGlvbi5zZXNzaW9uU2FtcGxlUmF0ZSkpIHtcbiAgICAgICAgdHJhY2tpbmdUeXBlID0gXCIwXCIgLyogUnVtVHJhY2tpbmdUeXBlLk5PVF9UUkFDS0VEICovO1xuICAgIH1cbiAgICBlbHNlIGlmICghcGVyZm9ybURyYXcoY29uZmlndXJhdGlvbi5zZXNzaW9uUmVwbGF5U2FtcGxlUmF0ZSkpIHtcbiAgICAgICAgdHJhY2tpbmdUeXBlID0gXCIyXCIgLyogUnVtVHJhY2tpbmdUeXBlLlRSQUNLRURfV0lUSE9VVF9TRVNTSU9OX1JFUExBWSAqLztcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRyYWNraW5nVHlwZSA9IFwiMVwiIC8qIFJ1bVRyYWNraW5nVHlwZS5UUkFDS0VEX1dJVEhfU0VTU0lPTl9SRVBMQVkgKi87XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHRyYWNraW5nVHlwZTogdHJhY2tpbmdUeXBlLFxuICAgICAgICBpc1RyYWNrZWQ6IGlzVHlwZVRyYWNrZWQodHJhY2tpbmdUeXBlKSxcbiAgICB9O1xufVxuZnVuY3Rpb24gaGFzVmFsaWRSdW1TZXNzaW9uKHRyYWNraW5nVHlwZSkge1xuICAgIHJldHVybiAodHJhY2tpbmdUeXBlID09PSBcIjBcIiAvKiBSdW1UcmFja2luZ1R5cGUuTk9UX1RSQUNLRUQgKi8gfHxcbiAgICAgICAgdHJhY2tpbmdUeXBlID09PSBcIjFcIiAvKiBSdW1UcmFja2luZ1R5cGUuVFJBQ0tFRF9XSVRIX1NFU1NJT05fUkVQTEFZICovIHx8XG4gICAgICAgIHRyYWNraW5nVHlwZSA9PT0gXCIyXCIgLyogUnVtVHJhY2tpbmdUeXBlLlRSQUNLRURfV0lUSE9VVF9TRVNTSU9OX1JFUExBWSAqLyk7XG59XG5mdW5jdGlvbiBpc1R5cGVUcmFja2VkKHJ1bVNlc3Npb25UeXBlKSB7XG4gICAgcmV0dXJuIChydW1TZXNzaW9uVHlwZSA9PT0gXCIyXCIgLyogUnVtVHJhY2tpbmdUeXBlLlRSQUNLRURfV0lUSE9VVF9TRVNTSU9OX1JFUExBWSAqLyB8fFxuICAgICAgICBydW1TZXNzaW9uVHlwZSA9PT0gXCIxXCIgLyogUnVtVHJhY2tpbmdUeXBlLlRSQUNLRURfV0lUSF9TRVNTSU9OX1JFUExBWSAqLyk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ydW1TZXNzaW9uTWFuYWdlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/rumSessionManager.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/startCustomerDataTelemetry.js":
/*!*********************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum-core/esm/domain/startCustomerDataTelemetry.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MEASURES_PERIOD_DURATION: () => (/* binding */ MEASURES_PERIOD_DURATION),\n/* harmony export */   startCustomerDataTelemetry: () => (/* binding */ startCustomerDataTelemetry)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/numberUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/objectUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/polyfills.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/timer.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/telemetry/telemetry.js\");\n\nvar MEASURES_PERIOD_DURATION = 10 * _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.ONE_SECOND;\nvar currentPeriodMeasures;\nvar currentBatchMeasures;\nvar batchHasRumEvent;\nfunction startCustomerDataTelemetry(configuration, telemetry, lifeCycle, globalContextManager, userContextManager, featureFlagContexts, batchFlushObservable) {\n    var customerDataTelemetryEnabled = telemetry.enabled && (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.performDraw)(configuration.customerDataTelemetrySampleRate);\n    if (!customerDataTelemetryEnabled) {\n        return;\n    }\n    initCurrentPeriodMeasures();\n    initCurrentBatchMeasures();\n    // We measure the data of every view updates even if there could only be one per batch due to the upsert\n    // It means that contexts bytes count sums can be higher than it really is\n    lifeCycle.subscribe(11 /* LifeCycleEventType.RUM_EVENT_COLLECTED */, function (event) {\n        batchHasRumEvent = true;\n        updateMeasure(currentBatchMeasures.globalContextBytes, !(0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.isEmptyObject)(globalContextManager.get()) ? globalContextManager.getBytesCount() : 0);\n        updateMeasure(currentBatchMeasures.userContextBytes, !(0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.isEmptyObject)(userContextManager.get()) ? userContextManager.getBytesCount() : 0);\n        var featureFlagContext = featureFlagContexts.findFeatureFlagEvaluations();\n        var hasFeatureFlagContext = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.includes)([\"view\" /* RumEventType.VIEW */, \"error\" /* RumEventType.ERROR */], event.type) &&\n            featureFlagContext &&\n            !(0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.isEmptyObject)(featureFlagContext);\n        updateMeasure(currentBatchMeasures.featureFlagBytes, hasFeatureFlagContext ? featureFlagContexts.getFeatureFlagBytesCount() : 0);\n    });\n    batchFlushObservable.subscribe(function (_a) {\n        var bytesCount = _a.bytesCount, messagesCount = _a.messagesCount;\n        // Don't measure batch that only contains telemetry events to avoid batch sending loop\n        // It could happen because after each batch we are adding a customer data measures telemetry event to the next one\n        if (!batchHasRumEvent) {\n            return;\n        }\n        currentPeriodMeasures.batchCount += 1;\n        updateMeasure(currentPeriodMeasures.batchBytesCount, bytesCount);\n        updateMeasure(currentPeriodMeasures.batchMessagesCount, messagesCount);\n        mergeMeasure(currentPeriodMeasures.globalContextBytes, currentBatchMeasures.globalContextBytes);\n        mergeMeasure(currentPeriodMeasures.userContextBytes, currentBatchMeasures.userContextBytes);\n        mergeMeasure(currentPeriodMeasures.featureFlagBytes, currentBatchMeasures.featureFlagBytes);\n        initCurrentBatchMeasures();\n    });\n    (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.setInterval)(sendCurrentPeriodMeasures, MEASURES_PERIOD_DURATION);\n}\nfunction sendCurrentPeriodMeasures() {\n    if (currentPeriodMeasures.batchCount === 0) {\n        return;\n    }\n    (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.addTelemetryDebug)('Customer data measures', currentPeriodMeasures);\n    initCurrentPeriodMeasures();\n}\nfunction createMeasure() {\n    return { min: Infinity, max: 0, sum: 0 };\n}\nfunction updateMeasure(measure, value) {\n    measure.sum += value;\n    measure.min = Math.min(measure.min, value);\n    measure.max = Math.max(measure.max, value);\n}\nfunction mergeMeasure(target, source) {\n    target.sum += source.sum;\n    target.min = Math.min(target.min, source.min);\n    target.max = Math.max(target.max, source.max);\n}\nfunction initCurrentPeriodMeasures() {\n    currentPeriodMeasures = {\n        batchCount: 0,\n        batchBytesCount: createMeasure(),\n        batchMessagesCount: createMeasure(),\n        globalContextBytes: createMeasure(),\n        userContextBytes: createMeasure(),\n        featureFlagBytes: createMeasure(),\n    };\n}\nfunction initCurrentBatchMeasures() {\n    batchHasRumEvent = false;\n    currentBatchMeasures = {\n        globalContextBytes: createMeasure(),\n        userContextBytes: createMeasure(),\n        featureFlagBytes: createMeasure(),\n    };\n}\n//# sourceMappingURL=startCustomerDataTelemetry.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2RvbWFpbi9zdGFydEN1c3RvbWVyRGF0YVRlbGVtZXRyeS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUF5SDtBQUNsSCxvQ0FBb0MsNkRBQVU7QUFDckQ7QUFDQTtBQUNBO0FBQ087QUFDUCw0REFBNEQsa0VBQVc7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0VBQWdFLG9FQUFhO0FBQzdFLDhEQUE4RCxvRUFBYTtBQUMzRTtBQUNBLG9DQUFvQywrREFBUTtBQUM1QztBQUNBLGFBQWEsb0VBQWE7QUFDMUI7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJLGtFQUFXO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksd0VBQWlCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYXJjYXN0ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2RvbWFpbi9zdGFydEN1c3RvbWVyRGF0YVRlbGVtZXRyeS5qcz9iOTE5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzRW1wdHlPYmplY3QsIGluY2x1ZGVzLCBwZXJmb3JtRHJhdywgT05FX1NFQ09ORCwgYWRkVGVsZW1ldHJ5RGVidWcsIHNldEludGVydmFsIH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJztcbmV4cG9ydCB2YXIgTUVBU1VSRVNfUEVSSU9EX0RVUkFUSU9OID0gMTAgKiBPTkVfU0VDT05EO1xudmFyIGN1cnJlbnRQZXJpb2RNZWFzdXJlcztcbnZhciBjdXJyZW50QmF0Y2hNZWFzdXJlcztcbnZhciBiYXRjaEhhc1J1bUV2ZW50O1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0Q3VzdG9tZXJEYXRhVGVsZW1ldHJ5KGNvbmZpZ3VyYXRpb24sIHRlbGVtZXRyeSwgbGlmZUN5Y2xlLCBnbG9iYWxDb250ZXh0TWFuYWdlciwgdXNlckNvbnRleHRNYW5hZ2VyLCBmZWF0dXJlRmxhZ0NvbnRleHRzLCBiYXRjaEZsdXNoT2JzZXJ2YWJsZSkge1xuICAgIHZhciBjdXN0b21lckRhdGFUZWxlbWV0cnlFbmFibGVkID0gdGVsZW1ldHJ5LmVuYWJsZWQgJiYgcGVyZm9ybURyYXcoY29uZmlndXJhdGlvbi5jdXN0b21lckRhdGFUZWxlbWV0cnlTYW1wbGVSYXRlKTtcbiAgICBpZiAoIWN1c3RvbWVyRGF0YVRlbGVtZXRyeUVuYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpbml0Q3VycmVudFBlcmlvZE1lYXN1cmVzKCk7XG4gICAgaW5pdEN1cnJlbnRCYXRjaE1lYXN1cmVzKCk7XG4gICAgLy8gV2UgbWVhc3VyZSB0aGUgZGF0YSBvZiBldmVyeSB2aWV3IHVwZGF0ZXMgZXZlbiBpZiB0aGVyZSBjb3VsZCBvbmx5IGJlIG9uZSBwZXIgYmF0Y2ggZHVlIHRvIHRoZSB1cHNlcnRcbiAgICAvLyBJdCBtZWFucyB0aGF0IGNvbnRleHRzIGJ5dGVzIGNvdW50IHN1bXMgY2FuIGJlIGhpZ2hlciB0aGFuIGl0IHJlYWxseSBpc1xuICAgIGxpZmVDeWNsZS5zdWJzY3JpYmUoMTEgLyogTGlmZUN5Y2xlRXZlbnRUeXBlLlJVTV9FVkVOVF9DT0xMRUNURUQgKi8sIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBiYXRjaEhhc1J1bUV2ZW50ID0gdHJ1ZTtcbiAgICAgICAgdXBkYXRlTWVhc3VyZShjdXJyZW50QmF0Y2hNZWFzdXJlcy5nbG9iYWxDb250ZXh0Qnl0ZXMsICFpc0VtcHR5T2JqZWN0KGdsb2JhbENvbnRleHRNYW5hZ2VyLmdldCgpKSA/IGdsb2JhbENvbnRleHRNYW5hZ2VyLmdldEJ5dGVzQ291bnQoKSA6IDApO1xuICAgICAgICB1cGRhdGVNZWFzdXJlKGN1cnJlbnRCYXRjaE1lYXN1cmVzLnVzZXJDb250ZXh0Qnl0ZXMsICFpc0VtcHR5T2JqZWN0KHVzZXJDb250ZXh0TWFuYWdlci5nZXQoKSkgPyB1c2VyQ29udGV4dE1hbmFnZXIuZ2V0Qnl0ZXNDb3VudCgpIDogMCk7XG4gICAgICAgIHZhciBmZWF0dXJlRmxhZ0NvbnRleHQgPSBmZWF0dXJlRmxhZ0NvbnRleHRzLmZpbmRGZWF0dXJlRmxhZ0V2YWx1YXRpb25zKCk7XG4gICAgICAgIHZhciBoYXNGZWF0dXJlRmxhZ0NvbnRleHQgPSBpbmNsdWRlcyhbXCJ2aWV3XCIgLyogUnVtRXZlbnRUeXBlLlZJRVcgKi8sIFwiZXJyb3JcIiAvKiBSdW1FdmVudFR5cGUuRVJST1IgKi9dLCBldmVudC50eXBlKSAmJlxuICAgICAgICAgICAgZmVhdHVyZUZsYWdDb250ZXh0ICYmXG4gICAgICAgICAgICAhaXNFbXB0eU9iamVjdChmZWF0dXJlRmxhZ0NvbnRleHQpO1xuICAgICAgICB1cGRhdGVNZWFzdXJlKGN1cnJlbnRCYXRjaE1lYXN1cmVzLmZlYXR1cmVGbGFnQnl0ZXMsIGhhc0ZlYXR1cmVGbGFnQ29udGV4dCA/IGZlYXR1cmVGbGFnQ29udGV4dHMuZ2V0RmVhdHVyZUZsYWdCeXRlc0NvdW50KCkgOiAwKTtcbiAgICB9KTtcbiAgICBiYXRjaEZsdXNoT2JzZXJ2YWJsZS5zdWJzY3JpYmUoZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciBieXRlc0NvdW50ID0gX2EuYnl0ZXNDb3VudCwgbWVzc2FnZXNDb3VudCA9IF9hLm1lc3NhZ2VzQ291bnQ7XG4gICAgICAgIC8vIERvbid0IG1lYXN1cmUgYmF0Y2ggdGhhdCBvbmx5IGNvbnRhaW5zIHRlbGVtZXRyeSBldmVudHMgdG8gYXZvaWQgYmF0Y2ggc2VuZGluZyBsb29wXG4gICAgICAgIC8vIEl0IGNvdWxkIGhhcHBlbiBiZWNhdXNlIGFmdGVyIGVhY2ggYmF0Y2ggd2UgYXJlIGFkZGluZyBhIGN1c3RvbWVyIGRhdGEgbWVhc3VyZXMgdGVsZW1ldHJ5IGV2ZW50IHRvIHRoZSBuZXh0IG9uZVxuICAgICAgICBpZiAoIWJhdGNoSGFzUnVtRXZlbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50UGVyaW9kTWVhc3VyZXMuYmF0Y2hDb3VudCArPSAxO1xuICAgICAgICB1cGRhdGVNZWFzdXJlKGN1cnJlbnRQZXJpb2RNZWFzdXJlcy5iYXRjaEJ5dGVzQ291bnQsIGJ5dGVzQ291bnQpO1xuICAgICAgICB1cGRhdGVNZWFzdXJlKGN1cnJlbnRQZXJpb2RNZWFzdXJlcy5iYXRjaE1lc3NhZ2VzQ291bnQsIG1lc3NhZ2VzQ291bnQpO1xuICAgICAgICBtZXJnZU1lYXN1cmUoY3VycmVudFBlcmlvZE1lYXN1cmVzLmdsb2JhbENvbnRleHRCeXRlcywgY3VycmVudEJhdGNoTWVhc3VyZXMuZ2xvYmFsQ29udGV4dEJ5dGVzKTtcbiAgICAgICAgbWVyZ2VNZWFzdXJlKGN1cnJlbnRQZXJpb2RNZWFzdXJlcy51c2VyQ29udGV4dEJ5dGVzLCBjdXJyZW50QmF0Y2hNZWFzdXJlcy51c2VyQ29udGV4dEJ5dGVzKTtcbiAgICAgICAgbWVyZ2VNZWFzdXJlKGN1cnJlbnRQZXJpb2RNZWFzdXJlcy5mZWF0dXJlRmxhZ0J5dGVzLCBjdXJyZW50QmF0Y2hNZWFzdXJlcy5mZWF0dXJlRmxhZ0J5dGVzKTtcbiAgICAgICAgaW5pdEN1cnJlbnRCYXRjaE1lYXN1cmVzKCk7XG4gICAgfSk7XG4gICAgc2V0SW50ZXJ2YWwoc2VuZEN1cnJlbnRQZXJpb2RNZWFzdXJlcywgTUVBU1VSRVNfUEVSSU9EX0RVUkFUSU9OKTtcbn1cbmZ1bmN0aW9uIHNlbmRDdXJyZW50UGVyaW9kTWVhc3VyZXMoKSB7XG4gICAgaWYgKGN1cnJlbnRQZXJpb2RNZWFzdXJlcy5iYXRjaENvdW50ID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgYWRkVGVsZW1ldHJ5RGVidWcoJ0N1c3RvbWVyIGRhdGEgbWVhc3VyZXMnLCBjdXJyZW50UGVyaW9kTWVhc3VyZXMpO1xuICAgIGluaXRDdXJyZW50UGVyaW9kTWVhc3VyZXMoKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZU1lYXN1cmUoKSB7XG4gICAgcmV0dXJuIHsgbWluOiBJbmZpbml0eSwgbWF4OiAwLCBzdW06IDAgfTtcbn1cbmZ1bmN0aW9uIHVwZGF0ZU1lYXN1cmUobWVhc3VyZSwgdmFsdWUpIHtcbiAgICBtZWFzdXJlLnN1bSArPSB2YWx1ZTtcbiAgICBtZWFzdXJlLm1pbiA9IE1hdGgubWluKG1lYXN1cmUubWluLCB2YWx1ZSk7XG4gICAgbWVhc3VyZS5tYXggPSBNYXRoLm1heChtZWFzdXJlLm1heCwgdmFsdWUpO1xufVxuZnVuY3Rpb24gbWVyZ2VNZWFzdXJlKHRhcmdldCwgc291cmNlKSB7XG4gICAgdGFyZ2V0LnN1bSArPSBzb3VyY2Uuc3VtO1xuICAgIHRhcmdldC5taW4gPSBNYXRoLm1pbih0YXJnZXQubWluLCBzb3VyY2UubWluKTtcbiAgICB0YXJnZXQubWF4ID0gTWF0aC5tYXgodGFyZ2V0Lm1heCwgc291cmNlLm1heCk7XG59XG5mdW5jdGlvbiBpbml0Q3VycmVudFBlcmlvZE1lYXN1cmVzKCkge1xuICAgIGN1cnJlbnRQZXJpb2RNZWFzdXJlcyA9IHtcbiAgICAgICAgYmF0Y2hDb3VudDogMCxcbiAgICAgICAgYmF0Y2hCeXRlc0NvdW50OiBjcmVhdGVNZWFzdXJlKCksXG4gICAgICAgIGJhdGNoTWVzc2FnZXNDb3VudDogY3JlYXRlTWVhc3VyZSgpLFxuICAgICAgICBnbG9iYWxDb250ZXh0Qnl0ZXM6IGNyZWF0ZU1lYXN1cmUoKSxcbiAgICAgICAgdXNlckNvbnRleHRCeXRlczogY3JlYXRlTWVhc3VyZSgpLFxuICAgICAgICBmZWF0dXJlRmxhZ0J5dGVzOiBjcmVhdGVNZWFzdXJlKCksXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGluaXRDdXJyZW50QmF0Y2hNZWFzdXJlcygpIHtcbiAgICBiYXRjaEhhc1J1bUV2ZW50ID0gZmFsc2U7XG4gICAgY3VycmVudEJhdGNoTWVhc3VyZXMgPSB7XG4gICAgICAgIGdsb2JhbENvbnRleHRCeXRlczogY3JlYXRlTWVhc3VyZSgpLFxuICAgICAgICB1c2VyQ29udGV4dEJ5dGVzOiBjcmVhdGVNZWFzdXJlKCksXG4gICAgICAgIGZlYXR1cmVGbGFnQnl0ZXM6IGNyZWF0ZU1lYXN1cmUoKSxcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RhcnRDdXN0b21lckRhdGFUZWxlbWV0cnkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/startCustomerDataTelemetry.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/tracing/getDocumentTraceId.js":
/*!*********************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum-core/esm/domain/tracing/getDocumentTraceId.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   INITIAL_DOCUMENT_OUTDATED_TRACE_ID_THRESHOLD: () => (/* binding */ INITIAL_DOCUMENT_OUTDATED_TRACE_ID_THRESHOLD),\n/* harmony export */   createDocumentTraceData: () => (/* binding */ createDocumentTraceData),\n/* harmony export */   findTraceComment: () => (/* binding */ findTraceComment),\n/* harmony export */   getDocumentTraceDataFromComment: () => (/* binding */ getDocumentTraceDataFromComment),\n/* harmony export */   getDocumentTraceDataFromMeta: () => (/* binding */ getDocumentTraceDataFromMeta),\n/* harmony export */   getDocumentTraceId: () => (/* binding */ getDocumentTraceId)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/stringUtils.js\");\n/* harmony import */ var _browser_htmlDomUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../browser/htmlDomUtils */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/browser/htmlDomUtils.js\");\n\n\nvar INITIAL_DOCUMENT_OUTDATED_TRACE_ID_THRESHOLD = 2 * _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.ONE_MINUTE;\nfunction getDocumentTraceId(document) {\n    var data = getDocumentTraceDataFromMeta(document) || getDocumentTraceDataFromComment(document);\n    if (!data || data.traceTime <= (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.dateNow)() - INITIAL_DOCUMENT_OUTDATED_TRACE_ID_THRESHOLD) {\n        return undefined;\n    }\n    return data.traceId;\n}\nfunction getDocumentTraceDataFromMeta(document) {\n    var traceIdMeta = document.querySelector('meta[name=dd-trace-id]');\n    var traceTimeMeta = document.querySelector('meta[name=dd-trace-time]');\n    return createDocumentTraceData(traceIdMeta && traceIdMeta.content, traceTimeMeta && traceTimeMeta.content);\n}\nfunction getDocumentTraceDataFromComment(document) {\n    var comment = findTraceComment(document);\n    if (!comment) {\n        return undefined;\n    }\n    return createDocumentTraceData((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.findCommaSeparatedValue)(comment, 'trace-id'), (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.findCommaSeparatedValue)(comment, 'trace-time'));\n}\nfunction createDocumentTraceData(traceId, rawTraceTime) {\n    var traceTime = rawTraceTime && Number(rawTraceTime);\n    if (!traceId || !traceTime) {\n        return undefined;\n    }\n    return {\n        traceId: traceId,\n        traceTime: traceTime,\n    };\n}\nfunction findTraceComment(document) {\n    // 1. Try to find the comment as a direct child of the document\n    // Note: TSLint advises to use a 'for of', but TS doesn't allow to use 'for of' if the iterated\n    // value is not an array or string (here, a NodeList).\n    for (var i = 0; i < document.childNodes.length; i += 1) {\n        var comment = getTraceCommentFromNode(document.childNodes[i]);\n        if (comment) {\n            return comment;\n        }\n    }\n    // 2. If the comment is placed after the </html> tag, but have some space or new lines before or\n    // after, the DOM parser will lift it (and the surrounding text) at the end of the <body> tag.\n    // Try to look for the comment at the end of the <body> by by iterating over its child nodes in\n    // reverse order, stopping if we come across a non-text node.\n    if (document.body) {\n        for (var i = document.body.childNodes.length - 1; i >= 0; i -= 1) {\n            var node = document.body.childNodes[i];\n            var comment = getTraceCommentFromNode(node);\n            if (comment) {\n                return comment;\n            }\n            if (!(0,_browser_htmlDomUtils__WEBPACK_IMPORTED_MODULE_0__.isTextNode)(node)) {\n                break;\n            }\n        }\n    }\n}\nfunction getTraceCommentFromNode(node) {\n    if (node && (0,_browser_htmlDomUtils__WEBPACK_IMPORTED_MODULE_0__.isCommentNode)(node)) {\n        var match = /^\\s*DATADOG;(.*?)\\s*$/.exec(node.data);\n        if (match) {\n            return match[1];\n        }\n    }\n}\n//# sourceMappingURL=getDocumentTraceId.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2RvbWFpbi90cmFjaW5nL2dldERvY3VtZW50VHJhY2VJZC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBcUY7QUFDZDtBQUNoRSx1REFBdUQsNkRBQVU7QUFDakU7QUFDUDtBQUNBLG1DQUFtQyw4REFBTztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLDhFQUF1Qix1QkFBdUIsOEVBQXVCO0FBQ3hHO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixnQ0FBZ0M7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwREFBMEQsUUFBUTtBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLGlFQUFVO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixvRUFBYTtBQUM3QixpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFyY2FzdGVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLXJ1bS1jb3JlL2VzbS9kb21haW4vdHJhY2luZy9nZXREb2N1bWVudFRyYWNlSWQuanM/MmMzYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkYXRlTm93LCBmaW5kQ29tbWFTZXBhcmF0ZWRWYWx1ZSwgT05FX01JTlVURSB9IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItY29yZSc7XG5pbXBvcnQgeyBpc0NvbW1lbnROb2RlLCBpc1RleHROb2RlIH0gZnJvbSAnLi4vLi4vYnJvd3Nlci9odG1sRG9tVXRpbHMnO1xuZXhwb3J0IHZhciBJTklUSUFMX0RPQ1VNRU5UX09VVERBVEVEX1RSQUNFX0lEX1RIUkVTSE9MRCA9IDIgKiBPTkVfTUlOVVRFO1xuZXhwb3J0IGZ1bmN0aW9uIGdldERvY3VtZW50VHJhY2VJZChkb2N1bWVudCkge1xuICAgIHZhciBkYXRhID0gZ2V0RG9jdW1lbnRUcmFjZURhdGFGcm9tTWV0YShkb2N1bWVudCkgfHwgZ2V0RG9jdW1lbnRUcmFjZURhdGFGcm9tQ29tbWVudChkb2N1bWVudCk7XG4gICAgaWYgKCFkYXRhIHx8IGRhdGEudHJhY2VUaW1lIDw9IGRhdGVOb3coKSAtIElOSVRJQUxfRE9DVU1FTlRfT1VUREFURURfVFJBQ0VfSURfVEhSRVNIT0xEKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHJldHVybiBkYXRhLnRyYWNlSWQ7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0RG9jdW1lbnRUcmFjZURhdGFGcm9tTWV0YShkb2N1bWVudCkge1xuICAgIHZhciB0cmFjZUlkTWV0YSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21ldGFbbmFtZT1kZC10cmFjZS1pZF0nKTtcbiAgICB2YXIgdHJhY2VUaW1lTWV0YSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21ldGFbbmFtZT1kZC10cmFjZS10aW1lXScpO1xuICAgIHJldHVybiBjcmVhdGVEb2N1bWVudFRyYWNlRGF0YSh0cmFjZUlkTWV0YSAmJiB0cmFjZUlkTWV0YS5jb250ZW50LCB0cmFjZVRpbWVNZXRhICYmIHRyYWNlVGltZU1ldGEuY29udGVudCk7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0RG9jdW1lbnRUcmFjZURhdGFGcm9tQ29tbWVudChkb2N1bWVudCkge1xuICAgIHZhciBjb21tZW50ID0gZmluZFRyYWNlQ29tbWVudChkb2N1bWVudCk7XG4gICAgaWYgKCFjb21tZW50KSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVEb2N1bWVudFRyYWNlRGF0YShmaW5kQ29tbWFTZXBhcmF0ZWRWYWx1ZShjb21tZW50LCAndHJhY2UtaWQnKSwgZmluZENvbW1hU2VwYXJhdGVkVmFsdWUoY29tbWVudCwgJ3RyYWNlLXRpbWUnKSk7XG59XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRG9jdW1lbnRUcmFjZURhdGEodHJhY2VJZCwgcmF3VHJhY2VUaW1lKSB7XG4gICAgdmFyIHRyYWNlVGltZSA9IHJhd1RyYWNlVGltZSAmJiBOdW1iZXIocmF3VHJhY2VUaW1lKTtcbiAgICBpZiAoIXRyYWNlSWQgfHwgIXRyYWNlVGltZSkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICB0cmFjZUlkOiB0cmFjZUlkLFxuICAgICAgICB0cmFjZVRpbWU6IHRyYWNlVGltZSxcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZpbmRUcmFjZUNvbW1lbnQoZG9jdW1lbnQpIHtcbiAgICAvLyAxLiBUcnkgdG8gZmluZCB0aGUgY29tbWVudCBhcyBhIGRpcmVjdCBjaGlsZCBvZiB0aGUgZG9jdW1lbnRcbiAgICAvLyBOb3RlOiBUU0xpbnQgYWR2aXNlcyB0byB1c2UgYSAnZm9yIG9mJywgYnV0IFRTIGRvZXNuJ3QgYWxsb3cgdG8gdXNlICdmb3Igb2YnIGlmIHRoZSBpdGVyYXRlZFxuICAgIC8vIHZhbHVlIGlzIG5vdCBhbiBhcnJheSBvciBzdHJpbmcgKGhlcmUsIGEgTm9kZUxpc3QpLlxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZG9jdW1lbnQuY2hpbGROb2Rlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICB2YXIgY29tbWVudCA9IGdldFRyYWNlQ29tbWVudEZyb21Ob2RlKGRvY3VtZW50LmNoaWxkTm9kZXNbaV0pO1xuICAgICAgICBpZiAoY29tbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbW1lbnQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gMi4gSWYgdGhlIGNvbW1lbnQgaXMgcGxhY2VkIGFmdGVyIHRoZSA8L2h0bWw+IHRhZywgYnV0IGhhdmUgc29tZSBzcGFjZSBvciBuZXcgbGluZXMgYmVmb3JlIG9yXG4gICAgLy8gYWZ0ZXIsIHRoZSBET00gcGFyc2VyIHdpbGwgbGlmdCBpdCAoYW5kIHRoZSBzdXJyb3VuZGluZyB0ZXh0KSBhdCB0aGUgZW5kIG9mIHRoZSA8Ym9keT4gdGFnLlxuICAgIC8vIFRyeSB0byBsb29rIGZvciB0aGUgY29tbWVudCBhdCB0aGUgZW5kIG9mIHRoZSA8Ym9keT4gYnkgYnkgaXRlcmF0aW5nIG92ZXIgaXRzIGNoaWxkIG5vZGVzIGluXG4gICAgLy8gcmV2ZXJzZSBvcmRlciwgc3RvcHBpbmcgaWYgd2UgY29tZSBhY3Jvc3MgYSBub24tdGV4dCBub2RlLlxuICAgIGlmIChkb2N1bWVudC5ib2R5KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSBkb2N1bWVudC5ib2R5LmNoaWxkTm9kZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpIC09IDEpIHtcbiAgICAgICAgICAgIHZhciBub2RlID0gZG9jdW1lbnQuYm9keS5jaGlsZE5vZGVzW2ldO1xuICAgICAgICAgICAgdmFyIGNvbW1lbnQgPSBnZXRUcmFjZUNvbW1lbnRGcm9tTm9kZShub2RlKTtcbiAgICAgICAgICAgIGlmIChjb21tZW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbW1lbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWlzVGV4dE5vZGUobm9kZSkpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGdldFRyYWNlQ29tbWVudEZyb21Ob2RlKG5vZGUpIHtcbiAgICBpZiAobm9kZSAmJiBpc0NvbW1lbnROb2RlKG5vZGUpKSB7XG4gICAgICAgIHZhciBtYXRjaCA9IC9eXFxzKkRBVEFET0c7KC4qPylcXHMqJC8uZXhlYyhub2RlLmRhdGEpO1xuICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICAgIHJldHVybiBtYXRjaFsxXTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdldERvY3VtZW50VHJhY2VJZC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/tracing/getDocumentTraceId.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/tracing/tracer.js":
/*!*********************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum-core/esm/domain/tracing/tracer.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TraceIdentifier: () => (/* binding */ TraceIdentifier),\n/* harmony export */   clearTracingIfNeeded: () => (/* binding */ clearTracingIfNeeded),\n/* harmony export */   isTracingOption: () => (/* binding */ isTracingOption),\n/* harmony export */   isTracingSupported: () => (/* binding */ isTracingSupported),\n/* harmony export */   startTracer: () => (/* binding */ startTracer)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/typeUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/matchOption.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/objectUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/polyfills.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/numberUtils.js\");\n\nfunction isTracingOption(item) {\n    var expectedItem = item;\n    return ((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.getType)(expectedItem) === 'object' &&\n        (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.isMatchOption)(expectedItem.match) &&\n        Array.isArray(expectedItem.propagatorTypes));\n}\n/**\n * Clear tracing information to avoid incomplete traces. Ideally, we should do it when the\n * request did not reach the server, but the browser does not expose this. So, we clear tracing\n * information if the request ended with status 0 without being aborted by the application.\n *\n * Reasoning:\n *\n * * Applications are usually aborting requests after a bit of time, for example when the user is\n * typing (autocompletion) or navigating away (in a SPA). With a performant device and good\n * network conditions, the request is likely to reach the server before being canceled.\n *\n * * Requests aborted otherwise (ex: lack of internet, CORS issue, blocked by a privacy extension)\n * are likely to finish quickly and without reaching the server.\n *\n * Of course, it might not be the case every time, but it should limit having incomplete traces a\n * bit.\n * */\nfunction clearTracingIfNeeded(context) {\n    if (context.status === 0 && !context.isAborted) {\n        context.traceId = undefined;\n        context.spanId = undefined;\n        context.traceSampled = undefined;\n    }\n}\nfunction startTracer(configuration, sessionManager) {\n    return {\n        clearTracingIfNeeded: clearTracingIfNeeded,\n        traceFetch: function (context) {\n            return injectHeadersIfTracingAllowed(configuration, context, sessionManager, function (tracingHeaders) {\n                var _a;\n                if (context.input instanceof Request && !((_a = context.init) === null || _a === void 0 ? void 0 : _a.headers)) {\n                    context.input = new Request(context.input);\n                    Object.keys(tracingHeaders).forEach(function (key) {\n                        ;\n                        context.input.headers.append(key, tracingHeaders[key]);\n                    });\n                }\n                else {\n                    context.init = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.shallowClone)(context.init);\n                    var headers_1 = [];\n                    if (context.init.headers instanceof Headers) {\n                        context.init.headers.forEach(function (value, key) {\n                            headers_1.push([key, value]);\n                        });\n                    }\n                    else if (Array.isArray(context.init.headers)) {\n                        context.init.headers.forEach(function (header) {\n                            headers_1.push(header);\n                        });\n                    }\n                    else if (context.init.headers) {\n                        Object.keys(context.init.headers).forEach(function (key) {\n                            headers_1.push([key, context.init.headers[key]]);\n                        });\n                    }\n                    context.init.headers = headers_1.concat((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.objectEntries)(tracingHeaders));\n                }\n            });\n        },\n        traceXhr: function (context, xhr) {\n            return injectHeadersIfTracingAllowed(configuration, context, sessionManager, function (tracingHeaders) {\n                Object.keys(tracingHeaders).forEach(function (name) {\n                    xhr.setRequestHeader(name, tracingHeaders[name]);\n                });\n            });\n        },\n    };\n}\nfunction injectHeadersIfTracingAllowed(configuration, context, sessionManager, inject) {\n    if (!isTracingSupported() || !sessionManager.findTrackedSession()) {\n        return;\n    }\n    var tracingOption = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.find)(configuration.allowedTracingUrls, function (tracingOption) {\n        return (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.matchList)([tracingOption.match], context.url, true);\n    });\n    if (!tracingOption) {\n        return;\n    }\n    context.traceId = new TraceIdentifier();\n    context.spanId = new TraceIdentifier();\n    context.traceSampled = !(0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.isNumber)(configuration.traceSampleRate) || (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.performDraw)(configuration.traceSampleRate);\n    inject(makeTracingHeaders(context.traceId, context.spanId, context.traceSampled, tracingOption.propagatorTypes));\n}\nfunction isTracingSupported() {\n    return getCrypto() !== undefined;\n}\nfunction getCrypto() {\n    return window.crypto || window.msCrypto;\n}\n/**\n * When trace is not sampled, set priority to '0' instead of not adding the tracing headers\n * to prepare the implementation for sampling delegation.\n */\nfunction makeTracingHeaders(traceId, spanId, traceSampled, propagatorTypes) {\n    var tracingHeaders = {};\n    propagatorTypes.forEach(function (propagatorType) {\n        switch (propagatorType) {\n            case 'datadog': {\n                (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.assign)(tracingHeaders, {\n                    'x-datadog-origin': 'rum',\n                    'x-datadog-parent-id': spanId.toDecimalString(),\n                    'x-datadog-sampling-priority': traceSampled ? '1' : '0',\n                    'x-datadog-trace-id': traceId.toDecimalString(),\n                });\n                break;\n            }\n            // https://www.w3.org/TR/trace-context/\n            case 'tracecontext': {\n                (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.assign)(tracingHeaders, {\n                    traceparent: \"00-0000000000000000\".concat(traceId.toPaddedHexadecimalString(), \"-\").concat(spanId.toPaddedHexadecimalString(), \"-0\").concat(traceSampled ? '1' : '0'),\n                });\n                break;\n            }\n            // https://github.com/openzipkin/b3-propagation\n            case 'b3': {\n                (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.assign)(tracingHeaders, {\n                    b3: \"\".concat(traceId.toPaddedHexadecimalString(), \"-\").concat(spanId.toPaddedHexadecimalString(), \"-\").concat(traceSampled ? '1' : '0'),\n                });\n                break;\n            }\n            case 'b3multi': {\n                (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.assign)(tracingHeaders, {\n                    'X-B3-TraceId': traceId.toPaddedHexadecimalString(),\n                    'X-B3-SpanId': spanId.toPaddedHexadecimalString(),\n                    'X-B3-Sampled': traceSampled ? '1' : '0',\n                });\n                break;\n            }\n        }\n    });\n    return tracingHeaders;\n}\n/* eslint-disable no-bitwise */\nvar TraceIdentifier = /** @class */ (function () {\n    function TraceIdentifier() {\n        this.buffer = new Uint8Array(8);\n        getCrypto().getRandomValues(this.buffer);\n        this.buffer[0] = this.buffer[0] & 0x7f; // force 63-bit\n    }\n    TraceIdentifier.prototype.toString = function (radix) {\n        var high = this.readInt32(0);\n        var low = this.readInt32(4);\n        var str = '';\n        do {\n            var mod = (high % radix) * 4294967296 + low;\n            high = Math.floor(high / radix);\n            low = Math.floor(mod / radix);\n            str = (mod % radix).toString(radix) + str;\n        } while (high || low);\n        return str;\n    };\n    /**\n     * Format used everywhere except the trace intake\n     */\n    TraceIdentifier.prototype.toDecimalString = function () {\n        return this.toString(10);\n    };\n    /**\n     * Format used by OTel headers\n     */\n    TraceIdentifier.prototype.toPaddedHexadecimalString = function () {\n        var traceId = this.toString(16);\n        return Array(17 - traceId.length).join('0') + traceId;\n    };\n    TraceIdentifier.prototype.readInt32 = function (offset) {\n        return (this.buffer[offset] * 16777216 +\n            (this.buffer[offset + 1] << 16) +\n            (this.buffer[offset + 2] << 8) +\n            this.buffer[offset + 3]);\n    };\n    return TraceIdentifier;\n}());\n\n/* eslint-enable no-bitwise */\n//# sourceMappingURL=tracer.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2RvbWFpbi90cmFjaW5nL3RyYWNlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQTZJO0FBQ3RJO0FBQ1A7QUFDQSxZQUFZLDhEQUFPO0FBQ25CLFFBQVEsb0VBQWE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBLG1DQUFtQyxtRUFBWTtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBLDREQUE0RCxvRUFBYTtBQUN6RTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsMkRBQUk7QUFDNUIsZUFBZSxnRUFBUztBQUN4QixLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QiwrREFBUSxtQ0FBbUMsa0VBQVc7QUFDbEY7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiw2REFBTTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiw2REFBTTtBQUN0QjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiw2REFBTTtBQUN0QjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsNkRBQU07QUFDdEI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRDtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDMEI7QUFDM0I7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhcmNhc3Rlci8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vZG9tYWluL3RyYWNpbmcvdHJhY2VyLmpzP2VlZDkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgb2JqZWN0RW50cmllcywgc2hhbGxvd0Nsb25lLCBwZXJmb3JtRHJhdywgaXNOdW1iZXIsIGFzc2lnbiwgZmluZCwgZ2V0VHlwZSwgaXNNYXRjaE9wdGlvbiwgbWF0Y2hMaXN0LCB9IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItY29yZSc7XG5leHBvcnQgZnVuY3Rpb24gaXNUcmFjaW5nT3B0aW9uKGl0ZW0pIHtcbiAgICB2YXIgZXhwZWN0ZWRJdGVtID0gaXRlbTtcbiAgICByZXR1cm4gKGdldFR5cGUoZXhwZWN0ZWRJdGVtKSA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgaXNNYXRjaE9wdGlvbihleHBlY3RlZEl0ZW0ubWF0Y2gpICYmXG4gICAgICAgIEFycmF5LmlzQXJyYXkoZXhwZWN0ZWRJdGVtLnByb3BhZ2F0b3JUeXBlcykpO1xufVxuLyoqXG4gKiBDbGVhciB0cmFjaW5nIGluZm9ybWF0aW9uIHRvIGF2b2lkIGluY29tcGxldGUgdHJhY2VzLiBJZGVhbGx5LCB3ZSBzaG91bGQgZG8gaXQgd2hlbiB0aGVcbiAqIHJlcXVlc3QgZGlkIG5vdCByZWFjaCB0aGUgc2VydmVyLCBidXQgdGhlIGJyb3dzZXIgZG9lcyBub3QgZXhwb3NlIHRoaXMuIFNvLCB3ZSBjbGVhciB0cmFjaW5nXG4gKiBpbmZvcm1hdGlvbiBpZiB0aGUgcmVxdWVzdCBlbmRlZCB3aXRoIHN0YXR1cyAwIHdpdGhvdXQgYmVpbmcgYWJvcnRlZCBieSB0aGUgYXBwbGljYXRpb24uXG4gKlxuICogUmVhc29uaW5nOlxuICpcbiAqICogQXBwbGljYXRpb25zIGFyZSB1c3VhbGx5IGFib3J0aW5nIHJlcXVlc3RzIGFmdGVyIGEgYml0IG9mIHRpbWUsIGZvciBleGFtcGxlIHdoZW4gdGhlIHVzZXIgaXNcbiAqIHR5cGluZyAoYXV0b2NvbXBsZXRpb24pIG9yIG5hdmlnYXRpbmcgYXdheSAoaW4gYSBTUEEpLiBXaXRoIGEgcGVyZm9ybWFudCBkZXZpY2UgYW5kIGdvb2RcbiAqIG5ldHdvcmsgY29uZGl0aW9ucywgdGhlIHJlcXVlc3QgaXMgbGlrZWx5IHRvIHJlYWNoIHRoZSBzZXJ2ZXIgYmVmb3JlIGJlaW5nIGNhbmNlbGVkLlxuICpcbiAqICogUmVxdWVzdHMgYWJvcnRlZCBvdGhlcndpc2UgKGV4OiBsYWNrIG9mIGludGVybmV0LCBDT1JTIGlzc3VlLCBibG9ja2VkIGJ5IGEgcHJpdmFjeSBleHRlbnNpb24pXG4gKiBhcmUgbGlrZWx5IHRvIGZpbmlzaCBxdWlja2x5IGFuZCB3aXRob3V0IHJlYWNoaW5nIHRoZSBzZXJ2ZXIuXG4gKlxuICogT2YgY291cnNlLCBpdCBtaWdodCBub3QgYmUgdGhlIGNhc2UgZXZlcnkgdGltZSwgYnV0IGl0IHNob3VsZCBsaW1pdCBoYXZpbmcgaW5jb21wbGV0ZSB0cmFjZXMgYVxuICogYml0LlxuICogKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGVhclRyYWNpbmdJZk5lZWRlZChjb250ZXh0KSB7XG4gICAgaWYgKGNvbnRleHQuc3RhdHVzID09PSAwICYmICFjb250ZXh0LmlzQWJvcnRlZCkge1xuICAgICAgICBjb250ZXh0LnRyYWNlSWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnRleHQuc3BhbklkID0gdW5kZWZpbmVkO1xuICAgICAgICBjb250ZXh0LnRyYWNlU2FtcGxlZCA9IHVuZGVmaW5lZDtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gc3RhcnRUcmFjZXIoY29uZmlndXJhdGlvbiwgc2Vzc2lvbk1hbmFnZXIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBjbGVhclRyYWNpbmdJZk5lZWRlZDogY2xlYXJUcmFjaW5nSWZOZWVkZWQsXG4gICAgICAgIHRyYWNlRmV0Y2g6IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAgICAgICByZXR1cm4gaW5qZWN0SGVhZGVyc0lmVHJhY2luZ0FsbG93ZWQoY29uZmlndXJhdGlvbiwgY29udGV4dCwgc2Vzc2lvbk1hbmFnZXIsIGZ1bmN0aW9uICh0cmFjaW5nSGVhZGVycykge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICBpZiAoY29udGV4dC5pbnB1dCBpbnN0YW5jZW9mIFJlcXVlc3QgJiYgISgoX2EgPSBjb250ZXh0LmluaXQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5oZWFkZXJzKSkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmlucHV0ID0gbmV3IFJlcXVlc3QoY29udGV4dC5pbnB1dCk7XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKHRyYWNpbmdIZWFkZXJzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuaW5wdXQuaGVhZGVycy5hcHBlbmQoa2V5LCB0cmFjaW5nSGVhZGVyc1trZXldKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmluaXQgPSBzaGFsbG93Q2xvbmUoY29udGV4dC5pbml0KTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGhlYWRlcnNfMSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29udGV4dC5pbml0LmhlYWRlcnMgaW5zdGFuY2VvZiBIZWFkZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmluaXQuaGVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyc18xLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoY29udGV4dC5pbml0LmhlYWRlcnMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmluaXQuaGVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uIChoZWFkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzXzEucHVzaChoZWFkZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoY29udGV4dC5pbml0LmhlYWRlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKGNvbnRleHQuaW5pdC5oZWFkZXJzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzXzEucHVzaChba2V5LCBjb250ZXh0LmluaXQuaGVhZGVyc1trZXldXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmluaXQuaGVhZGVycyA9IGhlYWRlcnNfMS5jb25jYXQob2JqZWN0RW50cmllcyh0cmFjaW5nSGVhZGVycykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICB0cmFjZVhocjogZnVuY3Rpb24gKGNvbnRleHQsIHhocikge1xuICAgICAgICAgICAgcmV0dXJuIGluamVjdEhlYWRlcnNJZlRyYWNpbmdBbGxvd2VkKGNvbmZpZ3VyYXRpb24sIGNvbnRleHQsIHNlc3Npb25NYW5hZ2VyLCBmdW5jdGlvbiAodHJhY2luZ0hlYWRlcnMpIHtcbiAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyh0cmFjaW5nSGVhZGVycykuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihuYW1lLCB0cmFjaW5nSGVhZGVyc1tuYW1lXSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICB9O1xufVxuZnVuY3Rpb24gaW5qZWN0SGVhZGVyc0lmVHJhY2luZ0FsbG93ZWQoY29uZmlndXJhdGlvbiwgY29udGV4dCwgc2Vzc2lvbk1hbmFnZXIsIGluamVjdCkge1xuICAgIGlmICghaXNUcmFjaW5nU3VwcG9ydGVkKCkgfHwgIXNlc3Npb25NYW5hZ2VyLmZpbmRUcmFja2VkU2Vzc2lvbigpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRyYWNpbmdPcHRpb24gPSBmaW5kKGNvbmZpZ3VyYXRpb24uYWxsb3dlZFRyYWNpbmdVcmxzLCBmdW5jdGlvbiAodHJhY2luZ09wdGlvbikge1xuICAgICAgICByZXR1cm4gbWF0Y2hMaXN0KFt0cmFjaW5nT3B0aW9uLm1hdGNoXSwgY29udGV4dC51cmwsIHRydWUpO1xuICAgIH0pO1xuICAgIGlmICghdHJhY2luZ09wdGlvbikge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnRleHQudHJhY2VJZCA9IG5ldyBUcmFjZUlkZW50aWZpZXIoKTtcbiAgICBjb250ZXh0LnNwYW5JZCA9IG5ldyBUcmFjZUlkZW50aWZpZXIoKTtcbiAgICBjb250ZXh0LnRyYWNlU2FtcGxlZCA9ICFpc051bWJlcihjb25maWd1cmF0aW9uLnRyYWNlU2FtcGxlUmF0ZSkgfHwgcGVyZm9ybURyYXcoY29uZmlndXJhdGlvbi50cmFjZVNhbXBsZVJhdGUpO1xuICAgIGluamVjdChtYWtlVHJhY2luZ0hlYWRlcnMoY29udGV4dC50cmFjZUlkLCBjb250ZXh0LnNwYW5JZCwgY29udGV4dC50cmFjZVNhbXBsZWQsIHRyYWNpbmdPcHRpb24ucHJvcGFnYXRvclR5cGVzKSk7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNUcmFjaW5nU3VwcG9ydGVkKCkge1xuICAgIHJldHVybiBnZXRDcnlwdG8oKSAhPT0gdW5kZWZpbmVkO1xufVxuZnVuY3Rpb24gZ2V0Q3J5cHRvKCkge1xuICAgIHJldHVybiB3aW5kb3cuY3J5cHRvIHx8IHdpbmRvdy5tc0NyeXB0bztcbn1cbi8qKlxuICogV2hlbiB0cmFjZSBpcyBub3Qgc2FtcGxlZCwgc2V0IHByaW9yaXR5IHRvICcwJyBpbnN0ZWFkIG9mIG5vdCBhZGRpbmcgdGhlIHRyYWNpbmcgaGVhZGVyc1xuICogdG8gcHJlcGFyZSB0aGUgaW1wbGVtZW50YXRpb24gZm9yIHNhbXBsaW5nIGRlbGVnYXRpb24uXG4gKi9cbmZ1bmN0aW9uIG1ha2VUcmFjaW5nSGVhZGVycyh0cmFjZUlkLCBzcGFuSWQsIHRyYWNlU2FtcGxlZCwgcHJvcGFnYXRvclR5cGVzKSB7XG4gICAgdmFyIHRyYWNpbmdIZWFkZXJzID0ge307XG4gICAgcHJvcGFnYXRvclR5cGVzLmZvckVhY2goZnVuY3Rpb24gKHByb3BhZ2F0b3JUeXBlKSB7XG4gICAgICAgIHN3aXRjaCAocHJvcGFnYXRvclR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ2RhdGFkb2cnOiB7XG4gICAgICAgICAgICAgICAgYXNzaWduKHRyYWNpbmdIZWFkZXJzLCB7XG4gICAgICAgICAgICAgICAgICAgICd4LWRhdGFkb2ctb3JpZ2luJzogJ3J1bScsXG4gICAgICAgICAgICAgICAgICAgICd4LWRhdGFkb2ctcGFyZW50LWlkJzogc3BhbklkLnRvRGVjaW1hbFN0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICAneC1kYXRhZG9nLXNhbXBsaW5nLXByaW9yaXR5JzogdHJhY2VTYW1wbGVkID8gJzEnIDogJzAnLFxuICAgICAgICAgICAgICAgICAgICAneC1kYXRhZG9nLXRyYWNlLWlkJzogdHJhY2VJZC50b0RlY2ltYWxTdHJpbmcoKSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGh0dHBzOi8vd3d3LnczLm9yZy9UUi90cmFjZS1jb250ZXh0L1xuICAgICAgICAgICAgY2FzZSAndHJhY2Vjb250ZXh0Jzoge1xuICAgICAgICAgICAgICAgIGFzc2lnbih0cmFjaW5nSGVhZGVycywge1xuICAgICAgICAgICAgICAgICAgICB0cmFjZXBhcmVudDogXCIwMC0wMDAwMDAwMDAwMDAwMDAwXCIuY29uY2F0KHRyYWNlSWQudG9QYWRkZWRIZXhhZGVjaW1hbFN0cmluZygpLCBcIi1cIikuY29uY2F0KHNwYW5JZC50b1BhZGRlZEhleGFkZWNpbWFsU3RyaW5nKCksIFwiLTBcIikuY29uY2F0KHRyYWNlU2FtcGxlZCA/ICcxJyA6ICcwJyksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vb3BlbnppcGtpbi9iMy1wcm9wYWdhdGlvblxuICAgICAgICAgICAgY2FzZSAnYjMnOiB7XG4gICAgICAgICAgICAgICAgYXNzaWduKHRyYWNpbmdIZWFkZXJzLCB7XG4gICAgICAgICAgICAgICAgICAgIGIzOiBcIlwiLmNvbmNhdCh0cmFjZUlkLnRvUGFkZGVkSGV4YWRlY2ltYWxTdHJpbmcoKSwgXCItXCIpLmNvbmNhdChzcGFuSWQudG9QYWRkZWRIZXhhZGVjaW1hbFN0cmluZygpLCBcIi1cIikuY29uY2F0KHRyYWNlU2FtcGxlZCA/ICcxJyA6ICcwJyksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdiM211bHRpJzoge1xuICAgICAgICAgICAgICAgIGFzc2lnbih0cmFjaW5nSGVhZGVycywge1xuICAgICAgICAgICAgICAgICAgICAnWC1CMy1UcmFjZUlkJzogdHJhY2VJZC50b1BhZGRlZEhleGFkZWNpbWFsU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICdYLUIzLVNwYW5JZCc6IHNwYW5JZC50b1BhZGRlZEhleGFkZWNpbWFsU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICdYLUIzLVNhbXBsZWQnOiB0cmFjZVNhbXBsZWQgPyAnMScgOiAnMCcsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gdHJhY2luZ0hlYWRlcnM7XG59XG4vKiBlc2xpbnQtZGlzYWJsZSBuby1iaXR3aXNlICovXG52YXIgVHJhY2VJZGVudGlmaWVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFRyYWNlSWRlbnRpZmllcigpIHtcbiAgICAgICAgdGhpcy5idWZmZXIgPSBuZXcgVWludDhBcnJheSg4KTtcbiAgICAgICAgZ2V0Q3J5cHRvKCkuZ2V0UmFuZG9tVmFsdWVzKHRoaXMuYnVmZmVyKTtcbiAgICAgICAgdGhpcy5idWZmZXJbMF0gPSB0aGlzLmJ1ZmZlclswXSAmIDB4N2Y7IC8vIGZvcmNlIDYzLWJpdFxuICAgIH1cbiAgICBUcmFjZUlkZW50aWZpZXIucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKHJhZGl4KSB7XG4gICAgICAgIHZhciBoaWdoID0gdGhpcy5yZWFkSW50MzIoMCk7XG4gICAgICAgIHZhciBsb3cgPSB0aGlzLnJlYWRJbnQzMig0KTtcbiAgICAgICAgdmFyIHN0ciA9ICcnO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICB2YXIgbW9kID0gKGhpZ2ggJSByYWRpeCkgKiA0Mjk0OTY3Mjk2ICsgbG93O1xuICAgICAgICAgICAgaGlnaCA9IE1hdGguZmxvb3IoaGlnaCAvIHJhZGl4KTtcbiAgICAgICAgICAgIGxvdyA9IE1hdGguZmxvb3IobW9kIC8gcmFkaXgpO1xuICAgICAgICAgICAgc3RyID0gKG1vZCAlIHJhZGl4KS50b1N0cmluZyhyYWRpeCkgKyBzdHI7XG4gICAgICAgIH0gd2hpbGUgKGhpZ2ggfHwgbG93KTtcbiAgICAgICAgcmV0dXJuIHN0cjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEZvcm1hdCB1c2VkIGV2ZXJ5d2hlcmUgZXhjZXB0IHRoZSB0cmFjZSBpbnRha2VcbiAgICAgKi9cbiAgICBUcmFjZUlkZW50aWZpZXIucHJvdG90eXBlLnRvRGVjaW1hbFN0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9TdHJpbmcoMTApO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRm9ybWF0IHVzZWQgYnkgT1RlbCBoZWFkZXJzXG4gICAgICovXG4gICAgVHJhY2VJZGVudGlmaWVyLnByb3RvdHlwZS50b1BhZGRlZEhleGFkZWNpbWFsU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdHJhY2VJZCA9IHRoaXMudG9TdHJpbmcoMTYpO1xuICAgICAgICByZXR1cm4gQXJyYXkoMTcgLSB0cmFjZUlkLmxlbmd0aCkuam9pbignMCcpICsgdHJhY2VJZDtcbiAgICB9O1xuICAgIFRyYWNlSWRlbnRpZmllci5wcm90b3R5cGUucmVhZEludDMyID0gZnVuY3Rpb24gKG9mZnNldCkge1xuICAgICAgICByZXR1cm4gKHRoaXMuYnVmZmVyW29mZnNldF0gKiAxNjc3NzIxNiArXG4gICAgICAgICAgICAodGhpcy5idWZmZXJbb2Zmc2V0ICsgMV0gPDwgMTYpICtcbiAgICAgICAgICAgICh0aGlzLmJ1ZmZlcltvZmZzZXQgKyAyXSA8PCA4KSArXG4gICAgICAgICAgICB0aGlzLmJ1ZmZlcltvZmZzZXQgKyAzXSk7XG4gICAgfTtcbiAgICByZXR1cm4gVHJhY2VJZGVudGlmaWVyO1xufSgpKTtcbmV4cG9ydCB7IFRyYWNlSWRlbnRpZmllciB9O1xuLyogZXNsaW50LWVuYWJsZSBuby1iaXR3aXNlICovXG4vLyMgc291cmNlTWFwcGluZ1VSTD10cmFjZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/tracing/tracer.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/trackEventCounts.js":
/*!***********************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum-core/esm/domain/trackEventCounts.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   trackEventCounts: () => (/* binding */ trackEventCounts)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/functionUtils.js\");\n\nfunction trackEventCounts(_a) {\n    var lifeCycle = _a.lifeCycle, isChildEvent = _a.isChildEvent, _b = _a.onChange, callback = _b === void 0 ? _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.noop : _b;\n    var eventCounts = {\n        errorCount: 0,\n        longTaskCount: 0,\n        resourceCount: 0,\n        actionCount: 0,\n        frustrationCount: 0,\n    };\n    var subscription = lifeCycle.subscribe(11 /* LifeCycleEventType.RUM_EVENT_COLLECTED */, function (event) {\n        if (event.type === 'view' || !isChildEvent(event)) {\n            return;\n        }\n        switch (event.type) {\n            case \"error\" /* RumEventType.ERROR */:\n                eventCounts.errorCount += 1;\n                callback();\n                break;\n            case \"action\" /* RumEventType.ACTION */:\n                eventCounts.actionCount += 1;\n                if (event.action.frustration) {\n                    eventCounts.frustrationCount += event.action.frustration.type.length;\n                }\n                callback();\n                break;\n            case \"long_task\" /* RumEventType.LONG_TASK */:\n                eventCounts.longTaskCount += 1;\n                callback();\n                break;\n            case \"resource\" /* RumEventType.RESOURCE */:\n                eventCounts.resourceCount += 1;\n                callback();\n                break;\n        }\n    });\n    return {\n        stop: function () {\n            subscription.unsubscribe();\n        },\n        eventCounts: eventCounts,\n    };\n}\n//# sourceMappingURL=trackEventCounts.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2RvbWFpbi90cmFja0V2ZW50Q291bnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQTZDO0FBQ3RDO0FBQ1AsK0dBQStHLHVEQUFJO0FBQ25IO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFyY2FzdGVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLXJ1bS1jb3JlL2VzbS9kb21haW4vdHJhY2tFdmVudENvdW50cy5qcz8yMGE2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IG5vb3AgfSBmcm9tICdAZGF0YWRvZy9icm93c2VyLWNvcmUnO1xuZXhwb3J0IGZ1bmN0aW9uIHRyYWNrRXZlbnRDb3VudHMoX2EpIHtcbiAgICB2YXIgbGlmZUN5Y2xlID0gX2EubGlmZUN5Y2xlLCBpc0NoaWxkRXZlbnQgPSBfYS5pc0NoaWxkRXZlbnQsIF9iID0gX2Eub25DaGFuZ2UsIGNhbGxiYWNrID0gX2IgPT09IHZvaWQgMCA/IG5vb3AgOiBfYjtcbiAgICB2YXIgZXZlbnRDb3VudHMgPSB7XG4gICAgICAgIGVycm9yQ291bnQ6IDAsXG4gICAgICAgIGxvbmdUYXNrQ291bnQ6IDAsXG4gICAgICAgIHJlc291cmNlQ291bnQ6IDAsXG4gICAgICAgIGFjdGlvbkNvdW50OiAwLFxuICAgICAgICBmcnVzdHJhdGlvbkNvdW50OiAwLFxuICAgIH07XG4gICAgdmFyIHN1YnNjcmlwdGlvbiA9IGxpZmVDeWNsZS5zdWJzY3JpYmUoMTEgLyogTGlmZUN5Y2xlRXZlbnRUeXBlLlJVTV9FVkVOVF9DT0xMRUNURUQgKi8sIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ3ZpZXcnIHx8ICFpc0NoaWxkRXZlbnQoZXZlbnQpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoIChldmVudC50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIFwiZXJyb3JcIiAvKiBSdW1FdmVudFR5cGUuRVJST1IgKi86XG4gICAgICAgICAgICAgICAgZXZlbnRDb3VudHMuZXJyb3JDb3VudCArPSAxO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiYWN0aW9uXCIgLyogUnVtRXZlbnRUeXBlLkFDVElPTiAqLzpcbiAgICAgICAgICAgICAgICBldmVudENvdW50cy5hY3Rpb25Db3VudCArPSAxO1xuICAgICAgICAgICAgICAgIGlmIChldmVudC5hY3Rpb24uZnJ1c3RyYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRDb3VudHMuZnJ1c3RyYXRpb25Db3VudCArPSBldmVudC5hY3Rpb24uZnJ1c3RyYXRpb24udHlwZS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwibG9uZ190YXNrXCIgLyogUnVtRXZlbnRUeXBlLkxPTkdfVEFTSyAqLzpcbiAgICAgICAgICAgICAgICBldmVudENvdW50cy5sb25nVGFza0NvdW50ICs9IDE7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJyZXNvdXJjZVwiIC8qIFJ1bUV2ZW50VHlwZS5SRVNPVVJDRSAqLzpcbiAgICAgICAgICAgICAgICBldmVudENvdW50cy5yZXNvdXJjZUNvdW50ICs9IDE7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICAgIHN0b3A6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICB9LFxuICAgICAgICBldmVudENvdW50czogZXZlbnRDb3VudHMsXG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRyYWNrRXZlbnRDb3VudHMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/trackEventCounts.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/waitPageActivityEnd.js":
/*!**************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum-core/esm/domain/waitPageActivityEnd.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PAGE_ACTIVITY_END_DELAY: () => (/* binding */ PAGE_ACTIVITY_END_DELAY),\n/* harmony export */   PAGE_ACTIVITY_VALIDATION_DELAY: () => (/* binding */ PAGE_ACTIVITY_VALIDATION_DELAY),\n/* harmony export */   createPageActivityObservable: () => (/* binding */ createPageActivityObservable),\n/* harmony export */   doWaitPageActivityEnd: () => (/* binding */ doWaitPageActivityEnd),\n/* harmony export */   waitPageActivityEnd: () => (/* binding */ waitPageActivityEnd)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/timer.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/monitor.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/observable.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/matchOption.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/instrumentMethod.js\");\n\n// Delay to wait for a page activity to validate the tracking process\nvar PAGE_ACTIVITY_VALIDATION_DELAY = 100;\n// Delay to wait after a page activity to end the tracking process\nvar PAGE_ACTIVITY_END_DELAY = 100;\n/**\n * Wait for the page activity end\n *\n * Detection lifecycle:\n * ```\n *                        Wait page activity end\n *              .-------------------'--------------------.\n *              v                                        v\n *     [Wait for a page activity ]          [Wait for a maximum duration]\n *     [timeout: VALIDATION_DELAY]          [  timeout: maxDuration     ]\n *          /                  \\                           |\n *         v                    v                          |\n *  [No page activity]   [Page activity]                   |\n *         |                   |,----------------------.   |\n *         v                   v                       |   |\n *     (Discard)     [Wait for a page activity]        |   |\n *                   [   timeout: END_DELAY   ]        |   |\n *                       /                \\            |   |\n *                      v                  v           |   |\n *             [No page activity]    [Page activity]   |   |\n *                      |                 |            |   |\n *                      |                 '------------'   |\n *                      '-----------. ,--------------------'\n *                                   v\n *                                 (End)\n * ```\n *\n * Note: by assuming that maxDuration is greater than VALIDATION_DELAY, we are sure that if the\n * process is still alive after maxDuration, it has been validated.\n */\nfunction waitPageActivityEnd(lifeCycle, domMutationObservable, configuration, pageActivityEndCallback, maxDuration) {\n    var pageActivityObservable = createPageActivityObservable(lifeCycle, domMutationObservable, configuration);\n    return doWaitPageActivityEnd(pageActivityObservable, pageActivityEndCallback, maxDuration);\n}\nfunction doWaitPageActivityEnd(pageActivityObservable, pageActivityEndCallback, maxDuration) {\n    var pageActivityEndTimeoutId;\n    var hasCompleted = false;\n    var validationTimeoutId = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.setTimeout)((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.monitor)(function () { return complete({ hadActivity: false }); }), PAGE_ACTIVITY_VALIDATION_DELAY);\n    var maxDurationTimeoutId = maxDuration !== undefined\n        ? (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.setTimeout)((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.monitor)(function () { return complete({ hadActivity: true, end: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.timeStampNow)() }); }), maxDuration)\n        : undefined;\n    var pageActivitySubscription = pageActivityObservable.subscribe(function (_a) {\n        var isBusy = _a.isBusy;\n        (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.clearTimeout)(validationTimeoutId);\n        (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.clearTimeout)(pageActivityEndTimeoutId);\n        var lastChangeTime = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.timeStampNow)();\n        if (!isBusy) {\n            pageActivityEndTimeoutId = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.setTimeout)((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.monitor)(function () { return complete({ hadActivity: true, end: lastChangeTime }); }), PAGE_ACTIVITY_END_DELAY);\n        }\n    });\n    var stop = function () {\n        hasCompleted = true;\n        (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.clearTimeout)(validationTimeoutId);\n        (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.clearTimeout)(pageActivityEndTimeoutId);\n        (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.clearTimeout)(maxDurationTimeoutId);\n        pageActivitySubscription.unsubscribe();\n    };\n    function complete(event) {\n        if (hasCompleted) {\n            return;\n        }\n        stop();\n        pageActivityEndCallback(event);\n    }\n    return { stop: stop };\n}\nfunction createPageActivityObservable(lifeCycle, domMutationObservable, configuration) {\n    var observable = new _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.Observable(function () {\n        var subscriptions = [];\n        var firstRequestIndex;\n        var pendingRequestsCount = 0;\n        subscriptions.push(domMutationObservable.subscribe(notifyPageActivity), lifeCycle.subscribe(0 /* LifeCycleEventType.PERFORMANCE_ENTRIES_COLLECTED */, function (entries) {\n            if (entries.some(function (entry) { return entry.entryType === 'resource' && !isExcludedUrl(configuration, entry.name); })) {\n                notifyPageActivity();\n            }\n        }), lifeCycle.subscribe(5 /* LifeCycleEventType.REQUEST_STARTED */, function (startEvent) {\n            if (isExcludedUrl(configuration, startEvent.url)) {\n                return;\n            }\n            if (firstRequestIndex === undefined) {\n                firstRequestIndex = startEvent.requestIndex;\n            }\n            pendingRequestsCount += 1;\n            notifyPageActivity();\n        }), lifeCycle.subscribe(6 /* LifeCycleEventType.REQUEST_COMPLETED */, function (request) {\n            if (isExcludedUrl(configuration, request.url) ||\n                firstRequestIndex === undefined ||\n                // If the request started before the tracking start, ignore it\n                request.requestIndex < firstRequestIndex) {\n                return;\n            }\n            pendingRequestsCount -= 1;\n            notifyPageActivity();\n        }));\n        var stopTrackingWindowOpen = trackWindowOpen(notifyPageActivity).stop;\n        return function () {\n            stopTrackingWindowOpen();\n            subscriptions.forEach(function (s) { return s.unsubscribe(); });\n        };\n        function notifyPageActivity() {\n            observable.notify({ isBusy: pendingRequestsCount > 0 });\n        }\n    });\n    return observable;\n}\nfunction isExcludedUrl(configuration, requestUrl) {\n    return (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.matchList)(configuration.excludedActivityUrls, requestUrl);\n}\nfunction trackWindowOpen(callback) {\n    return (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.instrumentMethodAndCallOriginal)(window, 'open', { before: callback });\n}\n//# sourceMappingURL=waitPageActivityEnd.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2RvbWFpbi93YWl0UGFnZUFjdGl2aXR5RW5kLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQWlKO0FBQ2pKO0FBQ087QUFDUDtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSw4QkFBOEIsaUVBQVUsQ0FBQyw4REFBTyxlQUFlLGtCQUFrQixvQkFBb0IsSUFBSTtBQUN6RztBQUNBLFVBQVUsaUVBQVUsQ0FBQyw4REFBTyxlQUFlLGtCQUFrQix3QkFBd0IsbUVBQVksSUFBSSxJQUFJO0FBQ3pHO0FBQ0E7QUFDQTtBQUNBLFFBQVEsbUVBQVk7QUFDcEIsUUFBUSxtRUFBWTtBQUNwQiw2QkFBNkIsbUVBQVk7QUFDekM7QUFDQSx1Q0FBdUMsaUVBQVUsQ0FBQyw4REFBTyxlQUFlLGtCQUFrQix3Q0FBd0MsSUFBSTtBQUN0STtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsUUFBUSxtRUFBWTtBQUNwQixRQUFRLG1FQUFZO0FBQ3BCLFFBQVEsbUVBQVk7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ087QUFDUCx5QkFBeUIsNkRBQVU7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0QscUZBQXFGO0FBQ3JJO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCx5QkFBeUI7QUFDMUU7QUFDQTtBQUNBLGdDQUFnQyxrQ0FBa0M7QUFDbEU7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsV0FBVyxnRUFBUztBQUNwQjtBQUNBO0FBQ0EsV0FBVyxzRkFBK0IsbUJBQW1CLGtCQUFrQjtBQUMvRTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFyY2FzdGVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLXJ1bS1jb3JlL2VzbS9kb21haW4vd2FpdFBhZ2VBY3Rpdml0eUVuZC5qcz8yNzEyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGluc3RydW1lbnRNZXRob2RBbmRDYWxsT3JpZ2luYWwsIG1hdGNoTGlzdCwgbW9uaXRvciwgT2JzZXJ2YWJsZSwgdGltZVN0YW1wTm93LCBzZXRUaW1lb3V0LCBjbGVhclRpbWVvdXQsIH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJztcbi8vIERlbGF5IHRvIHdhaXQgZm9yIGEgcGFnZSBhY3Rpdml0eSB0byB2YWxpZGF0ZSB0aGUgdHJhY2tpbmcgcHJvY2Vzc1xuZXhwb3J0IHZhciBQQUdFX0FDVElWSVRZX1ZBTElEQVRJT05fREVMQVkgPSAxMDA7XG4vLyBEZWxheSB0byB3YWl0IGFmdGVyIGEgcGFnZSBhY3Rpdml0eSB0byBlbmQgdGhlIHRyYWNraW5nIHByb2Nlc3NcbmV4cG9ydCB2YXIgUEFHRV9BQ1RJVklUWV9FTkRfREVMQVkgPSAxMDA7XG4vKipcbiAqIFdhaXQgZm9yIHRoZSBwYWdlIGFjdGl2aXR5IGVuZFxuICpcbiAqIERldGVjdGlvbiBsaWZlY3ljbGU6XG4gKiBgYGBcbiAqICAgICAgICAgICAgICAgICAgICAgICAgV2FpdCBwYWdlIGFjdGl2aXR5IGVuZFxuICogICAgICAgICAgICAgIC4tLS0tLS0tLS0tLS0tLS0tLS0tJy0tLS0tLS0tLS0tLS0tLS0tLS0tLlxuICogICAgICAgICAgICAgIHYgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdlxuICogICAgIFtXYWl0IGZvciBhIHBhZ2UgYWN0aXZpdHkgXSAgICAgICAgICBbV2FpdCBmb3IgYSBtYXhpbXVtIGR1cmF0aW9uXVxuICogICAgIFt0aW1lb3V0OiBWQUxJREFUSU9OX0RFTEFZXSAgICAgICAgICBbICB0aW1lb3V0OiBtYXhEdXJhdGlvbiAgICAgXVxuICogICAgICAgICAgLyAgICAgICAgICAgICAgICAgIFxcICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogICAgICAgICB2ICAgICAgICAgICAgICAgICAgICB2ICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiAgW05vIHBhZ2UgYWN0aXZpdHldICAgW1BhZ2UgYWN0aXZpdHldICAgICAgICAgICAgICAgICAgIHxcbiAqICAgICAgICAgfCAgICAgICAgICAgICAgICAgICB8LC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0uICAgfFxuICogICAgICAgICB2ICAgICAgICAgICAgICAgICAgIHYgICAgICAgICAgICAgICAgICAgICAgIHwgICB8XG4gKiAgICAgKERpc2NhcmQpICAgICBbV2FpdCBmb3IgYSBwYWdlIGFjdGl2aXR5XSAgICAgICAgfCAgIHxcbiAqICAgICAgICAgICAgICAgICAgIFsgICB0aW1lb3V0OiBFTkRfREVMQVkgICBdICAgICAgICB8ICAgfFxuICogICAgICAgICAgICAgICAgICAgICAgIC8gICAgICAgICAgICAgICAgXFwgICAgICAgICAgICB8ICAgfFxuICogICAgICAgICAgICAgICAgICAgICAgdiAgICAgICAgICAgICAgICAgIHYgICAgICAgICAgIHwgICB8XG4gKiAgICAgICAgICAgICBbTm8gcGFnZSBhY3Rpdml0eV0gICAgW1BhZ2UgYWN0aXZpdHldICAgfCAgIHxcbiAqICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICB8ICAgfFxuICogICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgJy0tLS0tLS0tLS0tLScgICB8XG4gKiAgICAgICAgICAgICAgICAgICAgICAnLS0tLS0tLS0tLS0uICwtLS0tLS0tLS0tLS0tLS0tLS0tLSdcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChFbmQpXG4gKiBgYGBcbiAqXG4gKiBOb3RlOiBieSBhc3N1bWluZyB0aGF0IG1heER1cmF0aW9uIGlzIGdyZWF0ZXIgdGhhbiBWQUxJREFUSU9OX0RFTEFZLCB3ZSBhcmUgc3VyZSB0aGF0IGlmIHRoZVxuICogcHJvY2VzcyBpcyBzdGlsbCBhbGl2ZSBhZnRlciBtYXhEdXJhdGlvbiwgaXQgaGFzIGJlZW4gdmFsaWRhdGVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gd2FpdFBhZ2VBY3Rpdml0eUVuZChsaWZlQ3ljbGUsIGRvbU11dGF0aW9uT2JzZXJ2YWJsZSwgY29uZmlndXJhdGlvbiwgcGFnZUFjdGl2aXR5RW5kQ2FsbGJhY2ssIG1heER1cmF0aW9uKSB7XG4gICAgdmFyIHBhZ2VBY3Rpdml0eU9ic2VydmFibGUgPSBjcmVhdGVQYWdlQWN0aXZpdHlPYnNlcnZhYmxlKGxpZmVDeWNsZSwgZG9tTXV0YXRpb25PYnNlcnZhYmxlLCBjb25maWd1cmF0aW9uKTtcbiAgICByZXR1cm4gZG9XYWl0UGFnZUFjdGl2aXR5RW5kKHBhZ2VBY3Rpdml0eU9ic2VydmFibGUsIHBhZ2VBY3Rpdml0eUVuZENhbGxiYWNrLCBtYXhEdXJhdGlvbik7XG59XG5leHBvcnQgZnVuY3Rpb24gZG9XYWl0UGFnZUFjdGl2aXR5RW5kKHBhZ2VBY3Rpdml0eU9ic2VydmFibGUsIHBhZ2VBY3Rpdml0eUVuZENhbGxiYWNrLCBtYXhEdXJhdGlvbikge1xuICAgIHZhciBwYWdlQWN0aXZpdHlFbmRUaW1lb3V0SWQ7XG4gICAgdmFyIGhhc0NvbXBsZXRlZCA9IGZhbHNlO1xuICAgIHZhciB2YWxpZGF0aW9uVGltZW91dElkID0gc2V0VGltZW91dChtb25pdG9yKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvbXBsZXRlKHsgaGFkQWN0aXZpdHk6IGZhbHNlIH0pOyB9KSwgUEFHRV9BQ1RJVklUWV9WQUxJREFUSU9OX0RFTEFZKTtcbiAgICB2YXIgbWF4RHVyYXRpb25UaW1lb3V0SWQgPSBtYXhEdXJhdGlvbiAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gc2V0VGltZW91dChtb25pdG9yKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvbXBsZXRlKHsgaGFkQWN0aXZpdHk6IHRydWUsIGVuZDogdGltZVN0YW1wTm93KCkgfSk7IH0pLCBtYXhEdXJhdGlvbilcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgdmFyIHBhZ2VBY3Rpdml0eVN1YnNjcmlwdGlvbiA9IHBhZ2VBY3Rpdml0eU9ic2VydmFibGUuc3Vic2NyaWJlKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgaXNCdXN5ID0gX2EuaXNCdXN5O1xuICAgICAgICBjbGVhclRpbWVvdXQodmFsaWRhdGlvblRpbWVvdXRJZCk7XG4gICAgICAgIGNsZWFyVGltZW91dChwYWdlQWN0aXZpdHlFbmRUaW1lb3V0SWQpO1xuICAgICAgICB2YXIgbGFzdENoYW5nZVRpbWUgPSB0aW1lU3RhbXBOb3coKTtcbiAgICAgICAgaWYgKCFpc0J1c3kpIHtcbiAgICAgICAgICAgIHBhZ2VBY3Rpdml0eUVuZFRpbWVvdXRJZCA9IHNldFRpbWVvdXQobW9uaXRvcihmdW5jdGlvbiAoKSB7IHJldHVybiBjb21wbGV0ZSh7IGhhZEFjdGl2aXR5OiB0cnVlLCBlbmQ6IGxhc3RDaGFuZ2VUaW1lIH0pOyB9KSwgUEFHRV9BQ1RJVklUWV9FTkRfREVMQVkpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgdmFyIHN0b3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGhhc0NvbXBsZXRlZCA9IHRydWU7XG4gICAgICAgIGNsZWFyVGltZW91dCh2YWxpZGF0aW9uVGltZW91dElkKTtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHBhZ2VBY3Rpdml0eUVuZFRpbWVvdXRJZCk7XG4gICAgICAgIGNsZWFyVGltZW91dChtYXhEdXJhdGlvblRpbWVvdXRJZCk7XG4gICAgICAgIHBhZ2VBY3Rpdml0eVN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gICAgZnVuY3Rpb24gY29tcGxldGUoZXZlbnQpIHtcbiAgICAgICAgaWYgKGhhc0NvbXBsZXRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHN0b3AoKTtcbiAgICAgICAgcGFnZUFjdGl2aXR5RW5kQ2FsbGJhY2soZXZlbnQpO1xuICAgIH1cbiAgICByZXR1cm4geyBzdG9wOiBzdG9wIH07XG59XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUGFnZUFjdGl2aXR5T2JzZXJ2YWJsZShsaWZlQ3ljbGUsIGRvbU11dGF0aW9uT2JzZXJ2YWJsZSwgY29uZmlndXJhdGlvbikge1xuICAgIHZhciBvYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc3Vic2NyaXB0aW9ucyA9IFtdO1xuICAgICAgICB2YXIgZmlyc3RSZXF1ZXN0SW5kZXg7XG4gICAgICAgIHZhciBwZW5kaW5nUmVxdWVzdHNDb3VudCA9IDA7XG4gICAgICAgIHN1YnNjcmlwdGlvbnMucHVzaChkb21NdXRhdGlvbk9ic2VydmFibGUuc3Vic2NyaWJlKG5vdGlmeVBhZ2VBY3Rpdml0eSksIGxpZmVDeWNsZS5zdWJzY3JpYmUoMCAvKiBMaWZlQ3ljbGVFdmVudFR5cGUuUEVSRk9STUFOQ0VfRU5UUklFU19DT0xMRUNURUQgKi8sIGZ1bmN0aW9uIChlbnRyaWVzKSB7XG4gICAgICAgICAgICBpZiAoZW50cmllcy5zb21lKGZ1bmN0aW9uIChlbnRyeSkgeyByZXR1cm4gZW50cnkuZW50cnlUeXBlID09PSAncmVzb3VyY2UnICYmICFpc0V4Y2x1ZGVkVXJsKGNvbmZpZ3VyYXRpb24sIGVudHJ5Lm5hbWUpOyB9KSkge1xuICAgICAgICAgICAgICAgIG5vdGlmeVBhZ2VBY3Rpdml0eSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSwgbGlmZUN5Y2xlLnN1YnNjcmliZSg1IC8qIExpZmVDeWNsZUV2ZW50VHlwZS5SRVFVRVNUX1NUQVJURUQgKi8sIGZ1bmN0aW9uIChzdGFydEV2ZW50KSB7XG4gICAgICAgICAgICBpZiAoaXNFeGNsdWRlZFVybChjb25maWd1cmF0aW9uLCBzdGFydEV2ZW50LnVybCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZmlyc3RSZXF1ZXN0SW5kZXggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGZpcnN0UmVxdWVzdEluZGV4ID0gc3RhcnRFdmVudC5yZXF1ZXN0SW5kZXg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwZW5kaW5nUmVxdWVzdHNDb3VudCArPSAxO1xuICAgICAgICAgICAgbm90aWZ5UGFnZUFjdGl2aXR5KCk7XG4gICAgICAgIH0pLCBsaWZlQ3ljbGUuc3Vic2NyaWJlKDYgLyogTGlmZUN5Y2xlRXZlbnRUeXBlLlJFUVVFU1RfQ09NUExFVEVEICovLCBmdW5jdGlvbiAocmVxdWVzdCkge1xuICAgICAgICAgICAgaWYgKGlzRXhjbHVkZWRVcmwoY29uZmlndXJhdGlvbiwgcmVxdWVzdC51cmwpIHx8XG4gICAgICAgICAgICAgICAgZmlyc3RSZXF1ZXN0SW5kZXggPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgICAgIC8vIElmIHRoZSByZXF1ZXN0IHN0YXJ0ZWQgYmVmb3JlIHRoZSB0cmFja2luZyBzdGFydCwgaWdub3JlIGl0XG4gICAgICAgICAgICAgICAgcmVxdWVzdC5yZXF1ZXN0SW5kZXggPCBmaXJzdFJlcXVlc3RJbmRleCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBlbmRpbmdSZXF1ZXN0c0NvdW50IC09IDE7XG4gICAgICAgICAgICBub3RpZnlQYWdlQWN0aXZpdHkoKTtcbiAgICAgICAgfSkpO1xuICAgICAgICB2YXIgc3RvcFRyYWNraW5nV2luZG93T3BlbiA9IHRyYWNrV2luZG93T3Blbihub3RpZnlQYWdlQWN0aXZpdHkpLnN0b3A7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzdG9wVHJhY2tpbmdXaW5kb3dPcGVuKCk7XG4gICAgICAgICAgICBzdWJzY3JpcHRpb25zLmZvckVhY2goZnVuY3Rpb24gKHMpIHsgcmV0dXJuIHMudW5zdWJzY3JpYmUoKTsgfSk7XG4gICAgICAgIH07XG4gICAgICAgIGZ1bmN0aW9uIG5vdGlmeVBhZ2VBY3Rpdml0eSgpIHtcbiAgICAgICAgICAgIG9ic2VydmFibGUubm90aWZ5KHsgaXNCdXN5OiBwZW5kaW5nUmVxdWVzdHNDb3VudCA+IDAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gb2JzZXJ2YWJsZTtcbn1cbmZ1bmN0aW9uIGlzRXhjbHVkZWRVcmwoY29uZmlndXJhdGlvbiwgcmVxdWVzdFVybCkge1xuICAgIHJldHVybiBtYXRjaExpc3QoY29uZmlndXJhdGlvbi5leGNsdWRlZEFjdGl2aXR5VXJscywgcmVxdWVzdFVybCk7XG59XG5mdW5jdGlvbiB0cmFja1dpbmRvd09wZW4oY2FsbGJhY2spIHtcbiAgICByZXR1cm4gaW5zdHJ1bWVudE1ldGhvZEFuZENhbGxPcmlnaW5hbCh3aW5kb3csICdvcGVuJywgeyBiZWZvcmU6IGNhbGxiYWNrIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d2FpdFBhZ2VBY3Rpdml0eUVuZC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/waitPageActivityEnd.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum-core/esm/index.js":
/*!*****************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum-core/esm/index.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_PROGRAMMATIC_ACTION_NAME_ATTRIBUTE: () => (/* reexport safe */ _domain_rumEventsCollection_action_getActionNameFromElement__WEBPACK_IMPORTED_MODULE_5__.DEFAULT_PROGRAMMATIC_ACTION_NAME_ATTRIBUTE),\n/* harmony export */   LifeCycle: () => (/* reexport safe */ _domain_lifeCycle__WEBPACK_IMPORTED_MODULE_2__.LifeCycle),\n/* harmony export */   STABLE_ATTRIBUTES: () => (/* reexport safe */ _domain_rumEventsCollection_action_getSelectorFromElement__WEBPACK_IMPORTED_MODULE_6__.STABLE_ATTRIBUTES),\n/* harmony export */   getChildNodes: () => (/* reexport safe */ _browser_htmlDomUtils__WEBPACK_IMPORTED_MODULE_7__.getChildNodes),\n/* harmony export */   getMutationObserverConstructor: () => (/* reexport safe */ _browser_domMutationObservable__WEBPACK_IMPORTED_MODULE_3__.getMutationObserverConstructor),\n/* harmony export */   getParentNode: () => (/* reexport safe */ _browser_htmlDomUtils__WEBPACK_IMPORTED_MODULE_7__.getParentNode),\n/* harmony export */   getSessionReplayUrl: () => (/* reexport safe */ _domain_getSessionReplayUrl__WEBPACK_IMPORTED_MODULE_8__.getSessionReplayUrl),\n/* harmony export */   getViewportDimension: () => (/* reexport safe */ _browser_viewportObservable__WEBPACK_IMPORTED_MODULE_4__.getViewportDimension),\n/* harmony export */   initViewportObservable: () => (/* reexport safe */ _browser_viewportObservable__WEBPACK_IMPORTED_MODULE_4__.initViewportObservable),\n/* harmony export */   isCommentNode: () => (/* reexport safe */ _browser_htmlDomUtils__WEBPACK_IMPORTED_MODULE_7__.isCommentNode),\n/* harmony export */   isElementNode: () => (/* reexport safe */ _browser_htmlDomUtils__WEBPACK_IMPORTED_MODULE_7__.isElementNode),\n/* harmony export */   isNodeShadowHost: () => (/* reexport safe */ _browser_htmlDomUtils__WEBPACK_IMPORTED_MODULE_7__.isNodeShadowHost),\n/* harmony export */   isNodeShadowRoot: () => (/* reexport safe */ _browser_htmlDomUtils__WEBPACK_IMPORTED_MODULE_7__.isNodeShadowRoot),\n/* harmony export */   isTextNode: () => (/* reexport safe */ _browser_htmlDomUtils__WEBPACK_IMPORTED_MODULE_7__.isTextNode),\n/* harmony export */   makeRumPublicApi: () => (/* reexport safe */ _boot_rumPublicApi__WEBPACK_IMPORTED_MODULE_0__.makeRumPublicApi),\n/* harmony export */   startRum: () => (/* reexport safe */ _boot_startRum__WEBPACK_IMPORTED_MODULE_1__.startRum)\n/* harmony export */ });\n/* harmony import */ var _boot_rumPublicApi__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./boot/rumPublicApi */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/boot/rumPublicApi.js\");\n/* harmony import */ var _boot_startRum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./boot/startRum */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/boot/startRum.js\");\n/* harmony import */ var _domain_lifeCycle__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./domain/lifeCycle */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/lifeCycle.js\");\n/* harmony import */ var _browser_domMutationObservable__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./browser/domMutationObservable */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/browser/domMutationObservable.js\");\n/* harmony import */ var _browser_viewportObservable__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./browser/viewportObservable */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/browser/viewportObservable.js\");\n/* harmony import */ var _domain_rumEventsCollection_action_getActionNameFromElement__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./domain/rumEventsCollection/action/getActionNameFromElement */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/action/getActionNameFromElement.js\");\n/* harmony import */ var _domain_rumEventsCollection_action_getSelectorFromElement__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./domain/rumEventsCollection/action/getSelectorFromElement */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/rumEventsCollection/action/getSelectorFromElement.js\");\n/* harmony import */ var _browser_htmlDomUtils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./browser/htmlDomUtils */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/browser/htmlDomUtils.js\");\n/* harmony import */ var _domain_getSessionReplayUrl__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./domain/getSessionReplayUrl */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/domain/getSessionReplayUrl.js\");\n\n\n\n\n\n\n\n\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBdUQ7QUFDWjtBQUNJO0FBQ2tDO0FBQ1c7QUFDOEI7QUFDM0I7QUFDeEQ7QUFDNEI7QUFDbkUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYXJjYXN0ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL2luZGV4LmpzPzYyNGEiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHsgbWFrZVJ1bVB1YmxpY0FwaSB9IGZyb20gJy4vYm9vdC9ydW1QdWJsaWNBcGknO1xuZXhwb3J0IHsgc3RhcnRSdW0gfSBmcm9tICcuL2Jvb3Qvc3RhcnRSdW0nO1xuZXhwb3J0IHsgTGlmZUN5Y2xlIH0gZnJvbSAnLi9kb21haW4vbGlmZUN5Y2xlJztcbmV4cG9ydCB7IGdldE11dGF0aW9uT2JzZXJ2ZXJDb25zdHJ1Y3RvciB9IGZyb20gJy4vYnJvd3Nlci9kb21NdXRhdGlvbk9ic2VydmFibGUnO1xuZXhwb3J0IHsgaW5pdFZpZXdwb3J0T2JzZXJ2YWJsZSwgZ2V0Vmlld3BvcnREaW1lbnNpb24gfSBmcm9tICcuL2Jyb3dzZXIvdmlld3BvcnRPYnNlcnZhYmxlJztcbmV4cG9ydCB7IERFRkFVTFRfUFJPR1JBTU1BVElDX0FDVElPTl9OQU1FX0FUVFJJQlVURSB9IGZyb20gJy4vZG9tYWluL3J1bUV2ZW50c0NvbGxlY3Rpb24vYWN0aW9uL2dldEFjdGlvbk5hbWVGcm9tRWxlbWVudCc7XG5leHBvcnQgeyBTVEFCTEVfQVRUUklCVVRFUyB9IGZyb20gJy4vZG9tYWluL3J1bUV2ZW50c0NvbGxlY3Rpb24vYWN0aW9uL2dldFNlbGVjdG9yRnJvbUVsZW1lbnQnO1xuZXhwb3J0ICogZnJvbSAnLi9icm93c2VyL2h0bWxEb21VdGlscyc7XG5leHBvcnQgeyBnZXRTZXNzaW9uUmVwbGF5VXJsIH0gZnJvbSAnLi9kb21haW4vZ2V0U2Vzc2lvblJlcGxheVVybCc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum-core/esm/index.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum-core/esm/transport/startRumBatch.js":
/*!***********************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum-core/esm/transport/startRumBatch.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   startRumBatch: () => (/* binding */ startRumBatch)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/telemetry/telemetry.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/transport/flushController.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/transport/batch.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/transport/httpRequest.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/mergeInto.js\");\n\nfunction startRumBatch(configuration, lifeCycle, telemetryEventObservable, reportError, pageExitObservable, sessionExpireObservable) {\n    var batch = makeRumBatch(configuration, reportError, pageExitObservable, sessionExpireObservable);\n    lifeCycle.subscribe(11 /* LifeCycleEventType.RUM_EVENT_COLLECTED */, function (serverRumEvent) {\n        if (serverRumEvent.type === \"view\" /* RumEventType.VIEW */) {\n            batch.upsert(serverRumEvent, serverRumEvent.view.id);\n        }\n        else {\n            batch.add(serverRumEvent);\n        }\n    });\n    telemetryEventObservable.subscribe(function (event) { return batch.add(event, (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.isTelemetryReplicationAllowed)(configuration)); });\n    return batch;\n}\nfunction makeRumBatch(configuration, reportError, pageExitObservable, sessionExpireObservable) {\n    var _a = createRumBatch(configuration.rumEndpointBuilder), primaryBatch = _a.batch, primaryFlushController = _a.flushController;\n    var replicaBatch;\n    var replica = configuration.replica;\n    if (replica !== undefined) {\n        replicaBatch = createRumBatch(replica.rumEndpointBuilder).batch;\n    }\n    function createRumBatch(endpointBuilder) {\n        var flushController = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.createFlushController)({\n            messagesLimit: configuration.batchMessagesLimit,\n            bytesLimit: configuration.batchBytesLimit,\n            durationLimit: configuration.flushTimeout,\n            pageExitObservable: pageExitObservable,\n            sessionExpireObservable: sessionExpireObservable,\n        });\n        var batch = new _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.Batch((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.createHttpRequest)(endpointBuilder, configuration.batchBytesLimit, reportError), flushController, configuration.messageBytesLimit);\n        return {\n            batch: batch,\n            flushController: flushController,\n        };\n    }\n    function withReplicaApplicationId(message) {\n        return (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.combine)(message, { application: { id: replica.applicationId } });\n    }\n    return {\n        flushObservable: primaryFlushController.flushObservable,\n        add: function (message, replicated) {\n            if (replicated === void 0) { replicated = true; }\n            primaryBatch.add(message);\n            if (replicaBatch && replicated) {\n                replicaBatch.add(withReplicaApplicationId(message));\n            }\n        },\n        upsert: function (message, key) {\n            primaryBatch.upsert(message, key);\n            if (replicaBatch) {\n                replicaBatch.upsert(withReplicaApplicationId(message), key);\n            }\n        },\n    };\n}\n//# sourceMappingURL=startRumBatch.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL3RyYW5zcG9ydC9zdGFydFJ1bUJhdGNoLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFpSTtBQUMxSDtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsMERBQTBELHdCQUF3QixvRkFBNkIsbUJBQW1CO0FBQ2xJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLDRFQUFxQjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULHdCQUF3Qix3REFBSyxDQUFDLHdFQUFpQjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLDhEQUFPLFlBQVksZUFBZSw2QkFBNkI7QUFDOUU7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYXJjYXN0ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL3RyYW5zcG9ydC9zdGFydFJ1bUJhdGNoLmpzPzAyMjEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlRmx1c2hDb250cm9sbGVyLCBCYXRjaCwgY29tYmluZSwgY3JlYXRlSHR0cFJlcXVlc3QsIGlzVGVsZW1ldHJ5UmVwbGljYXRpb25BbGxvd2VkLCB9IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItY29yZSc7XG5leHBvcnQgZnVuY3Rpb24gc3RhcnRSdW1CYXRjaChjb25maWd1cmF0aW9uLCBsaWZlQ3ljbGUsIHRlbGVtZXRyeUV2ZW50T2JzZXJ2YWJsZSwgcmVwb3J0RXJyb3IsIHBhZ2VFeGl0T2JzZXJ2YWJsZSwgc2Vzc2lvbkV4cGlyZU9ic2VydmFibGUpIHtcbiAgICB2YXIgYmF0Y2ggPSBtYWtlUnVtQmF0Y2goY29uZmlndXJhdGlvbiwgcmVwb3J0RXJyb3IsIHBhZ2VFeGl0T2JzZXJ2YWJsZSwgc2Vzc2lvbkV4cGlyZU9ic2VydmFibGUpO1xuICAgIGxpZmVDeWNsZS5zdWJzY3JpYmUoMTEgLyogTGlmZUN5Y2xlRXZlbnRUeXBlLlJVTV9FVkVOVF9DT0xMRUNURUQgKi8sIGZ1bmN0aW9uIChzZXJ2ZXJSdW1FdmVudCkge1xuICAgICAgICBpZiAoc2VydmVyUnVtRXZlbnQudHlwZSA9PT0gXCJ2aWV3XCIgLyogUnVtRXZlbnRUeXBlLlZJRVcgKi8pIHtcbiAgICAgICAgICAgIGJhdGNoLnVwc2VydChzZXJ2ZXJSdW1FdmVudCwgc2VydmVyUnVtRXZlbnQudmlldy5pZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBiYXRjaC5hZGQoc2VydmVyUnVtRXZlbnQpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgdGVsZW1ldHJ5RXZlbnRPYnNlcnZhYmxlLnN1YnNjcmliZShmdW5jdGlvbiAoZXZlbnQpIHsgcmV0dXJuIGJhdGNoLmFkZChldmVudCwgaXNUZWxlbWV0cnlSZXBsaWNhdGlvbkFsbG93ZWQoY29uZmlndXJhdGlvbikpOyB9KTtcbiAgICByZXR1cm4gYmF0Y2g7XG59XG5mdW5jdGlvbiBtYWtlUnVtQmF0Y2goY29uZmlndXJhdGlvbiwgcmVwb3J0RXJyb3IsIHBhZ2VFeGl0T2JzZXJ2YWJsZSwgc2Vzc2lvbkV4cGlyZU9ic2VydmFibGUpIHtcbiAgICB2YXIgX2EgPSBjcmVhdGVSdW1CYXRjaChjb25maWd1cmF0aW9uLnJ1bUVuZHBvaW50QnVpbGRlciksIHByaW1hcnlCYXRjaCA9IF9hLmJhdGNoLCBwcmltYXJ5Rmx1c2hDb250cm9sbGVyID0gX2EuZmx1c2hDb250cm9sbGVyO1xuICAgIHZhciByZXBsaWNhQmF0Y2g7XG4gICAgdmFyIHJlcGxpY2EgPSBjb25maWd1cmF0aW9uLnJlcGxpY2E7XG4gICAgaWYgKHJlcGxpY2EgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXBsaWNhQmF0Y2ggPSBjcmVhdGVSdW1CYXRjaChyZXBsaWNhLnJ1bUVuZHBvaW50QnVpbGRlcikuYmF0Y2g7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNyZWF0ZVJ1bUJhdGNoKGVuZHBvaW50QnVpbGRlcikge1xuICAgICAgICB2YXIgZmx1c2hDb250cm9sbGVyID0gY3JlYXRlRmx1c2hDb250cm9sbGVyKHtcbiAgICAgICAgICAgIG1lc3NhZ2VzTGltaXQ6IGNvbmZpZ3VyYXRpb24uYmF0Y2hNZXNzYWdlc0xpbWl0LFxuICAgICAgICAgICAgYnl0ZXNMaW1pdDogY29uZmlndXJhdGlvbi5iYXRjaEJ5dGVzTGltaXQsXG4gICAgICAgICAgICBkdXJhdGlvbkxpbWl0OiBjb25maWd1cmF0aW9uLmZsdXNoVGltZW91dCxcbiAgICAgICAgICAgIHBhZ2VFeGl0T2JzZXJ2YWJsZTogcGFnZUV4aXRPYnNlcnZhYmxlLFxuICAgICAgICAgICAgc2Vzc2lvbkV4cGlyZU9ic2VydmFibGU6IHNlc3Npb25FeHBpcmVPYnNlcnZhYmxlLFxuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGJhdGNoID0gbmV3IEJhdGNoKGNyZWF0ZUh0dHBSZXF1ZXN0KGVuZHBvaW50QnVpbGRlciwgY29uZmlndXJhdGlvbi5iYXRjaEJ5dGVzTGltaXQsIHJlcG9ydEVycm9yKSwgZmx1c2hDb250cm9sbGVyLCBjb25maWd1cmF0aW9uLm1lc3NhZ2VCeXRlc0xpbWl0KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGJhdGNoOiBiYXRjaCxcbiAgICAgICAgICAgIGZsdXNoQ29udHJvbGxlcjogZmx1c2hDb250cm9sbGVyLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiB3aXRoUmVwbGljYUFwcGxpY2F0aW9uSWQobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gY29tYmluZShtZXNzYWdlLCB7IGFwcGxpY2F0aW9uOiB7IGlkOiByZXBsaWNhLmFwcGxpY2F0aW9uSWQgfSB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZmx1c2hPYnNlcnZhYmxlOiBwcmltYXJ5Rmx1c2hDb250cm9sbGVyLmZsdXNoT2JzZXJ2YWJsZSxcbiAgICAgICAgYWRkOiBmdW5jdGlvbiAobWVzc2FnZSwgcmVwbGljYXRlZCkge1xuICAgICAgICAgICAgaWYgKHJlcGxpY2F0ZWQgPT09IHZvaWQgMCkgeyByZXBsaWNhdGVkID0gdHJ1ZTsgfVxuICAgICAgICAgICAgcHJpbWFyeUJhdGNoLmFkZChtZXNzYWdlKTtcbiAgICAgICAgICAgIGlmIChyZXBsaWNhQmF0Y2ggJiYgcmVwbGljYXRlZCkge1xuICAgICAgICAgICAgICAgIHJlcGxpY2FCYXRjaC5hZGQod2l0aFJlcGxpY2FBcHBsaWNhdGlvbklkKG1lc3NhZ2UpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdXBzZXJ0OiBmdW5jdGlvbiAobWVzc2FnZSwga2V5KSB7XG4gICAgICAgICAgICBwcmltYXJ5QmF0Y2gudXBzZXJ0KG1lc3NhZ2UsIGtleSk7XG4gICAgICAgICAgICBpZiAocmVwbGljYUJhdGNoKSB7XG4gICAgICAgICAgICAgICAgcmVwbGljYUJhdGNoLnVwc2VydCh3aXRoUmVwbGljYUFwcGxpY2F0aW9uSWQobWVzc2FnZSksIGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0YXJ0UnVtQmF0Y2guanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum-core/esm/transport/startRumBatch.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum-core/esm/transport/startRumEventBridge.js":
/*!*****************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum-core/esm/transport/startRumEventBridge.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   startRumEventBridge: () => (/* binding */ startRumEventBridge)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/transport/eventBridge.js\");\n\nfunction startRumEventBridge(lifeCycle) {\n    var bridge = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.getEventBridge)();\n    lifeCycle.subscribe(11 /* LifeCycleEventType.RUM_EVENT_COLLECTED */, function (serverRumEvent) {\n        bridge.send('rum', serverRumEvent);\n    });\n}\n//# sourceMappingURL=startRumEventBridge.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUvZXNtL3RyYW5zcG9ydC9zdGFydFJ1bUV2ZW50QnJpZGdlLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXVEO0FBQ2hEO0FBQ1AsaUJBQWlCLHFFQUFjO0FBQy9CO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhcmNhc3Rlci8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZS9lc20vdHJhbnNwb3J0L3N0YXJ0UnVtRXZlbnRCcmlkZ2UuanM/NGJjOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRFdmVudEJyaWRnZSB9IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItY29yZSc7XG5leHBvcnQgZnVuY3Rpb24gc3RhcnRSdW1FdmVudEJyaWRnZShsaWZlQ3ljbGUpIHtcbiAgICB2YXIgYnJpZGdlID0gZ2V0RXZlbnRCcmlkZ2UoKTtcbiAgICBsaWZlQ3ljbGUuc3Vic2NyaWJlKDExIC8qIExpZmVDeWNsZUV2ZW50VHlwZS5SVU1fRVZFTlRfQ09MTEVDVEVEICovLCBmdW5jdGlvbiAoc2VydmVyUnVtRXZlbnQpIHtcbiAgICAgICAgYnJpZGdlLnNlbmQoJ3J1bScsIHNlcnZlclJ1bUV2ZW50KTtcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0YXJ0UnVtRXZlbnRCcmlkZ2UuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum-core/esm/transport/startRumEventBridge.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum/esm/boot/isBrowserSupported.js":
/*!******************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum/esm/boot/isBrowserSupported.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isBrowserSupported: () => (/* binding */ isBrowserSupported)\n/* harmony export */ });\n/**\n * Test for Browser features used while recording\n */\nfunction isBrowserSupported() {\n    return (\n    // Array.from is a bit less supported by browsers than CSSSupportsRule, but has higher chances\n    // to be polyfilled. Test for both to be more confident. We could add more things if we find out\n    // this test is not sufficient.\n    typeof Array.from === 'function' &&\n        typeof CSSSupportsRule === 'function' &&\n        typeof URL.createObjectURL === 'function' &&\n        'forEach' in NodeList.prototype);\n}\n//# sourceMappingURL=isBrowserSupported.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtL2VzbS9ib290L2lzQnJvd3NlclN1cHBvcnRlZC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhcmNhc3Rlci8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0vZXNtL2Jvb3QvaXNCcm93c2VyU3VwcG9ydGVkLmpzPzg5ZjUiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBUZXN0IGZvciBCcm93c2VyIGZlYXR1cmVzIHVzZWQgd2hpbGUgcmVjb3JkaW5nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0Jyb3dzZXJTdXBwb3J0ZWQoKSB7XG4gICAgcmV0dXJuIChcbiAgICAvLyBBcnJheS5mcm9tIGlzIGEgYml0IGxlc3Mgc3VwcG9ydGVkIGJ5IGJyb3dzZXJzIHRoYW4gQ1NTU3VwcG9ydHNSdWxlLCBidXQgaGFzIGhpZ2hlciBjaGFuY2VzXG4gICAgLy8gdG8gYmUgcG9seWZpbGxlZC4gVGVzdCBmb3IgYm90aCB0byBiZSBtb3JlIGNvbmZpZGVudC4gV2UgY291bGQgYWRkIG1vcmUgdGhpbmdzIGlmIHdlIGZpbmQgb3V0XG4gICAgLy8gdGhpcyB0ZXN0IGlzIG5vdCBzdWZmaWNpZW50LlxuICAgIHR5cGVvZiBBcnJheS5mcm9tID09PSAnZnVuY3Rpb24nICYmXG4gICAgICAgIHR5cGVvZiBDU1NTdXBwb3J0c1J1bGUgPT09ICdmdW5jdGlvbicgJiZcbiAgICAgICAgdHlwZW9mIFVSTC5jcmVhdGVPYmplY3RVUkwgPT09ICdmdW5jdGlvbicgJiZcbiAgICAgICAgJ2ZvckVhY2gnIGluIE5vZGVMaXN0LnByb3RvdHlwZSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc0Jyb3dzZXJTdXBwb3J0ZWQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum/esm/boot/isBrowserSupported.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum/esm/boot/recorderApi.js":
/*!***********************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum/esm/boot/recorderApi.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   makeRecorderApi: () => (/* binding */ makeRecorderApi)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/transport/eventBridge.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/functionUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/browser/runOnReadyState.js\");\n/* harmony import */ var _domain_replayStats__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../domain/replayStats */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/replayStats.js\");\n/* harmony import */ var _domain_getSessionReplayLink__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../domain/getSessionReplayLink */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/getSessionReplayLink.js\");\n/* harmony import */ var _domain_segmentCollection__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../domain/segmentCollection */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/segmentCollection/index.js\");\n/* harmony import */ var _isBrowserSupported__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./isBrowserSupported */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/boot/isBrowserSupported.js\");\n\n\n\n\n\nfunction makeRecorderApi(startRecordingImpl, startDeflateWorkerImpl) {\n    if (startDeflateWorkerImpl === void 0) { startDeflateWorkerImpl = _domain_segmentCollection__WEBPACK_IMPORTED_MODULE_2__.startDeflateWorker; }\n    if ((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.canUseEventBridge)() || !(0,_isBrowserSupported__WEBPACK_IMPORTED_MODULE_3__.isBrowserSupported)()) {\n        return {\n            start: _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.noop,\n            stop: _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.noop,\n            getReplayStats: function () { return undefined; },\n            onRumStart: _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.noop,\n            isRecording: function () { return false; },\n            getSessionReplayLink: function () { return undefined; },\n        };\n    }\n    var state = {\n        status: 0 /* RecorderStatus.Stopped */,\n    };\n    var startStrategy = function () {\n        state = { status: 1 /* RecorderStatus.IntentToStart */ };\n    };\n    var stopStrategy = function () {\n        state = { status: 0 /* RecorderStatus.Stopped */ };\n    };\n    return {\n        start: function () { return startStrategy(); },\n        stop: function () { return stopStrategy(); },\n        getReplayStats: _domain_replayStats__WEBPACK_IMPORTED_MODULE_0__.getReplayStats,\n        getSessionReplayLink: function (configuration, sessionManager, viewContexts) {\n            return (0,_domain_getSessionReplayLink__WEBPACK_IMPORTED_MODULE_1__.getSessionReplayLink)(configuration, sessionManager, viewContexts, state.status !== 0 /* RecorderStatus.Stopped */);\n        },\n        onRumStart: function (lifeCycle, configuration, sessionManager, viewContexts) {\n            lifeCycle.subscribe(7 /* LifeCycleEventType.SESSION_EXPIRED */, function () {\n                if (state.status === 2 /* RecorderStatus.Starting */ || state.status === 3 /* RecorderStatus.Started */) {\n                    stopStrategy();\n                    state = { status: 1 /* RecorderStatus.IntentToStart */ };\n                }\n            });\n            lifeCycle.subscribe(8 /* LifeCycleEventType.SESSION_RENEWED */, function () {\n                if (state.status === 1 /* RecorderStatus.IntentToStart */) {\n                    startStrategy();\n                }\n            });\n            startStrategy = function () {\n                var session = sessionManager.findTrackedSession();\n                if (!session || !session.sessionReplayAllowed) {\n                    state = { status: 1 /* RecorderStatus.IntentToStart */ };\n                    return;\n                }\n                if (state.status === 2 /* RecorderStatus.Starting */ || state.status === 3 /* RecorderStatus.Started */) {\n                    return;\n                }\n                state = { status: 2 /* RecorderStatus.Starting */ };\n                (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__.runOnReadyState)('interactive', function () {\n                    if (state.status !== 2 /* RecorderStatus.Starting */) {\n                        return;\n                    }\n                    startDeflateWorkerImpl(function (worker) {\n                        if (state.status !== 2 /* RecorderStatus.Starting */) {\n                            return;\n                        }\n                        if (!worker) {\n                            state = {\n                                status: 0 /* RecorderStatus.Stopped */,\n                            };\n                            return;\n                        }\n                        var stopRecording = startRecordingImpl(lifeCycle, configuration, sessionManager, viewContexts, worker).stop;\n                        state = {\n                            status: 3 /* RecorderStatus.Started */,\n                            stopRecording: stopRecording,\n                        };\n                    });\n                });\n            };\n            stopStrategy = function () {\n                if (state.status === 0 /* RecorderStatus.Stopped */) {\n                    return;\n                }\n                if (state.status === 3 /* RecorderStatus.Started */) {\n                    state.stopRecording();\n                }\n                state = {\n                    status: 0 /* RecorderStatus.Stopped */,\n                };\n            };\n            if (state.status === 1 /* RecorderStatus.IntentToStart */) {\n                startStrategy();\n            }\n        },\n        isRecording: function () { return state.status === 3 /* RecorderStatus.Started */; },\n    };\n}\n//# sourceMappingURL=recorderApi.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtL2VzbS9ib290L3JlY29yZGVyQXBpLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQWlGO0FBQzFCO0FBQ2U7QUFDTDtBQUNQO0FBQ25EO0FBQ1AsNkNBQTZDLHlCQUF5Qix5RUFBa0I7QUFDeEYsUUFBUSx3RUFBaUIsT0FBTyx1RUFBa0I7QUFDbEQ7QUFDQSxtQkFBbUIsdURBQUk7QUFDdkIsa0JBQWtCLHVEQUFJO0FBQ3RCLDBDQUEwQyxtQkFBbUI7QUFDN0Qsd0JBQXdCLHVEQUFJO0FBQzVCLHVDQUF1QyxlQUFlO0FBQ3RELGdEQUFnRCxtQkFBbUI7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBLDZCQUE2Qix5QkFBeUI7QUFDdEQsNEJBQTRCLHdCQUF3QjtBQUNwRCx3QkFBd0IsK0RBQWM7QUFDdEM7QUFDQSxtQkFBbUIsa0ZBQW9CO0FBQ3ZDLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQixnQkFBZ0Isc0VBQWU7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsbUNBQW1DLHlEQUF5RDtBQUM1RjtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYXJjYXN0ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtL2VzbS9ib290L3JlY29yZGVyQXBpLmpzP2IzODIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY2FuVXNlRXZlbnRCcmlkZ2UsIG5vb3AsIHJ1bk9uUmVhZHlTdGF0ZSB9IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItY29yZSc7XG5pbXBvcnQgeyBnZXRSZXBsYXlTdGF0cyB9IGZyb20gJy4uL2RvbWFpbi9yZXBsYXlTdGF0cyc7XG5pbXBvcnQgeyBnZXRTZXNzaW9uUmVwbGF5TGluayB9IGZyb20gJy4uL2RvbWFpbi9nZXRTZXNzaW9uUmVwbGF5TGluayc7XG5pbXBvcnQgeyBzdGFydERlZmxhdGVXb3JrZXIgfSBmcm9tICcuLi9kb21haW4vc2VnbWVudENvbGxlY3Rpb24nO1xuaW1wb3J0IHsgaXNCcm93c2VyU3VwcG9ydGVkIH0gZnJvbSAnLi9pc0Jyb3dzZXJTdXBwb3J0ZWQnO1xuZXhwb3J0IGZ1bmN0aW9uIG1ha2VSZWNvcmRlckFwaShzdGFydFJlY29yZGluZ0ltcGwsIHN0YXJ0RGVmbGF0ZVdvcmtlckltcGwpIHtcbiAgICBpZiAoc3RhcnREZWZsYXRlV29ya2VySW1wbCA9PT0gdm9pZCAwKSB7IHN0YXJ0RGVmbGF0ZVdvcmtlckltcGwgPSBzdGFydERlZmxhdGVXb3JrZXI7IH1cbiAgICBpZiAoY2FuVXNlRXZlbnRCcmlkZ2UoKSB8fCAhaXNCcm93c2VyU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0YXJ0OiBub29wLFxuICAgICAgICAgICAgc3RvcDogbm9vcCxcbiAgICAgICAgICAgIGdldFJlcGxheVN0YXRzOiBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH0sXG4gICAgICAgICAgICBvblJ1bVN0YXJ0OiBub29wLFxuICAgICAgICAgICAgaXNSZWNvcmRpbmc6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZhbHNlOyB9LFxuICAgICAgICAgICAgZ2V0U2Vzc2lvblJlcGxheUxpbms6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgdmFyIHN0YXRlID0ge1xuICAgICAgICBzdGF0dXM6IDAgLyogUmVjb3JkZXJTdGF0dXMuU3RvcHBlZCAqLyxcbiAgICB9O1xuICAgIHZhciBzdGFydFN0cmF0ZWd5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBzdGF0ZSA9IHsgc3RhdHVzOiAxIC8qIFJlY29yZGVyU3RhdHVzLkludGVudFRvU3RhcnQgKi8gfTtcbiAgICB9O1xuICAgIHZhciBzdG9wU3RyYXRlZ3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHN0YXRlID0geyBzdGF0dXM6IDAgLyogUmVjb3JkZXJTdGF0dXMuU3RvcHBlZCAqLyB9O1xuICAgIH07XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc3RhcnQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN0YXJ0U3RyYXRlZ3koKTsgfSxcbiAgICAgICAgc3RvcDogZnVuY3Rpb24gKCkgeyByZXR1cm4gc3RvcFN0cmF0ZWd5KCk7IH0sXG4gICAgICAgIGdldFJlcGxheVN0YXRzOiBnZXRSZXBsYXlTdGF0cyxcbiAgICAgICAgZ2V0U2Vzc2lvblJlcGxheUxpbms6IGZ1bmN0aW9uIChjb25maWd1cmF0aW9uLCBzZXNzaW9uTWFuYWdlciwgdmlld0NvbnRleHRzKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0U2Vzc2lvblJlcGxheUxpbmsoY29uZmlndXJhdGlvbiwgc2Vzc2lvbk1hbmFnZXIsIHZpZXdDb250ZXh0cywgc3RhdGUuc3RhdHVzICE9PSAwIC8qIFJlY29yZGVyU3RhdHVzLlN0b3BwZWQgKi8pO1xuICAgICAgICB9LFxuICAgICAgICBvblJ1bVN0YXJ0OiBmdW5jdGlvbiAobGlmZUN5Y2xlLCBjb25maWd1cmF0aW9uLCBzZXNzaW9uTWFuYWdlciwgdmlld0NvbnRleHRzKSB7XG4gICAgICAgICAgICBsaWZlQ3ljbGUuc3Vic2NyaWJlKDcgLyogTGlmZUN5Y2xlRXZlbnRUeXBlLlNFU1NJT05fRVhQSVJFRCAqLywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5zdGF0dXMgPT09IDIgLyogUmVjb3JkZXJTdGF0dXMuU3RhcnRpbmcgKi8gfHwgc3RhdGUuc3RhdHVzID09PSAzIC8qIFJlY29yZGVyU3RhdHVzLlN0YXJ0ZWQgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgc3RvcFN0cmF0ZWd5KCk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlID0geyBzdGF0dXM6IDEgLyogUmVjb3JkZXJTdGF0dXMuSW50ZW50VG9TdGFydCAqLyB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbGlmZUN5Y2xlLnN1YnNjcmliZSg4IC8qIExpZmVDeWNsZUV2ZW50VHlwZS5TRVNTSU9OX1JFTkVXRUQgKi8sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdGUuc3RhdHVzID09PSAxIC8qIFJlY29yZGVyU3RhdHVzLkludGVudFRvU3RhcnQgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRTdHJhdGVneSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc3RhcnRTdHJhdGVneSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2Vzc2lvbiA9IHNlc3Npb25NYW5hZ2VyLmZpbmRUcmFja2VkU2Vzc2lvbigpO1xuICAgICAgICAgICAgICAgIGlmICghc2Vzc2lvbiB8fCAhc2Vzc2lvbi5zZXNzaW9uUmVwbGF5QWxsb3dlZCkge1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IHsgc3RhdHVzOiAxIC8qIFJlY29yZGVyU3RhdHVzLkludGVudFRvU3RhcnQgKi8gfTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc3RhdGUuc3RhdHVzID09PSAyIC8qIFJlY29yZGVyU3RhdHVzLlN0YXJ0aW5nICovIHx8IHN0YXRlLnN0YXR1cyA9PT0gMyAvKiBSZWNvcmRlclN0YXR1cy5TdGFydGVkICovKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3RhdGUgPSB7IHN0YXR1czogMiAvKiBSZWNvcmRlclN0YXR1cy5TdGFydGluZyAqLyB9O1xuICAgICAgICAgICAgICAgIHJ1bk9uUmVhZHlTdGF0ZSgnaW50ZXJhY3RpdmUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5zdGF0dXMgIT09IDIgLyogUmVjb3JkZXJTdGF0dXMuU3RhcnRpbmcgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzdGFydERlZmxhdGVXb3JrZXJJbXBsKGZ1bmN0aW9uICh3b3JrZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5zdGF0dXMgIT09IDIgLyogUmVjb3JkZXJTdGF0dXMuU3RhcnRpbmcgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXdvcmtlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IDAgLyogUmVjb3JkZXJTdGF0dXMuU3RvcHBlZCAqLyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdG9wUmVjb3JkaW5nID0gc3RhcnRSZWNvcmRpbmdJbXBsKGxpZmVDeWNsZSwgY29uZmlndXJhdGlvbiwgc2Vzc2lvbk1hbmFnZXIsIHZpZXdDb250ZXh0cywgd29ya2VyKS5zdG9wO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAzIC8qIFJlY29yZGVyU3RhdHVzLlN0YXJ0ZWQgKi8sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcFJlY29yZGluZzogc3RvcFJlY29yZGluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHN0b3BTdHJhdGVneSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdGUuc3RhdHVzID09PSAwIC8qIFJlY29yZGVyU3RhdHVzLlN0b3BwZWQgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc3RhdGUuc3RhdHVzID09PSAzIC8qIFJlY29yZGVyU3RhdHVzLlN0YXJ0ZWQgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuc3RvcFJlY29yZGluZygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzdGF0ZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAwIC8qIFJlY29yZGVyU3RhdHVzLlN0b3BwZWQgKi8sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoc3RhdGUuc3RhdHVzID09PSAxIC8qIFJlY29yZGVyU3RhdHVzLkludGVudFRvU3RhcnQgKi8pIHtcbiAgICAgICAgICAgICAgICBzdGFydFN0cmF0ZWd5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGlzUmVjb3JkaW5nOiBmdW5jdGlvbiAoKSB7IHJldHVybiBzdGF0ZS5zdGF0dXMgPT09IDMgLyogUmVjb3JkZXJTdGF0dXMuU3RhcnRlZCAqLzsgfSxcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVjb3JkZXJBcGkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum/esm/boot/recorderApi.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum/esm/boot/startRecording.js":
/*!**************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum/esm/boot/startRecording.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   startRecording: () => (/* binding */ startRecording)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/transport/httpRequest.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js\");\n/* harmony import */ var _domain_record__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../domain/record */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/index.js\");\n/* harmony import */ var _domain_segmentCollection__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../domain/segmentCollection */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/segmentCollection/index.js\");\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../types */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/types/index.js\");\n\n\n\n\nfunction startRecording(lifeCycle, configuration, sessionManager, viewContexts, worker, httpRequest) {\n    var reportError = function (error) {\n        lifeCycle.notify(12 /* LifeCycleEventType.RAW_ERROR_COLLECTED */, { error: error });\n    };\n    var replayRequest = httpRequest || (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.createHttpRequest)(configuration.sessionReplayEndpointBuilder, _domain_segmentCollection__WEBPACK_IMPORTED_MODULE_1__.SEGMENT_BYTES_LIMIT, reportError);\n    var _a = (0,_domain_segmentCollection__WEBPACK_IMPORTED_MODULE_1__.startSegmentCollection)(lifeCycle, configuration.applicationId, sessionManager, viewContexts, replayRequest, worker), addRecord = _a.addRecord, stopSegmentCollection = _a.stop;\n    var _b = (0,_domain_record__WEBPACK_IMPORTED_MODULE_0__.record)({\n        emit: addRecord,\n        configuration: configuration,\n        lifeCycle: lifeCycle,\n    }), stopRecording = _b.stop, takeSubsequentFullSnapshot = _b.takeSubsequentFullSnapshot, flushMutations = _b.flushMutations;\n    var unsubscribeViewEnded = lifeCycle.subscribe(4 /* LifeCycleEventType.VIEW_ENDED */, function () {\n        flushMutations();\n        addRecord({\n            timestamp: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.timeStampNow)(),\n            type: _types__WEBPACK_IMPORTED_MODULE_2__.RecordType.ViewEnd,\n        });\n    }).unsubscribe;\n    var unsubscribeViewCreated = lifeCycle.subscribe(2 /* LifeCycleEventType.VIEW_CREATED */, function (view) {\n        takeSubsequentFullSnapshot(view.startClocks.timeStamp);\n    }).unsubscribe;\n    return {\n        stop: function () {\n            unsubscribeViewEnded();\n            unsubscribeViewCreated();\n            stopRecording();\n            stopSegmentCollection();\n        },\n    };\n}\n//# sourceMappingURL=startRecording.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtL2VzbS9ib290L3N0YXJ0UmVjb3JkaW5nLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUF3RTtBQUM5QjtBQUNnRDtBQUNwRDtBQUMvQjtBQUNQO0FBQ0EsNEVBQTRFLGNBQWM7QUFDMUY7QUFDQSx1Q0FBdUMsd0VBQWlCLDZDQUE2QywwRUFBbUI7QUFDeEgsYUFBYSxpRkFBc0I7QUFDbkMsYUFBYSxzREFBTTtBQUNuQjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLG1FQUFZO0FBQ25DLGtCQUFrQiw4Q0FBVTtBQUM1QixTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhcmNhc3Rlci8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0vZXNtL2Jvb3Qvc3RhcnRSZWNvcmRpbmcuanM/ZDg1NSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB0aW1lU3RhbXBOb3csIGNyZWF0ZUh0dHBSZXF1ZXN0IH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJztcbmltcG9ydCB7IHJlY29yZCB9IGZyb20gJy4uL2RvbWFpbi9yZWNvcmQnO1xuaW1wb3J0IHsgc3RhcnRTZWdtZW50Q29sbGVjdGlvbiwgU0VHTUVOVF9CWVRFU19MSU1JVCB9IGZyb20gJy4uL2RvbWFpbi9zZWdtZW50Q29sbGVjdGlvbic7XG5pbXBvcnQgeyBSZWNvcmRUeXBlIH0gZnJvbSAnLi4vdHlwZXMnO1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0UmVjb3JkaW5nKGxpZmVDeWNsZSwgY29uZmlndXJhdGlvbiwgc2Vzc2lvbk1hbmFnZXIsIHZpZXdDb250ZXh0cywgd29ya2VyLCBodHRwUmVxdWVzdCkge1xuICAgIHZhciByZXBvcnRFcnJvciA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICBsaWZlQ3ljbGUubm90aWZ5KDEyIC8qIExpZmVDeWNsZUV2ZW50VHlwZS5SQVdfRVJST1JfQ09MTEVDVEVEICovLCB7IGVycm9yOiBlcnJvciB9KTtcbiAgICB9O1xuICAgIHZhciByZXBsYXlSZXF1ZXN0ID0gaHR0cFJlcXVlc3QgfHwgY3JlYXRlSHR0cFJlcXVlc3QoY29uZmlndXJhdGlvbi5zZXNzaW9uUmVwbGF5RW5kcG9pbnRCdWlsZGVyLCBTRUdNRU5UX0JZVEVTX0xJTUlULCByZXBvcnRFcnJvcik7XG4gICAgdmFyIF9hID0gc3RhcnRTZWdtZW50Q29sbGVjdGlvbihsaWZlQ3ljbGUsIGNvbmZpZ3VyYXRpb24uYXBwbGljYXRpb25JZCwgc2Vzc2lvbk1hbmFnZXIsIHZpZXdDb250ZXh0cywgcmVwbGF5UmVxdWVzdCwgd29ya2VyKSwgYWRkUmVjb3JkID0gX2EuYWRkUmVjb3JkLCBzdG9wU2VnbWVudENvbGxlY3Rpb24gPSBfYS5zdG9wO1xuICAgIHZhciBfYiA9IHJlY29yZCh7XG4gICAgICAgIGVtaXQ6IGFkZFJlY29yZCxcbiAgICAgICAgY29uZmlndXJhdGlvbjogY29uZmlndXJhdGlvbixcbiAgICAgICAgbGlmZUN5Y2xlOiBsaWZlQ3ljbGUsXG4gICAgfSksIHN0b3BSZWNvcmRpbmcgPSBfYi5zdG9wLCB0YWtlU3Vic2VxdWVudEZ1bGxTbmFwc2hvdCA9IF9iLnRha2VTdWJzZXF1ZW50RnVsbFNuYXBzaG90LCBmbHVzaE11dGF0aW9ucyA9IF9iLmZsdXNoTXV0YXRpb25zO1xuICAgIHZhciB1bnN1YnNjcmliZVZpZXdFbmRlZCA9IGxpZmVDeWNsZS5zdWJzY3JpYmUoNCAvKiBMaWZlQ3ljbGVFdmVudFR5cGUuVklFV19FTkRFRCAqLywgZnVuY3Rpb24gKCkge1xuICAgICAgICBmbHVzaE11dGF0aW9ucygpO1xuICAgICAgICBhZGRSZWNvcmQoe1xuICAgICAgICAgICAgdGltZXN0YW1wOiB0aW1lU3RhbXBOb3coKSxcbiAgICAgICAgICAgIHR5cGU6IFJlY29yZFR5cGUuVmlld0VuZCxcbiAgICAgICAgfSk7XG4gICAgfSkudW5zdWJzY3JpYmU7XG4gICAgdmFyIHVuc3Vic2NyaWJlVmlld0NyZWF0ZWQgPSBsaWZlQ3ljbGUuc3Vic2NyaWJlKDIgLyogTGlmZUN5Y2xlRXZlbnRUeXBlLlZJRVdfQ1JFQVRFRCAqLywgZnVuY3Rpb24gKHZpZXcpIHtcbiAgICAgICAgdGFrZVN1YnNlcXVlbnRGdWxsU25hcHNob3Qodmlldy5zdGFydENsb2Nrcy50aW1lU3RhbXApO1xuICAgIH0pLnVuc3Vic2NyaWJlO1xuICAgIHJldHVybiB7XG4gICAgICAgIHN0b3A6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHVuc3Vic2NyaWJlVmlld0VuZGVkKCk7XG4gICAgICAgICAgICB1bnN1YnNjcmliZVZpZXdDcmVhdGVkKCk7XG4gICAgICAgICAgICBzdG9wUmVjb3JkaW5nKCk7XG4gICAgICAgICAgICBzdG9wU2VnbWVudENvbGxlY3Rpb24oKTtcbiAgICAgICAgfSxcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RhcnRSZWNvcmRpbmcuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum/esm/boot/startRecording.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum/esm/constants.js":
/*!****************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum/esm/constants.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CENSORED_IMG_MARK: () => (/* binding */ CENSORED_IMG_MARK),\n/* harmony export */   CENSORED_STRING_MARK: () => (/* binding */ CENSORED_STRING_MARK),\n/* harmony export */   FORM_PRIVATE_TAG_NAMES: () => (/* binding */ FORM_PRIVATE_TAG_NAMES),\n/* harmony export */   NodePrivacyLevel: () => (/* binding */ NodePrivacyLevel),\n/* harmony export */   PRIVACY_ATTR_NAME: () => (/* binding */ PRIVACY_ATTR_NAME),\n/* harmony export */   PRIVACY_ATTR_VALUE_ALLOW: () => (/* binding */ PRIVACY_ATTR_VALUE_ALLOW),\n/* harmony export */   PRIVACY_ATTR_VALUE_HIDDEN: () => (/* binding */ PRIVACY_ATTR_VALUE_HIDDEN),\n/* harmony export */   PRIVACY_ATTR_VALUE_MASK: () => (/* binding */ PRIVACY_ATTR_VALUE_MASK),\n/* harmony export */   PRIVACY_ATTR_VALUE_MASK_USER_INPUT: () => (/* binding */ PRIVACY_ATTR_VALUE_MASK_USER_INPUT),\n/* harmony export */   PRIVACY_CLASS_ALLOW: () => (/* binding */ PRIVACY_CLASS_ALLOW),\n/* harmony export */   PRIVACY_CLASS_HIDDEN: () => (/* binding */ PRIVACY_CLASS_HIDDEN),\n/* harmony export */   PRIVACY_CLASS_MASK: () => (/* binding */ PRIVACY_CLASS_MASK),\n/* harmony export */   PRIVACY_CLASS_MASK_USER_INPUT: () => (/* binding */ PRIVACY_CLASS_MASK_USER_INPUT)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/configuration/configuration.js\");\n\nvar NodePrivacyLevel = {\n    IGNORE: 'ignore',\n    HIDDEN: 'hidden',\n    ALLOW: _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.DefaultPrivacyLevel.ALLOW,\n    MASK: _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.DefaultPrivacyLevel.MASK,\n    MASK_USER_INPUT: _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.DefaultPrivacyLevel.MASK_USER_INPUT,\n};\nvar PRIVACY_ATTR_NAME = 'data-dd-privacy';\n// Privacy Attrs\nvar PRIVACY_ATTR_VALUE_ALLOW = 'allow';\nvar PRIVACY_ATTR_VALUE_MASK = 'mask';\nvar PRIVACY_ATTR_VALUE_MASK_USER_INPUT = 'mask-user-input';\nvar PRIVACY_ATTR_VALUE_HIDDEN = 'hidden';\n// Privacy Classes - not all customers can set plain HTML attributes, so support classes too\nvar PRIVACY_CLASS_ALLOW = 'dd-privacy-allow';\nvar PRIVACY_CLASS_MASK = 'dd-privacy-mask';\nvar PRIVACY_CLASS_MASK_USER_INPUT = 'dd-privacy-mask-user-input';\nvar PRIVACY_CLASS_HIDDEN = 'dd-privacy-hidden';\n// Private Replacement Templates\nvar CENSORED_STRING_MARK = '***';\nvar CENSORED_IMG_MARK = 'data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==';\nvar FORM_PRIVATE_TAG_NAMES = {\n    INPUT: true,\n    OUTPUT: true,\n    TEXTAREA: true,\n    SELECT: true,\n    OPTION: true,\n    DATALIST: true,\n    OPTGROUP: true,\n};\n//# sourceMappingURL=constants.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtL2VzbS9jb25zdGFudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBNEQ7QUFDckQ7QUFDUDtBQUNBO0FBQ0EsV0FBVyxzRUFBbUI7QUFDOUIsVUFBVSxzRUFBbUI7QUFDN0IscUJBQXFCLHNFQUFtQjtBQUN4QztBQUNPO0FBQ1A7QUFDTztBQUNBO0FBQ0E7QUFDQTtBQUNQO0FBQ087QUFDQTtBQUNBO0FBQ0E7QUFDUDtBQUNPO0FBQ0Esd0NBQXdDO0FBQ3hDO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFyY2FzdGVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLXJ1bS9lc20vY29uc3RhbnRzLmpzPzM3ZWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRGVmYXVsdFByaXZhY3lMZXZlbCB9IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItY29yZSc7XG5leHBvcnQgdmFyIE5vZGVQcml2YWN5TGV2ZWwgPSB7XG4gICAgSUdOT1JFOiAnaWdub3JlJyxcbiAgICBISURERU46ICdoaWRkZW4nLFxuICAgIEFMTE9XOiBEZWZhdWx0UHJpdmFjeUxldmVsLkFMTE9XLFxuICAgIE1BU0s6IERlZmF1bHRQcml2YWN5TGV2ZWwuTUFTSyxcbiAgICBNQVNLX1VTRVJfSU5QVVQ6IERlZmF1bHRQcml2YWN5TGV2ZWwuTUFTS19VU0VSX0lOUFVULFxufTtcbmV4cG9ydCB2YXIgUFJJVkFDWV9BVFRSX05BTUUgPSAnZGF0YS1kZC1wcml2YWN5Jztcbi8vIFByaXZhY3kgQXR0cnNcbmV4cG9ydCB2YXIgUFJJVkFDWV9BVFRSX1ZBTFVFX0FMTE9XID0gJ2FsbG93JztcbmV4cG9ydCB2YXIgUFJJVkFDWV9BVFRSX1ZBTFVFX01BU0sgPSAnbWFzayc7XG5leHBvcnQgdmFyIFBSSVZBQ1lfQVRUUl9WQUxVRV9NQVNLX1VTRVJfSU5QVVQgPSAnbWFzay11c2VyLWlucHV0JztcbmV4cG9ydCB2YXIgUFJJVkFDWV9BVFRSX1ZBTFVFX0hJRERFTiA9ICdoaWRkZW4nO1xuLy8gUHJpdmFjeSBDbGFzc2VzIC0gbm90IGFsbCBjdXN0b21lcnMgY2FuIHNldCBwbGFpbiBIVE1MIGF0dHJpYnV0ZXMsIHNvIHN1cHBvcnQgY2xhc3NlcyB0b29cbmV4cG9ydCB2YXIgUFJJVkFDWV9DTEFTU19BTExPVyA9ICdkZC1wcml2YWN5LWFsbG93JztcbmV4cG9ydCB2YXIgUFJJVkFDWV9DTEFTU19NQVNLID0gJ2RkLXByaXZhY3ktbWFzayc7XG5leHBvcnQgdmFyIFBSSVZBQ1lfQ0xBU1NfTUFTS19VU0VSX0lOUFVUID0gJ2RkLXByaXZhY3ktbWFzay11c2VyLWlucHV0JztcbmV4cG9ydCB2YXIgUFJJVkFDWV9DTEFTU19ISURERU4gPSAnZGQtcHJpdmFjeS1oaWRkZW4nO1xuLy8gUHJpdmF0ZSBSZXBsYWNlbWVudCBUZW1wbGF0ZXNcbmV4cG9ydCB2YXIgQ0VOU09SRURfU1RSSU5HX01BUksgPSAnKioqJztcbmV4cG9ydCB2YXIgQ0VOU09SRURfSU1HX01BUksgPSAnZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoQVFBQkFJQUFBTUxDd2dBQUFDSDVCQUFBQUFBQUxBQUFBQUFCQUFFQUFBSUNSQUVBT3c9PSc7XG5leHBvcnQgdmFyIEZPUk1fUFJJVkFURV9UQUdfTkFNRVMgPSB7XG4gICAgSU5QVVQ6IHRydWUsXG4gICAgT1VUUFVUOiB0cnVlLFxuICAgIFRFWFRBUkVBOiB0cnVlLFxuICAgIFNFTEVDVDogdHJ1ZSxcbiAgICBPUFRJT046IHRydWUsXG4gICAgREFUQUxJU1Q6IHRydWUsXG4gICAgT1BUR1JPVVA6IHRydWUsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uc3RhbnRzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum/esm/constants.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/getSessionReplayLink.js":
/*!**********************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum/esm/domain/getSessionReplayLink.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getSessionReplayLink: () => (/* binding */ getSessionReplayLink)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_rum_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-rum-core */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/index.js\");\n/* harmony import */ var _boot_isBrowserSupported__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../boot/isBrowserSupported */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/boot/isBrowserSupported.js\");\n\n\nfunction getSessionReplayLink(configuration, sessionManager, viewContexts, isRecordingStarted) {\n    var session = sessionManager.findTrackedSession();\n    var errorType = getErrorType(session, isRecordingStarted);\n    var viewContext = viewContexts.findView();\n    return (0,_datadog_browser_rum_core__WEBPACK_IMPORTED_MODULE_0__.getSessionReplayUrl)(configuration, {\n        viewContext: viewContext,\n        errorType: errorType,\n        session: session,\n    });\n}\nfunction getErrorType(session, isRecordingStarted) {\n    if (!(0,_boot_isBrowserSupported__WEBPACK_IMPORTED_MODULE_1__.isBrowserSupported)()) {\n        return 'browser-not-supported';\n    }\n    if (!session) {\n        // possibilities:\n        // - rum sampled out\n        // - session expired (edge case)\n        return 'rum-not-tracked';\n    }\n    if (!session.sessionReplayAllowed) {\n        // possibilities\n        // - replay sampled out\n        return 'incorrect-session-plan';\n    }\n    if (!isRecordingStarted) {\n        return 'replay-not-started';\n    }\n}\n//# sourceMappingURL=getSessionReplayLink.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtL2VzbS9kb21haW4vZ2V0U2Vzc2lvblJlcGxheUxpbmsuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWdFO0FBQ0E7QUFDekQ7QUFDUDtBQUNBO0FBQ0E7QUFDQSxXQUFXLDhFQUFtQjtBQUM5QjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFNBQVMsNEVBQWtCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhcmNhc3Rlci8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0vZXNtL2RvbWFpbi9nZXRTZXNzaW9uUmVwbGF5TGluay5qcz9iNzIyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldFNlc3Npb25SZXBsYXlVcmwgfSBmcm9tICdAZGF0YWRvZy9icm93c2VyLXJ1bS1jb3JlJztcbmltcG9ydCB7IGlzQnJvd3NlclN1cHBvcnRlZCB9IGZyb20gJy4uL2Jvb3QvaXNCcm93c2VyU3VwcG9ydGVkJztcbmV4cG9ydCBmdW5jdGlvbiBnZXRTZXNzaW9uUmVwbGF5TGluayhjb25maWd1cmF0aW9uLCBzZXNzaW9uTWFuYWdlciwgdmlld0NvbnRleHRzLCBpc1JlY29yZGluZ1N0YXJ0ZWQpIHtcbiAgICB2YXIgc2Vzc2lvbiA9IHNlc3Npb25NYW5hZ2VyLmZpbmRUcmFja2VkU2Vzc2lvbigpO1xuICAgIHZhciBlcnJvclR5cGUgPSBnZXRFcnJvclR5cGUoc2Vzc2lvbiwgaXNSZWNvcmRpbmdTdGFydGVkKTtcbiAgICB2YXIgdmlld0NvbnRleHQgPSB2aWV3Q29udGV4dHMuZmluZFZpZXcoKTtcbiAgICByZXR1cm4gZ2V0U2Vzc2lvblJlcGxheVVybChjb25maWd1cmF0aW9uLCB7XG4gICAgICAgIHZpZXdDb250ZXh0OiB2aWV3Q29udGV4dCxcbiAgICAgICAgZXJyb3JUeXBlOiBlcnJvclR5cGUsXG4gICAgICAgIHNlc3Npb246IHNlc3Npb24sXG4gICAgfSk7XG59XG5mdW5jdGlvbiBnZXRFcnJvclR5cGUoc2Vzc2lvbiwgaXNSZWNvcmRpbmdTdGFydGVkKSB7XG4gICAgaWYgKCFpc0Jyb3dzZXJTdXBwb3J0ZWQoKSkge1xuICAgICAgICByZXR1cm4gJ2Jyb3dzZXItbm90LXN1cHBvcnRlZCc7XG4gICAgfVxuICAgIGlmICghc2Vzc2lvbikge1xuICAgICAgICAvLyBwb3NzaWJpbGl0aWVzOlxuICAgICAgICAvLyAtIHJ1bSBzYW1wbGVkIG91dFxuICAgICAgICAvLyAtIHNlc3Npb24gZXhwaXJlZCAoZWRnZSBjYXNlKVxuICAgICAgICByZXR1cm4gJ3J1bS1ub3QtdHJhY2tlZCc7XG4gICAgfVxuICAgIGlmICghc2Vzc2lvbi5zZXNzaW9uUmVwbGF5QWxsb3dlZCkge1xuICAgICAgICAvLyBwb3NzaWJpbGl0aWVzXG4gICAgICAgIC8vIC0gcmVwbGF5IHNhbXBsZWQgb3V0XG4gICAgICAgIHJldHVybiAnaW5jb3JyZWN0LXNlc3Npb24tcGxhbic7XG4gICAgfVxuICAgIGlmICghaXNSZWNvcmRpbmdTdGFydGVkKSB7XG4gICAgICAgIHJldHVybiAncmVwbGF5LW5vdC1zdGFydGVkJztcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXRTZXNzaW9uUmVwbGF5TGluay5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/getSessionReplayLink.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/assembly.js":
/*!*****************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum/esm/domain/record/assembly.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   assembleIncrementalSnapshot: () => (/* binding */ assembleIncrementalSnapshot)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/polyfills.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js\");\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../types */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/types/index.js\");\n\n\nfunction assembleIncrementalSnapshot(source, data) {\n    return {\n        data: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.assign)({\n            source: source,\n        }, data),\n        type: _types__WEBPACK_IMPORTED_MODULE_0__.RecordType.IncrementalSnapshot,\n        timestamp: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.timeStampNow)(),\n    };\n}\n//# sourceMappingURL=assembly.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtL2VzbS9kb21haW4vcmVjb3JkL2Fzc2VtYmx5LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBNkQ7QUFDcEI7QUFDbEM7QUFDUDtBQUNBLGNBQWMsNkRBQU07QUFDcEI7QUFDQSxTQUFTO0FBQ1QsY0FBYyw4Q0FBVTtBQUN4QixtQkFBbUIsbUVBQVk7QUFDL0I7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFyY2FzdGVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLXJ1bS9lc20vZG9tYWluL3JlY29yZC9hc3NlbWJseS5qcz9iYTBkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFzc2lnbiwgdGltZVN0YW1wTm93IH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJztcbmltcG9ydCB7IFJlY29yZFR5cGUgfSBmcm9tICcuLi8uLi90eXBlcyc7XG5leHBvcnQgZnVuY3Rpb24gYXNzZW1ibGVJbmNyZW1lbnRhbFNuYXBzaG90KHNvdXJjZSwgZGF0YSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGRhdGE6IGFzc2lnbih7XG4gICAgICAgICAgICBzb3VyY2U6IHNvdXJjZSxcbiAgICAgICAgfSwgZGF0YSksXG4gICAgICAgIHR5cGU6IFJlY29yZFR5cGUuSW5jcmVtZW50YWxTbmFwc2hvdCxcbiAgICAgICAgdGltZXN0YW1wOiB0aW1lU3RhbXBOb3coKSxcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXNzZW1ibHkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/assembly.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/elementsScrollPositions.js":
/*!********************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum/esm/domain/record/elementsScrollPositions.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createElementsScrollPositions: () => (/* binding */ createElementsScrollPositions)\n/* harmony export */ });\nfunction createElementsScrollPositions() {\n    var scrollPositionsByElement = new WeakMap();\n    return {\n        set: function (element, scrollPositions) {\n            if (element === document && !document.scrollingElement) {\n                // cf https://drafts.csswg.org/cssom-view/#dom-document-scrollingelement,\n                // in some cases scrolling elements can not be defined, we don't support those for now\n                return;\n            }\n            scrollPositionsByElement.set(element === document ? document.scrollingElement : element, scrollPositions);\n        },\n        get: function (element) {\n            return scrollPositionsByElement.get(element);\n        },\n        has: function (element) {\n            return scrollPositionsByElement.has(element);\n        },\n    };\n}\n//# sourceMappingURL=elementsScrollPositions.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtL2VzbS9kb21haW4vcmVjb3JkL2VsZW1lbnRzU2Nyb2xsUG9zaXRpb25zLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFyY2FzdGVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLXJ1bS9lc20vZG9tYWluL3JlY29yZC9lbGVtZW50c1Njcm9sbFBvc2l0aW9ucy5qcz9iNTJhIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBjcmVhdGVFbGVtZW50c1Njcm9sbFBvc2l0aW9ucygpIHtcbiAgICB2YXIgc2Nyb2xsUG9zaXRpb25zQnlFbGVtZW50ID0gbmV3IFdlYWtNYXAoKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChlbGVtZW50LCBzY3JvbGxQb3NpdGlvbnMpIHtcbiAgICAgICAgICAgIGlmIChlbGVtZW50ID09PSBkb2N1bWVudCAmJiAhZG9jdW1lbnQuc2Nyb2xsaW5nRWxlbWVudCkge1xuICAgICAgICAgICAgICAgIC8vIGNmIGh0dHBzOi8vZHJhZnRzLmNzc3dnLm9yZy9jc3NvbS12aWV3LyNkb20tZG9jdW1lbnQtc2Nyb2xsaW5nZWxlbWVudCxcbiAgICAgICAgICAgICAgICAvLyBpbiBzb21lIGNhc2VzIHNjcm9sbGluZyBlbGVtZW50cyBjYW4gbm90IGJlIGRlZmluZWQsIHdlIGRvbid0IHN1cHBvcnQgdGhvc2UgZm9yIG5vd1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNjcm9sbFBvc2l0aW9uc0J5RWxlbWVudC5zZXQoZWxlbWVudCA9PT0gZG9jdW1lbnQgPyBkb2N1bWVudC5zY3JvbGxpbmdFbGVtZW50IDogZWxlbWVudCwgc2Nyb2xsUG9zaXRpb25zKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIHNjcm9sbFBvc2l0aW9uc0J5RWxlbWVudC5nZXQoZWxlbWVudCk7XG4gICAgICAgIH0sXG4gICAgICAgIGhhczogZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBzY3JvbGxQb3NpdGlvbnNCeUVsZW1lbnQuaGFzKGVsZW1lbnQpO1xuICAgICAgICB9LFxuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lbGVtZW50c1Njcm9sbFBvc2l0aW9ucy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/elementsScrollPositions.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/eventsUtils.js":
/*!********************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum/esm/domain/record/eventsUtils.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getEventTarget: () => (/* binding */ getEventTarget),\n/* harmony export */   isTouchEvent: () => (/* binding */ isTouchEvent)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_rum_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-rum-core */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/index.js\");\n\nfunction isTouchEvent(event) {\n    return Boolean(event.changedTouches);\n}\nfunction getEventTarget(event) {\n    if (event.composed === true && (0,_datadog_browser_rum_core__WEBPACK_IMPORTED_MODULE_0__.isNodeShadowHost)(event.target)) {\n        return event.composedPath()[0];\n    }\n    return event.target;\n}\n//# sourceMappingURL=eventsUtils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtL2VzbS9kb21haW4vcmVjb3JkL2V2ZW50c1V0aWxzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE2RDtBQUN0RDtBQUNQO0FBQ0E7QUFDTztBQUNQLG1DQUFtQywyRUFBZ0I7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhcmNhc3Rlci8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0vZXNtL2RvbWFpbi9yZWNvcmQvZXZlbnRzVXRpbHMuanM/MTM1ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc05vZGVTaGFkb3dIb3N0IH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZSc7XG5leHBvcnQgZnVuY3Rpb24gaXNUb3VjaEV2ZW50KGV2ZW50KSB7XG4gICAgcmV0dXJuIEJvb2xlYW4oZXZlbnQuY2hhbmdlZFRvdWNoZXMpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldEV2ZW50VGFyZ2V0KGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LmNvbXBvc2VkID09PSB0cnVlICYmIGlzTm9kZVNoYWRvd0hvc3QoZXZlbnQudGFyZ2V0KSkge1xuICAgICAgICByZXR1cm4gZXZlbnQuY29tcG9zZWRQYXRoKClbMF07XG4gICAgfVxuICAgIHJldHVybiBldmVudC50YXJnZXQ7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ldmVudHNVdGlscy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/eventsUtils.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/index.js":
/*!**************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum/esm/domain/record/index.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createElementsScrollPositions: () => (/* reexport safe */ _elementsScrollPositions__WEBPACK_IMPORTED_MODULE_2__.createElementsScrollPositions),\n/* harmony export */   record: () => (/* reexport safe */ _record__WEBPACK_IMPORTED_MODULE_0__.record),\n/* harmony export */   serializeDocument: () => (/* reexport safe */ _serialization__WEBPACK_IMPORTED_MODULE_1__.serializeDocument),\n/* harmony export */   serializeNodeWithId: () => (/* reexport safe */ _serialization__WEBPACK_IMPORTED_MODULE_1__.serializeNodeWithId)\n/* harmony export */ });\n/* harmony import */ var _record__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./record */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/record.js\");\n/* harmony import */ var _serialization__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./serialization */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/serialization/index.js\");\n/* harmony import */ var _elementsScrollPositions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./elementsScrollPositions */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/elementsScrollPositions.js\");\n\n\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtL2VzbS9kb21haW4vcmVjb3JkL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBa0M7QUFDdUM7QUFDQztBQUMxRSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhcmNhc3Rlci8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0vZXNtL2RvbWFpbi9yZWNvcmQvaW5kZXguanM/Mjk5OSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgeyByZWNvcmQgfSBmcm9tICcuL3JlY29yZCc7XG5leHBvcnQgeyBzZXJpYWxpemVOb2RlV2l0aElkLCBzZXJpYWxpemVEb2N1bWVudCB9IGZyb20gJy4vc2VyaWFsaXphdGlvbic7XG5leHBvcnQgeyBjcmVhdGVFbGVtZW50c1Njcm9sbFBvc2l0aW9ucyB9IGZyb20gJy4vZWxlbWVudHNTY3JvbGxQb3NpdGlvbnMnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/index.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/mutationBatch.js":
/*!**********************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum/esm/domain/record/mutationBatch.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createMutationBatch: () => (/* binding */ createMutationBatch)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/functionUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/monitor.js\");\n\n/**\n * Maximum duration to wait before processing mutations. If the browser is idle, mutations will be\n * processed more quickly. If the browser is busy executing small tasks (ex: rendering frames), the\n * mutations will wait MUTATION_PROCESS_MAX_DELAY milliseconds before being processed. If the\n * browser is busy executing a longer task, mutations will be processed after this task.\n */\nvar MUTATION_PROCESS_MAX_DELAY = 100;\nfunction createMutationBatch(processMutationBatch) {\n    var cancelScheduledFlush = _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.noop;\n    var pendingMutations = [];\n    function flush() {\n        cancelScheduledFlush();\n        processMutationBatch(pendingMutations);\n        pendingMutations = [];\n    }\n    return {\n        addMutations: function (mutations) {\n            if (pendingMutations.length === 0) {\n                cancelScheduledFlush = requestIdleCallback(flush, { timeout: MUTATION_PROCESS_MAX_DELAY });\n            }\n            pendingMutations.push.apply(pendingMutations, mutations);\n        },\n        flush: flush,\n        stop: function () {\n            cancelScheduledFlush();\n        },\n    };\n}\n/**\n * Use 'requestIdleCallback' when available: it will throttle the mutation processing if the\n * browser is busy rendering frames (ex: when frames are below 60fps). When not available, the\n * fallback on 'requestAnimationFrame' will still ensure the mutations are processed after any\n * browser rendering process (Layout, Recalculate Style, etc.), so we can serialize DOM nodes efficiently.\n *\n * Note: check both 'requestIdleCallback' and 'cancelIdleCallback' existence because some polyfills only implement 'requestIdleCallback'.\n */\nfunction requestIdleCallback(callback, opts) {\n    if (window.requestIdleCallback && window.cancelIdleCallback) {\n        var id_1 = window.requestIdleCallback((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.monitor)(callback), opts);\n        return function () { return window.cancelIdleCallback(id_1); };\n    }\n    var id = window.requestAnimationFrame((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.monitor)(callback));\n    return function () { return window.cancelAnimationFrame(id); };\n}\n//# sourceMappingURL=mutationBatch.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtL2VzbS9kb21haW4vcmVjb3JkL211dGF0aW9uQmF0Y2guanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXNEO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCwrQkFBK0IsdURBQUk7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0VBQW9FLHFDQUFxQztBQUN6RztBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsOERBQU87QUFDckQsNkJBQTZCO0FBQzdCO0FBQ0EsMENBQTBDLDhEQUFPO0FBQ2pELHlCQUF5QjtBQUN6QjtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFyY2FzdGVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLXJ1bS9lc20vZG9tYWluL3JlY29yZC9tdXRhdGlvbkJhdGNoLmpzP2Q4YWYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbm9vcCwgbW9uaXRvciB9IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItY29yZSc7XG4vKipcbiAqIE1heGltdW0gZHVyYXRpb24gdG8gd2FpdCBiZWZvcmUgcHJvY2Vzc2luZyBtdXRhdGlvbnMuIElmIHRoZSBicm93c2VyIGlzIGlkbGUsIG11dGF0aW9ucyB3aWxsIGJlXG4gKiBwcm9jZXNzZWQgbW9yZSBxdWlja2x5LiBJZiB0aGUgYnJvd3NlciBpcyBidXN5IGV4ZWN1dGluZyBzbWFsbCB0YXNrcyAoZXg6IHJlbmRlcmluZyBmcmFtZXMpLCB0aGVcbiAqIG11dGF0aW9ucyB3aWxsIHdhaXQgTVVUQVRJT05fUFJPQ0VTU19NQVhfREVMQVkgbWlsbGlzZWNvbmRzIGJlZm9yZSBiZWluZyBwcm9jZXNzZWQuIElmIHRoZVxuICogYnJvd3NlciBpcyBidXN5IGV4ZWN1dGluZyBhIGxvbmdlciB0YXNrLCBtdXRhdGlvbnMgd2lsbCBiZSBwcm9jZXNzZWQgYWZ0ZXIgdGhpcyB0YXNrLlxuICovXG52YXIgTVVUQVRJT05fUFJPQ0VTU19NQVhfREVMQVkgPSAxMDA7XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTXV0YXRpb25CYXRjaChwcm9jZXNzTXV0YXRpb25CYXRjaCkge1xuICAgIHZhciBjYW5jZWxTY2hlZHVsZWRGbHVzaCA9IG5vb3A7XG4gICAgdmFyIHBlbmRpbmdNdXRhdGlvbnMgPSBbXTtcbiAgICBmdW5jdGlvbiBmbHVzaCgpIHtcbiAgICAgICAgY2FuY2VsU2NoZWR1bGVkRmx1c2goKTtcbiAgICAgICAgcHJvY2Vzc011dGF0aW9uQmF0Y2gocGVuZGluZ011dGF0aW9ucyk7XG4gICAgICAgIHBlbmRpbmdNdXRhdGlvbnMgPSBbXTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYWRkTXV0YXRpb25zOiBmdW5jdGlvbiAobXV0YXRpb25zKSB7XG4gICAgICAgICAgICBpZiAocGVuZGluZ011dGF0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICBjYW5jZWxTY2hlZHVsZWRGbHVzaCA9IHJlcXVlc3RJZGxlQ2FsbGJhY2soZmx1c2gsIHsgdGltZW91dDogTVVUQVRJT05fUFJPQ0VTU19NQVhfREVMQVkgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwZW5kaW5nTXV0YXRpb25zLnB1c2guYXBwbHkocGVuZGluZ011dGF0aW9ucywgbXV0YXRpb25zKTtcbiAgICAgICAgfSxcbiAgICAgICAgZmx1c2g6IGZsdXNoLFxuICAgICAgICBzdG9wOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjYW5jZWxTY2hlZHVsZWRGbHVzaCgpO1xuICAgICAgICB9LFxuICAgIH07XG59XG4vKipcbiAqIFVzZSAncmVxdWVzdElkbGVDYWxsYmFjaycgd2hlbiBhdmFpbGFibGU6IGl0IHdpbGwgdGhyb3R0bGUgdGhlIG11dGF0aW9uIHByb2Nlc3NpbmcgaWYgdGhlXG4gKiBicm93c2VyIGlzIGJ1c3kgcmVuZGVyaW5nIGZyYW1lcyAoZXg6IHdoZW4gZnJhbWVzIGFyZSBiZWxvdyA2MGZwcykuIFdoZW4gbm90IGF2YWlsYWJsZSwgdGhlXG4gKiBmYWxsYmFjayBvbiAncmVxdWVzdEFuaW1hdGlvbkZyYW1lJyB3aWxsIHN0aWxsIGVuc3VyZSB0aGUgbXV0YXRpb25zIGFyZSBwcm9jZXNzZWQgYWZ0ZXIgYW55XG4gKiBicm93c2VyIHJlbmRlcmluZyBwcm9jZXNzIChMYXlvdXQsIFJlY2FsY3VsYXRlIFN0eWxlLCBldGMuKSwgc28gd2UgY2FuIHNlcmlhbGl6ZSBET00gbm9kZXMgZWZmaWNpZW50bHkuXG4gKlxuICogTm90ZTogY2hlY2sgYm90aCAncmVxdWVzdElkbGVDYWxsYmFjaycgYW5kICdjYW5jZWxJZGxlQ2FsbGJhY2snIGV4aXN0ZW5jZSBiZWNhdXNlIHNvbWUgcG9seWZpbGxzIG9ubHkgaW1wbGVtZW50ICdyZXF1ZXN0SWRsZUNhbGxiYWNrJy5cbiAqL1xuZnVuY3Rpb24gcmVxdWVzdElkbGVDYWxsYmFjayhjYWxsYmFjaywgb3B0cykge1xuICAgIGlmICh3aW5kb3cucmVxdWVzdElkbGVDYWxsYmFjayAmJiB3aW5kb3cuY2FuY2VsSWRsZUNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBpZF8xID0gd2luZG93LnJlcXVlc3RJZGxlQ2FsbGJhY2sobW9uaXRvcihjYWxsYmFjayksIG9wdHMpO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkgeyByZXR1cm4gd2luZG93LmNhbmNlbElkbGVDYWxsYmFjayhpZF8xKTsgfTtcbiAgICB9XG4gICAgdmFyIGlkID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShtb25pdG9yKGNhbGxiYWNrKSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZShpZCk7IH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tdXRhdGlvbkJhdGNoLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/mutationBatch.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/observers/focusObserver.js":
/*!********************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum/esm/domain/record/observers/focusObserver.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initFocusObserver: () => (/* binding */ initFocusObserver)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/browser/addEventListener.js\");\n\nfunction initFocusObserver(focusCb) {\n    return (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.addEventListeners)(window, [\"focus\" /* DOM_EVENT.FOCUS */, \"blur\" /* DOM_EVENT.BLUR */], function () {\n        focusCb({ has_focus: document.hasFocus() });\n    }).stop;\n}\n//# sourceMappingURL=focusObserver.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtL2VzbS9kb21haW4vcmVjb3JkL29ic2VydmVycy9mb2N1c09ic2VydmVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQTBEO0FBQ25EO0FBQ1AsV0FBVyx3RUFBaUI7QUFDNUIsa0JBQWtCLGdDQUFnQztBQUNsRCxLQUFLO0FBQ0w7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhcmNhc3Rlci8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0vZXNtL2RvbWFpbi9yZWNvcmQvb2JzZXJ2ZXJzL2ZvY3VzT2JzZXJ2ZXIuanM/NTZjMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhZGRFdmVudExpc3RlbmVycyB9IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItY29yZSc7XG5leHBvcnQgZnVuY3Rpb24gaW5pdEZvY3VzT2JzZXJ2ZXIoZm9jdXNDYikge1xuICAgIHJldHVybiBhZGRFdmVudExpc3RlbmVycyh3aW5kb3csIFtcImZvY3VzXCIgLyogRE9NX0VWRU5ULkZPQ1VTICovLCBcImJsdXJcIiAvKiBET01fRVZFTlQuQkxVUiAqL10sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZm9jdXNDYih7IGhhc19mb2N1czogZG9jdW1lbnQuaGFzRm9jdXMoKSB9KTtcbiAgICB9KS5zdG9wO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Zm9jdXNPYnNlcnZlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/observers/focusObserver.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/observers/frustrationObserver.js":
/*!**************************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum/esm/domain/record/observers/frustrationObserver.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initFrustrationObserver: () => (/* binding */ initFrustrationObserver)\n/* harmony export */ });\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../types */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/types/index.js\");\n\nfunction initFrustrationObserver(lifeCycle, frustrationCb, recordIds) {\n    return lifeCycle.subscribe(10 /* LifeCycleEventType.RAW_RUM_EVENT_COLLECTED */, function (data) {\n        var _a, _b, _c;\n        if (data.rawRumEvent.type === \"action\" /* RumEventType.ACTION */ &&\n            data.rawRumEvent.action.type === \"click\" /* ActionType.CLICK */ &&\n            ((_b = (_a = data.rawRumEvent.action.frustration) === null || _a === void 0 ? void 0 : _a.type) === null || _b === void 0 ? void 0 : _b.length) &&\n            'events' in data.domainContext &&\n            ((_c = data.domainContext.events) === null || _c === void 0 ? void 0 : _c.length)) {\n            frustrationCb({\n                timestamp: data.rawRumEvent.date,\n                type: _types__WEBPACK_IMPORTED_MODULE_0__.RecordType.FrustrationRecord,\n                data: {\n                    frustrationTypes: data.rawRumEvent.action.frustration.type,\n                    recordIds: data.domainContext.events.map(function (e) { return recordIds.getIdForEvent(e); }),\n                },\n            });\n        }\n    }).unsubscribe;\n}\n//# sourceMappingURL=frustrationObserver.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtL2VzbS9kb21haW4vcmVjb3JkL29ic2VydmVycy9mcnVzdHJhdGlvbk9ic2VydmVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQTRDO0FBQ3JDO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLDhDQUFVO0FBQ2hDO0FBQ0E7QUFDQSw0RUFBNEUsb0NBQW9DO0FBQ2hILGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQSxLQUFLO0FBQ0w7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhcmNhc3Rlci8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0vZXNtL2RvbWFpbi9yZWNvcmQvb2JzZXJ2ZXJzL2ZydXN0cmF0aW9uT2JzZXJ2ZXIuanM/NjdiOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSZWNvcmRUeXBlIH0gZnJvbSAnLi4vLi4vLi4vdHlwZXMnO1xuZXhwb3J0IGZ1bmN0aW9uIGluaXRGcnVzdHJhdGlvbk9ic2VydmVyKGxpZmVDeWNsZSwgZnJ1c3RyYXRpb25DYiwgcmVjb3JkSWRzKSB7XG4gICAgcmV0dXJuIGxpZmVDeWNsZS5zdWJzY3JpYmUoMTAgLyogTGlmZUN5Y2xlRXZlbnRUeXBlLlJBV19SVU1fRVZFTlRfQ09MTEVDVEVEICovLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgaWYgKGRhdGEucmF3UnVtRXZlbnQudHlwZSA9PT0gXCJhY3Rpb25cIiAvKiBSdW1FdmVudFR5cGUuQUNUSU9OICovICYmXG4gICAgICAgICAgICBkYXRhLnJhd1J1bUV2ZW50LmFjdGlvbi50eXBlID09PSBcImNsaWNrXCIgLyogQWN0aW9uVHlwZS5DTElDSyAqLyAmJlxuICAgICAgICAgICAgKChfYiA9IChfYSA9IGRhdGEucmF3UnVtRXZlbnQuYWN0aW9uLmZydXN0cmF0aW9uKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudHlwZSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmxlbmd0aCkgJiZcbiAgICAgICAgICAgICdldmVudHMnIGluIGRhdGEuZG9tYWluQ29udGV4dCAmJlxuICAgICAgICAgICAgKChfYyA9IGRhdGEuZG9tYWluQ29udGV4dC5ldmVudHMpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5sZW5ndGgpKSB7XG4gICAgICAgICAgICBmcnVzdHJhdGlvbkNiKHtcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IGRhdGEucmF3UnVtRXZlbnQuZGF0ZSxcbiAgICAgICAgICAgICAgICB0eXBlOiBSZWNvcmRUeXBlLkZydXN0cmF0aW9uUmVjb3JkLFxuICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgZnJ1c3RyYXRpb25UeXBlczogZGF0YS5yYXdSdW1FdmVudC5hY3Rpb24uZnJ1c3RyYXRpb24udHlwZSxcbiAgICAgICAgICAgICAgICAgICAgcmVjb3JkSWRzOiBkYXRhLmRvbWFpbkNvbnRleHQuZXZlbnRzLm1hcChmdW5jdGlvbiAoZSkgeyByZXR1cm4gcmVjb3JkSWRzLmdldElkRm9yRXZlbnQoZSk7IH0pLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pLnVuc3Vic2NyaWJlO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZnJ1c3RyYXRpb25PYnNlcnZlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/observers/frustrationObserver.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/observers/index.js":
/*!************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum/esm/domain/record/observers/index.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initInputObserver: () => (/* reexport safe */ _inputObserver__WEBPACK_IMPORTED_MODULE_1__.initInputObserver),\n/* harmony export */   initMutationObserver: () => (/* reexport safe */ _mutationObserver__WEBPACK_IMPORTED_MODULE_2__.initMutationObserver),\n/* harmony export */   initObservers: () => (/* reexport safe */ _observers__WEBPACK_IMPORTED_MODULE_0__.initObservers)\n/* harmony export */ });\n/* harmony import */ var _observers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./observers */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/observers/observers.js\");\n/* harmony import */ var _inputObserver__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./inputObserver */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/observers/inputObserver.js\");\n/* harmony import */ var _mutationObserver__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./mutationObserver */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/observers/mutationObserver.js\");\n\n\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtL2VzbS9kb21haW4vcmVjb3JkL29ic2VydmVycy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBNEM7QUFDUTtBQUNNO0FBQzFEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFyY2FzdGVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLXJ1bS9lc20vZG9tYWluL3JlY29yZC9vYnNlcnZlcnMvaW5kZXguanM/MWIyOCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgeyBpbml0T2JzZXJ2ZXJzIH0gZnJvbSAnLi9vYnNlcnZlcnMnO1xuZXhwb3J0IHsgaW5pdElucHV0T2JzZXJ2ZXIgfSBmcm9tICcuL2lucHV0T2JzZXJ2ZXInO1xuZXhwb3J0IHsgaW5pdE11dGF0aW9uT2JzZXJ2ZXIgfSBmcm9tICcuL211dGF0aW9uT2JzZXJ2ZXInO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/observers/index.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/observers/inputObserver.js":
/*!********************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum/esm/domain/record/observers/inputObserver.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initInputObserver: () => (/* binding */ initInputObserver)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/polyfills.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/browser/addEventListener.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/instrumentMethod.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../constants */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/constants.js\");\n/* harmony import */ var _eventsUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../eventsUtils */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/eventsUtils.js\");\n/* harmony import */ var _privacy__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../privacy */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/privacy.js\");\n/* harmony import */ var _serialization__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../serialization */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/serialization/index.js\");\n\n\n\n\n\nfunction initInputObserver(cb, defaultPrivacyLevel, _a) {\n    var _b = _a === void 0 ? {} : _a, _c = _b.domEvents, domEvents = _c === void 0 ? [\"input\" /* DOM_EVENT.INPUT */, \"change\" /* DOM_EVENT.CHANGE */] : _c, _d = _b.target, target = _d === void 0 ? document : _d;\n    var lastInputStateMap = new WeakMap();\n    function onElementChange(target) {\n        var nodePrivacyLevel = (0,_privacy__WEBPACK_IMPORTED_MODULE_2__.getNodePrivacyLevel)(target, defaultPrivacyLevel);\n        if (nodePrivacyLevel === _constants__WEBPACK_IMPORTED_MODULE_0__.NodePrivacyLevel.HIDDEN) {\n            return;\n        }\n        var type = target.type;\n        var inputState;\n        if (type === 'radio' || type === 'checkbox') {\n            if ((0,_privacy__WEBPACK_IMPORTED_MODULE_2__.shouldMaskNode)(target, nodePrivacyLevel)) {\n                return;\n            }\n            inputState = { isChecked: target.checked };\n        }\n        else {\n            var value = (0,_serialization__WEBPACK_IMPORTED_MODULE_3__.getElementInputValue)(target, nodePrivacyLevel);\n            if (value === undefined) {\n                return;\n            }\n            inputState = { text: value };\n        }\n        // Can be multiple changes on the same node within the same batched mutation observation.\n        cbWithDedup(target, inputState);\n        // If a radio was checked, other radios with the same name attribute will be unchecked.\n        var name = target.name;\n        if (type === 'radio' && name && target.checked) {\n            (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.forEach)(document.querySelectorAll(\"input[type=\\\"radio\\\"][name=\\\"\".concat(name, \"\\\"]\")), function (el) {\n                if (el !== target) {\n                    // TODO: Consider the privacy implications for various differing input privacy levels\n                    cbWithDedup(el, { isChecked: false });\n                }\n            });\n        }\n    }\n    /**\n     * There can be multiple changes on the same node within the same batched mutation observation.\n     */\n    function cbWithDedup(target, inputState) {\n        if (!(0,_serialization__WEBPACK_IMPORTED_MODULE_3__.hasSerializedNode)(target)) {\n            return;\n        }\n        var lastInputState = lastInputStateMap.get(target);\n        if (!lastInputState ||\n            lastInputState.text !== inputState.text ||\n            lastInputState.isChecked !== inputState.isChecked) {\n            lastInputStateMap.set(target, inputState);\n            cb((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.assign)({\n                id: (0,_serialization__WEBPACK_IMPORTED_MODULE_3__.getSerializedNodeId)(target),\n            }, inputState));\n        }\n    }\n    var stopEventListeners = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.addEventListeners)(target, domEvents, function (event) {\n        var target = (0,_eventsUtils__WEBPACK_IMPORTED_MODULE_1__.getEventTarget)(event);\n        if (target instanceof HTMLInputElement ||\n            target instanceof HTMLTextAreaElement ||\n            target instanceof HTMLSelectElement) {\n            onElementChange(target);\n        }\n    }, {\n        capture: true,\n        passive: true,\n    }).stop;\n    var instrumentationStoppers = [\n        (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__.instrumentSetter)(HTMLInputElement.prototype, 'value', onElementChange),\n        (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__.instrumentSetter)(HTMLInputElement.prototype, 'checked', onElementChange),\n        (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__.instrumentSetter)(HTMLSelectElement.prototype, 'value', onElementChange),\n        (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__.instrumentSetter)(HTMLTextAreaElement.prototype, 'value', onElementChange),\n        (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__.instrumentSetter)(HTMLSelectElement.prototype, 'selectedIndex', onElementChange),\n    ];\n    return function () {\n        instrumentationStoppers.forEach(function (stopper) { return stopper.stop(); });\n        stopEventListeners();\n    };\n}\n//# sourceMappingURL=inputObserver.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtL2VzbS9kb21haW4vcmVjb3JkL29ic2VydmVycy9pbnB1dE9ic2VydmVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQTZGO0FBQ3ZDO0FBQ047QUFDaUI7QUFDK0I7QUFDekY7QUFDUCxnQ0FBZ0M7QUFDaEM7QUFDQTtBQUNBLCtCQUErQiw2REFBbUI7QUFDbEQsaUNBQWlDLHdEQUFnQjtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLHdEQUFjO0FBQzlCO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBLHdCQUF3QixvRUFBb0I7QUFDNUM7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksOERBQU87QUFDbkI7QUFDQTtBQUNBLHNDQUFzQyxrQkFBa0I7QUFDeEQ7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxpRUFBaUI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLDZEQUFNO0FBQ3JCLG9CQUFvQixtRUFBbUI7QUFDdkMsYUFBYTtBQUNiO0FBQ0E7QUFDQSw2QkFBNkIsd0VBQWlCO0FBQzlDLHFCQUFxQiw0REFBYztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxRQUFRLHVFQUFnQjtBQUN4QixRQUFRLHVFQUFnQjtBQUN4QixRQUFRLHVFQUFnQjtBQUN4QixRQUFRLHVFQUFnQjtBQUN4QixRQUFRLHVFQUFnQjtBQUN4QjtBQUNBO0FBQ0EsNkRBQTZELHdCQUF3QjtBQUNyRjtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhcmNhc3Rlci8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0vZXNtL2RvbWFpbi9yZWNvcmQvb2JzZXJ2ZXJzL2lucHV0T2JzZXJ2ZXIuanM/Yzg5ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpbnN0cnVtZW50U2V0dGVyLCBhc3NpZ24sIGFkZEV2ZW50TGlzdGVuZXJzLCBmb3JFYWNoIH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJztcbmltcG9ydCB7IE5vZGVQcml2YWN5TGV2ZWwgfSBmcm9tICcuLi8uLi8uLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgZ2V0RXZlbnRUYXJnZXQgfSBmcm9tICcuLi9ldmVudHNVdGlscyc7XG5pbXBvcnQgeyBnZXROb2RlUHJpdmFjeUxldmVsLCBzaG91bGRNYXNrTm9kZSB9IGZyb20gJy4uL3ByaXZhY3knO1xuaW1wb3J0IHsgZ2V0RWxlbWVudElucHV0VmFsdWUsIGdldFNlcmlhbGl6ZWROb2RlSWQsIGhhc1NlcmlhbGl6ZWROb2RlIH0gZnJvbSAnLi4vc2VyaWFsaXphdGlvbic7XG5leHBvcnQgZnVuY3Rpb24gaW5pdElucHV0T2JzZXJ2ZXIoY2IsIGRlZmF1bHRQcml2YWN5TGV2ZWwsIF9hKSB7XG4gICAgdmFyIF9iID0gX2EgPT09IHZvaWQgMCA/IHt9IDogX2EsIF9jID0gX2IuZG9tRXZlbnRzLCBkb21FdmVudHMgPSBfYyA9PT0gdm9pZCAwID8gW1wiaW5wdXRcIiAvKiBET01fRVZFTlQuSU5QVVQgKi8sIFwiY2hhbmdlXCIgLyogRE9NX0VWRU5ULkNIQU5HRSAqL10gOiBfYywgX2QgPSBfYi50YXJnZXQsIHRhcmdldCA9IF9kID09PSB2b2lkIDAgPyBkb2N1bWVudCA6IF9kO1xuICAgIHZhciBsYXN0SW5wdXRTdGF0ZU1hcCA9IG5ldyBXZWFrTWFwKCk7XG4gICAgZnVuY3Rpb24gb25FbGVtZW50Q2hhbmdlKHRhcmdldCkge1xuICAgICAgICB2YXIgbm9kZVByaXZhY3lMZXZlbCA9IGdldE5vZGVQcml2YWN5TGV2ZWwodGFyZ2V0LCBkZWZhdWx0UHJpdmFjeUxldmVsKTtcbiAgICAgICAgaWYgKG5vZGVQcml2YWN5TGV2ZWwgPT09IE5vZGVQcml2YWN5TGV2ZWwuSElEREVOKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHR5cGUgPSB0YXJnZXQudHlwZTtcbiAgICAgICAgdmFyIGlucHV0U3RhdGU7XG4gICAgICAgIGlmICh0eXBlID09PSAncmFkaW8nIHx8IHR5cGUgPT09ICdjaGVja2JveCcpIHtcbiAgICAgICAgICAgIGlmIChzaG91bGRNYXNrTm9kZSh0YXJnZXQsIG5vZGVQcml2YWN5TGV2ZWwpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW5wdXRTdGF0ZSA9IHsgaXNDaGVja2VkOiB0YXJnZXQuY2hlY2tlZCB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gZ2V0RWxlbWVudElucHV0VmFsdWUodGFyZ2V0LCBub2RlUHJpdmFjeUxldmVsKTtcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW5wdXRTdGF0ZSA9IHsgdGV4dDogdmFsdWUgfTtcbiAgICAgICAgfVxuICAgICAgICAvLyBDYW4gYmUgbXVsdGlwbGUgY2hhbmdlcyBvbiB0aGUgc2FtZSBub2RlIHdpdGhpbiB0aGUgc2FtZSBiYXRjaGVkIG11dGF0aW9uIG9ic2VydmF0aW9uLlxuICAgICAgICBjYldpdGhEZWR1cCh0YXJnZXQsIGlucHV0U3RhdGUpO1xuICAgICAgICAvLyBJZiBhIHJhZGlvIHdhcyBjaGVja2VkLCBvdGhlciByYWRpb3Mgd2l0aCB0aGUgc2FtZSBuYW1lIGF0dHJpYnV0ZSB3aWxsIGJlIHVuY2hlY2tlZC5cbiAgICAgICAgdmFyIG5hbWUgPSB0YXJnZXQubmFtZTtcbiAgICAgICAgaWYgKHR5cGUgPT09ICdyYWRpbycgJiYgbmFtZSAmJiB0YXJnZXQuY2hlY2tlZCkge1xuICAgICAgICAgICAgZm9yRWFjaChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiaW5wdXRbdHlwZT1cXFwicmFkaW9cXFwiXVtuYW1lPVxcXCJcIi5jb25jYXQobmFtZSwgXCJcXFwiXVwiKSksIGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgICAgIGlmIChlbCAhPT0gdGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IENvbnNpZGVyIHRoZSBwcml2YWN5IGltcGxpY2F0aW9ucyBmb3IgdmFyaW91cyBkaWZmZXJpbmcgaW5wdXQgcHJpdmFjeSBsZXZlbHNcbiAgICAgICAgICAgICAgICAgICAgY2JXaXRoRGVkdXAoZWwsIHsgaXNDaGVja2VkOiBmYWxzZSB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGVyZSBjYW4gYmUgbXVsdGlwbGUgY2hhbmdlcyBvbiB0aGUgc2FtZSBub2RlIHdpdGhpbiB0aGUgc2FtZSBiYXRjaGVkIG11dGF0aW9uIG9ic2VydmF0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNiV2l0aERlZHVwKHRhcmdldCwgaW5wdXRTdGF0ZSkge1xuICAgICAgICBpZiAoIWhhc1NlcmlhbGl6ZWROb2RlKHRhcmdldCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbGFzdElucHV0U3RhdGUgPSBsYXN0SW5wdXRTdGF0ZU1hcC5nZXQodGFyZ2V0KTtcbiAgICAgICAgaWYgKCFsYXN0SW5wdXRTdGF0ZSB8fFxuICAgICAgICAgICAgbGFzdElucHV0U3RhdGUudGV4dCAhPT0gaW5wdXRTdGF0ZS50ZXh0IHx8XG4gICAgICAgICAgICBsYXN0SW5wdXRTdGF0ZS5pc0NoZWNrZWQgIT09IGlucHV0U3RhdGUuaXNDaGVja2VkKSB7XG4gICAgICAgICAgICBsYXN0SW5wdXRTdGF0ZU1hcC5zZXQodGFyZ2V0LCBpbnB1dFN0YXRlKTtcbiAgICAgICAgICAgIGNiKGFzc2lnbih7XG4gICAgICAgICAgICAgICAgaWQ6IGdldFNlcmlhbGl6ZWROb2RlSWQodGFyZ2V0KSxcbiAgICAgICAgICAgIH0sIGlucHV0U3RhdGUpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB2YXIgc3RvcEV2ZW50TGlzdGVuZXJzID0gYWRkRXZlbnRMaXN0ZW5lcnModGFyZ2V0LCBkb21FdmVudHMsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgdGFyZ2V0ID0gZ2V0RXZlbnRUYXJnZXQoZXZlbnQpO1xuICAgICAgICBpZiAodGFyZ2V0IGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudCB8fFxuICAgICAgICAgICAgdGFyZ2V0IGluc3RhbmNlb2YgSFRNTFRleHRBcmVhRWxlbWVudCB8fFxuICAgICAgICAgICAgdGFyZ2V0IGluc3RhbmNlb2YgSFRNTFNlbGVjdEVsZW1lbnQpIHtcbiAgICAgICAgICAgIG9uRWxlbWVudENoYW5nZSh0YXJnZXQpO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBjYXB0dXJlOiB0cnVlLFxuICAgICAgICBwYXNzaXZlOiB0cnVlLFxuICAgIH0pLnN0b3A7XG4gICAgdmFyIGluc3RydW1lbnRhdGlvblN0b3BwZXJzID0gW1xuICAgICAgICBpbnN0cnVtZW50U2V0dGVyKEhUTUxJbnB1dEVsZW1lbnQucHJvdG90eXBlLCAndmFsdWUnLCBvbkVsZW1lbnRDaGFuZ2UpLFxuICAgICAgICBpbnN0cnVtZW50U2V0dGVyKEhUTUxJbnB1dEVsZW1lbnQucHJvdG90eXBlLCAnY2hlY2tlZCcsIG9uRWxlbWVudENoYW5nZSksXG4gICAgICAgIGluc3RydW1lbnRTZXR0ZXIoSFRNTFNlbGVjdEVsZW1lbnQucHJvdG90eXBlLCAndmFsdWUnLCBvbkVsZW1lbnRDaGFuZ2UpLFxuICAgICAgICBpbnN0cnVtZW50U2V0dGVyKEhUTUxUZXh0QXJlYUVsZW1lbnQucHJvdG90eXBlLCAndmFsdWUnLCBvbkVsZW1lbnRDaGFuZ2UpLFxuICAgICAgICBpbnN0cnVtZW50U2V0dGVyKEhUTUxTZWxlY3RFbGVtZW50LnByb3RvdHlwZSwgJ3NlbGVjdGVkSW5kZXgnLCBvbkVsZW1lbnRDaGFuZ2UpLFxuICAgIF07XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaW5zdHJ1bWVudGF0aW9uU3RvcHBlcnMuZm9yRWFjaChmdW5jdGlvbiAoc3RvcHBlcikgeyByZXR1cm4gc3RvcHBlci5zdG9wKCk7IH0pO1xuICAgICAgICBzdG9wRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5wdXRPYnNlcnZlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/observers/inputObserver.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/observers/mediaInteractionObserver.js":
/*!*******************************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum/esm/domain/record/observers/mediaInteractionObserver.js ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initMediaInteractionObserver: () => (/* binding */ initMediaInteractionObserver)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/browser/addEventListener.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../constants */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/constants.js\");\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../types */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/types/index.js\");\n/* harmony import */ var _eventsUtils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../eventsUtils */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/eventsUtils.js\");\n/* harmony import */ var _privacy__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../privacy */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/privacy.js\");\n/* harmony import */ var _serialization__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../serialization */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/serialization/index.js\");\n\n\n\n\n\n\nfunction initMediaInteractionObserver(mediaInteractionCb, defaultPrivacyLevel) {\n    var handler = function (event) {\n        var target = (0,_eventsUtils__WEBPACK_IMPORTED_MODULE_2__.getEventTarget)(event);\n        if (!target ||\n            (0,_privacy__WEBPACK_IMPORTED_MODULE_3__.getNodePrivacyLevel)(target, defaultPrivacyLevel) === _constants__WEBPACK_IMPORTED_MODULE_0__.NodePrivacyLevel.HIDDEN ||\n            !(0,_serialization__WEBPACK_IMPORTED_MODULE_4__.hasSerializedNode)(target)) {\n            return;\n        }\n        mediaInteractionCb({\n            id: (0,_serialization__WEBPACK_IMPORTED_MODULE_4__.getSerializedNodeId)(target),\n            type: event.type === \"play\" /* DOM_EVENT.PLAY */ ? _types__WEBPACK_IMPORTED_MODULE_1__.MediaInteractionType.Play : _types__WEBPACK_IMPORTED_MODULE_1__.MediaInteractionType.Pause,\n        });\n    };\n    return (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.addEventListeners)(document, [\"play\" /* DOM_EVENT.PLAY */, \"pause\" /* DOM_EVENT.PAUSE */], handler, { capture: true, passive: true }).stop;\n}\n//# sourceMappingURL=mediaInteractionObserver.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtL2VzbS9kb21haW4vcmVjb3JkL29ic2VydmVycy9tZWRpYUludGVyYWN0aW9uT2JzZXJ2ZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUEwRDtBQUNKO0FBQ0E7QUFDTjtBQUNDO0FBQ3lCO0FBQ25FO0FBQ1A7QUFDQSxxQkFBcUIsNERBQWM7QUFDbkM7QUFDQSxZQUFZLDZEQUFtQixrQ0FBa0Msd0RBQWdCO0FBQ2pGLGFBQWEsaUVBQWlCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixtRUFBbUI7QUFDbkMsK0RBQStELHdEQUFvQixRQUFRLHdEQUFvQjtBQUMvRyxTQUFTO0FBQ1Q7QUFDQSxXQUFXLHdFQUFpQixvRkFBb0YsOEJBQThCO0FBQzlJO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYXJjYXN0ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtL2VzbS9kb21haW4vcmVjb3JkL29ic2VydmVycy9tZWRpYUludGVyYWN0aW9uT2JzZXJ2ZXIuanM/YmU3YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhZGRFdmVudExpc3RlbmVycyB9IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItY29yZSc7XG5pbXBvcnQgeyBOb2RlUHJpdmFjeUxldmVsIH0gZnJvbSAnLi4vLi4vLi4vY29uc3RhbnRzJztcbmltcG9ydCB7IE1lZGlhSW50ZXJhY3Rpb25UeXBlIH0gZnJvbSAnLi4vLi4vLi4vdHlwZXMnO1xuaW1wb3J0IHsgZ2V0RXZlbnRUYXJnZXQgfSBmcm9tICcuLi9ldmVudHNVdGlscyc7XG5pbXBvcnQgeyBnZXROb2RlUHJpdmFjeUxldmVsIH0gZnJvbSAnLi4vcHJpdmFjeSc7XG5pbXBvcnQgeyBnZXRTZXJpYWxpemVkTm9kZUlkLCBoYXNTZXJpYWxpemVkTm9kZSB9IGZyb20gJy4uL3NlcmlhbGl6YXRpb24nO1xuZXhwb3J0IGZ1bmN0aW9uIGluaXRNZWRpYUludGVyYWN0aW9uT2JzZXJ2ZXIobWVkaWFJbnRlcmFjdGlvbkNiLCBkZWZhdWx0UHJpdmFjeUxldmVsKSB7XG4gICAgdmFyIGhhbmRsZXIgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIHRhcmdldCA9IGdldEV2ZW50VGFyZ2V0KGV2ZW50KTtcbiAgICAgICAgaWYgKCF0YXJnZXQgfHxcbiAgICAgICAgICAgIGdldE5vZGVQcml2YWN5TGV2ZWwodGFyZ2V0LCBkZWZhdWx0UHJpdmFjeUxldmVsKSA9PT0gTm9kZVByaXZhY3lMZXZlbC5ISURERU4gfHxcbiAgICAgICAgICAgICFoYXNTZXJpYWxpemVkTm9kZSh0YXJnZXQpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbWVkaWFJbnRlcmFjdGlvbkNiKHtcbiAgICAgICAgICAgIGlkOiBnZXRTZXJpYWxpemVkTm9kZUlkKHRhcmdldCksXG4gICAgICAgICAgICB0eXBlOiBldmVudC50eXBlID09PSBcInBsYXlcIiAvKiBET01fRVZFTlQuUExBWSAqLyA/IE1lZGlhSW50ZXJhY3Rpb25UeXBlLlBsYXkgOiBNZWRpYUludGVyYWN0aW9uVHlwZS5QYXVzZSxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gYWRkRXZlbnRMaXN0ZW5lcnMoZG9jdW1lbnQsIFtcInBsYXlcIiAvKiBET01fRVZFTlQuUExBWSAqLywgXCJwYXVzZVwiIC8qIERPTV9FVkVOVC5QQVVTRSAqL10sIGhhbmRsZXIsIHsgY2FwdHVyZTogdHJ1ZSwgcGFzc2l2ZTogdHJ1ZSB9KS5zdG9wO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWVkaWFJbnRlcmFjdGlvbk9ic2VydmVyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/observers/mediaInteractionObserver.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/observers/mouseInteractionObserver.js":
/*!*******************************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum/esm/domain/record/observers/mouseInteractionObserver.js ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initMouseInteractionObserver: () => (/* binding */ initMouseInteractionObserver)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/polyfills.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/browser/addEventListener.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../constants */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/constants.js\");\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../types */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/types/index.js\");\n/* harmony import */ var _assembly__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../assembly */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/assembly.js\");\n/* harmony import */ var _eventsUtils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../eventsUtils */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/eventsUtils.js\");\n/* harmony import */ var _privacy__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../privacy */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/privacy.js\");\n/* harmony import */ var _serialization__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../serialization */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/serialization/index.js\");\n/* harmony import */ var _moveObserver__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./moveObserver */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/observers/moveObserver.js\");\nvar _a;\n\n\n\n\n\n\n\n\nvar eventTypeToMouseInteraction = (_a = {},\n    // Listen for pointerup DOM events instead of mouseup for MouseInteraction/MouseUp records. This\n    // allows to reference such records from Frustration records.\n    //\n    // In the context of supporting Mobile Session Replay, we introduced `PointerInteraction` records\n    // used by the Mobile SDKs in place of `MouseInteraction`. In the future, we should replace\n    // `MouseInteraction` by `PointerInteraction` in the Browser SDK so we have an uniform way to\n    // convey such interaction. This would cleanly solve the issue since we would have\n    // `PointerInteraction/Up` records that we could reference from `Frustration` records.\n    _a[\"pointerup\" /* DOM_EVENT.POINTER_UP */] = _types__WEBPACK_IMPORTED_MODULE_1__.MouseInteractionType.MouseUp,\n    _a[\"mousedown\" /* DOM_EVENT.MOUSE_DOWN */] = _types__WEBPACK_IMPORTED_MODULE_1__.MouseInteractionType.MouseDown,\n    _a[\"click\" /* DOM_EVENT.CLICK */] = _types__WEBPACK_IMPORTED_MODULE_1__.MouseInteractionType.Click,\n    _a[\"contextmenu\" /* DOM_EVENT.CONTEXT_MENU */] = _types__WEBPACK_IMPORTED_MODULE_1__.MouseInteractionType.ContextMenu,\n    _a[\"dblclick\" /* DOM_EVENT.DBL_CLICK */] = _types__WEBPACK_IMPORTED_MODULE_1__.MouseInteractionType.DblClick,\n    _a[\"focus\" /* DOM_EVENT.FOCUS */] = _types__WEBPACK_IMPORTED_MODULE_1__.MouseInteractionType.Focus,\n    _a[\"blur\" /* DOM_EVENT.BLUR */] = _types__WEBPACK_IMPORTED_MODULE_1__.MouseInteractionType.Blur,\n    _a[\"touchstart\" /* DOM_EVENT.TOUCH_START */] = _types__WEBPACK_IMPORTED_MODULE_1__.MouseInteractionType.TouchStart,\n    _a[\"touchend\" /* DOM_EVENT.TOUCH_END */] = _types__WEBPACK_IMPORTED_MODULE_1__.MouseInteractionType.TouchEnd,\n    _a);\nfunction initMouseInteractionObserver(cb, defaultPrivacyLevel, recordIds) {\n    var handler = function (event) {\n        var target = (0,_eventsUtils__WEBPACK_IMPORTED_MODULE_3__.getEventTarget)(event);\n        if ((0,_privacy__WEBPACK_IMPORTED_MODULE_4__.getNodePrivacyLevel)(target, defaultPrivacyLevel) === _constants__WEBPACK_IMPORTED_MODULE_0__.NodePrivacyLevel.HIDDEN || !(0,_serialization__WEBPACK_IMPORTED_MODULE_5__.hasSerializedNode)(target)) {\n            return;\n        }\n        var id = (0,_serialization__WEBPACK_IMPORTED_MODULE_5__.getSerializedNodeId)(target);\n        var type = eventTypeToMouseInteraction[event.type];\n        var interaction;\n        if (type !== _types__WEBPACK_IMPORTED_MODULE_1__.MouseInteractionType.Blur && type !== _types__WEBPACK_IMPORTED_MODULE_1__.MouseInteractionType.Focus) {\n            var coordinates = (0,_moveObserver__WEBPACK_IMPORTED_MODULE_6__.tryToComputeCoordinates)(event);\n            if (!coordinates) {\n                return;\n            }\n            interaction = { id: id, type: type, x: coordinates.x, y: coordinates.y };\n        }\n        else {\n            interaction = { id: id, type: type };\n        }\n        var record = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.assign)({ id: recordIds.getIdForEvent(event) }, (0,_assembly__WEBPACK_IMPORTED_MODULE_2__.assembleIncrementalSnapshot)(_types__WEBPACK_IMPORTED_MODULE_1__.IncrementalSource.MouseInteraction, interaction));\n        cb(record);\n    };\n    return (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_8__.addEventListeners)(document, Object.keys(eventTypeToMouseInteraction), handler, {\n        capture: true,\n        passive: true,\n    }).stop;\n}\n//# sourceMappingURL=mouseInteractionObserver.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtL2VzbS9kb21haW4vcmVjb3JkL29ic2VydmVycy9tb3VzZUludGVyYWN0aW9uT2JzZXJ2ZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ2tFO0FBQ1o7QUFDbUI7QUFDZjtBQUNWO0FBQ0M7QUFDeUI7QUFDakI7QUFDekQsMENBQTBDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsd0RBQW9CO0FBQ3JFLGlEQUFpRCx3REFBb0I7QUFDckUsd0NBQXdDLHdEQUFvQjtBQUM1RCxxREFBcUQsd0RBQW9CO0FBQ3pFLCtDQUErQyx3REFBb0I7QUFDbkUsd0NBQXdDLHdEQUFvQjtBQUM1RCxzQ0FBc0Msd0RBQW9CO0FBQzFELG1EQUFtRCx3REFBb0I7QUFDdkUsK0NBQStDLHdEQUFvQjtBQUNuRTtBQUNPO0FBQ1A7QUFDQSxxQkFBcUIsNERBQWM7QUFDbkMsWUFBWSw2REFBbUIsa0NBQWtDLHdEQUFnQixZQUFZLGlFQUFpQjtBQUM5RztBQUNBO0FBQ0EsaUJBQWlCLG1FQUFtQjtBQUNwQztBQUNBO0FBQ0EscUJBQXFCLHdEQUFvQixrQkFBa0Isd0RBQW9CO0FBQy9FLDhCQUE4QixzRUFBdUI7QUFDckQ7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQSw0QkFBNEI7QUFDNUI7QUFDQSxxQkFBcUIsNkRBQU0sR0FBRyxvQ0FBb0MsRUFBRSxzRUFBMkIsQ0FBQyxxREFBaUI7QUFDakg7QUFDQTtBQUNBLFdBQVcsd0VBQWlCO0FBQzVCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhcmNhc3Rlci8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0vZXNtL2RvbWFpbi9yZWNvcmQvb2JzZXJ2ZXJzL21vdXNlSW50ZXJhY3Rpb25PYnNlcnZlci5qcz9mYWVkIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBfYTtcbmltcG9ydCB7IGFzc2lnbiwgYWRkRXZlbnRMaXN0ZW5lcnMgfSBmcm9tICdAZGF0YWRvZy9icm93c2VyLWNvcmUnO1xuaW1wb3J0IHsgTm9kZVByaXZhY3lMZXZlbCB9IGZyb20gJy4uLy4uLy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBJbmNyZW1lbnRhbFNvdXJjZSwgTW91c2VJbnRlcmFjdGlvblR5cGUgfSBmcm9tICcuLi8uLi8uLi90eXBlcyc7XG5pbXBvcnQgeyBhc3NlbWJsZUluY3JlbWVudGFsU25hcHNob3QgfSBmcm9tICcuLi9hc3NlbWJseSc7XG5pbXBvcnQgeyBnZXRFdmVudFRhcmdldCB9IGZyb20gJy4uL2V2ZW50c1V0aWxzJztcbmltcG9ydCB7IGdldE5vZGVQcml2YWN5TGV2ZWwgfSBmcm9tICcuLi9wcml2YWN5JztcbmltcG9ydCB7IGdldFNlcmlhbGl6ZWROb2RlSWQsIGhhc1NlcmlhbGl6ZWROb2RlIH0gZnJvbSAnLi4vc2VyaWFsaXphdGlvbic7XG5pbXBvcnQgeyB0cnlUb0NvbXB1dGVDb29yZGluYXRlcyB9IGZyb20gJy4vbW92ZU9ic2VydmVyJztcbnZhciBldmVudFR5cGVUb01vdXNlSW50ZXJhY3Rpb24gPSAoX2EgPSB7fSxcbiAgICAvLyBMaXN0ZW4gZm9yIHBvaW50ZXJ1cCBET00gZXZlbnRzIGluc3RlYWQgb2YgbW91c2V1cCBmb3IgTW91c2VJbnRlcmFjdGlvbi9Nb3VzZVVwIHJlY29yZHMuIFRoaXNcbiAgICAvLyBhbGxvd3MgdG8gcmVmZXJlbmNlIHN1Y2ggcmVjb3JkcyBmcm9tIEZydXN0cmF0aW9uIHJlY29yZHMuXG4gICAgLy9cbiAgICAvLyBJbiB0aGUgY29udGV4dCBvZiBzdXBwb3J0aW5nIE1vYmlsZSBTZXNzaW9uIFJlcGxheSwgd2UgaW50cm9kdWNlZCBgUG9pbnRlckludGVyYWN0aW9uYCByZWNvcmRzXG4gICAgLy8gdXNlZCBieSB0aGUgTW9iaWxlIFNES3MgaW4gcGxhY2Ugb2YgYE1vdXNlSW50ZXJhY3Rpb25gLiBJbiB0aGUgZnV0dXJlLCB3ZSBzaG91bGQgcmVwbGFjZVxuICAgIC8vIGBNb3VzZUludGVyYWN0aW9uYCBieSBgUG9pbnRlckludGVyYWN0aW9uYCBpbiB0aGUgQnJvd3NlciBTREsgc28gd2UgaGF2ZSBhbiB1bmlmb3JtIHdheSB0b1xuICAgIC8vIGNvbnZleSBzdWNoIGludGVyYWN0aW9uLiBUaGlzIHdvdWxkIGNsZWFubHkgc29sdmUgdGhlIGlzc3VlIHNpbmNlIHdlIHdvdWxkIGhhdmVcbiAgICAvLyBgUG9pbnRlckludGVyYWN0aW9uL1VwYCByZWNvcmRzIHRoYXQgd2UgY291bGQgcmVmZXJlbmNlIGZyb20gYEZydXN0cmF0aW9uYCByZWNvcmRzLlxuICAgIF9hW1wicG9pbnRlcnVwXCIgLyogRE9NX0VWRU5ULlBPSU5URVJfVVAgKi9dID0gTW91c2VJbnRlcmFjdGlvblR5cGUuTW91c2VVcCxcbiAgICBfYVtcIm1vdXNlZG93blwiIC8qIERPTV9FVkVOVC5NT1VTRV9ET1dOICovXSA9IE1vdXNlSW50ZXJhY3Rpb25UeXBlLk1vdXNlRG93bixcbiAgICBfYVtcImNsaWNrXCIgLyogRE9NX0VWRU5ULkNMSUNLICovXSA9IE1vdXNlSW50ZXJhY3Rpb25UeXBlLkNsaWNrLFxuICAgIF9hW1wiY29udGV4dG1lbnVcIiAvKiBET01fRVZFTlQuQ09OVEVYVF9NRU5VICovXSA9IE1vdXNlSW50ZXJhY3Rpb25UeXBlLkNvbnRleHRNZW51LFxuICAgIF9hW1wiZGJsY2xpY2tcIiAvKiBET01fRVZFTlQuREJMX0NMSUNLICovXSA9IE1vdXNlSW50ZXJhY3Rpb25UeXBlLkRibENsaWNrLFxuICAgIF9hW1wiZm9jdXNcIiAvKiBET01fRVZFTlQuRk9DVVMgKi9dID0gTW91c2VJbnRlcmFjdGlvblR5cGUuRm9jdXMsXG4gICAgX2FbXCJibHVyXCIgLyogRE9NX0VWRU5ULkJMVVIgKi9dID0gTW91c2VJbnRlcmFjdGlvblR5cGUuQmx1cixcbiAgICBfYVtcInRvdWNoc3RhcnRcIiAvKiBET01fRVZFTlQuVE9VQ0hfU1RBUlQgKi9dID0gTW91c2VJbnRlcmFjdGlvblR5cGUuVG91Y2hTdGFydCxcbiAgICBfYVtcInRvdWNoZW5kXCIgLyogRE9NX0VWRU5ULlRPVUNIX0VORCAqL10gPSBNb3VzZUludGVyYWN0aW9uVHlwZS5Ub3VjaEVuZCxcbiAgICBfYSk7XG5leHBvcnQgZnVuY3Rpb24gaW5pdE1vdXNlSW50ZXJhY3Rpb25PYnNlcnZlcihjYiwgZGVmYXVsdFByaXZhY3lMZXZlbCwgcmVjb3JkSWRzKSB7XG4gICAgdmFyIGhhbmRsZXIgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIHRhcmdldCA9IGdldEV2ZW50VGFyZ2V0KGV2ZW50KTtcbiAgICAgICAgaWYgKGdldE5vZGVQcml2YWN5TGV2ZWwodGFyZ2V0LCBkZWZhdWx0UHJpdmFjeUxldmVsKSA9PT0gTm9kZVByaXZhY3lMZXZlbC5ISURERU4gfHwgIWhhc1NlcmlhbGl6ZWROb2RlKHRhcmdldCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaWQgPSBnZXRTZXJpYWxpemVkTm9kZUlkKHRhcmdldCk7XG4gICAgICAgIHZhciB0eXBlID0gZXZlbnRUeXBlVG9Nb3VzZUludGVyYWN0aW9uW2V2ZW50LnR5cGVdO1xuICAgICAgICB2YXIgaW50ZXJhY3Rpb247XG4gICAgICAgIGlmICh0eXBlICE9PSBNb3VzZUludGVyYWN0aW9uVHlwZS5CbHVyICYmIHR5cGUgIT09IE1vdXNlSW50ZXJhY3Rpb25UeXBlLkZvY3VzKSB7XG4gICAgICAgICAgICB2YXIgY29vcmRpbmF0ZXMgPSB0cnlUb0NvbXB1dGVDb29yZGluYXRlcyhldmVudCk7XG4gICAgICAgICAgICBpZiAoIWNvb3JkaW5hdGVzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW50ZXJhY3Rpb24gPSB7IGlkOiBpZCwgdHlwZTogdHlwZSwgeDogY29vcmRpbmF0ZXMueCwgeTogY29vcmRpbmF0ZXMueSB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaW50ZXJhY3Rpb24gPSB7IGlkOiBpZCwgdHlwZTogdHlwZSB9O1xuICAgICAgICB9XG4gICAgICAgIHZhciByZWNvcmQgPSBhc3NpZ24oeyBpZDogcmVjb3JkSWRzLmdldElkRm9yRXZlbnQoZXZlbnQpIH0sIGFzc2VtYmxlSW5jcmVtZW50YWxTbmFwc2hvdChJbmNyZW1lbnRhbFNvdXJjZS5Nb3VzZUludGVyYWN0aW9uLCBpbnRlcmFjdGlvbikpO1xuICAgICAgICBjYihyZWNvcmQpO1xuICAgIH07XG4gICAgcmV0dXJuIGFkZEV2ZW50TGlzdGVuZXJzKGRvY3VtZW50LCBPYmplY3Qua2V5cyhldmVudFR5cGVUb01vdXNlSW50ZXJhY3Rpb24pLCBoYW5kbGVyLCB7XG4gICAgICAgIGNhcHR1cmU6IHRydWUsXG4gICAgICAgIHBhc3NpdmU6IHRydWUsXG4gICAgfSkuc3RvcDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1vdXNlSW50ZXJhY3Rpb25PYnNlcnZlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/observers/mouseInteractionObserver.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/observers/moveObserver.js":
/*!*******************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum/esm/domain/record/observers/moveObserver.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initMoveObserver: () => (/* binding */ initMoveObserver),\n/* harmony export */   tryToComputeCoordinates: () => (/* binding */ tryToComputeCoordinates)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/functionUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/browser/addEventListener.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/telemetry/telemetry.js\");\n/* harmony import */ var _serialization__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../serialization */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/serialization/index.js\");\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../types */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/types/index.js\");\n/* harmony import */ var _eventsUtils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../eventsUtils */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/eventsUtils.js\");\n/* harmony import */ var _viewports__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../viewports */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/viewports.js\");\n\n\n\n\n\nvar MOUSE_MOVE_OBSERVER_THRESHOLD = 50;\nfunction initMoveObserver(cb) {\n    var updatePosition = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.throttle)(function (event) {\n        var target = (0,_eventsUtils__WEBPACK_IMPORTED_MODULE_2__.getEventTarget)(event);\n        if ((0,_serialization__WEBPACK_IMPORTED_MODULE_0__.hasSerializedNode)(target)) {\n            var coordinates = tryToComputeCoordinates(event);\n            if (!coordinates) {\n                return;\n            }\n            var position = {\n                id: (0,_serialization__WEBPACK_IMPORTED_MODULE_0__.getSerializedNodeId)(target),\n                timeOffset: 0,\n                x: coordinates.x,\n                y: coordinates.y,\n            };\n            cb([position], (0,_eventsUtils__WEBPACK_IMPORTED_MODULE_2__.isTouchEvent)(event) ? _types__WEBPACK_IMPORTED_MODULE_1__.IncrementalSource.TouchMove : _types__WEBPACK_IMPORTED_MODULE_1__.IncrementalSource.MouseMove);\n        }\n    }, MOUSE_MOVE_OBSERVER_THRESHOLD, {\n        trailing: false,\n    }).throttled;\n    return (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.addEventListeners)(document, [\"mousemove\" /* DOM_EVENT.MOUSE_MOVE */, \"touchmove\" /* DOM_EVENT.TOUCH_MOVE */], updatePosition, {\n        capture: true,\n        passive: true,\n    }).stop;\n}\nfunction tryToComputeCoordinates(event) {\n    var _a = (0,_eventsUtils__WEBPACK_IMPORTED_MODULE_2__.isTouchEvent)(event) ? event.changedTouches[0] : event, x = _a.clientX, y = _a.clientY;\n    if (window.visualViewport) {\n        var _b = (0,_viewports__WEBPACK_IMPORTED_MODULE_3__.convertMouseEventToLayoutCoordinates)(x, y), visualViewportX = _b.visualViewportX, visualViewportY = _b.visualViewportY;\n        x = visualViewportX;\n        y = visualViewportY;\n    }\n    if (!Number.isFinite(x) || !Number.isFinite(y)) {\n        if (event.isTrusted) {\n            (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__.addTelemetryDebug)('mouse/touch event without x/y');\n        }\n        return undefined;\n    }\n    return { x: x, y: y };\n}\n//# sourceMappingURL=moveObserver.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtL2VzbS9kb21haW4vcmVjb3JkL29ic2VydmVycy9tb3ZlT2JzZXJ2ZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQXVGO0FBQ2I7QUFDdkI7QUFDVztBQUNNO0FBQ3BFO0FBQ087QUFDUCx5QkFBeUIsK0RBQVE7QUFDakMscUJBQXFCLDREQUFjO0FBQ25DLFlBQVksaUVBQWlCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsbUVBQW1CO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLDBEQUFZLFVBQVUscURBQWlCLGFBQWEscURBQWlCO0FBQ2hHO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMLFdBQVcsd0VBQWlCO0FBQzVCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDTztBQUNQLGFBQWEsMERBQVk7QUFDekI7QUFDQSxpQkFBaUIsZ0ZBQW9DO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHdFQUFpQjtBQUM3QjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhcmNhc3Rlci8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0vZXNtL2RvbWFpbi9yZWNvcmQvb2JzZXJ2ZXJzL21vdmVPYnNlcnZlci5qcz82YWMyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFkZEV2ZW50TGlzdGVuZXJzLCBhZGRUZWxlbWV0cnlEZWJ1ZywgdGhyb3R0bGUgfSBmcm9tICdAZGF0YWRvZy9icm93c2VyLWNvcmUnO1xuaW1wb3J0IHsgZ2V0U2VyaWFsaXplZE5vZGVJZCwgaGFzU2VyaWFsaXplZE5vZGUgfSBmcm9tICcuLi9zZXJpYWxpemF0aW9uJztcbmltcG9ydCB7IEluY3JlbWVudGFsU291cmNlIH0gZnJvbSAnLi4vLi4vLi4vdHlwZXMnO1xuaW1wb3J0IHsgZ2V0RXZlbnRUYXJnZXQsIGlzVG91Y2hFdmVudCB9IGZyb20gJy4uL2V2ZW50c1V0aWxzJztcbmltcG9ydCB7IGNvbnZlcnRNb3VzZUV2ZW50VG9MYXlvdXRDb29yZGluYXRlcyB9IGZyb20gJy4uL3ZpZXdwb3J0cyc7XG52YXIgTU9VU0VfTU9WRV9PQlNFUlZFUl9USFJFU0hPTEQgPSA1MDtcbmV4cG9ydCBmdW5jdGlvbiBpbml0TW92ZU9ic2VydmVyKGNiKSB7XG4gICAgdmFyIHVwZGF0ZVBvc2l0aW9uID0gdGhyb3R0bGUoZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciB0YXJnZXQgPSBnZXRFdmVudFRhcmdldChldmVudCk7XG4gICAgICAgIGlmIChoYXNTZXJpYWxpemVkTm9kZSh0YXJnZXQpKSB7XG4gICAgICAgICAgICB2YXIgY29vcmRpbmF0ZXMgPSB0cnlUb0NvbXB1dGVDb29yZGluYXRlcyhldmVudCk7XG4gICAgICAgICAgICBpZiAoIWNvb3JkaW5hdGVzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHBvc2l0aW9uID0ge1xuICAgICAgICAgICAgICAgIGlkOiBnZXRTZXJpYWxpemVkTm9kZUlkKHRhcmdldCksXG4gICAgICAgICAgICAgICAgdGltZU9mZnNldDogMCxcbiAgICAgICAgICAgICAgICB4OiBjb29yZGluYXRlcy54LFxuICAgICAgICAgICAgICAgIHk6IGNvb3JkaW5hdGVzLnksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY2IoW3Bvc2l0aW9uXSwgaXNUb3VjaEV2ZW50KGV2ZW50KSA/IEluY3JlbWVudGFsU291cmNlLlRvdWNoTW92ZSA6IEluY3JlbWVudGFsU291cmNlLk1vdXNlTW92ZSk7XG4gICAgICAgIH1cbiAgICB9LCBNT1VTRV9NT1ZFX09CU0VSVkVSX1RIUkVTSE9MRCwge1xuICAgICAgICB0cmFpbGluZzogZmFsc2UsXG4gICAgfSkudGhyb3R0bGVkO1xuICAgIHJldHVybiBhZGRFdmVudExpc3RlbmVycyhkb2N1bWVudCwgW1wibW91c2Vtb3ZlXCIgLyogRE9NX0VWRU5ULk1PVVNFX01PVkUgKi8sIFwidG91Y2htb3ZlXCIgLyogRE9NX0VWRU5ULlRPVUNIX01PVkUgKi9dLCB1cGRhdGVQb3NpdGlvbiwge1xuICAgICAgICBjYXB0dXJlOiB0cnVlLFxuICAgICAgICBwYXNzaXZlOiB0cnVlLFxuICAgIH0pLnN0b3A7XG59XG5leHBvcnQgZnVuY3Rpb24gdHJ5VG9Db21wdXRlQ29vcmRpbmF0ZXMoZXZlbnQpIHtcbiAgICB2YXIgX2EgPSBpc1RvdWNoRXZlbnQoZXZlbnQpID8gZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0gOiBldmVudCwgeCA9IF9hLmNsaWVudFgsIHkgPSBfYS5jbGllbnRZO1xuICAgIGlmICh3aW5kb3cudmlzdWFsVmlld3BvcnQpIHtcbiAgICAgICAgdmFyIF9iID0gY29udmVydE1vdXNlRXZlbnRUb0xheW91dENvb3JkaW5hdGVzKHgsIHkpLCB2aXN1YWxWaWV3cG9ydFggPSBfYi52aXN1YWxWaWV3cG9ydFgsIHZpc3VhbFZpZXdwb3J0WSA9IF9iLnZpc3VhbFZpZXdwb3J0WTtcbiAgICAgICAgeCA9IHZpc3VhbFZpZXdwb3J0WDtcbiAgICAgICAgeSA9IHZpc3VhbFZpZXdwb3J0WTtcbiAgICB9XG4gICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUoeCkgfHwgIU51bWJlci5pc0Zpbml0ZSh5KSkge1xuICAgICAgICBpZiAoZXZlbnQuaXNUcnVzdGVkKSB7XG4gICAgICAgICAgICBhZGRUZWxlbWV0cnlEZWJ1ZygnbW91c2UvdG91Y2ggZXZlbnQgd2l0aG91dCB4L3knKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4geyB4OiB4LCB5OiB5IH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tb3ZlT2JzZXJ2ZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/observers/moveObserver.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/observers/mutationObserver.js":
/*!***********************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum/esm/domain/record/observers/mutationObserver.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initMutationObserver: () => (/* binding */ initMutationObserver),\n/* harmony export */   sortAddedAndMovedNodes: () => (/* binding */ sortAddedAndMovedNodes)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/functionUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/monitor.js\");\n/* harmony import */ var _datadog_browser_rum_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-rum-core */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/index.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../constants */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/constants.js\");\n/* harmony import */ var _privacy__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../privacy */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/privacy.js\");\n/* harmony import */ var _serialization__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../serialization */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/serialization/index.js\");\n/* harmony import */ var _mutationBatch__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../mutationBatch */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/mutationBatch.js\");\n\n\n\n\n\n\n/**\n * Buffers and aggregate mutations generated by a MutationObserver into MutationPayload\n */\nfunction initMutationObserver(mutationCallback, configuration, shadowRootsController, target) {\n    var MutationObserver = (0,_datadog_browser_rum_core__WEBPACK_IMPORTED_MODULE_0__.getMutationObserverConstructor)();\n    if (!MutationObserver) {\n        return { stop: _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.noop, flush: _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.noop };\n    }\n    var mutationBatch = (0,_mutationBatch__WEBPACK_IMPORTED_MODULE_4__.createMutationBatch)(function (mutations) {\n        processMutations(mutations.concat(observer.takeRecords()), mutationCallback, configuration, shadowRootsController, target);\n    });\n    var observer = new MutationObserver((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__.monitor)(mutationBatch.addMutations));\n    observer.observe(target, {\n        attributeOldValue: true,\n        attributes: true,\n        characterData: true,\n        characterDataOldValue: true,\n        childList: true,\n        subtree: true,\n    });\n    return {\n        stop: function () {\n            observer.disconnect();\n            mutationBatch.stop();\n        },\n        flush: function () {\n            mutationBatch.flush();\n        },\n    };\n}\nfunction processMutations(mutations, mutationCallback, configuration, shadowRootsController, target) {\n    mutations\n        .filter(function (mutation) { return mutation.type === 'childList'; })\n        .forEach(function (mutation) {\n        mutation.removedNodes.forEach(function (removedNode) {\n            traverseRemovedShadowDom(removedNode, shadowRootsController.removeShadowRoot);\n        });\n    });\n    // Discard any mutation with a 'target' node that:\n    // * isn't injected in the current document or isn't known/serialized yet: those nodes are likely\n    // part of a mutation occurring in a parent Node\n    // * should be hidden or ignored\n    var filteredMutations = mutations.filter(function (mutation) {\n        return target.contains(mutation.target) &&\n            (0,_serialization__WEBPACK_IMPORTED_MODULE_3__.nodeAndAncestorsHaveSerializedNode)(mutation.target) &&\n            (0,_privacy__WEBPACK_IMPORTED_MODULE_2__.getNodePrivacyLevel)(mutation.target, configuration.defaultPrivacyLevel) !== _constants__WEBPACK_IMPORTED_MODULE_1__.NodePrivacyLevel.HIDDEN;\n    });\n    var _a = processChildListMutations(filteredMutations.filter(function (mutation) { return mutation.type === 'childList'; }), configuration, shadowRootsController), adds = _a.adds, removes = _a.removes, hasBeenSerialized = _a.hasBeenSerialized;\n    var texts = processCharacterDataMutations(filteredMutations.filter(function (mutation) {\n        return mutation.type === 'characterData' && !hasBeenSerialized(mutation.target);\n    }), configuration);\n    var attributes = processAttributesMutations(filteredMutations.filter(function (mutation) {\n        return mutation.type === 'attributes' && !hasBeenSerialized(mutation.target);\n    }), configuration);\n    if (!texts.length && !attributes.length && !removes.length && !adds.length) {\n        return;\n    }\n    mutationCallback({\n        adds: adds,\n        removes: removes,\n        texts: texts,\n        attributes: attributes,\n    });\n}\nfunction processChildListMutations(mutations, configuration, shadowRootsController) {\n    // First, we iterate over mutations to collect:\n    //\n    // * nodes that have been added in the document and not removed by a subsequent mutation\n    // * nodes that have been removed from the document but were not added in a previous mutation\n    //\n    // For this second category, we also collect their previous parent (mutation.target) because we'll\n    // need it to emit a 'remove' mutation.\n    //\n    // Those two categories may overlap: if a node moved from a position to another, it is reported as\n    // two mutation records, one with a \"removedNodes\" and the other with \"addedNodes\". In this case,\n    // the node will be in both sets.\n    var addedAndMovedNodes = new Set();\n    var removedNodes = new Map();\n    var _loop_1 = function (mutation) {\n        mutation.addedNodes.forEach(function (node) {\n            addedAndMovedNodes.add(node);\n        });\n        mutation.removedNodes.forEach(function (node) {\n            if (!addedAndMovedNodes.has(node)) {\n                removedNodes.set(node, mutation.target);\n            }\n            addedAndMovedNodes.delete(node);\n        });\n    };\n    for (var _i = 0, mutations_1 = mutations; _i < mutations_1.length; _i++) {\n        var mutation = mutations_1[_i];\n        _loop_1(mutation);\n    }\n    // Then, we sort nodes that are still in the document by topological order, for two reasons:\n    //\n    // * We will serialize each added nodes with their descendants. We don't want to serialize a node\n    // twice, so we need to iterate over the parent nodes first and skip any node that is contained in\n    // a precedent node.\n    //\n    // * To emit \"add\" mutations, we need references to the parent and potential next sibling of each\n    // added node. So we need to iterate over the parent nodes first, and when multiple nodes are\n    // siblings, we want to iterate from last to first. This will ensure that any \"next\" node is\n    // already serialized and have an id.\n    var sortedAddedAndMovedNodes = Array.from(addedAndMovedNodes);\n    sortAddedAndMovedNodes(sortedAddedAndMovedNodes);\n    // Then, we iterate over our sorted node sets to emit mutations. We collect the newly serialized\n    // node ids in a set to be able to skip subsequent related mutations.\n    var serializedNodeIds = new Set();\n    var addedNodeMutations = [];\n    for (var _a = 0, sortedAddedAndMovedNodes_1 = sortedAddedAndMovedNodes; _a < sortedAddedAndMovedNodes_1.length; _a++) {\n        var node = sortedAddedAndMovedNodes_1[_a];\n        if (hasBeenSerialized(node)) {\n            continue;\n        }\n        var parentNodePrivacyLevel = (0,_privacy__WEBPACK_IMPORTED_MODULE_2__.getNodePrivacyLevel)(node.parentNode, configuration.defaultPrivacyLevel);\n        if (parentNodePrivacyLevel === _constants__WEBPACK_IMPORTED_MODULE_1__.NodePrivacyLevel.HIDDEN || parentNodePrivacyLevel === _constants__WEBPACK_IMPORTED_MODULE_1__.NodePrivacyLevel.IGNORE) {\n            continue;\n        }\n        var serializedNode = (0,_serialization__WEBPACK_IMPORTED_MODULE_3__.serializeNodeWithId)(node, {\n            serializedNodeIds: serializedNodeIds,\n            parentNodePrivacyLevel: parentNodePrivacyLevel,\n            serializationContext: { status: 2 /* SerializationContextStatus.MUTATION */, shadowRootsController: shadowRootsController },\n            configuration: configuration,\n        });\n        if (!serializedNode) {\n            continue;\n        }\n        var parentNode = (0,_datadog_browser_rum_core__WEBPACK_IMPORTED_MODULE_0__.getParentNode)(node);\n        addedNodeMutations.push({\n            nextId: getNextSibling(node),\n            parentId: (0,_serialization__WEBPACK_IMPORTED_MODULE_3__.getSerializedNodeId)(parentNode),\n            node: serializedNode,\n        });\n    }\n    // Finally, we emit remove mutations.\n    var removedNodeMutations = [];\n    removedNodes.forEach(function (parent, node) {\n        if ((0,_serialization__WEBPACK_IMPORTED_MODULE_3__.hasSerializedNode)(node)) {\n            removedNodeMutations.push({\n                parentId: (0,_serialization__WEBPACK_IMPORTED_MODULE_3__.getSerializedNodeId)(parent),\n                id: (0,_serialization__WEBPACK_IMPORTED_MODULE_3__.getSerializedNodeId)(node),\n            });\n        }\n    });\n    return { adds: addedNodeMutations, removes: removedNodeMutations, hasBeenSerialized: hasBeenSerialized };\n    function hasBeenSerialized(node) {\n        return (0,_serialization__WEBPACK_IMPORTED_MODULE_3__.hasSerializedNode)(node) && serializedNodeIds.has((0,_serialization__WEBPACK_IMPORTED_MODULE_3__.getSerializedNodeId)(node));\n    }\n    function getNextSibling(node) {\n        var nextSibling = node.nextSibling;\n        while (nextSibling) {\n            if ((0,_serialization__WEBPACK_IMPORTED_MODULE_3__.hasSerializedNode)(nextSibling)) {\n                return (0,_serialization__WEBPACK_IMPORTED_MODULE_3__.getSerializedNodeId)(nextSibling);\n            }\n            nextSibling = nextSibling.nextSibling;\n        }\n        return null;\n    }\n}\nfunction processCharacterDataMutations(mutations, configuration) {\n    var _a;\n    var textMutations = [];\n    // Deduplicate mutations based on their target node\n    var handledNodes = new Set();\n    var filteredMutations = mutations.filter(function (mutation) {\n        if (handledNodes.has(mutation.target)) {\n            return false;\n        }\n        handledNodes.add(mutation.target);\n        return true;\n    });\n    // Emit mutations\n    for (var _i = 0, filteredMutations_1 = filteredMutations; _i < filteredMutations_1.length; _i++) {\n        var mutation = filteredMutations_1[_i];\n        var value = mutation.target.textContent;\n        if (value === mutation.oldValue) {\n            continue;\n        }\n        var parentNodePrivacyLevel = (0,_privacy__WEBPACK_IMPORTED_MODULE_2__.getNodePrivacyLevel)((0,_datadog_browser_rum_core__WEBPACK_IMPORTED_MODULE_0__.getParentNode)(mutation.target), configuration.defaultPrivacyLevel);\n        if (parentNodePrivacyLevel === _constants__WEBPACK_IMPORTED_MODULE_1__.NodePrivacyLevel.HIDDEN || parentNodePrivacyLevel === _constants__WEBPACK_IMPORTED_MODULE_1__.NodePrivacyLevel.IGNORE) {\n            continue;\n        }\n        textMutations.push({\n            id: (0,_serialization__WEBPACK_IMPORTED_MODULE_3__.getSerializedNodeId)(mutation.target),\n            // TODO: pass a valid \"ignoreWhiteSpace\" argument\n            value: (_a = (0,_privacy__WEBPACK_IMPORTED_MODULE_2__.getTextContent)(mutation.target, false, parentNodePrivacyLevel)) !== null && _a !== void 0 ? _a : null,\n        });\n    }\n    return textMutations;\n}\nfunction processAttributesMutations(mutations, configuration) {\n    var attributeMutations = [];\n    // Deduplicate mutations based on their target node and changed attribute\n    var handledElements = new Map();\n    var filteredMutations = mutations.filter(function (mutation) {\n        var handledAttributes = handledElements.get(mutation.target);\n        if (handledAttributes === null || handledAttributes === void 0 ? void 0 : handledAttributes.has(mutation.attributeName)) {\n            return false;\n        }\n        if (!handledAttributes) {\n            handledElements.set(mutation.target, new Set([mutation.attributeName]));\n        }\n        else {\n            handledAttributes.add(mutation.attributeName);\n        }\n        return true;\n    });\n    // Emit mutations\n    var emittedMutations = new Map();\n    for (var _i = 0, filteredMutations_2 = filteredMutations; _i < filteredMutations_2.length; _i++) {\n        var mutation = filteredMutations_2[_i];\n        var uncensoredValue = mutation.target.getAttribute(mutation.attributeName);\n        if (uncensoredValue === mutation.oldValue) {\n            continue;\n        }\n        var privacyLevel = (0,_privacy__WEBPACK_IMPORTED_MODULE_2__.getNodePrivacyLevel)(mutation.target, configuration.defaultPrivacyLevel);\n        var attributeValue = (0,_serialization__WEBPACK_IMPORTED_MODULE_3__.serializeAttribute)(mutation.target, privacyLevel, mutation.attributeName, configuration);\n        var transformedValue = void 0;\n        if (mutation.attributeName === 'value') {\n            var inputValue = (0,_serialization__WEBPACK_IMPORTED_MODULE_3__.getElementInputValue)(mutation.target, privacyLevel);\n            if (inputValue === undefined) {\n                continue;\n            }\n            transformedValue = inputValue;\n        }\n        else if (typeof attributeValue === 'string') {\n            transformedValue = attributeValue;\n        }\n        else {\n            transformedValue = null;\n        }\n        var emittedMutation = emittedMutations.get(mutation.target);\n        if (!emittedMutation) {\n            emittedMutation = {\n                id: (0,_serialization__WEBPACK_IMPORTED_MODULE_3__.getSerializedNodeId)(mutation.target),\n                attributes: {},\n            };\n            attributeMutations.push(emittedMutation);\n            emittedMutations.set(mutation.target, emittedMutation);\n        }\n        emittedMutation.attributes[mutation.attributeName] = transformedValue;\n    }\n    return attributeMutations;\n}\nfunction sortAddedAndMovedNodes(nodes) {\n    nodes.sort(function (a, b) {\n        var position = a.compareDocumentPosition(b);\n        /* eslint-disable no-bitwise */\n        if (position & Node.DOCUMENT_POSITION_CONTAINED_BY) {\n            return -1;\n        }\n        else if (position & Node.DOCUMENT_POSITION_CONTAINS) {\n            return 1;\n        }\n        else if (position & Node.DOCUMENT_POSITION_FOLLOWING) {\n            return 1;\n        }\n        else if (position & Node.DOCUMENT_POSITION_PRECEDING) {\n            return -1;\n        }\n        /* eslint-enable no-bitwise */\n        return 0;\n    });\n}\nfunction traverseRemovedShadowDom(removedNode, shadowDomRemovedCallback) {\n    if ((0,_datadog_browser_rum_core__WEBPACK_IMPORTED_MODULE_0__.isNodeShadowHost)(removedNode)) {\n        shadowDomRemovedCallback(removedNode.shadowRoot);\n    }\n    (0,_datadog_browser_rum_core__WEBPACK_IMPORTED_MODULE_0__.getChildNodes)(removedNode).forEach(function (child) { return traverseRemovedShadowDom(child, shadowDomRemovedCallback); });\n}\n//# sourceMappingURL=mutationObserver.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtL2VzbS9kb21haW4vcmVjb3JkL29ic2VydmVycy9tdXRhdGlvbk9ic2VydmVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFzRDtBQUNzRTtBQUN0RTtBQUNXO0FBQzZHO0FBQ3ZIO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsMkJBQTJCLHlGQUE4QjtBQUN6RDtBQUNBLGlCQUFpQixNQUFNLHVEQUFJLFNBQVMsdURBQUk7QUFDeEM7QUFDQSx3QkFBd0IsbUVBQW1CO0FBQzNDO0FBQ0EsS0FBSztBQUNMLHdDQUF3Qyw4REFBTztBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLHVDQUF1QztBQUM3RTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksa0ZBQWtDO0FBQzlDLFlBQVksNkRBQW1CLHlEQUF5RCx3REFBZ0I7QUFDeEcsS0FBSztBQUNMLHNGQUFzRix1Q0FBdUM7QUFDN0g7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSw4Q0FBOEMseUJBQXlCO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEVBQTRFLHdDQUF3QztBQUNwSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyw2REFBbUI7QUFDeEQsdUNBQXVDLHdEQUFnQixzQ0FBc0Msd0RBQWdCO0FBQzdHO0FBQ0E7QUFDQSw2QkFBNkIsbUVBQW1CO0FBQ2hEO0FBQ0E7QUFDQSxvQ0FBb0MsbUdBQW1HO0FBQ3ZJO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLHlCQUF5Qix3RUFBYTtBQUN0QztBQUNBO0FBQ0Esc0JBQXNCLG1FQUFtQjtBQUN6QztBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksaUVBQWlCO0FBQzdCO0FBQ0EsMEJBQTBCLG1FQUFtQjtBQUM3QyxvQkFBb0IsbUVBQW1CO0FBQ3ZDLGFBQWE7QUFDYjtBQUNBLEtBQUs7QUFDTCxhQUFhO0FBQ2I7QUFDQSxlQUFlLGlFQUFpQixnQ0FBZ0MsbUVBQW1CO0FBQ25GO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGlFQUFpQjtBQUNqQyx1QkFBdUIsbUVBQW1CO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSw4REFBOEQsaUNBQWlDO0FBQy9GO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsNkRBQW1CLENBQUMsd0VBQWE7QUFDdEUsdUNBQXVDLHdEQUFnQixzQ0FBc0Msd0RBQWdCO0FBQzdHO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixtRUFBbUI7QUFDbkM7QUFDQSx5QkFBeUIsd0RBQWM7QUFDdkMsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSw4REFBOEQsaUNBQWlDO0FBQy9GO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsNkRBQW1CO0FBQzlDLDZCQUE2QixrRUFBa0I7QUFDL0M7QUFDQTtBQUNBLDZCQUE2QixvRUFBb0I7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixtRUFBbUI7QUFDdkMsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFFBQVEsMkVBQWdCO0FBQ3hCO0FBQ0E7QUFDQSxJQUFJLHdFQUFhLHlDQUF5QyxtRUFBbUU7QUFDN0g7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhcmNhc3Rlci8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0vZXNtL2RvbWFpbi9yZWNvcmQvb2JzZXJ2ZXJzL211dGF0aW9uT2JzZXJ2ZXIuanM/MzliYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBtb25pdG9yLCBub29wIH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJztcbmltcG9ydCB7IGdldENoaWxkTm9kZXMsIGlzTm9kZVNoYWRvd0hvc3QsIGdldE11dGF0aW9uT2JzZXJ2ZXJDb25zdHJ1Y3RvciwgZ2V0UGFyZW50Tm9kZSwgfSBmcm9tICdAZGF0YWRvZy9icm93c2VyLXJ1bS1jb3JlJztcbmltcG9ydCB7IE5vZGVQcml2YWN5TGV2ZWwgfSBmcm9tICcuLi8uLi8uLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgZ2V0Tm9kZVByaXZhY3lMZXZlbCwgZ2V0VGV4dENvbnRlbnQgfSBmcm9tICcuLi9wcml2YWN5JztcbmltcG9ydCB7IGdldEVsZW1lbnRJbnB1dFZhbHVlLCBnZXRTZXJpYWxpemVkTm9kZUlkLCBoYXNTZXJpYWxpemVkTm9kZSwgbm9kZUFuZEFuY2VzdG9yc0hhdmVTZXJpYWxpemVkTm9kZSwgc2VyaWFsaXplTm9kZVdpdGhJZCwgc2VyaWFsaXplQXR0cmlidXRlLCB9IGZyb20gJy4uL3NlcmlhbGl6YXRpb24nO1xuaW1wb3J0IHsgY3JlYXRlTXV0YXRpb25CYXRjaCB9IGZyb20gJy4uL211dGF0aW9uQmF0Y2gnO1xuLyoqXG4gKiBCdWZmZXJzIGFuZCBhZ2dyZWdhdGUgbXV0YXRpb25zIGdlbmVyYXRlZCBieSBhIE11dGF0aW9uT2JzZXJ2ZXIgaW50byBNdXRhdGlvblBheWxvYWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXRNdXRhdGlvbk9ic2VydmVyKG11dGF0aW9uQ2FsbGJhY2ssIGNvbmZpZ3VyYXRpb24sIHNoYWRvd1Jvb3RzQ29udHJvbGxlciwgdGFyZ2V0KSB7XG4gICAgdmFyIE11dGF0aW9uT2JzZXJ2ZXIgPSBnZXRNdXRhdGlvbk9ic2VydmVyQ29uc3RydWN0b3IoKTtcbiAgICBpZiAoIU11dGF0aW9uT2JzZXJ2ZXIpIHtcbiAgICAgICAgcmV0dXJuIHsgc3RvcDogbm9vcCwgZmx1c2g6IG5vb3AgfTtcbiAgICB9XG4gICAgdmFyIG11dGF0aW9uQmF0Y2ggPSBjcmVhdGVNdXRhdGlvbkJhdGNoKGZ1bmN0aW9uIChtdXRhdGlvbnMpIHtcbiAgICAgICAgcHJvY2Vzc011dGF0aW9ucyhtdXRhdGlvbnMuY29uY2F0KG9ic2VydmVyLnRha2VSZWNvcmRzKCkpLCBtdXRhdGlvbkNhbGxiYWNrLCBjb25maWd1cmF0aW9uLCBzaGFkb3dSb290c0NvbnRyb2xsZXIsIHRhcmdldCk7XG4gICAgfSk7XG4gICAgdmFyIG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIobW9uaXRvcihtdXRhdGlvbkJhdGNoLmFkZE11dGF0aW9ucykpO1xuICAgIG9ic2VydmVyLm9ic2VydmUodGFyZ2V0LCB7XG4gICAgICAgIGF0dHJpYnV0ZU9sZFZhbHVlOiB0cnVlLFxuICAgICAgICBhdHRyaWJ1dGVzOiB0cnVlLFxuICAgICAgICBjaGFyYWN0ZXJEYXRhOiB0cnVlLFxuICAgICAgICBjaGFyYWN0ZXJEYXRhT2xkVmFsdWU6IHRydWUsXG4gICAgICAgIGNoaWxkTGlzdDogdHJ1ZSxcbiAgICAgICAgc3VidHJlZTogdHJ1ZSxcbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgICBzdG9wOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBvYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICBtdXRhdGlvbkJhdGNoLnN0b3AoKTtcbiAgICAgICAgfSxcbiAgICAgICAgZmx1c2g6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIG11dGF0aW9uQmF0Y2guZmx1c2goKTtcbiAgICAgICAgfSxcbiAgICB9O1xufVxuZnVuY3Rpb24gcHJvY2Vzc011dGF0aW9ucyhtdXRhdGlvbnMsIG11dGF0aW9uQ2FsbGJhY2ssIGNvbmZpZ3VyYXRpb24sIHNoYWRvd1Jvb3RzQ29udHJvbGxlciwgdGFyZ2V0KSB7XG4gICAgbXV0YXRpb25zXG4gICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKG11dGF0aW9uKSB7IHJldHVybiBtdXRhdGlvbi50eXBlID09PSAnY2hpbGRMaXN0JzsgfSlcbiAgICAgICAgLmZvckVhY2goZnVuY3Rpb24gKG11dGF0aW9uKSB7XG4gICAgICAgIG11dGF0aW9uLnJlbW92ZWROb2Rlcy5mb3JFYWNoKGZ1bmN0aW9uIChyZW1vdmVkTm9kZSkge1xuICAgICAgICAgICAgdHJhdmVyc2VSZW1vdmVkU2hhZG93RG9tKHJlbW92ZWROb2RlLCBzaGFkb3dSb290c0NvbnRyb2xsZXIucmVtb3ZlU2hhZG93Um9vdCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIC8vIERpc2NhcmQgYW55IG11dGF0aW9uIHdpdGggYSAndGFyZ2V0JyBub2RlIHRoYXQ6XG4gICAgLy8gKiBpc24ndCBpbmplY3RlZCBpbiB0aGUgY3VycmVudCBkb2N1bWVudCBvciBpc24ndCBrbm93bi9zZXJpYWxpemVkIHlldDogdGhvc2Ugbm9kZXMgYXJlIGxpa2VseVxuICAgIC8vIHBhcnQgb2YgYSBtdXRhdGlvbiBvY2N1cnJpbmcgaW4gYSBwYXJlbnQgTm9kZVxuICAgIC8vICogc2hvdWxkIGJlIGhpZGRlbiBvciBpZ25vcmVkXG4gICAgdmFyIGZpbHRlcmVkTXV0YXRpb25zID0gbXV0YXRpb25zLmZpbHRlcihmdW5jdGlvbiAobXV0YXRpb24pIHtcbiAgICAgICAgcmV0dXJuIHRhcmdldC5jb250YWlucyhtdXRhdGlvbi50YXJnZXQpICYmXG4gICAgICAgICAgICBub2RlQW5kQW5jZXN0b3JzSGF2ZVNlcmlhbGl6ZWROb2RlKG11dGF0aW9uLnRhcmdldCkgJiZcbiAgICAgICAgICAgIGdldE5vZGVQcml2YWN5TGV2ZWwobXV0YXRpb24udGFyZ2V0LCBjb25maWd1cmF0aW9uLmRlZmF1bHRQcml2YWN5TGV2ZWwpICE9PSBOb2RlUHJpdmFjeUxldmVsLkhJRERFTjtcbiAgICB9KTtcbiAgICB2YXIgX2EgPSBwcm9jZXNzQ2hpbGRMaXN0TXV0YXRpb25zKGZpbHRlcmVkTXV0YXRpb25zLmZpbHRlcihmdW5jdGlvbiAobXV0YXRpb24pIHsgcmV0dXJuIG11dGF0aW9uLnR5cGUgPT09ICdjaGlsZExpc3QnOyB9KSwgY29uZmlndXJhdGlvbiwgc2hhZG93Um9vdHNDb250cm9sbGVyKSwgYWRkcyA9IF9hLmFkZHMsIHJlbW92ZXMgPSBfYS5yZW1vdmVzLCBoYXNCZWVuU2VyaWFsaXplZCA9IF9hLmhhc0JlZW5TZXJpYWxpemVkO1xuICAgIHZhciB0ZXh0cyA9IHByb2Nlc3NDaGFyYWN0ZXJEYXRhTXV0YXRpb25zKGZpbHRlcmVkTXV0YXRpb25zLmZpbHRlcihmdW5jdGlvbiAobXV0YXRpb24pIHtcbiAgICAgICAgcmV0dXJuIG11dGF0aW9uLnR5cGUgPT09ICdjaGFyYWN0ZXJEYXRhJyAmJiAhaGFzQmVlblNlcmlhbGl6ZWQobXV0YXRpb24udGFyZ2V0KTtcbiAgICB9KSwgY29uZmlndXJhdGlvbik7XG4gICAgdmFyIGF0dHJpYnV0ZXMgPSBwcm9jZXNzQXR0cmlidXRlc011dGF0aW9ucyhmaWx0ZXJlZE11dGF0aW9ucy5maWx0ZXIoZnVuY3Rpb24gKG11dGF0aW9uKSB7XG4gICAgICAgIHJldHVybiBtdXRhdGlvbi50eXBlID09PSAnYXR0cmlidXRlcycgJiYgIWhhc0JlZW5TZXJpYWxpemVkKG11dGF0aW9uLnRhcmdldCk7XG4gICAgfSksIGNvbmZpZ3VyYXRpb24pO1xuICAgIGlmICghdGV4dHMubGVuZ3RoICYmICFhdHRyaWJ1dGVzLmxlbmd0aCAmJiAhcmVtb3Zlcy5sZW5ndGggJiYgIWFkZHMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbXV0YXRpb25DYWxsYmFjayh7XG4gICAgICAgIGFkZHM6IGFkZHMsXG4gICAgICAgIHJlbW92ZXM6IHJlbW92ZXMsXG4gICAgICAgIHRleHRzOiB0ZXh0cyxcbiAgICAgICAgYXR0cmlidXRlczogYXR0cmlidXRlcyxcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIHByb2Nlc3NDaGlsZExpc3RNdXRhdGlvbnMobXV0YXRpb25zLCBjb25maWd1cmF0aW9uLCBzaGFkb3dSb290c0NvbnRyb2xsZXIpIHtcbiAgICAvLyBGaXJzdCwgd2UgaXRlcmF0ZSBvdmVyIG11dGF0aW9ucyB0byBjb2xsZWN0OlxuICAgIC8vXG4gICAgLy8gKiBub2RlcyB0aGF0IGhhdmUgYmVlbiBhZGRlZCBpbiB0aGUgZG9jdW1lbnQgYW5kIG5vdCByZW1vdmVkIGJ5IGEgc3Vic2VxdWVudCBtdXRhdGlvblxuICAgIC8vICogbm9kZXMgdGhhdCBoYXZlIGJlZW4gcmVtb3ZlZCBmcm9tIHRoZSBkb2N1bWVudCBidXQgd2VyZSBub3QgYWRkZWQgaW4gYSBwcmV2aW91cyBtdXRhdGlvblxuICAgIC8vXG4gICAgLy8gRm9yIHRoaXMgc2Vjb25kIGNhdGVnb3J5LCB3ZSBhbHNvIGNvbGxlY3QgdGhlaXIgcHJldmlvdXMgcGFyZW50IChtdXRhdGlvbi50YXJnZXQpIGJlY2F1c2Ugd2UnbGxcbiAgICAvLyBuZWVkIGl0IHRvIGVtaXQgYSAncmVtb3ZlJyBtdXRhdGlvbi5cbiAgICAvL1xuICAgIC8vIFRob3NlIHR3byBjYXRlZ29yaWVzIG1heSBvdmVybGFwOiBpZiBhIG5vZGUgbW92ZWQgZnJvbSBhIHBvc2l0aW9uIHRvIGFub3RoZXIsIGl0IGlzIHJlcG9ydGVkIGFzXG4gICAgLy8gdHdvIG11dGF0aW9uIHJlY29yZHMsIG9uZSB3aXRoIGEgXCJyZW1vdmVkTm9kZXNcIiBhbmQgdGhlIG90aGVyIHdpdGggXCJhZGRlZE5vZGVzXCIuIEluIHRoaXMgY2FzZSxcbiAgICAvLyB0aGUgbm9kZSB3aWxsIGJlIGluIGJvdGggc2V0cy5cbiAgICB2YXIgYWRkZWRBbmRNb3ZlZE5vZGVzID0gbmV3IFNldCgpO1xuICAgIHZhciByZW1vdmVkTm9kZXMgPSBuZXcgTWFwKCk7XG4gICAgdmFyIF9sb29wXzEgPSBmdW5jdGlvbiAobXV0YXRpb24pIHtcbiAgICAgICAgbXV0YXRpb24uYWRkZWROb2Rlcy5mb3JFYWNoKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgICBhZGRlZEFuZE1vdmVkTm9kZXMuYWRkKG5vZGUpO1xuICAgICAgICB9KTtcbiAgICAgICAgbXV0YXRpb24ucmVtb3ZlZE5vZGVzLmZvckVhY2goZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICAgIGlmICghYWRkZWRBbmRNb3ZlZE5vZGVzLmhhcyhub2RlKSkge1xuICAgICAgICAgICAgICAgIHJlbW92ZWROb2Rlcy5zZXQobm9kZSwgbXV0YXRpb24udGFyZ2V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFkZGVkQW5kTW92ZWROb2Rlcy5kZWxldGUobm9kZSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgZm9yICh2YXIgX2kgPSAwLCBtdXRhdGlvbnNfMSA9IG11dGF0aW9uczsgX2kgPCBtdXRhdGlvbnNfMS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgdmFyIG11dGF0aW9uID0gbXV0YXRpb25zXzFbX2ldO1xuICAgICAgICBfbG9vcF8xKG11dGF0aW9uKTtcbiAgICB9XG4gICAgLy8gVGhlbiwgd2Ugc29ydCBub2RlcyB0aGF0IGFyZSBzdGlsbCBpbiB0aGUgZG9jdW1lbnQgYnkgdG9wb2xvZ2ljYWwgb3JkZXIsIGZvciB0d28gcmVhc29uczpcbiAgICAvL1xuICAgIC8vICogV2Ugd2lsbCBzZXJpYWxpemUgZWFjaCBhZGRlZCBub2RlcyB3aXRoIHRoZWlyIGRlc2NlbmRhbnRzLiBXZSBkb24ndCB3YW50IHRvIHNlcmlhbGl6ZSBhIG5vZGVcbiAgICAvLyB0d2ljZSwgc28gd2UgbmVlZCB0byBpdGVyYXRlIG92ZXIgdGhlIHBhcmVudCBub2RlcyBmaXJzdCBhbmQgc2tpcCBhbnkgbm9kZSB0aGF0IGlzIGNvbnRhaW5lZCBpblxuICAgIC8vIGEgcHJlY2VkZW50IG5vZGUuXG4gICAgLy9cbiAgICAvLyAqIFRvIGVtaXQgXCJhZGRcIiBtdXRhdGlvbnMsIHdlIG5lZWQgcmVmZXJlbmNlcyB0byB0aGUgcGFyZW50IGFuZCBwb3RlbnRpYWwgbmV4dCBzaWJsaW5nIG9mIGVhY2hcbiAgICAvLyBhZGRlZCBub2RlLiBTbyB3ZSBuZWVkIHRvIGl0ZXJhdGUgb3ZlciB0aGUgcGFyZW50IG5vZGVzIGZpcnN0LCBhbmQgd2hlbiBtdWx0aXBsZSBub2RlcyBhcmVcbiAgICAvLyBzaWJsaW5ncywgd2Ugd2FudCB0byBpdGVyYXRlIGZyb20gbGFzdCB0byBmaXJzdC4gVGhpcyB3aWxsIGVuc3VyZSB0aGF0IGFueSBcIm5leHRcIiBub2RlIGlzXG4gICAgLy8gYWxyZWFkeSBzZXJpYWxpemVkIGFuZCBoYXZlIGFuIGlkLlxuICAgIHZhciBzb3J0ZWRBZGRlZEFuZE1vdmVkTm9kZXMgPSBBcnJheS5mcm9tKGFkZGVkQW5kTW92ZWROb2Rlcyk7XG4gICAgc29ydEFkZGVkQW5kTW92ZWROb2Rlcyhzb3J0ZWRBZGRlZEFuZE1vdmVkTm9kZXMpO1xuICAgIC8vIFRoZW4sIHdlIGl0ZXJhdGUgb3ZlciBvdXIgc29ydGVkIG5vZGUgc2V0cyB0byBlbWl0IG11dGF0aW9ucy4gV2UgY29sbGVjdCB0aGUgbmV3bHkgc2VyaWFsaXplZFxuICAgIC8vIG5vZGUgaWRzIGluIGEgc2V0IHRvIGJlIGFibGUgdG8gc2tpcCBzdWJzZXF1ZW50IHJlbGF0ZWQgbXV0YXRpb25zLlxuICAgIHZhciBzZXJpYWxpemVkTm9kZUlkcyA9IG5ldyBTZXQoKTtcbiAgICB2YXIgYWRkZWROb2RlTXV0YXRpb25zID0gW107XG4gICAgZm9yICh2YXIgX2EgPSAwLCBzb3J0ZWRBZGRlZEFuZE1vdmVkTm9kZXNfMSA9IHNvcnRlZEFkZGVkQW5kTW92ZWROb2RlczsgX2EgPCBzb3J0ZWRBZGRlZEFuZE1vdmVkTm9kZXNfMS5sZW5ndGg7IF9hKyspIHtcbiAgICAgICAgdmFyIG5vZGUgPSBzb3J0ZWRBZGRlZEFuZE1vdmVkTm9kZXNfMVtfYV07XG4gICAgICAgIGlmIChoYXNCZWVuU2VyaWFsaXplZChub2RlKSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHBhcmVudE5vZGVQcml2YWN5TGV2ZWwgPSBnZXROb2RlUHJpdmFjeUxldmVsKG5vZGUucGFyZW50Tm9kZSwgY29uZmlndXJhdGlvbi5kZWZhdWx0UHJpdmFjeUxldmVsKTtcbiAgICAgICAgaWYgKHBhcmVudE5vZGVQcml2YWN5TGV2ZWwgPT09IE5vZGVQcml2YWN5TGV2ZWwuSElEREVOIHx8IHBhcmVudE5vZGVQcml2YWN5TGV2ZWwgPT09IE5vZGVQcml2YWN5TGV2ZWwuSUdOT1JFKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc2VyaWFsaXplZE5vZGUgPSBzZXJpYWxpemVOb2RlV2l0aElkKG5vZGUsIHtcbiAgICAgICAgICAgIHNlcmlhbGl6ZWROb2RlSWRzOiBzZXJpYWxpemVkTm9kZUlkcyxcbiAgICAgICAgICAgIHBhcmVudE5vZGVQcml2YWN5TGV2ZWw6IHBhcmVudE5vZGVQcml2YWN5TGV2ZWwsXG4gICAgICAgICAgICBzZXJpYWxpemF0aW9uQ29udGV4dDogeyBzdGF0dXM6IDIgLyogU2VyaWFsaXphdGlvbkNvbnRleHRTdGF0dXMuTVVUQVRJT04gKi8sIHNoYWRvd1Jvb3RzQ29udHJvbGxlcjogc2hhZG93Um9vdHNDb250cm9sbGVyIH0sXG4gICAgICAgICAgICBjb25maWd1cmF0aW9uOiBjb25maWd1cmF0aW9uLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFzZXJpYWxpemVkTm9kZSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHBhcmVudE5vZGUgPSBnZXRQYXJlbnROb2RlKG5vZGUpO1xuICAgICAgICBhZGRlZE5vZGVNdXRhdGlvbnMucHVzaCh7XG4gICAgICAgICAgICBuZXh0SWQ6IGdldE5leHRTaWJsaW5nKG5vZGUpLFxuICAgICAgICAgICAgcGFyZW50SWQ6IGdldFNlcmlhbGl6ZWROb2RlSWQocGFyZW50Tm9kZSksXG4gICAgICAgICAgICBub2RlOiBzZXJpYWxpemVkTm9kZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIEZpbmFsbHksIHdlIGVtaXQgcmVtb3ZlIG11dGF0aW9ucy5cbiAgICB2YXIgcmVtb3ZlZE5vZGVNdXRhdGlvbnMgPSBbXTtcbiAgICByZW1vdmVkTm9kZXMuZm9yRWFjaChmdW5jdGlvbiAocGFyZW50LCBub2RlKSB7XG4gICAgICAgIGlmIChoYXNTZXJpYWxpemVkTm9kZShub2RlKSkge1xuICAgICAgICAgICAgcmVtb3ZlZE5vZGVNdXRhdGlvbnMucHVzaCh7XG4gICAgICAgICAgICAgICAgcGFyZW50SWQ6IGdldFNlcmlhbGl6ZWROb2RlSWQocGFyZW50KSxcbiAgICAgICAgICAgICAgICBpZDogZ2V0U2VyaWFsaXplZE5vZGVJZChub2RlKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHsgYWRkczogYWRkZWROb2RlTXV0YXRpb25zLCByZW1vdmVzOiByZW1vdmVkTm9kZU11dGF0aW9ucywgaGFzQmVlblNlcmlhbGl6ZWQ6IGhhc0JlZW5TZXJpYWxpemVkIH07XG4gICAgZnVuY3Rpb24gaGFzQmVlblNlcmlhbGl6ZWQobm9kZSkge1xuICAgICAgICByZXR1cm4gaGFzU2VyaWFsaXplZE5vZGUobm9kZSkgJiYgc2VyaWFsaXplZE5vZGVJZHMuaGFzKGdldFNlcmlhbGl6ZWROb2RlSWQobm9kZSkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXROZXh0U2libGluZyhub2RlKSB7XG4gICAgICAgIHZhciBuZXh0U2libGluZyA9IG5vZGUubmV4dFNpYmxpbmc7XG4gICAgICAgIHdoaWxlIChuZXh0U2libGluZykge1xuICAgICAgICAgICAgaWYgKGhhc1NlcmlhbGl6ZWROb2RlKG5leHRTaWJsaW5nKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXRTZXJpYWxpemVkTm9kZUlkKG5leHRTaWJsaW5nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5leHRTaWJsaW5nID0gbmV4dFNpYmxpbmcubmV4dFNpYmxpbmc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuZnVuY3Rpb24gcHJvY2Vzc0NoYXJhY3RlckRhdGFNdXRhdGlvbnMobXV0YXRpb25zLCBjb25maWd1cmF0aW9uKSB7XG4gICAgdmFyIF9hO1xuICAgIHZhciB0ZXh0TXV0YXRpb25zID0gW107XG4gICAgLy8gRGVkdXBsaWNhdGUgbXV0YXRpb25zIGJhc2VkIG9uIHRoZWlyIHRhcmdldCBub2RlXG4gICAgdmFyIGhhbmRsZWROb2RlcyA9IG5ldyBTZXQoKTtcbiAgICB2YXIgZmlsdGVyZWRNdXRhdGlvbnMgPSBtdXRhdGlvbnMuZmlsdGVyKGZ1bmN0aW9uIChtdXRhdGlvbikge1xuICAgICAgICBpZiAoaGFuZGxlZE5vZGVzLmhhcyhtdXRhdGlvbi50YXJnZXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaGFuZGxlZE5vZGVzLmFkZChtdXRhdGlvbi50YXJnZXQpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9KTtcbiAgICAvLyBFbWl0IG11dGF0aW9uc1xuICAgIGZvciAodmFyIF9pID0gMCwgZmlsdGVyZWRNdXRhdGlvbnNfMSA9IGZpbHRlcmVkTXV0YXRpb25zOyBfaSA8IGZpbHRlcmVkTXV0YXRpb25zXzEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHZhciBtdXRhdGlvbiA9IGZpbHRlcmVkTXV0YXRpb25zXzFbX2ldO1xuICAgICAgICB2YXIgdmFsdWUgPSBtdXRhdGlvbi50YXJnZXQudGV4dENvbnRlbnQ7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gbXV0YXRpb24ub2xkVmFsdWUpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwYXJlbnROb2RlUHJpdmFjeUxldmVsID0gZ2V0Tm9kZVByaXZhY3lMZXZlbChnZXRQYXJlbnROb2RlKG11dGF0aW9uLnRhcmdldCksIGNvbmZpZ3VyYXRpb24uZGVmYXVsdFByaXZhY3lMZXZlbCk7XG4gICAgICAgIGlmIChwYXJlbnROb2RlUHJpdmFjeUxldmVsID09PSBOb2RlUHJpdmFjeUxldmVsLkhJRERFTiB8fCBwYXJlbnROb2RlUHJpdmFjeUxldmVsID09PSBOb2RlUHJpdmFjeUxldmVsLklHTk9SRSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdGV4dE11dGF0aW9ucy5wdXNoKHtcbiAgICAgICAgICAgIGlkOiBnZXRTZXJpYWxpemVkTm9kZUlkKG11dGF0aW9uLnRhcmdldCksXG4gICAgICAgICAgICAvLyBUT0RPOiBwYXNzIGEgdmFsaWQgXCJpZ25vcmVXaGl0ZVNwYWNlXCIgYXJndW1lbnRcbiAgICAgICAgICAgIHZhbHVlOiAoX2EgPSBnZXRUZXh0Q29udGVudChtdXRhdGlvbi50YXJnZXQsIGZhbHNlLCBwYXJlbnROb2RlUHJpdmFjeUxldmVsKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogbnVsbCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB0ZXh0TXV0YXRpb25zO1xufVxuZnVuY3Rpb24gcHJvY2Vzc0F0dHJpYnV0ZXNNdXRhdGlvbnMobXV0YXRpb25zLCBjb25maWd1cmF0aW9uKSB7XG4gICAgdmFyIGF0dHJpYnV0ZU11dGF0aW9ucyA9IFtdO1xuICAgIC8vIERlZHVwbGljYXRlIG11dGF0aW9ucyBiYXNlZCBvbiB0aGVpciB0YXJnZXQgbm9kZSBhbmQgY2hhbmdlZCBhdHRyaWJ1dGVcbiAgICB2YXIgaGFuZGxlZEVsZW1lbnRzID0gbmV3IE1hcCgpO1xuICAgIHZhciBmaWx0ZXJlZE11dGF0aW9ucyA9IG11dGF0aW9ucy5maWx0ZXIoZnVuY3Rpb24gKG11dGF0aW9uKSB7XG4gICAgICAgIHZhciBoYW5kbGVkQXR0cmlidXRlcyA9IGhhbmRsZWRFbGVtZW50cy5nZXQobXV0YXRpb24udGFyZ2V0KTtcbiAgICAgICAgaWYgKGhhbmRsZWRBdHRyaWJ1dGVzID09PSBudWxsIHx8IGhhbmRsZWRBdHRyaWJ1dGVzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBoYW5kbGVkQXR0cmlidXRlcy5oYXMobXV0YXRpb24uYXR0cmlidXRlTmFtZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWhhbmRsZWRBdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICBoYW5kbGVkRWxlbWVudHMuc2V0KG11dGF0aW9uLnRhcmdldCwgbmV3IFNldChbbXV0YXRpb24uYXR0cmlidXRlTmFtZV0pKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGhhbmRsZWRBdHRyaWJ1dGVzLmFkZChtdXRhdGlvbi5hdHRyaWJ1dGVOYW1lKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9KTtcbiAgICAvLyBFbWl0IG11dGF0aW9uc1xuICAgIHZhciBlbWl0dGVkTXV0YXRpb25zID0gbmV3IE1hcCgpO1xuICAgIGZvciAodmFyIF9pID0gMCwgZmlsdGVyZWRNdXRhdGlvbnNfMiA9IGZpbHRlcmVkTXV0YXRpb25zOyBfaSA8IGZpbHRlcmVkTXV0YXRpb25zXzIubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHZhciBtdXRhdGlvbiA9IGZpbHRlcmVkTXV0YXRpb25zXzJbX2ldO1xuICAgICAgICB2YXIgdW5jZW5zb3JlZFZhbHVlID0gbXV0YXRpb24udGFyZ2V0LmdldEF0dHJpYnV0ZShtdXRhdGlvbi5hdHRyaWJ1dGVOYW1lKTtcbiAgICAgICAgaWYgKHVuY2Vuc29yZWRWYWx1ZSA9PT0gbXV0YXRpb24ub2xkVmFsdWUpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwcml2YWN5TGV2ZWwgPSBnZXROb2RlUHJpdmFjeUxldmVsKG11dGF0aW9uLnRhcmdldCwgY29uZmlndXJhdGlvbi5kZWZhdWx0UHJpdmFjeUxldmVsKTtcbiAgICAgICAgdmFyIGF0dHJpYnV0ZVZhbHVlID0gc2VyaWFsaXplQXR0cmlidXRlKG11dGF0aW9uLnRhcmdldCwgcHJpdmFjeUxldmVsLCBtdXRhdGlvbi5hdHRyaWJ1dGVOYW1lLCBjb25maWd1cmF0aW9uKTtcbiAgICAgICAgdmFyIHRyYW5zZm9ybWVkVmFsdWUgPSB2b2lkIDA7XG4gICAgICAgIGlmIChtdXRhdGlvbi5hdHRyaWJ1dGVOYW1lID09PSAndmFsdWUnKSB7XG4gICAgICAgICAgICB2YXIgaW5wdXRWYWx1ZSA9IGdldEVsZW1lbnRJbnB1dFZhbHVlKG11dGF0aW9uLnRhcmdldCwgcHJpdmFjeUxldmVsKTtcbiAgICAgICAgICAgIGlmIChpbnB1dFZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyYW5zZm9ybWVkVmFsdWUgPSBpbnB1dFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBhdHRyaWJ1dGVWYWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRyYW5zZm9ybWVkVmFsdWUgPSBhdHRyaWJ1dGVWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRyYW5zZm9ybWVkVmFsdWUgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHZhciBlbWl0dGVkTXV0YXRpb24gPSBlbWl0dGVkTXV0YXRpb25zLmdldChtdXRhdGlvbi50YXJnZXQpO1xuICAgICAgICBpZiAoIWVtaXR0ZWRNdXRhdGlvbikge1xuICAgICAgICAgICAgZW1pdHRlZE11dGF0aW9uID0ge1xuICAgICAgICAgICAgICAgIGlkOiBnZXRTZXJpYWxpemVkTm9kZUlkKG11dGF0aW9uLnRhcmdldCksXG4gICAgICAgICAgICAgICAgYXR0cmlidXRlczoge30sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgYXR0cmlidXRlTXV0YXRpb25zLnB1c2goZW1pdHRlZE11dGF0aW9uKTtcbiAgICAgICAgICAgIGVtaXR0ZWRNdXRhdGlvbnMuc2V0KG11dGF0aW9uLnRhcmdldCwgZW1pdHRlZE11dGF0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBlbWl0dGVkTXV0YXRpb24uYXR0cmlidXRlc1ttdXRhdGlvbi5hdHRyaWJ1dGVOYW1lXSA9IHRyYW5zZm9ybWVkVmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBhdHRyaWJ1dGVNdXRhdGlvbnM7XG59XG5leHBvcnQgZnVuY3Rpb24gc29ydEFkZGVkQW5kTW92ZWROb2Rlcyhub2Rlcykge1xuICAgIG5vZGVzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgdmFyIHBvc2l0aW9uID0gYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihiKTtcbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tYml0d2lzZSAqL1xuICAgICAgICBpZiAocG9zaXRpb24gJiBOb2RlLkRPQ1VNRU5UX1BPU0lUSU9OX0NPTlRBSU5FRF9CWSkge1xuICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHBvc2l0aW9uICYgTm9kZS5ET0NVTUVOVF9QT1NJVElPTl9DT05UQUlOUykge1xuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocG9zaXRpb24gJiBOb2RlLkRPQ1VNRU5UX1BPU0lUSU9OX0ZPTExPV0lORykge1xuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocG9zaXRpb24gJiBOb2RlLkRPQ1VNRU5UX1BPU0lUSU9OX1BSRUNFRElORykge1xuICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICB9XG4gICAgICAgIC8qIGVzbGludC1lbmFibGUgbm8tYml0d2lzZSAqL1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIHRyYXZlcnNlUmVtb3ZlZFNoYWRvd0RvbShyZW1vdmVkTm9kZSwgc2hhZG93RG9tUmVtb3ZlZENhbGxiYWNrKSB7XG4gICAgaWYgKGlzTm9kZVNoYWRvd0hvc3QocmVtb3ZlZE5vZGUpKSB7XG4gICAgICAgIHNoYWRvd0RvbVJlbW92ZWRDYWxsYmFjayhyZW1vdmVkTm9kZS5zaGFkb3dSb290KTtcbiAgICB9XG4gICAgZ2V0Q2hpbGROb2RlcyhyZW1vdmVkTm9kZSkuZm9yRWFjaChmdW5jdGlvbiAoY2hpbGQpIHsgcmV0dXJuIHRyYXZlcnNlUmVtb3ZlZFNoYWRvd0RvbShjaGlsZCwgc2hhZG93RG9tUmVtb3ZlZENhbGxiYWNrKTsgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tdXRhdGlvbk9ic2VydmVyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/observers/mutationObserver.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/observers/observers.js":
/*!****************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum/esm/domain/record/observers/observers.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initObservers: () => (/* binding */ initObservers)\n/* harmony export */ });\n/* harmony import */ var _moveObserver__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./moveObserver */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/observers/moveObserver.js\");\n/* harmony import */ var _scrollObserver__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./scrollObserver */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/observers/scrollObserver.js\");\n/* harmony import */ var _mouseInteractionObserver__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./mouseInteractionObserver */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/observers/mouseInteractionObserver.js\");\n/* harmony import */ var _inputObserver__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./inputObserver */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/observers/inputObserver.js\");\n/* harmony import */ var _styleSheetObserver__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./styleSheetObserver */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/observers/styleSheetObserver.js\");\n/* harmony import */ var _mediaInteractionObserver__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./mediaInteractionObserver */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/observers/mediaInteractionObserver.js\");\n/* harmony import */ var _frustrationObserver__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./frustrationObserver */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/observers/frustrationObserver.js\");\n/* harmony import */ var _viewportResizeObserver__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./viewportResizeObserver */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/observers/viewportResizeObserver.js\");\n/* harmony import */ var _mutationObserver__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./mutationObserver */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/observers/mutationObserver.js\");\n/* harmony import */ var _focusObserver__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./focusObserver */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/observers/focusObserver.js\");\n/* harmony import */ var _recordIds__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./recordIds */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/observers/recordIds.js\");\n\n\n\n\n\n\n\n\n\n\n\nfunction initObservers(o) {\n    var recordIds = (0,_recordIds__WEBPACK_IMPORTED_MODULE_10__.initRecordIds)();\n    var mutationHandler = (0,_mutationObserver__WEBPACK_IMPORTED_MODULE_8__.initMutationObserver)(o.mutationCb, o.configuration, o.shadowRootsController, document);\n    var mousemoveHandler = (0,_moveObserver__WEBPACK_IMPORTED_MODULE_0__.initMoveObserver)(o.mousemoveCb);\n    var mouseInteractionHandler = (0,_mouseInteractionObserver__WEBPACK_IMPORTED_MODULE_2__.initMouseInteractionObserver)(o.mouseInteractionCb, o.configuration.defaultPrivacyLevel, recordIds);\n    var scrollHandler = (0,_scrollObserver__WEBPACK_IMPORTED_MODULE_1__.initScrollObserver)(o.scrollCb, o.configuration.defaultPrivacyLevel, o.elementsScrollPositions);\n    var viewportResizeHandler = (0,_viewportResizeObserver__WEBPACK_IMPORTED_MODULE_7__.initViewportResizeObserver)(o.viewportResizeCb);\n    var inputHandler = (0,_inputObserver__WEBPACK_IMPORTED_MODULE_3__.initInputObserver)(o.inputCb, o.configuration.defaultPrivacyLevel);\n    var mediaInteractionHandler = (0,_mediaInteractionObserver__WEBPACK_IMPORTED_MODULE_5__.initMediaInteractionObserver)(o.mediaInteractionCb, o.configuration.defaultPrivacyLevel);\n    var styleSheetObserver = (0,_styleSheetObserver__WEBPACK_IMPORTED_MODULE_4__.initStyleSheetObserver)(o.styleSheetCb);\n    var focusHandler = (0,_focusObserver__WEBPACK_IMPORTED_MODULE_9__.initFocusObserver)(o.focusCb);\n    var visualViewportResizeHandler = (0,_viewportResizeObserver__WEBPACK_IMPORTED_MODULE_7__.initVisualViewportResizeObserver)(o.visualViewportResizeCb);\n    var frustrationHandler = (0,_frustrationObserver__WEBPACK_IMPORTED_MODULE_6__.initFrustrationObserver)(o.lifeCycle, o.frustrationCb, recordIds);\n    return {\n        flush: function () {\n            mutationHandler.flush();\n        },\n        stop: function () {\n            mutationHandler.stop();\n            mousemoveHandler();\n            mouseInteractionHandler();\n            scrollHandler();\n            viewportResizeHandler();\n            inputHandler();\n            mediaInteractionHandler();\n            styleSheetObserver();\n            focusHandler();\n            visualViewportResizeHandler();\n            frustrationHandler();\n        },\n    };\n}\n//# sourceMappingURL=observers.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtL2VzbS9kb21haW4vcmVjb3JkL29ic2VydmVycy9vYnNlcnZlcnMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQWtEO0FBQ0k7QUFDb0I7QUFDdEI7QUFDVTtBQUNZO0FBQ1Y7QUFDd0M7QUFDOUM7QUFDTjtBQUNSO0FBQ3JDO0FBQ1Asb0JBQW9CLDBEQUFhO0FBQ2pDLDBCQUEwQix1RUFBb0I7QUFDOUMsMkJBQTJCLCtEQUFnQjtBQUMzQyxrQ0FBa0MsdUZBQTRCO0FBQzlELHdCQUF3QixtRUFBa0I7QUFDMUMsZ0NBQWdDLG1GQUEwQjtBQUMxRCx1QkFBdUIsaUVBQWlCO0FBQ3hDLGtDQUFrQyx1RkFBNEI7QUFDOUQsNkJBQTZCLDJFQUFzQjtBQUNuRCx1QkFBdUIsaUVBQWlCO0FBQ3hDLHNDQUFzQyx5RkFBZ0M7QUFDdEUsNkJBQTZCLDZFQUF1QjtBQUNwRDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhcmNhc3Rlci8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0vZXNtL2RvbWFpbi9yZWNvcmQvb2JzZXJ2ZXJzL29ic2VydmVycy5qcz9lNDU3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGluaXRNb3ZlT2JzZXJ2ZXIgfSBmcm9tICcuL21vdmVPYnNlcnZlcic7XG5pbXBvcnQgeyBpbml0U2Nyb2xsT2JzZXJ2ZXIgfSBmcm9tICcuL3Njcm9sbE9ic2VydmVyJztcbmltcG9ydCB7IGluaXRNb3VzZUludGVyYWN0aW9uT2JzZXJ2ZXIgfSBmcm9tICcuL21vdXNlSW50ZXJhY3Rpb25PYnNlcnZlcic7XG5pbXBvcnQgeyBpbml0SW5wdXRPYnNlcnZlciB9IGZyb20gJy4vaW5wdXRPYnNlcnZlcic7XG5pbXBvcnQgeyBpbml0U3R5bGVTaGVldE9ic2VydmVyIH0gZnJvbSAnLi9zdHlsZVNoZWV0T2JzZXJ2ZXInO1xuaW1wb3J0IHsgaW5pdE1lZGlhSW50ZXJhY3Rpb25PYnNlcnZlciB9IGZyb20gJy4vbWVkaWFJbnRlcmFjdGlvbk9ic2VydmVyJztcbmltcG9ydCB7IGluaXRGcnVzdHJhdGlvbk9ic2VydmVyIH0gZnJvbSAnLi9mcnVzdHJhdGlvbk9ic2VydmVyJztcbmltcG9ydCB7IGluaXRWaWV3cG9ydFJlc2l6ZU9ic2VydmVyLCBpbml0VmlzdWFsVmlld3BvcnRSZXNpemVPYnNlcnZlciB9IGZyb20gJy4vdmlld3BvcnRSZXNpemVPYnNlcnZlcic7XG5pbXBvcnQgeyBpbml0TXV0YXRpb25PYnNlcnZlciB9IGZyb20gJy4vbXV0YXRpb25PYnNlcnZlcic7XG5pbXBvcnQgeyBpbml0Rm9jdXNPYnNlcnZlciB9IGZyb20gJy4vZm9jdXNPYnNlcnZlcic7XG5pbXBvcnQgeyBpbml0UmVjb3JkSWRzIH0gZnJvbSAnLi9yZWNvcmRJZHMnO1xuZXhwb3J0IGZ1bmN0aW9uIGluaXRPYnNlcnZlcnMobykge1xuICAgIHZhciByZWNvcmRJZHMgPSBpbml0UmVjb3JkSWRzKCk7XG4gICAgdmFyIG11dGF0aW9uSGFuZGxlciA9IGluaXRNdXRhdGlvbk9ic2VydmVyKG8ubXV0YXRpb25DYiwgby5jb25maWd1cmF0aW9uLCBvLnNoYWRvd1Jvb3RzQ29udHJvbGxlciwgZG9jdW1lbnQpO1xuICAgIHZhciBtb3VzZW1vdmVIYW5kbGVyID0gaW5pdE1vdmVPYnNlcnZlcihvLm1vdXNlbW92ZUNiKTtcbiAgICB2YXIgbW91c2VJbnRlcmFjdGlvbkhhbmRsZXIgPSBpbml0TW91c2VJbnRlcmFjdGlvbk9ic2VydmVyKG8ubW91c2VJbnRlcmFjdGlvbkNiLCBvLmNvbmZpZ3VyYXRpb24uZGVmYXVsdFByaXZhY3lMZXZlbCwgcmVjb3JkSWRzKTtcbiAgICB2YXIgc2Nyb2xsSGFuZGxlciA9IGluaXRTY3JvbGxPYnNlcnZlcihvLnNjcm9sbENiLCBvLmNvbmZpZ3VyYXRpb24uZGVmYXVsdFByaXZhY3lMZXZlbCwgby5lbGVtZW50c1Njcm9sbFBvc2l0aW9ucyk7XG4gICAgdmFyIHZpZXdwb3J0UmVzaXplSGFuZGxlciA9IGluaXRWaWV3cG9ydFJlc2l6ZU9ic2VydmVyKG8udmlld3BvcnRSZXNpemVDYik7XG4gICAgdmFyIGlucHV0SGFuZGxlciA9IGluaXRJbnB1dE9ic2VydmVyKG8uaW5wdXRDYiwgby5jb25maWd1cmF0aW9uLmRlZmF1bHRQcml2YWN5TGV2ZWwpO1xuICAgIHZhciBtZWRpYUludGVyYWN0aW9uSGFuZGxlciA9IGluaXRNZWRpYUludGVyYWN0aW9uT2JzZXJ2ZXIoby5tZWRpYUludGVyYWN0aW9uQ2IsIG8uY29uZmlndXJhdGlvbi5kZWZhdWx0UHJpdmFjeUxldmVsKTtcbiAgICB2YXIgc3R5bGVTaGVldE9ic2VydmVyID0gaW5pdFN0eWxlU2hlZXRPYnNlcnZlcihvLnN0eWxlU2hlZXRDYik7XG4gICAgdmFyIGZvY3VzSGFuZGxlciA9IGluaXRGb2N1c09ic2VydmVyKG8uZm9jdXNDYik7XG4gICAgdmFyIHZpc3VhbFZpZXdwb3J0UmVzaXplSGFuZGxlciA9IGluaXRWaXN1YWxWaWV3cG9ydFJlc2l6ZU9ic2VydmVyKG8udmlzdWFsVmlld3BvcnRSZXNpemVDYik7XG4gICAgdmFyIGZydXN0cmF0aW9uSGFuZGxlciA9IGluaXRGcnVzdHJhdGlvbk9ic2VydmVyKG8ubGlmZUN5Y2xlLCBvLmZydXN0cmF0aW9uQ2IsIHJlY29yZElkcyk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZmx1c2g6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIG11dGF0aW9uSGFuZGxlci5mbHVzaCgpO1xuICAgICAgICB9LFxuICAgICAgICBzdG9wOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBtdXRhdGlvbkhhbmRsZXIuc3RvcCgpO1xuICAgICAgICAgICAgbW91c2Vtb3ZlSGFuZGxlcigpO1xuICAgICAgICAgICAgbW91c2VJbnRlcmFjdGlvbkhhbmRsZXIoKTtcbiAgICAgICAgICAgIHNjcm9sbEhhbmRsZXIoKTtcbiAgICAgICAgICAgIHZpZXdwb3J0UmVzaXplSGFuZGxlcigpO1xuICAgICAgICAgICAgaW5wdXRIYW5kbGVyKCk7XG4gICAgICAgICAgICBtZWRpYUludGVyYWN0aW9uSGFuZGxlcigpO1xuICAgICAgICAgICAgc3R5bGVTaGVldE9ic2VydmVyKCk7XG4gICAgICAgICAgICBmb2N1c0hhbmRsZXIoKTtcbiAgICAgICAgICAgIHZpc3VhbFZpZXdwb3J0UmVzaXplSGFuZGxlcigpO1xuICAgICAgICAgICAgZnJ1c3RyYXRpb25IYW5kbGVyKCk7XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9ic2VydmVycy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/observers/observers.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/observers/recordIds.js":
/*!****************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum/esm/domain/record/observers/recordIds.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initRecordIds: () => (/* binding */ initRecordIds)\n/* harmony export */ });\nfunction initRecordIds() {\n    var recordIds = new WeakMap();\n    var nextId = 1;\n    return {\n        getIdForEvent: function (event) {\n            if (!recordIds.has(event)) {\n                recordIds.set(event, nextId++);\n            }\n            return recordIds.get(event);\n        },\n    };\n}\n//# sourceMappingURL=recordIds.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtL2VzbS9kb21haW4vcmVjb3JkL29ic2VydmVycy9yZWNvcmRJZHMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYXJjYXN0ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtL2VzbS9kb21haW4vcmVjb3JkL29ic2VydmVycy9yZWNvcmRJZHMuanM/ODM3YSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gaW5pdFJlY29yZElkcygpIHtcbiAgICB2YXIgcmVjb3JkSWRzID0gbmV3IFdlYWtNYXAoKTtcbiAgICB2YXIgbmV4dElkID0gMTtcbiAgICByZXR1cm4ge1xuICAgICAgICBnZXRJZEZvckV2ZW50OiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIGlmICghcmVjb3JkSWRzLmhhcyhldmVudCkpIHtcbiAgICAgICAgICAgICAgICByZWNvcmRJZHMuc2V0KGV2ZW50LCBuZXh0SWQrKyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVjb3JkSWRzLmdldChldmVudCk7XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlY29yZElkcy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/observers/recordIds.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/observers/scrollObserver.js":
/*!*********************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum/esm/domain/record/observers/scrollObserver.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initScrollObserver: () => (/* binding */ initScrollObserver)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/functionUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/browser/addEventListener.js\");\n/* harmony import */ var _eventsUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../eventsUtils */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/eventsUtils.js\");\n/* harmony import */ var _privacy__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../privacy */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/privacy.js\");\n/* harmony import */ var _serialization__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../serialization */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/serialization/index.js\");\n/* harmony import */ var _viewports__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../viewports */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/viewports.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../constants */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/constants.js\");\n\n\n\n\n\n\nvar SCROLL_OBSERVER_THRESHOLD = 100;\nfunction initScrollObserver(cb, defaultPrivacyLevel, elementsScrollPositions) {\n    var updatePosition = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.throttle)(function (event) {\n        var target = (0,_eventsUtils__WEBPACK_IMPORTED_MODULE_0__.getEventTarget)(event);\n        if (!target ||\n            (0,_privacy__WEBPACK_IMPORTED_MODULE_1__.getNodePrivacyLevel)(target, defaultPrivacyLevel) === _constants__WEBPACK_IMPORTED_MODULE_4__.NodePrivacyLevel.HIDDEN ||\n            !(0,_serialization__WEBPACK_IMPORTED_MODULE_2__.hasSerializedNode)(target)) {\n            return;\n        }\n        var id = (0,_serialization__WEBPACK_IMPORTED_MODULE_2__.getSerializedNodeId)(target);\n        var scrollPositions = target === document\n            ? {\n                scrollTop: (0,_viewports__WEBPACK_IMPORTED_MODULE_3__.getScrollY)(),\n                scrollLeft: (0,_viewports__WEBPACK_IMPORTED_MODULE_3__.getScrollX)(),\n            }\n            : {\n                scrollTop: Math.round(target.scrollTop),\n                scrollLeft: Math.round(target.scrollLeft),\n            };\n        elementsScrollPositions.set(target, scrollPositions);\n        cb({\n            id: id,\n            x: scrollPositions.scrollLeft,\n            y: scrollPositions.scrollTop,\n        });\n    }, SCROLL_OBSERVER_THRESHOLD).throttled;\n    return (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__.addEventListener)(document, \"scroll\" /* DOM_EVENT.SCROLL */, updatePosition, { capture: true, passive: true }).stop;\n}\n//# sourceMappingURL=scrollObserver.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtL2VzbS9kb21haW4vcmVjb3JkL29ic2VydmVycy9zY3JvbGxPYnNlcnZlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFtRTtBQUNuQjtBQUNDO0FBQ3lCO0FBQ3BCO0FBQ0E7QUFDdEQ7QUFDTztBQUNQLHlCQUF5QiwrREFBUTtBQUNqQyxxQkFBcUIsNERBQWM7QUFDbkM7QUFDQSxZQUFZLDZEQUFtQixrQ0FBa0Msd0RBQWdCO0FBQ2pGLGFBQWEsaUVBQWlCO0FBQzlCO0FBQ0E7QUFDQSxpQkFBaUIsbUVBQW1CO0FBQ3BDO0FBQ0E7QUFDQSwyQkFBMkIsc0RBQVU7QUFDckMsNEJBQTRCLHNEQUFVO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTCxXQUFXLHVFQUFnQiw4REFBOEQsOEJBQThCO0FBQ3ZIO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYXJjYXN0ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtL2VzbS9kb21haW4vcmVjb3JkL29ic2VydmVycy9zY3JvbGxPYnNlcnZlci5qcz8zYjY4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHRocm90dGxlLCBhZGRFdmVudExpc3RlbmVyIH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJztcbmltcG9ydCB7IGdldEV2ZW50VGFyZ2V0IH0gZnJvbSAnLi4vZXZlbnRzVXRpbHMnO1xuaW1wb3J0IHsgZ2V0Tm9kZVByaXZhY3lMZXZlbCB9IGZyb20gJy4uL3ByaXZhY3knO1xuaW1wb3J0IHsgZ2V0U2VyaWFsaXplZE5vZGVJZCwgaGFzU2VyaWFsaXplZE5vZGUgfSBmcm9tICcuLi9zZXJpYWxpemF0aW9uJztcbmltcG9ydCB7IGdldFNjcm9sbFgsIGdldFNjcm9sbFkgfSBmcm9tICcuLi92aWV3cG9ydHMnO1xuaW1wb3J0IHsgTm9kZVByaXZhY3lMZXZlbCB9IGZyb20gJy4uLy4uLy4uL2NvbnN0YW50cyc7XG52YXIgU0NST0xMX09CU0VSVkVSX1RIUkVTSE9MRCA9IDEwMDtcbmV4cG9ydCBmdW5jdGlvbiBpbml0U2Nyb2xsT2JzZXJ2ZXIoY2IsIGRlZmF1bHRQcml2YWN5TGV2ZWwsIGVsZW1lbnRzU2Nyb2xsUG9zaXRpb25zKSB7XG4gICAgdmFyIHVwZGF0ZVBvc2l0aW9uID0gdGhyb3R0bGUoZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciB0YXJnZXQgPSBnZXRFdmVudFRhcmdldChldmVudCk7XG4gICAgICAgIGlmICghdGFyZ2V0IHx8XG4gICAgICAgICAgICBnZXROb2RlUHJpdmFjeUxldmVsKHRhcmdldCwgZGVmYXVsdFByaXZhY3lMZXZlbCkgPT09IE5vZGVQcml2YWN5TGV2ZWwuSElEREVOIHx8XG4gICAgICAgICAgICAhaGFzU2VyaWFsaXplZE5vZGUodGFyZ2V0KSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpZCA9IGdldFNlcmlhbGl6ZWROb2RlSWQodGFyZ2V0KTtcbiAgICAgICAgdmFyIHNjcm9sbFBvc2l0aW9ucyA9IHRhcmdldCA9PT0gZG9jdW1lbnRcbiAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgIHNjcm9sbFRvcDogZ2V0U2Nyb2xsWSgpLFxuICAgICAgICAgICAgICAgIHNjcm9sbExlZnQ6IGdldFNjcm9sbFgoKSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgIHNjcm9sbFRvcDogTWF0aC5yb3VuZCh0YXJnZXQuc2Nyb2xsVG9wKSxcbiAgICAgICAgICAgICAgICBzY3JvbGxMZWZ0OiBNYXRoLnJvdW5kKHRhcmdldC5zY3JvbGxMZWZ0KSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIGVsZW1lbnRzU2Nyb2xsUG9zaXRpb25zLnNldCh0YXJnZXQsIHNjcm9sbFBvc2l0aW9ucyk7XG4gICAgICAgIGNiKHtcbiAgICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICAgIHg6IHNjcm9sbFBvc2l0aW9ucy5zY3JvbGxMZWZ0LFxuICAgICAgICAgICAgeTogc2Nyb2xsUG9zaXRpb25zLnNjcm9sbFRvcCxcbiAgICAgICAgfSk7XG4gICAgfSwgU0NST0xMX09CU0VSVkVSX1RIUkVTSE9MRCkudGhyb3R0bGVkO1xuICAgIHJldHVybiBhZGRFdmVudExpc3RlbmVyKGRvY3VtZW50LCBcInNjcm9sbFwiIC8qIERPTV9FVkVOVC5TQ1JPTEwgKi8sIHVwZGF0ZVBvc2l0aW9uLCB7IGNhcHR1cmU6IHRydWUsIHBhc3NpdmU6IHRydWUgfSkuc3RvcDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNjcm9sbE9ic2VydmVyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/observers/scrollObserver.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/observers/styleSheetObserver.js":
/*!*************************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum/esm/domain/record/observers/styleSheetObserver.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getPathToNestedCSSRule: () => (/* binding */ getPathToNestedCSSRule),\n/* harmony export */   initStyleSheetObserver: () => (/* binding */ initStyleSheetObserver)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/instrumentMethod.js\");\n/* harmony import */ var _serialization__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../serialization */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/serialization/index.js\");\n\n\nfunction initStyleSheetObserver(cb) {\n    function checkStyleSheetAndCallback(styleSheet, callback) {\n        if (styleSheet && (0,_serialization__WEBPACK_IMPORTED_MODULE_0__.hasSerializedNode)(styleSheet.ownerNode)) {\n            callback((0,_serialization__WEBPACK_IMPORTED_MODULE_0__.getSerializedNodeId)(styleSheet.ownerNode));\n        }\n    }\n    var instrumentationStoppers = [\n        (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.instrumentMethodAndCallOriginal)(CSSStyleSheet.prototype, 'insertRule', {\n            before: function (rule, index) {\n                checkStyleSheetAndCallback(this, function (id) { return cb({ id: id, adds: [{ rule: rule, index: index }] }); });\n            },\n        }),\n        (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.instrumentMethodAndCallOriginal)(CSSStyleSheet.prototype, 'deleteRule', {\n            before: function (index) {\n                checkStyleSheetAndCallback(this, function (id) { return cb({ id: id, removes: [{ index: index }] }); });\n            },\n        }),\n    ];\n    if (typeof CSSGroupingRule !== 'undefined') {\n        instrumentGroupingCSSRuleClass(CSSGroupingRule);\n    }\n    else {\n        instrumentGroupingCSSRuleClass(CSSMediaRule);\n        instrumentGroupingCSSRuleClass(CSSSupportsRule);\n    }\n    function instrumentGroupingCSSRuleClass(cls) {\n        instrumentationStoppers.push((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.instrumentMethodAndCallOriginal)(cls.prototype, 'insertRule', {\n            before: function (rule, index) {\n                var _this = this;\n                checkStyleSheetAndCallback(this.parentStyleSheet, function (id) {\n                    var path = getPathToNestedCSSRule(_this);\n                    if (path) {\n                        path.push(index || 0);\n                        cb({ id: id, adds: [{ rule: rule, index: path }] });\n                    }\n                });\n            },\n        }), (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.instrumentMethodAndCallOriginal)(cls.prototype, 'deleteRule', {\n            before: function (index) {\n                var _this = this;\n                checkStyleSheetAndCallback(this.parentStyleSheet, function (id) {\n                    var path = getPathToNestedCSSRule(_this);\n                    if (path) {\n                        path.push(index);\n                        cb({ id: id, removes: [{ index: path }] });\n                    }\n                });\n            },\n        }));\n    }\n    return function () { return instrumentationStoppers.forEach(function (stopper) { return stopper.stop(); }); };\n}\nfunction getPathToNestedCSSRule(rule) {\n    var path = [];\n    var currentRule = rule;\n    while (currentRule.parentRule) {\n        var rules_1 = Array.from(currentRule.parentRule.cssRules);\n        var index_1 = rules_1.indexOf(currentRule);\n        path.unshift(index_1);\n        currentRule = currentRule.parentRule;\n    }\n    // A rule may not be attached to a stylesheet\n    if (!currentRule.parentStyleSheet) {\n        return;\n    }\n    var rules = Array.from(currentRule.parentStyleSheet.cssRules);\n    var index = rules.indexOf(currentRule);\n    path.unshift(index);\n    return path;\n}\n//# sourceMappingURL=styleSheetObserver.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtL2VzbS9kb21haW4vcmVjb3JkL29ic2VydmVycy9zdHlsZVNoZWV0T2JzZXJ2ZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUF3RTtBQUNFO0FBQ25FO0FBQ1A7QUFDQSwwQkFBMEIsaUVBQWlCO0FBQzNDLHFCQUFxQixtRUFBbUI7QUFDeEM7QUFDQTtBQUNBO0FBQ0EsUUFBUSxzRkFBK0I7QUFDdkM7QUFDQSxpRUFBaUUsWUFBWSxpQkFBaUIsMEJBQTBCLEdBQUcsSUFBSTtBQUMvSCxhQUFhO0FBQ2IsU0FBUztBQUNULFFBQVEsc0ZBQStCO0FBQ3ZDO0FBQ0EsaUVBQWlFLFlBQVksb0JBQW9CLGNBQWMsR0FBRyxJQUFJO0FBQ3RILGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLHNGQUErQjtBQUNwRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsaUJBQWlCLHlCQUF5QixHQUFHO0FBQzFFO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYixTQUFTLEdBQUcsc0ZBQStCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixvQkFBb0IsYUFBYSxHQUFHO0FBQ2pFO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQSx5QkFBeUIsNERBQTRELHdCQUF3QjtBQUM3RztBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFyY2FzdGVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLXJ1bS9lc20vZG9tYWluL3JlY29yZC9vYnNlcnZlcnMvc3R5bGVTaGVldE9ic2VydmVyLmpzPzFhM2QiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaW5zdHJ1bWVudE1ldGhvZEFuZENhbGxPcmlnaW5hbCB9IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItY29yZSc7XG5pbXBvcnQgeyBnZXRTZXJpYWxpemVkTm9kZUlkLCBoYXNTZXJpYWxpemVkTm9kZSB9IGZyb20gJy4uL3NlcmlhbGl6YXRpb24nO1xuZXhwb3J0IGZ1bmN0aW9uIGluaXRTdHlsZVNoZWV0T2JzZXJ2ZXIoY2IpIHtcbiAgICBmdW5jdGlvbiBjaGVja1N0eWxlU2hlZXRBbmRDYWxsYmFjayhzdHlsZVNoZWV0LCBjYWxsYmFjaykge1xuICAgICAgICBpZiAoc3R5bGVTaGVldCAmJiBoYXNTZXJpYWxpemVkTm9kZShzdHlsZVNoZWV0Lm93bmVyTm9kZSkpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKGdldFNlcmlhbGl6ZWROb2RlSWQoc3R5bGVTaGVldC5vd25lck5vZGUpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB2YXIgaW5zdHJ1bWVudGF0aW9uU3RvcHBlcnMgPSBbXG4gICAgICAgIGluc3RydW1lbnRNZXRob2RBbmRDYWxsT3JpZ2luYWwoQ1NTU3R5bGVTaGVldC5wcm90b3R5cGUsICdpbnNlcnRSdWxlJywge1xuICAgICAgICAgICAgYmVmb3JlOiBmdW5jdGlvbiAocnVsZSwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICBjaGVja1N0eWxlU2hlZXRBbmRDYWxsYmFjayh0aGlzLCBmdW5jdGlvbiAoaWQpIHsgcmV0dXJuIGNiKHsgaWQ6IGlkLCBhZGRzOiBbeyBydWxlOiBydWxlLCBpbmRleDogaW5kZXggfV0gfSk7IH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSksXG4gICAgICAgIGluc3RydW1lbnRNZXRob2RBbmRDYWxsT3JpZ2luYWwoQ1NTU3R5bGVTaGVldC5wcm90b3R5cGUsICdkZWxldGVSdWxlJywge1xuICAgICAgICAgICAgYmVmb3JlOiBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgICAgICAgICBjaGVja1N0eWxlU2hlZXRBbmRDYWxsYmFjayh0aGlzLCBmdW5jdGlvbiAoaWQpIHsgcmV0dXJuIGNiKHsgaWQ6IGlkLCByZW1vdmVzOiBbeyBpbmRleDogaW5kZXggfV0gfSk7IH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSksXG4gICAgXTtcbiAgICBpZiAodHlwZW9mIENTU0dyb3VwaW5nUnVsZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgaW5zdHJ1bWVudEdyb3VwaW5nQ1NTUnVsZUNsYXNzKENTU0dyb3VwaW5nUnVsZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpbnN0cnVtZW50R3JvdXBpbmdDU1NSdWxlQ2xhc3MoQ1NTTWVkaWFSdWxlKTtcbiAgICAgICAgaW5zdHJ1bWVudEdyb3VwaW5nQ1NTUnVsZUNsYXNzKENTU1N1cHBvcnRzUnVsZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGluc3RydW1lbnRHcm91cGluZ0NTU1J1bGVDbGFzcyhjbHMpIHtcbiAgICAgICAgaW5zdHJ1bWVudGF0aW9uU3RvcHBlcnMucHVzaChpbnN0cnVtZW50TWV0aG9kQW5kQ2FsbE9yaWdpbmFsKGNscy5wcm90b3R5cGUsICdpbnNlcnRSdWxlJywge1xuICAgICAgICAgICAgYmVmb3JlOiBmdW5jdGlvbiAocnVsZSwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgICAgIGNoZWNrU3R5bGVTaGVldEFuZENhbGxiYWNrKHRoaXMucGFyZW50U3R5bGVTaGVldCwgZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwYXRoID0gZ2V0UGF0aFRvTmVzdGVkQ1NTUnVsZShfdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXRoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoLnB1c2goaW5kZXggfHwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYih7IGlkOiBpZCwgYWRkczogW3sgcnVsZTogcnVsZSwgaW5kZXg6IHBhdGggfV0gfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pLCBpbnN0cnVtZW50TWV0aG9kQW5kQ2FsbE9yaWdpbmFsKGNscy5wcm90b3R5cGUsICdkZWxldGVSdWxlJywge1xuICAgICAgICAgICAgYmVmb3JlOiBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgICAgIGNoZWNrU3R5bGVTaGVldEFuZENhbGxiYWNrKHRoaXMucGFyZW50U3R5bGVTaGVldCwgZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwYXRoID0gZ2V0UGF0aFRvTmVzdGVkQ1NTUnVsZShfdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXRoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoLnB1c2goaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2IoeyBpZDogaWQsIHJlbW92ZXM6IFt7IGluZGV4OiBwYXRoIH1dIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KSk7XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7IHJldHVybiBpbnN0cnVtZW50YXRpb25TdG9wcGVycy5mb3JFYWNoKGZ1bmN0aW9uIChzdG9wcGVyKSB7IHJldHVybiBzdG9wcGVyLnN0b3AoKTsgfSk7IH07XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0UGF0aFRvTmVzdGVkQ1NTUnVsZShydWxlKSB7XG4gICAgdmFyIHBhdGggPSBbXTtcbiAgICB2YXIgY3VycmVudFJ1bGUgPSBydWxlO1xuICAgIHdoaWxlIChjdXJyZW50UnVsZS5wYXJlbnRSdWxlKSB7XG4gICAgICAgIHZhciBydWxlc18xID0gQXJyYXkuZnJvbShjdXJyZW50UnVsZS5wYXJlbnRSdWxlLmNzc1J1bGVzKTtcbiAgICAgICAgdmFyIGluZGV4XzEgPSBydWxlc18xLmluZGV4T2YoY3VycmVudFJ1bGUpO1xuICAgICAgICBwYXRoLnVuc2hpZnQoaW5kZXhfMSk7XG4gICAgICAgIGN1cnJlbnRSdWxlID0gY3VycmVudFJ1bGUucGFyZW50UnVsZTtcbiAgICB9XG4gICAgLy8gQSBydWxlIG1heSBub3QgYmUgYXR0YWNoZWQgdG8gYSBzdHlsZXNoZWV0XG4gICAgaWYgKCFjdXJyZW50UnVsZS5wYXJlbnRTdHlsZVNoZWV0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHJ1bGVzID0gQXJyYXkuZnJvbShjdXJyZW50UnVsZS5wYXJlbnRTdHlsZVNoZWV0LmNzc1J1bGVzKTtcbiAgICB2YXIgaW5kZXggPSBydWxlcy5pbmRleE9mKGN1cnJlbnRSdWxlKTtcbiAgICBwYXRoLnVuc2hpZnQoaW5kZXgpO1xuICAgIHJldHVybiBwYXRoO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3R5bGVTaGVldE9ic2VydmVyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/observers/styleSheetObserver.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/observers/viewportResizeObserver.js":
/*!*****************************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum/esm/domain/record/observers/viewportResizeObserver.js ***!
  \*****************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initViewportResizeObserver: () => (/* binding */ initViewportResizeObserver),\n/* harmony export */   initVisualViewportResizeObserver: () => (/* binding */ initVisualViewportResizeObserver)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/functionUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/browser/addEventListener.js\");\n/* harmony import */ var _datadog_browser_rum_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-rum-core */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/index.js\");\n/* harmony import */ var _viewports__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../viewports */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/viewports.js\");\n\n\n\nvar VISUAL_VIEWPORT_OBSERVER_THRESHOLD = 200;\nfunction initViewportResizeObserver(cb) {\n    return (0,_datadog_browser_rum_core__WEBPACK_IMPORTED_MODULE_0__.initViewportObservable)().subscribe(cb).unsubscribe;\n}\nfunction initVisualViewportResizeObserver(cb) {\n    var visualViewport = window.visualViewport;\n    if (!visualViewport) {\n        return _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.noop;\n    }\n    var _a = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.throttle)(function () {\n        cb((0,_viewports__WEBPACK_IMPORTED_MODULE_1__.getVisualViewport)(visualViewport));\n    }, VISUAL_VIEWPORT_OBSERVER_THRESHOLD, {\n        trailing: false,\n    }), updateDimension = _a.throttled, cancelThrottle = _a.cancel;\n    var removeListener = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.addEventListeners)(visualViewport, [\"resize\" /* DOM_EVENT.RESIZE */, \"scroll\" /* DOM_EVENT.SCROLL */], updateDimension, {\n        capture: true,\n        passive: true,\n    }).stop;\n    return function stop() {\n        removeListener();\n        cancelThrottle();\n    };\n}\n//# sourceMappingURL=viewportResizeObserver.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtL2VzbS9kb21haW4vcmVjb3JkL29ic2VydmVycy92aWV3cG9ydFJlc2l6ZU9ic2VydmVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUEwRTtBQUNQO0FBQ2xCO0FBQ2pEO0FBQ087QUFDUCxXQUFXLGlGQUFzQjtBQUNqQztBQUNPO0FBQ1A7QUFDQTtBQUNBLGVBQWUsdURBQUk7QUFDbkI7QUFDQSxhQUFhLCtEQUFRO0FBQ3JCLFdBQVcsNkRBQWlCO0FBQzVCLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTCx5QkFBeUIsd0VBQWlCO0FBQzFDO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFyY2FzdGVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLXJ1bS9lc20vZG9tYWluL3JlY29yZC9vYnNlcnZlcnMvdmlld3BvcnRSZXNpemVPYnNlcnZlci5qcz9mNDNmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHRocm90dGxlLCBhZGRFdmVudExpc3RlbmVycywgbm9vcCB9IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItY29yZSc7XG5pbXBvcnQgeyBpbml0Vmlld3BvcnRPYnNlcnZhYmxlIH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZSc7XG5pbXBvcnQgeyBnZXRWaXN1YWxWaWV3cG9ydCB9IGZyb20gJy4uL3ZpZXdwb3J0cyc7XG52YXIgVklTVUFMX1ZJRVdQT1JUX09CU0VSVkVSX1RIUkVTSE9MRCA9IDIwMDtcbmV4cG9ydCBmdW5jdGlvbiBpbml0Vmlld3BvcnRSZXNpemVPYnNlcnZlcihjYikge1xuICAgIHJldHVybiBpbml0Vmlld3BvcnRPYnNlcnZhYmxlKCkuc3Vic2NyaWJlKGNiKS51bnN1YnNjcmliZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpbml0VmlzdWFsVmlld3BvcnRSZXNpemVPYnNlcnZlcihjYikge1xuICAgIHZhciB2aXN1YWxWaWV3cG9ydCA9IHdpbmRvdy52aXN1YWxWaWV3cG9ydDtcbiAgICBpZiAoIXZpc3VhbFZpZXdwb3J0KSB7XG4gICAgICAgIHJldHVybiBub29wO1xuICAgIH1cbiAgICB2YXIgX2EgPSB0aHJvdHRsZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNiKGdldFZpc3VhbFZpZXdwb3J0KHZpc3VhbFZpZXdwb3J0KSk7XG4gICAgfSwgVklTVUFMX1ZJRVdQT1JUX09CU0VSVkVSX1RIUkVTSE9MRCwge1xuICAgICAgICB0cmFpbGluZzogZmFsc2UsXG4gICAgfSksIHVwZGF0ZURpbWVuc2lvbiA9IF9hLnRocm90dGxlZCwgY2FuY2VsVGhyb3R0bGUgPSBfYS5jYW5jZWw7XG4gICAgdmFyIHJlbW92ZUxpc3RlbmVyID0gYWRkRXZlbnRMaXN0ZW5lcnModmlzdWFsVmlld3BvcnQsIFtcInJlc2l6ZVwiIC8qIERPTV9FVkVOVC5SRVNJWkUgKi8sIFwic2Nyb2xsXCIgLyogRE9NX0VWRU5ULlNDUk9MTCAqL10sIHVwZGF0ZURpbWVuc2lvbiwge1xuICAgICAgICBjYXB0dXJlOiB0cnVlLFxuICAgICAgICBwYXNzaXZlOiB0cnVlLFxuICAgIH0pLnN0b3A7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgICAgIHJlbW92ZUxpc3RlbmVyKCk7XG4gICAgICAgIGNhbmNlbFRocm90dGxlKCk7XG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZpZXdwb3J0UmVzaXplT2JzZXJ2ZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/observers/viewportResizeObserver.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/privacy.js":
/*!****************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum/esm/domain/record/privacy.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MAX_ATTRIBUTE_VALUE_CHAR_LENGTH: () => (/* binding */ MAX_ATTRIBUTE_VALUE_CHAR_LENGTH),\n/* harmony export */   censorText: () => (/* binding */ censorText),\n/* harmony export */   getNodePrivacyLevel: () => (/* binding */ getNodePrivacyLevel),\n/* harmony export */   getNodeSelfPrivacyLevel: () => (/* binding */ getNodeSelfPrivacyLevel),\n/* harmony export */   getTextContent: () => (/* binding */ getTextContent),\n/* harmony export */   reducePrivacyLevel: () => (/* binding */ reducePrivacyLevel),\n/* harmony export */   shouldIgnoreElement: () => (/* binding */ shouldIgnoreElement),\n/* harmony export */   shouldMaskNode: () => (/* binding */ shouldMaskNode)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_rum_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-rum-core */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/index.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../constants */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/constants.js\");\n\n\nvar MAX_ATTRIBUTE_VALUE_CHAR_LENGTH = 100000;\nvar TEXT_MASKING_CHAR = 'x';\n/**\n * Get node privacy level by iterating over its ancestors. When the direct parent privacy level is\n * know, it is best to use something like:\n *\n * derivePrivacyLevelGivenParent(getNodeSelfPrivacyLevel(node), parentNodePrivacyLevel)\n */\nfunction getNodePrivacyLevel(node, defaultPrivacyLevel) {\n    var parentNode = (0,_datadog_browser_rum_core__WEBPACK_IMPORTED_MODULE_0__.getParentNode)(node);\n    var parentNodePrivacyLevel = parentNode ? getNodePrivacyLevel(parentNode, defaultPrivacyLevel) : defaultPrivacyLevel;\n    var selfNodePrivacyLevel = getNodeSelfPrivacyLevel(node);\n    return reducePrivacyLevel(selfNodePrivacyLevel, parentNodePrivacyLevel);\n}\n/**\n * Reduces the next privacy level based on self + parent privacy levels\n */\nfunction reducePrivacyLevel(childPrivacyLevel, parentNodePrivacyLevel) {\n    switch (parentNodePrivacyLevel) {\n        // These values cannot be overridden\n        case _constants__WEBPACK_IMPORTED_MODULE_1__.NodePrivacyLevel.HIDDEN:\n        case _constants__WEBPACK_IMPORTED_MODULE_1__.NodePrivacyLevel.IGNORE:\n            return parentNodePrivacyLevel;\n    }\n    switch (childPrivacyLevel) {\n        case _constants__WEBPACK_IMPORTED_MODULE_1__.NodePrivacyLevel.ALLOW:\n        case _constants__WEBPACK_IMPORTED_MODULE_1__.NodePrivacyLevel.MASK:\n        case _constants__WEBPACK_IMPORTED_MODULE_1__.NodePrivacyLevel.MASK_USER_INPUT:\n        case _constants__WEBPACK_IMPORTED_MODULE_1__.NodePrivacyLevel.HIDDEN:\n        case _constants__WEBPACK_IMPORTED_MODULE_1__.NodePrivacyLevel.IGNORE:\n            return childPrivacyLevel;\n        default:\n            return parentNodePrivacyLevel;\n    }\n}\n/**\n * Determines the node's own privacy level without checking for ancestors.\n */\nfunction getNodeSelfPrivacyLevel(node) {\n    // Only Element types can have a privacy level set\n    if (!(0,_datadog_browser_rum_core__WEBPACK_IMPORTED_MODULE_0__.isElementNode)(node)) {\n        return;\n    }\n    var privAttr = node.getAttribute(_constants__WEBPACK_IMPORTED_MODULE_1__.PRIVACY_ATTR_NAME);\n    // Overrules for replay purpose\n    if (node.tagName === 'BASE') {\n        return _constants__WEBPACK_IMPORTED_MODULE_1__.NodePrivacyLevel.ALLOW;\n    }\n    // Overrules to enforce end-user protection\n    if (node.tagName === 'INPUT') {\n        var inputElement = node;\n        if (inputElement.type === 'password' || inputElement.type === 'email' || inputElement.type === 'tel') {\n            return _constants__WEBPACK_IMPORTED_MODULE_1__.NodePrivacyLevel.MASK;\n        }\n        if (inputElement.type === 'hidden') {\n            return _constants__WEBPACK_IMPORTED_MODULE_1__.NodePrivacyLevel.MASK;\n        }\n        var autocomplete = inputElement.getAttribute('autocomplete');\n        // Handle input[autocomplete=cc-number/cc-csc/cc-exp/cc-exp-month/cc-exp-year]\n        if (autocomplete && autocomplete.indexOf('cc-') === 0) {\n            return _constants__WEBPACK_IMPORTED_MODULE_1__.NodePrivacyLevel.MASK;\n        }\n    }\n    // Check HTML privacy attributes and classes\n    if (privAttr === _constants__WEBPACK_IMPORTED_MODULE_1__.PRIVACY_ATTR_VALUE_HIDDEN || node.classList.contains(_constants__WEBPACK_IMPORTED_MODULE_1__.PRIVACY_CLASS_HIDDEN)) {\n        return _constants__WEBPACK_IMPORTED_MODULE_1__.NodePrivacyLevel.HIDDEN;\n    }\n    if (privAttr === _constants__WEBPACK_IMPORTED_MODULE_1__.PRIVACY_ATTR_VALUE_MASK || node.classList.contains(_constants__WEBPACK_IMPORTED_MODULE_1__.PRIVACY_CLASS_MASK)) {\n        return _constants__WEBPACK_IMPORTED_MODULE_1__.NodePrivacyLevel.MASK;\n    }\n    if (privAttr === _constants__WEBPACK_IMPORTED_MODULE_1__.PRIVACY_ATTR_VALUE_MASK_USER_INPUT || node.classList.contains(_constants__WEBPACK_IMPORTED_MODULE_1__.PRIVACY_CLASS_MASK_USER_INPUT)) {\n        return _constants__WEBPACK_IMPORTED_MODULE_1__.NodePrivacyLevel.MASK_USER_INPUT;\n    }\n    if (privAttr === _constants__WEBPACK_IMPORTED_MODULE_1__.PRIVACY_ATTR_VALUE_ALLOW || node.classList.contains(_constants__WEBPACK_IMPORTED_MODULE_1__.PRIVACY_CLASS_ALLOW)) {\n        return _constants__WEBPACK_IMPORTED_MODULE_1__.NodePrivacyLevel.ALLOW;\n    }\n    if (shouldIgnoreElement(node)) {\n        return _constants__WEBPACK_IMPORTED_MODULE_1__.NodePrivacyLevel.IGNORE;\n    }\n}\n/**\n * Helper aiming to unify `mask` and `mask-user-input` privacy levels:\n *\n * In the `mask` case, it is trivial: we should mask the element.\n *\n * In the `mask-user-input` case, we should mask the element only if it is a \"form\" element or the\n * direct parent is a form element for text nodes).\n *\n * Other `shouldMaskNode` cases are edge cases that should not matter too much (ex: should we mask a\n * node if it is ignored or hidden? it doesn't matter since it won't be serialized).\n */\nfunction shouldMaskNode(node, privacyLevel) {\n    switch (privacyLevel) {\n        case _constants__WEBPACK_IMPORTED_MODULE_1__.NodePrivacyLevel.MASK:\n        case _constants__WEBPACK_IMPORTED_MODULE_1__.NodePrivacyLevel.HIDDEN:\n        case _constants__WEBPACK_IMPORTED_MODULE_1__.NodePrivacyLevel.IGNORE:\n            return true;\n        case _constants__WEBPACK_IMPORTED_MODULE_1__.NodePrivacyLevel.MASK_USER_INPUT:\n            return (0,_datadog_browser_rum_core__WEBPACK_IMPORTED_MODULE_0__.isTextNode)(node) ? isFormElement(node.parentNode) : isFormElement(node);\n        default:\n            return false;\n    }\n}\nfunction isFormElement(node) {\n    if (!node || node.nodeType !== node.ELEMENT_NODE) {\n        return false;\n    }\n    var element = node;\n    if (element.tagName === 'INPUT') {\n        switch (element.type) {\n            case 'button':\n            case 'color':\n            case 'reset':\n            case 'submit':\n                return false;\n        }\n    }\n    return !!_constants__WEBPACK_IMPORTED_MODULE_1__.FORM_PRIVATE_TAG_NAMES[element.tagName];\n}\n/**\n * Text censoring non-destructively maintains whitespace characters in order to preserve text shape\n * during replay.\n */\nvar censorText = function (text) { return text.replace(/\\S/g, TEXT_MASKING_CHAR); };\nfunction getTextContent(textNode, ignoreWhiteSpace, parentNodePrivacyLevel) {\n    var _a;\n    // The parent node may not be a html element which has a tagName attribute.\n    // So just let it be undefined which is ok in this use case.\n    var parentTagName = (_a = textNode.parentElement) === null || _a === void 0 ? void 0 : _a.tagName;\n    var textContent = textNode.textContent || '';\n    if (ignoreWhiteSpace && !textContent.trim()) {\n        return;\n    }\n    var nodePrivacyLevel = parentNodePrivacyLevel;\n    var isStyle = parentTagName === 'STYLE' ? true : undefined;\n    var isScript = parentTagName === 'SCRIPT';\n    if (isScript) {\n        // For perf reasons, we don't record script (heuristic)\n        textContent = _constants__WEBPACK_IMPORTED_MODULE_1__.CENSORED_STRING_MARK;\n    }\n    else if (nodePrivacyLevel === _constants__WEBPACK_IMPORTED_MODULE_1__.NodePrivacyLevel.HIDDEN) {\n        // Should never occur, but just in case, we set to CENSORED_MARK.\n        textContent = _constants__WEBPACK_IMPORTED_MODULE_1__.CENSORED_STRING_MARK;\n    }\n    else if (shouldMaskNode(textNode, nodePrivacyLevel) &&\n        // Style tags are `overruled` (Use `hide` to enforce privacy)\n        !isStyle) {\n        if (\n        // Scrambling the child list breaks text nodes for DATALIST/SELECT/OPTGROUP\n        parentTagName === 'DATALIST' ||\n            parentTagName === 'SELECT' ||\n            parentTagName === 'OPTGROUP') {\n            if (!textContent.trim()) {\n                return;\n            }\n        }\n        else if (parentTagName === 'OPTION') {\n            // <Option> has low entropy in charset + text length, so use `CENSORED_STRING_MARK` when masked\n            textContent = _constants__WEBPACK_IMPORTED_MODULE_1__.CENSORED_STRING_MARK;\n        }\n        else {\n            textContent = censorText(textContent);\n        }\n    }\n    return textContent;\n}\n/**\n * TODO: Preserve CSS element order, and record the presence of the tag, just don't render\n * We don't need this logic on the recorder side.\n * For security related meta's, customer can mask themmanually given they\n * are easy to identify in the HEAD tag.\n */\nfunction shouldIgnoreElement(element) {\n    if (element.nodeName === 'SCRIPT') {\n        return true;\n    }\n    if (element.nodeName === 'LINK') {\n        var relAttribute = getLowerCaseAttribute('rel');\n        return (\n        // Link as script - Ignore only when rel=preload, modulepreload or prefetch\n        (/preload|prefetch/i.test(relAttribute) && getLowerCaseAttribute('as') === 'script') ||\n            // Favicons\n            relAttribute === 'shortcut icon' ||\n            relAttribute === 'icon');\n    }\n    if (element.nodeName === 'META') {\n        var nameAttribute = getLowerCaseAttribute('name');\n        var relAttribute = getLowerCaseAttribute('rel');\n        var propertyAttribute = getLowerCaseAttribute('property');\n        return (\n        // Favicons\n        /^msapplication-tile(image|color)$/.test(nameAttribute) ||\n            nameAttribute === 'application-name' ||\n            relAttribute === 'icon' ||\n            relAttribute === 'apple-touch-icon' ||\n            relAttribute === 'shortcut icon' ||\n            // Description\n            nameAttribute === 'keywords' ||\n            nameAttribute === 'description' ||\n            // Social\n            /^(og|twitter|fb):/.test(propertyAttribute) ||\n            /^(og|twitter):/.test(nameAttribute) ||\n            nameAttribute === 'pinterest' ||\n            // Robots\n            nameAttribute === 'robots' ||\n            nameAttribute === 'googlebot' ||\n            nameAttribute === 'bingbot' ||\n            // Http headers. Ex: X-UA-Compatible, Content-Type, Content-Language, cache-control,\n            // X-Translated-By\n            element.hasAttribute('http-equiv') ||\n            // Authorship\n            nameAttribute === 'author' ||\n            nameAttribute === 'generator' ||\n            nameAttribute === 'framework' ||\n            nameAttribute === 'publisher' ||\n            nameAttribute === 'progid' ||\n            /^article:/.test(propertyAttribute) ||\n            /^product:/.test(propertyAttribute) ||\n            // Verification\n            nameAttribute === 'google-site-verification' ||\n            nameAttribute === 'yandex-verification' ||\n            nameAttribute === 'csrf-token' ||\n            nameAttribute === 'p:domain_verify' ||\n            nameAttribute === 'verify-v1' ||\n            nameAttribute === 'verification' ||\n            nameAttribute === 'shopify-checkout-api-token');\n    }\n    function getLowerCaseAttribute(name) {\n        return (element.getAttribute(name) || '').toLowerCase();\n    }\n    return false;\n}\n//# sourceMappingURL=privacy.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtL2VzbS9kb21haW4vcmVjb3JkL3ByaXZhY3kuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFxRjtBQUNnUDtBQUM5VDtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxxQkFBcUIsd0VBQWE7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSxhQUFhLHdEQUFnQjtBQUM3QixhQUFhLHdEQUFnQjtBQUM3QjtBQUNBO0FBQ0E7QUFDQSxhQUFhLHdEQUFnQjtBQUM3QixhQUFhLHdEQUFnQjtBQUM3QixhQUFhLHdEQUFnQjtBQUM3QixhQUFhLHdEQUFnQjtBQUM3QixhQUFhLHdEQUFnQjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLFNBQVMsd0VBQWE7QUFDdEI7QUFDQTtBQUNBLHFDQUFxQyx5REFBaUI7QUFDdEQ7QUFDQTtBQUNBLGVBQWUsd0RBQWdCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsd0RBQWdCO0FBQ25DO0FBQ0E7QUFDQSxtQkFBbUIsd0RBQWdCO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHdEQUFnQjtBQUNuQztBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsaUVBQXlCLDRCQUE0Qiw0REFBb0I7QUFDOUYsZUFBZSx3REFBZ0I7QUFDL0I7QUFDQSxxQkFBcUIsK0RBQXVCLDRCQUE0QiwwREFBa0I7QUFDMUYsZUFBZSx3REFBZ0I7QUFDL0I7QUFDQSxxQkFBcUIsMEVBQWtDLDRCQUE0QixxRUFBNkI7QUFDaEgsZUFBZSx3REFBZ0I7QUFDL0I7QUFDQSxxQkFBcUIsZ0VBQXdCLDRCQUE0QiwyREFBbUI7QUFDNUYsZUFBZSx3REFBZ0I7QUFDL0I7QUFDQTtBQUNBLGVBQWUsd0RBQWdCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLGFBQWEsd0RBQWdCO0FBQzdCLGFBQWEsd0RBQWdCO0FBQzdCLGFBQWEsd0RBQWdCO0FBQzdCO0FBQ0EsYUFBYSx3REFBZ0I7QUFDN0IsbUJBQW1CLHFFQUFVO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsOERBQXNCO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxtQ0FBbUM7QUFDbkM7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiw0REFBb0I7QUFDMUM7QUFDQSxrQ0FBa0Msd0RBQWdCO0FBQ2xEO0FBQ0Esc0JBQXNCLDREQUFvQjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsNERBQW9CO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYXJjYXN0ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtL2VzbS9kb21haW4vcmVjb3JkL3ByaXZhY3kuanM/NjU3ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc0VsZW1lbnROb2RlLCBnZXRQYXJlbnROb2RlLCBpc1RleHROb2RlIH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZSc7XG5pbXBvcnQgeyBOb2RlUHJpdmFjeUxldmVsLCBQUklWQUNZX0FUVFJfTkFNRSwgUFJJVkFDWV9BVFRSX1ZBTFVFX0FMTE9XLCBQUklWQUNZX0FUVFJfVkFMVUVfTUFTSywgUFJJVkFDWV9BVFRSX1ZBTFVFX01BU0tfVVNFUl9JTlBVVCwgUFJJVkFDWV9BVFRSX1ZBTFVFX0hJRERFTiwgUFJJVkFDWV9DTEFTU19BTExPVywgUFJJVkFDWV9DTEFTU19NQVNLLCBQUklWQUNZX0NMQVNTX01BU0tfVVNFUl9JTlBVVCwgUFJJVkFDWV9DTEFTU19ISURERU4sIEZPUk1fUFJJVkFURV9UQUdfTkFNRVMsIENFTlNPUkVEX1NUUklOR19NQVJLLCB9IGZyb20gJy4uLy4uL2NvbnN0YW50cyc7XG5leHBvcnQgdmFyIE1BWF9BVFRSSUJVVEVfVkFMVUVfQ0hBUl9MRU5HVEggPSAxMDAwMDA7XG52YXIgVEVYVF9NQVNLSU5HX0NIQVIgPSAneCc7XG4vKipcbiAqIEdldCBub2RlIHByaXZhY3kgbGV2ZWwgYnkgaXRlcmF0aW5nIG92ZXIgaXRzIGFuY2VzdG9ycy4gV2hlbiB0aGUgZGlyZWN0IHBhcmVudCBwcml2YWN5IGxldmVsIGlzXG4gKiBrbm93LCBpdCBpcyBiZXN0IHRvIHVzZSBzb21ldGhpbmcgbGlrZTpcbiAqXG4gKiBkZXJpdmVQcml2YWN5TGV2ZWxHaXZlblBhcmVudChnZXROb2RlU2VsZlByaXZhY3lMZXZlbChub2RlKSwgcGFyZW50Tm9kZVByaXZhY3lMZXZlbClcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldE5vZGVQcml2YWN5TGV2ZWwobm9kZSwgZGVmYXVsdFByaXZhY3lMZXZlbCkge1xuICAgIHZhciBwYXJlbnROb2RlID0gZ2V0UGFyZW50Tm9kZShub2RlKTtcbiAgICB2YXIgcGFyZW50Tm9kZVByaXZhY3lMZXZlbCA9IHBhcmVudE5vZGUgPyBnZXROb2RlUHJpdmFjeUxldmVsKHBhcmVudE5vZGUsIGRlZmF1bHRQcml2YWN5TGV2ZWwpIDogZGVmYXVsdFByaXZhY3lMZXZlbDtcbiAgICB2YXIgc2VsZk5vZGVQcml2YWN5TGV2ZWwgPSBnZXROb2RlU2VsZlByaXZhY3lMZXZlbChub2RlKTtcbiAgICByZXR1cm4gcmVkdWNlUHJpdmFjeUxldmVsKHNlbGZOb2RlUHJpdmFjeUxldmVsLCBwYXJlbnROb2RlUHJpdmFjeUxldmVsKTtcbn1cbi8qKlxuICogUmVkdWNlcyB0aGUgbmV4dCBwcml2YWN5IGxldmVsIGJhc2VkIG9uIHNlbGYgKyBwYXJlbnQgcHJpdmFjeSBsZXZlbHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlZHVjZVByaXZhY3lMZXZlbChjaGlsZFByaXZhY3lMZXZlbCwgcGFyZW50Tm9kZVByaXZhY3lMZXZlbCkge1xuICAgIHN3aXRjaCAocGFyZW50Tm9kZVByaXZhY3lMZXZlbCkge1xuICAgICAgICAvLyBUaGVzZSB2YWx1ZXMgY2Fubm90IGJlIG92ZXJyaWRkZW5cbiAgICAgICAgY2FzZSBOb2RlUHJpdmFjeUxldmVsLkhJRERFTjpcbiAgICAgICAgY2FzZSBOb2RlUHJpdmFjeUxldmVsLklHTk9SRTpcbiAgICAgICAgICAgIHJldHVybiBwYXJlbnROb2RlUHJpdmFjeUxldmVsO1xuICAgIH1cbiAgICBzd2l0Y2ggKGNoaWxkUHJpdmFjeUxldmVsKSB7XG4gICAgICAgIGNhc2UgTm9kZVByaXZhY3lMZXZlbC5BTExPVzpcbiAgICAgICAgY2FzZSBOb2RlUHJpdmFjeUxldmVsLk1BU0s6XG4gICAgICAgIGNhc2UgTm9kZVByaXZhY3lMZXZlbC5NQVNLX1VTRVJfSU5QVVQ6XG4gICAgICAgIGNhc2UgTm9kZVByaXZhY3lMZXZlbC5ISURERU46XG4gICAgICAgIGNhc2UgTm9kZVByaXZhY3lMZXZlbC5JR05PUkU6XG4gICAgICAgICAgICByZXR1cm4gY2hpbGRQcml2YWN5TGV2ZWw7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gcGFyZW50Tm9kZVByaXZhY3lMZXZlbDtcbiAgICB9XG59XG4vKipcbiAqIERldGVybWluZXMgdGhlIG5vZGUncyBvd24gcHJpdmFjeSBsZXZlbCB3aXRob3V0IGNoZWNraW5nIGZvciBhbmNlc3RvcnMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXROb2RlU2VsZlByaXZhY3lMZXZlbChub2RlKSB7XG4gICAgLy8gT25seSBFbGVtZW50IHR5cGVzIGNhbiBoYXZlIGEgcHJpdmFjeSBsZXZlbCBzZXRcbiAgICBpZiAoIWlzRWxlbWVudE5vZGUobm9kZSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgcHJpdkF0dHIgPSBub2RlLmdldEF0dHJpYnV0ZShQUklWQUNZX0FUVFJfTkFNRSk7XG4gICAgLy8gT3ZlcnJ1bGVzIGZvciByZXBsYXkgcHVycG9zZVxuICAgIGlmIChub2RlLnRhZ05hbWUgPT09ICdCQVNFJykge1xuICAgICAgICByZXR1cm4gTm9kZVByaXZhY3lMZXZlbC5BTExPVztcbiAgICB9XG4gICAgLy8gT3ZlcnJ1bGVzIHRvIGVuZm9yY2UgZW5kLXVzZXIgcHJvdGVjdGlvblxuICAgIGlmIChub2RlLnRhZ05hbWUgPT09ICdJTlBVVCcpIHtcbiAgICAgICAgdmFyIGlucHV0RWxlbWVudCA9IG5vZGU7XG4gICAgICAgIGlmIChpbnB1dEVsZW1lbnQudHlwZSA9PT0gJ3Bhc3N3b3JkJyB8fCBpbnB1dEVsZW1lbnQudHlwZSA9PT0gJ2VtYWlsJyB8fCBpbnB1dEVsZW1lbnQudHlwZSA9PT0gJ3RlbCcpIHtcbiAgICAgICAgICAgIHJldHVybiBOb2RlUHJpdmFjeUxldmVsLk1BU0s7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlucHV0RWxlbWVudC50eXBlID09PSAnaGlkZGVuJykge1xuICAgICAgICAgICAgcmV0dXJuIE5vZGVQcml2YWN5TGV2ZWwuTUFTSztcbiAgICAgICAgfVxuICAgICAgICB2YXIgYXV0b2NvbXBsZXRlID0gaW5wdXRFbGVtZW50LmdldEF0dHJpYnV0ZSgnYXV0b2NvbXBsZXRlJyk7XG4gICAgICAgIC8vIEhhbmRsZSBpbnB1dFthdXRvY29tcGxldGU9Y2MtbnVtYmVyL2NjLWNzYy9jYy1leHAvY2MtZXhwLW1vbnRoL2NjLWV4cC15ZWFyXVxuICAgICAgICBpZiAoYXV0b2NvbXBsZXRlICYmIGF1dG9jb21wbGV0ZS5pbmRleE9mKCdjYy0nKSA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIE5vZGVQcml2YWN5TGV2ZWwuTUFTSztcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBDaGVjayBIVE1MIHByaXZhY3kgYXR0cmlidXRlcyBhbmQgY2xhc3Nlc1xuICAgIGlmIChwcml2QXR0ciA9PT0gUFJJVkFDWV9BVFRSX1ZBTFVFX0hJRERFTiB8fCBub2RlLmNsYXNzTGlzdC5jb250YWlucyhQUklWQUNZX0NMQVNTX0hJRERFTikpIHtcbiAgICAgICAgcmV0dXJuIE5vZGVQcml2YWN5TGV2ZWwuSElEREVOO1xuICAgIH1cbiAgICBpZiAocHJpdkF0dHIgPT09IFBSSVZBQ1lfQVRUUl9WQUxVRV9NQVNLIHx8IG5vZGUuY2xhc3NMaXN0LmNvbnRhaW5zKFBSSVZBQ1lfQ0xBU1NfTUFTSykpIHtcbiAgICAgICAgcmV0dXJuIE5vZGVQcml2YWN5TGV2ZWwuTUFTSztcbiAgICB9XG4gICAgaWYgKHByaXZBdHRyID09PSBQUklWQUNZX0FUVFJfVkFMVUVfTUFTS19VU0VSX0lOUFVUIHx8IG5vZGUuY2xhc3NMaXN0LmNvbnRhaW5zKFBSSVZBQ1lfQ0xBU1NfTUFTS19VU0VSX0lOUFVUKSkge1xuICAgICAgICByZXR1cm4gTm9kZVByaXZhY3lMZXZlbC5NQVNLX1VTRVJfSU5QVVQ7XG4gICAgfVxuICAgIGlmIChwcml2QXR0ciA9PT0gUFJJVkFDWV9BVFRSX1ZBTFVFX0FMTE9XIHx8IG5vZGUuY2xhc3NMaXN0LmNvbnRhaW5zKFBSSVZBQ1lfQ0xBU1NfQUxMT1cpKSB7XG4gICAgICAgIHJldHVybiBOb2RlUHJpdmFjeUxldmVsLkFMTE9XO1xuICAgIH1cbiAgICBpZiAoc2hvdWxkSWdub3JlRWxlbWVudChub2RlKSkge1xuICAgICAgICByZXR1cm4gTm9kZVByaXZhY3lMZXZlbC5JR05PUkU7XG4gICAgfVxufVxuLyoqXG4gKiBIZWxwZXIgYWltaW5nIHRvIHVuaWZ5IGBtYXNrYCBhbmQgYG1hc2stdXNlci1pbnB1dGAgcHJpdmFjeSBsZXZlbHM6XG4gKlxuICogSW4gdGhlIGBtYXNrYCBjYXNlLCBpdCBpcyB0cml2aWFsOiB3ZSBzaG91bGQgbWFzayB0aGUgZWxlbWVudC5cbiAqXG4gKiBJbiB0aGUgYG1hc2stdXNlci1pbnB1dGAgY2FzZSwgd2Ugc2hvdWxkIG1hc2sgdGhlIGVsZW1lbnQgb25seSBpZiBpdCBpcyBhIFwiZm9ybVwiIGVsZW1lbnQgb3IgdGhlXG4gKiBkaXJlY3QgcGFyZW50IGlzIGEgZm9ybSBlbGVtZW50IGZvciB0ZXh0IG5vZGVzKS5cbiAqXG4gKiBPdGhlciBgc2hvdWxkTWFza05vZGVgIGNhc2VzIGFyZSBlZGdlIGNhc2VzIHRoYXQgc2hvdWxkIG5vdCBtYXR0ZXIgdG9vIG11Y2ggKGV4OiBzaG91bGQgd2UgbWFzayBhXG4gKiBub2RlIGlmIGl0IGlzIGlnbm9yZWQgb3IgaGlkZGVuPyBpdCBkb2Vzbid0IG1hdHRlciBzaW5jZSBpdCB3b24ndCBiZSBzZXJpYWxpemVkKS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNob3VsZE1hc2tOb2RlKG5vZGUsIHByaXZhY3lMZXZlbCkge1xuICAgIHN3aXRjaCAocHJpdmFjeUxldmVsKSB7XG4gICAgICAgIGNhc2UgTm9kZVByaXZhY3lMZXZlbC5NQVNLOlxuICAgICAgICBjYXNlIE5vZGVQcml2YWN5TGV2ZWwuSElEREVOOlxuICAgICAgICBjYXNlIE5vZGVQcml2YWN5TGV2ZWwuSUdOT1JFOlxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGNhc2UgTm9kZVByaXZhY3lMZXZlbC5NQVNLX1VTRVJfSU5QVVQ6XG4gICAgICAgICAgICByZXR1cm4gaXNUZXh0Tm9kZShub2RlKSA/IGlzRm9ybUVsZW1lbnQobm9kZS5wYXJlbnROb2RlKSA6IGlzRm9ybUVsZW1lbnQobm9kZSk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuZnVuY3Rpb24gaXNGb3JtRWxlbWVudChub2RlKSB7XG4gICAgaWYgKCFub2RlIHx8IG5vZGUubm9kZVR5cGUgIT09IG5vZGUuRUxFTUVOVF9OT0RFKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdmFyIGVsZW1lbnQgPSBub2RlO1xuICAgIGlmIChlbGVtZW50LnRhZ05hbWUgPT09ICdJTlBVVCcpIHtcbiAgICAgICAgc3dpdGNoIChlbGVtZW50LnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ2J1dHRvbic6XG4gICAgICAgICAgICBjYXNlICdjb2xvcic6XG4gICAgICAgICAgICBjYXNlICdyZXNldCc6XG4gICAgICAgICAgICBjYXNlICdzdWJtaXQnOlxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gISFGT1JNX1BSSVZBVEVfVEFHX05BTUVTW2VsZW1lbnQudGFnTmFtZV07XG59XG4vKipcbiAqIFRleHQgY2Vuc29yaW5nIG5vbi1kZXN0cnVjdGl2ZWx5IG1haW50YWlucyB3aGl0ZXNwYWNlIGNoYXJhY3RlcnMgaW4gb3JkZXIgdG8gcHJlc2VydmUgdGV4dCBzaGFwZVxuICogZHVyaW5nIHJlcGxheS5cbiAqL1xuZXhwb3J0IHZhciBjZW5zb3JUZXh0ID0gZnVuY3Rpb24gKHRleHQpIHsgcmV0dXJuIHRleHQucmVwbGFjZSgvXFxTL2csIFRFWFRfTUFTS0lOR19DSEFSKTsgfTtcbmV4cG9ydCBmdW5jdGlvbiBnZXRUZXh0Q29udGVudCh0ZXh0Tm9kZSwgaWdub3JlV2hpdGVTcGFjZSwgcGFyZW50Tm9kZVByaXZhY3lMZXZlbCkge1xuICAgIHZhciBfYTtcbiAgICAvLyBUaGUgcGFyZW50IG5vZGUgbWF5IG5vdCBiZSBhIGh0bWwgZWxlbWVudCB3aGljaCBoYXMgYSB0YWdOYW1lIGF0dHJpYnV0ZS5cbiAgICAvLyBTbyBqdXN0IGxldCBpdCBiZSB1bmRlZmluZWQgd2hpY2ggaXMgb2sgaW4gdGhpcyB1c2UgY2FzZS5cbiAgICB2YXIgcGFyZW50VGFnTmFtZSA9IChfYSA9IHRleHROb2RlLnBhcmVudEVsZW1lbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS50YWdOYW1lO1xuICAgIHZhciB0ZXh0Q29udGVudCA9IHRleHROb2RlLnRleHRDb250ZW50IHx8ICcnO1xuICAgIGlmIChpZ25vcmVXaGl0ZVNwYWNlICYmICF0ZXh0Q29udGVudC50cmltKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgbm9kZVByaXZhY3lMZXZlbCA9IHBhcmVudE5vZGVQcml2YWN5TGV2ZWw7XG4gICAgdmFyIGlzU3R5bGUgPSBwYXJlbnRUYWdOYW1lID09PSAnU1RZTEUnID8gdHJ1ZSA6IHVuZGVmaW5lZDtcbiAgICB2YXIgaXNTY3JpcHQgPSBwYXJlbnRUYWdOYW1lID09PSAnU0NSSVBUJztcbiAgICBpZiAoaXNTY3JpcHQpIHtcbiAgICAgICAgLy8gRm9yIHBlcmYgcmVhc29ucywgd2UgZG9uJ3QgcmVjb3JkIHNjcmlwdCAoaGV1cmlzdGljKVxuICAgICAgICB0ZXh0Q29udGVudCA9IENFTlNPUkVEX1NUUklOR19NQVJLO1xuICAgIH1cbiAgICBlbHNlIGlmIChub2RlUHJpdmFjeUxldmVsID09PSBOb2RlUHJpdmFjeUxldmVsLkhJRERFTikge1xuICAgICAgICAvLyBTaG91bGQgbmV2ZXIgb2NjdXIsIGJ1dCBqdXN0IGluIGNhc2UsIHdlIHNldCB0byBDRU5TT1JFRF9NQVJLLlxuICAgICAgICB0ZXh0Q29udGVudCA9IENFTlNPUkVEX1NUUklOR19NQVJLO1xuICAgIH1cbiAgICBlbHNlIGlmIChzaG91bGRNYXNrTm9kZSh0ZXh0Tm9kZSwgbm9kZVByaXZhY3lMZXZlbCkgJiZcbiAgICAgICAgLy8gU3R5bGUgdGFncyBhcmUgYG92ZXJydWxlZGAgKFVzZSBgaGlkZWAgdG8gZW5mb3JjZSBwcml2YWN5KVxuICAgICAgICAhaXNTdHlsZSkge1xuICAgICAgICBpZiAoXG4gICAgICAgIC8vIFNjcmFtYmxpbmcgdGhlIGNoaWxkIGxpc3QgYnJlYWtzIHRleHQgbm9kZXMgZm9yIERBVEFMSVNUL1NFTEVDVC9PUFRHUk9VUFxuICAgICAgICBwYXJlbnRUYWdOYW1lID09PSAnREFUQUxJU1QnIHx8XG4gICAgICAgICAgICBwYXJlbnRUYWdOYW1lID09PSAnU0VMRUNUJyB8fFxuICAgICAgICAgICAgcGFyZW50VGFnTmFtZSA9PT0gJ09QVEdST1VQJykge1xuICAgICAgICAgICAgaWYgKCF0ZXh0Q29udGVudC50cmltKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocGFyZW50VGFnTmFtZSA9PT0gJ09QVElPTicpIHtcbiAgICAgICAgICAgIC8vIDxPcHRpb24+IGhhcyBsb3cgZW50cm9weSBpbiBjaGFyc2V0ICsgdGV4dCBsZW5ndGgsIHNvIHVzZSBgQ0VOU09SRURfU1RSSU5HX01BUktgIHdoZW4gbWFza2VkXG4gICAgICAgICAgICB0ZXh0Q29udGVudCA9IENFTlNPUkVEX1NUUklOR19NQVJLO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGV4dENvbnRlbnQgPSBjZW5zb3JUZXh0KHRleHRDb250ZW50KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGV4dENvbnRlbnQ7XG59XG4vKipcbiAqIFRPRE86IFByZXNlcnZlIENTUyBlbGVtZW50IG9yZGVyLCBhbmQgcmVjb3JkIHRoZSBwcmVzZW5jZSBvZiB0aGUgdGFnLCBqdXN0IGRvbid0IHJlbmRlclxuICogV2UgZG9uJ3QgbmVlZCB0aGlzIGxvZ2ljIG9uIHRoZSByZWNvcmRlciBzaWRlLlxuICogRm9yIHNlY3VyaXR5IHJlbGF0ZWQgbWV0YSdzLCBjdXN0b21lciBjYW4gbWFzayB0aGVtbWFudWFsbHkgZ2l2ZW4gdGhleVxuICogYXJlIGVhc3kgdG8gaWRlbnRpZnkgaW4gdGhlIEhFQUQgdGFnLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2hvdWxkSWdub3JlRWxlbWVudChlbGVtZW50KSB7XG4gICAgaWYgKGVsZW1lbnQubm9kZU5hbWUgPT09ICdTQ1JJUFQnKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoZWxlbWVudC5ub2RlTmFtZSA9PT0gJ0xJTksnKSB7XG4gICAgICAgIHZhciByZWxBdHRyaWJ1dGUgPSBnZXRMb3dlckNhc2VBdHRyaWJ1dGUoJ3JlbCcpO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAvLyBMaW5rIGFzIHNjcmlwdCAtIElnbm9yZSBvbmx5IHdoZW4gcmVsPXByZWxvYWQsIG1vZHVsZXByZWxvYWQgb3IgcHJlZmV0Y2hcbiAgICAgICAgKC9wcmVsb2FkfHByZWZldGNoL2kudGVzdChyZWxBdHRyaWJ1dGUpICYmIGdldExvd2VyQ2FzZUF0dHJpYnV0ZSgnYXMnKSA9PT0gJ3NjcmlwdCcpIHx8XG4gICAgICAgICAgICAvLyBGYXZpY29uc1xuICAgICAgICAgICAgcmVsQXR0cmlidXRlID09PSAnc2hvcnRjdXQgaWNvbicgfHxcbiAgICAgICAgICAgIHJlbEF0dHJpYnV0ZSA9PT0gJ2ljb24nKTtcbiAgICB9XG4gICAgaWYgKGVsZW1lbnQubm9kZU5hbWUgPT09ICdNRVRBJykge1xuICAgICAgICB2YXIgbmFtZUF0dHJpYnV0ZSA9IGdldExvd2VyQ2FzZUF0dHJpYnV0ZSgnbmFtZScpO1xuICAgICAgICB2YXIgcmVsQXR0cmlidXRlID0gZ2V0TG93ZXJDYXNlQXR0cmlidXRlKCdyZWwnKTtcbiAgICAgICAgdmFyIHByb3BlcnR5QXR0cmlidXRlID0gZ2V0TG93ZXJDYXNlQXR0cmlidXRlKCdwcm9wZXJ0eScpO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAvLyBGYXZpY29uc1xuICAgICAgICAvXm1zYXBwbGljYXRpb24tdGlsZShpbWFnZXxjb2xvcikkLy50ZXN0KG5hbWVBdHRyaWJ1dGUpIHx8XG4gICAgICAgICAgICBuYW1lQXR0cmlidXRlID09PSAnYXBwbGljYXRpb24tbmFtZScgfHxcbiAgICAgICAgICAgIHJlbEF0dHJpYnV0ZSA9PT0gJ2ljb24nIHx8XG4gICAgICAgICAgICByZWxBdHRyaWJ1dGUgPT09ICdhcHBsZS10b3VjaC1pY29uJyB8fFxuICAgICAgICAgICAgcmVsQXR0cmlidXRlID09PSAnc2hvcnRjdXQgaWNvbicgfHxcbiAgICAgICAgICAgIC8vIERlc2NyaXB0aW9uXG4gICAgICAgICAgICBuYW1lQXR0cmlidXRlID09PSAna2V5d29yZHMnIHx8XG4gICAgICAgICAgICBuYW1lQXR0cmlidXRlID09PSAnZGVzY3JpcHRpb24nIHx8XG4gICAgICAgICAgICAvLyBTb2NpYWxcbiAgICAgICAgICAgIC9eKG9nfHR3aXR0ZXJ8ZmIpOi8udGVzdChwcm9wZXJ0eUF0dHJpYnV0ZSkgfHxcbiAgICAgICAgICAgIC9eKG9nfHR3aXR0ZXIpOi8udGVzdChuYW1lQXR0cmlidXRlKSB8fFxuICAgICAgICAgICAgbmFtZUF0dHJpYnV0ZSA9PT0gJ3BpbnRlcmVzdCcgfHxcbiAgICAgICAgICAgIC8vIFJvYm90c1xuICAgICAgICAgICAgbmFtZUF0dHJpYnV0ZSA9PT0gJ3JvYm90cycgfHxcbiAgICAgICAgICAgIG5hbWVBdHRyaWJ1dGUgPT09ICdnb29nbGVib3QnIHx8XG4gICAgICAgICAgICBuYW1lQXR0cmlidXRlID09PSAnYmluZ2JvdCcgfHxcbiAgICAgICAgICAgIC8vIEh0dHAgaGVhZGVycy4gRXg6IFgtVUEtQ29tcGF0aWJsZSwgQ29udGVudC1UeXBlLCBDb250ZW50LUxhbmd1YWdlLCBjYWNoZS1jb250cm9sLFxuICAgICAgICAgICAgLy8gWC1UcmFuc2xhdGVkLUJ5XG4gICAgICAgICAgICBlbGVtZW50Lmhhc0F0dHJpYnV0ZSgnaHR0cC1lcXVpdicpIHx8XG4gICAgICAgICAgICAvLyBBdXRob3JzaGlwXG4gICAgICAgICAgICBuYW1lQXR0cmlidXRlID09PSAnYXV0aG9yJyB8fFxuICAgICAgICAgICAgbmFtZUF0dHJpYnV0ZSA9PT0gJ2dlbmVyYXRvcicgfHxcbiAgICAgICAgICAgIG5hbWVBdHRyaWJ1dGUgPT09ICdmcmFtZXdvcmsnIHx8XG4gICAgICAgICAgICBuYW1lQXR0cmlidXRlID09PSAncHVibGlzaGVyJyB8fFxuICAgICAgICAgICAgbmFtZUF0dHJpYnV0ZSA9PT0gJ3Byb2dpZCcgfHxcbiAgICAgICAgICAgIC9eYXJ0aWNsZTovLnRlc3QocHJvcGVydHlBdHRyaWJ1dGUpIHx8XG4gICAgICAgICAgICAvXnByb2R1Y3Q6Ly50ZXN0KHByb3BlcnR5QXR0cmlidXRlKSB8fFxuICAgICAgICAgICAgLy8gVmVyaWZpY2F0aW9uXG4gICAgICAgICAgICBuYW1lQXR0cmlidXRlID09PSAnZ29vZ2xlLXNpdGUtdmVyaWZpY2F0aW9uJyB8fFxuICAgICAgICAgICAgbmFtZUF0dHJpYnV0ZSA9PT0gJ3lhbmRleC12ZXJpZmljYXRpb24nIHx8XG4gICAgICAgICAgICBuYW1lQXR0cmlidXRlID09PSAnY3NyZi10b2tlbicgfHxcbiAgICAgICAgICAgIG5hbWVBdHRyaWJ1dGUgPT09ICdwOmRvbWFpbl92ZXJpZnknIHx8XG4gICAgICAgICAgICBuYW1lQXR0cmlidXRlID09PSAndmVyaWZ5LXYxJyB8fFxuICAgICAgICAgICAgbmFtZUF0dHJpYnV0ZSA9PT0gJ3ZlcmlmaWNhdGlvbicgfHxcbiAgICAgICAgICAgIG5hbWVBdHRyaWJ1dGUgPT09ICdzaG9waWZ5LWNoZWNrb3V0LWFwaS10b2tlbicpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRMb3dlckNhc2VBdHRyaWJ1dGUobmFtZSkge1xuICAgICAgICByZXR1cm4gKGVsZW1lbnQuZ2V0QXR0cmlidXRlKG5hbWUpIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wcml2YWN5LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/privacy.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/record.js":
/*!***************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum/esm/domain/record/record.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   record: () => (/* binding */ record)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js\");\n/* harmony import */ var _datadog_browser_rum_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-rum-core */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/index.js\");\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../types */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/types/index.js\");\n/* harmony import */ var _assembly__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./assembly */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/assembly.js\");\n/* harmony import */ var _serialization__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./serialization */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/serialization/index.js\");\n/* harmony import */ var _observers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./observers */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/observers/index.js\");\n/* harmony import */ var _viewports__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./viewports */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/viewports.js\");\n/* harmony import */ var _elementsScrollPositions__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./elementsScrollPositions */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/elementsScrollPositions.js\");\n/* harmony import */ var _shadowRootsController__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./shadowRootsController */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/shadowRootsController.js\");\n\n\n\n\n\n\n\n\n\nfunction record(options) {\n    var emit = options.emit;\n    // runtime checks for user options\n    if (!emit) {\n        throw new Error('emit function is required');\n    }\n    var elementsScrollPositions = (0,_elementsScrollPositions__WEBPACK_IMPORTED_MODULE_6__.createElementsScrollPositions)();\n    var mutationCb = function (mutation) {\n        emit((0,_assembly__WEBPACK_IMPORTED_MODULE_2__.assembleIncrementalSnapshot)(_types__WEBPACK_IMPORTED_MODULE_1__.IncrementalSource.Mutation, mutation));\n    };\n    var inputCb = function (s) { return emit((0,_assembly__WEBPACK_IMPORTED_MODULE_2__.assembleIncrementalSnapshot)(_types__WEBPACK_IMPORTED_MODULE_1__.IncrementalSource.Input, s)); };\n    var shadowRootsController = (0,_shadowRootsController__WEBPACK_IMPORTED_MODULE_7__.initShadowRootsController)(options.configuration, { mutationCb: mutationCb, inputCb: inputCb });\n    var takeFullSnapshot = function (timestamp, serializationContext) {\n        if (timestamp === void 0) { timestamp = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_8__.timeStampNow)(); }\n        if (serializationContext === void 0) { serializationContext = {\n            status: 0 /* SerializationContextStatus.INITIAL_FULL_SNAPSHOT */,\n            elementsScrollPositions: elementsScrollPositions,\n            shadowRootsController: shadowRootsController,\n        }; }\n        var _a = (0,_datadog_browser_rum_core__WEBPACK_IMPORTED_MODULE_0__.getViewportDimension)(), width = _a.width, height = _a.height;\n        emit({\n            data: {\n                height: height,\n                href: window.location.href,\n                width: width,\n            },\n            type: _types__WEBPACK_IMPORTED_MODULE_1__.RecordType.Meta,\n            timestamp: timestamp,\n        });\n        emit({\n            data: {\n                has_focus: document.hasFocus(),\n            },\n            type: _types__WEBPACK_IMPORTED_MODULE_1__.RecordType.Focus,\n            timestamp: timestamp,\n        });\n        emit({\n            data: {\n                node: (0,_serialization__WEBPACK_IMPORTED_MODULE_3__.serializeDocument)(document, options.configuration, serializationContext),\n                initialOffset: {\n                    left: (0,_viewports__WEBPACK_IMPORTED_MODULE_5__.getScrollX)(),\n                    top: (0,_viewports__WEBPACK_IMPORTED_MODULE_5__.getScrollY)(),\n                },\n            },\n            type: _types__WEBPACK_IMPORTED_MODULE_1__.RecordType.FullSnapshot,\n            timestamp: timestamp,\n        });\n        if (window.visualViewport) {\n            emit({\n                data: (0,_viewports__WEBPACK_IMPORTED_MODULE_5__.getVisualViewport)(window.visualViewport),\n                type: _types__WEBPACK_IMPORTED_MODULE_1__.RecordType.VisualViewport,\n                timestamp: timestamp,\n            });\n        }\n    };\n    takeFullSnapshot();\n    var _a = (0,_observers__WEBPACK_IMPORTED_MODULE_4__.initObservers)({\n        lifeCycle: options.lifeCycle,\n        configuration: options.configuration,\n        elementsScrollPositions: elementsScrollPositions,\n        inputCb: inputCb,\n        mediaInteractionCb: function (p) {\n            return emit((0,_assembly__WEBPACK_IMPORTED_MODULE_2__.assembleIncrementalSnapshot)(_types__WEBPACK_IMPORTED_MODULE_1__.IncrementalSource.MediaInteraction, p));\n        },\n        mouseInteractionCb: function (mouseInteractionRecord) { return emit(mouseInteractionRecord); },\n        mousemoveCb: function (positions, source) { return emit((0,_assembly__WEBPACK_IMPORTED_MODULE_2__.assembleIncrementalSnapshot)(source, { positions: positions })); },\n        mutationCb: mutationCb,\n        scrollCb: function (p) { return emit((0,_assembly__WEBPACK_IMPORTED_MODULE_2__.assembleIncrementalSnapshot)(_types__WEBPACK_IMPORTED_MODULE_1__.IncrementalSource.Scroll, p)); },\n        styleSheetCb: function (r) { return emit((0,_assembly__WEBPACK_IMPORTED_MODULE_2__.assembleIncrementalSnapshot)(_types__WEBPACK_IMPORTED_MODULE_1__.IncrementalSource.StyleSheetRule, r)); },\n        viewportResizeCb: function (d) { return emit((0,_assembly__WEBPACK_IMPORTED_MODULE_2__.assembleIncrementalSnapshot)(_types__WEBPACK_IMPORTED_MODULE_1__.IncrementalSource.ViewportResize, d)); },\n        frustrationCb: function (frustrationRecord) { return emit(frustrationRecord); },\n        focusCb: function (data) {\n            return emit({\n                data: data,\n                type: _types__WEBPACK_IMPORTED_MODULE_1__.RecordType.Focus,\n                timestamp: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_8__.timeStampNow)(),\n            });\n        },\n        visualViewportResizeCb: function (data) {\n            emit({\n                data: data,\n                type: _types__WEBPACK_IMPORTED_MODULE_1__.RecordType.VisualViewport,\n                timestamp: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_8__.timeStampNow)(),\n            });\n        },\n        shadowRootsController: shadowRootsController,\n    }), stopObservers = _a.stop, flushMutationsFromObservers = _a.flush;\n    function flushMutations() {\n        shadowRootsController.flush();\n        flushMutationsFromObservers();\n    }\n    return {\n        stop: function () {\n            shadowRootsController.stop();\n            stopObservers();\n        },\n        takeSubsequentFullSnapshot: function (timestamp) {\n            flushMutations();\n            takeFullSnapshot(timestamp, {\n                shadowRootsController: shadowRootsController,\n                status: 1 /* SerializationContextStatus.SUBSEQUENT_FULL_SNAPSHOT */,\n                elementsScrollPositions: elementsScrollPositions,\n            });\n        },\n        flushMutations: flushMutations,\n        shadowRootsController: shadowRootsController,\n    };\n}\n//# sourceMappingURL=record.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtL2VzbS9kb21haW4vcmVjb3JkL3JlY29yZC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQXFEO0FBQ1k7QUFDTDtBQUNIO0FBQ0w7QUFDUjtBQUM0QjtBQUNFO0FBQ047QUFDN0Q7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLHVGQUE2QjtBQUMvRDtBQUNBLGFBQWEsc0VBQTJCLENBQUMscURBQWlCO0FBQzFEO0FBQ0EsaUNBQWlDLFlBQVksc0VBQTJCLENBQUMscURBQWlCO0FBQzFGLGdDQUFnQyxpRkFBeUIsMEJBQTBCLDBDQUEwQztBQUM3SDtBQUNBLG9DQUFvQyxZQUFZLG1FQUFZO0FBQzVELCtDQUErQztBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQiwrRUFBb0I7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixrQkFBa0IsOENBQVU7QUFDNUI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLGtCQUFrQiw4Q0FBVTtBQUM1QjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0Esc0JBQXNCLGlFQUFpQjtBQUN2QztBQUNBLDBCQUEwQixzREFBVTtBQUNwQyx5QkFBeUIsc0RBQVU7QUFDbkMsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYixrQkFBa0IsOENBQVU7QUFDNUI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLHNCQUFzQiw2REFBaUI7QUFDdkMsc0JBQXNCLDhDQUFVO0FBQ2hDO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGFBQWEseURBQWE7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixzRUFBMkIsQ0FBQyxxREFBaUI7QUFDckUsU0FBUztBQUNULGdFQUFnRSxzQ0FBc0M7QUFDdEcsb0RBQW9ELFlBQVksc0VBQTJCLFdBQVcsc0JBQXNCLEtBQUs7QUFDakk7QUFDQSxpQ0FBaUMsWUFBWSxzRUFBMkIsQ0FBQyxxREFBaUIsZUFBZTtBQUN6RyxxQ0FBcUMsWUFBWSxzRUFBMkIsQ0FBQyxxREFBaUIsdUJBQXVCO0FBQ3JILHlDQUF5QyxZQUFZLHNFQUEyQixDQUFDLHFEQUFpQix1QkFBdUI7QUFDekgsc0RBQXNELGlDQUFpQztBQUN2RjtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsOENBQVU7QUFDaEMsMkJBQTJCLG1FQUFZO0FBQ3ZDLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLDhDQUFVO0FBQ2hDLDJCQUEyQixtRUFBWTtBQUN2QyxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFyY2FzdGVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLXJ1bS9lc20vZG9tYWluL3JlY29yZC9yZWNvcmQuanM/NzBiZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB0aW1lU3RhbXBOb3cgfSBmcm9tICdAZGF0YWRvZy9icm93c2VyLWNvcmUnO1xuaW1wb3J0IHsgZ2V0Vmlld3BvcnREaW1lbnNpb24gfSBmcm9tICdAZGF0YWRvZy9icm93c2VyLXJ1bS1jb3JlJztcbmltcG9ydCB7IFJlY29yZFR5cGUsIEluY3JlbWVudGFsU291cmNlIH0gZnJvbSAnLi4vLi4vdHlwZXMnO1xuaW1wb3J0IHsgYXNzZW1ibGVJbmNyZW1lbnRhbFNuYXBzaG90IH0gZnJvbSAnLi9hc3NlbWJseSc7XG5pbXBvcnQgeyBzZXJpYWxpemVEb2N1bWVudCB9IGZyb20gJy4vc2VyaWFsaXphdGlvbic7XG5pbXBvcnQgeyBpbml0T2JzZXJ2ZXJzIH0gZnJvbSAnLi9vYnNlcnZlcnMnO1xuaW1wb3J0IHsgZ2V0VmlzdWFsVmlld3BvcnQsIGdldFNjcm9sbFgsIGdldFNjcm9sbFkgfSBmcm9tICcuL3ZpZXdwb3J0cyc7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50c1Njcm9sbFBvc2l0aW9ucyB9IGZyb20gJy4vZWxlbWVudHNTY3JvbGxQb3NpdGlvbnMnO1xuaW1wb3J0IHsgaW5pdFNoYWRvd1Jvb3RzQ29udHJvbGxlciB9IGZyb20gJy4vc2hhZG93Um9vdHNDb250cm9sbGVyJztcbmV4cG9ydCBmdW5jdGlvbiByZWNvcmQob3B0aW9ucykge1xuICAgIHZhciBlbWl0ID0gb3B0aW9ucy5lbWl0O1xuICAgIC8vIHJ1bnRpbWUgY2hlY2tzIGZvciB1c2VyIG9wdGlvbnNcbiAgICBpZiAoIWVtaXQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdlbWl0IGZ1bmN0aW9uIGlzIHJlcXVpcmVkJyk7XG4gICAgfVxuICAgIHZhciBlbGVtZW50c1Njcm9sbFBvc2l0aW9ucyA9IGNyZWF0ZUVsZW1lbnRzU2Nyb2xsUG9zaXRpb25zKCk7XG4gICAgdmFyIG11dGF0aW9uQ2IgPSBmdW5jdGlvbiAobXV0YXRpb24pIHtcbiAgICAgICAgZW1pdChhc3NlbWJsZUluY3JlbWVudGFsU25hcHNob3QoSW5jcmVtZW50YWxTb3VyY2UuTXV0YXRpb24sIG11dGF0aW9uKSk7XG4gICAgfTtcbiAgICB2YXIgaW5wdXRDYiA9IGZ1bmN0aW9uIChzKSB7IHJldHVybiBlbWl0KGFzc2VtYmxlSW5jcmVtZW50YWxTbmFwc2hvdChJbmNyZW1lbnRhbFNvdXJjZS5JbnB1dCwgcykpOyB9O1xuICAgIHZhciBzaGFkb3dSb290c0NvbnRyb2xsZXIgPSBpbml0U2hhZG93Um9vdHNDb250cm9sbGVyKG9wdGlvbnMuY29uZmlndXJhdGlvbiwgeyBtdXRhdGlvbkNiOiBtdXRhdGlvbkNiLCBpbnB1dENiOiBpbnB1dENiIH0pO1xuICAgIHZhciB0YWtlRnVsbFNuYXBzaG90ID0gZnVuY3Rpb24gKHRpbWVzdGFtcCwgc2VyaWFsaXphdGlvbkNvbnRleHQpIHtcbiAgICAgICAgaWYgKHRpbWVzdGFtcCA9PT0gdm9pZCAwKSB7IHRpbWVzdGFtcCA9IHRpbWVTdGFtcE5vdygpOyB9XG4gICAgICAgIGlmIChzZXJpYWxpemF0aW9uQ29udGV4dCA9PT0gdm9pZCAwKSB7IHNlcmlhbGl6YXRpb25Db250ZXh0ID0ge1xuICAgICAgICAgICAgc3RhdHVzOiAwIC8qIFNlcmlhbGl6YXRpb25Db250ZXh0U3RhdHVzLklOSVRJQUxfRlVMTF9TTkFQU0hPVCAqLyxcbiAgICAgICAgICAgIGVsZW1lbnRzU2Nyb2xsUG9zaXRpb25zOiBlbGVtZW50c1Njcm9sbFBvc2l0aW9ucyxcbiAgICAgICAgICAgIHNoYWRvd1Jvb3RzQ29udHJvbGxlcjogc2hhZG93Um9vdHNDb250cm9sbGVyLFxuICAgICAgICB9OyB9XG4gICAgICAgIHZhciBfYSA9IGdldFZpZXdwb3J0RGltZW5zaW9uKCksIHdpZHRoID0gX2Eud2lkdGgsIGhlaWdodCA9IF9hLmhlaWdodDtcbiAgICAgICAgZW1pdCh7XG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgICAgICAgICAgICAgaHJlZjogd2luZG93LmxvY2F0aW9uLmhyZWYsXG4gICAgICAgICAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHR5cGU6IFJlY29yZFR5cGUuTWV0YSxcbiAgICAgICAgICAgIHRpbWVzdGFtcDogdGltZXN0YW1wLFxuICAgICAgICB9KTtcbiAgICAgICAgZW1pdCh7XG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgaGFzX2ZvY3VzOiBkb2N1bWVudC5oYXNGb2N1cygpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHR5cGU6IFJlY29yZFR5cGUuRm9jdXMsXG4gICAgICAgICAgICB0aW1lc3RhbXA6IHRpbWVzdGFtcCxcbiAgICAgICAgfSk7XG4gICAgICAgIGVtaXQoe1xuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIG5vZGU6IHNlcmlhbGl6ZURvY3VtZW50KGRvY3VtZW50LCBvcHRpb25zLmNvbmZpZ3VyYXRpb24sIHNlcmlhbGl6YXRpb25Db250ZXh0KSxcbiAgICAgICAgICAgICAgICBpbml0aWFsT2Zmc2V0OiB7XG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IGdldFNjcm9sbFgoKSxcbiAgICAgICAgICAgICAgICAgICAgdG9wOiBnZXRTY3JvbGxZKCksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0eXBlOiBSZWNvcmRUeXBlLkZ1bGxTbmFwc2hvdCxcbiAgICAgICAgICAgIHRpbWVzdGFtcDogdGltZXN0YW1wLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHdpbmRvdy52aXN1YWxWaWV3cG9ydCkge1xuICAgICAgICAgICAgZW1pdCh7XG4gICAgICAgICAgICAgICAgZGF0YTogZ2V0VmlzdWFsVmlld3BvcnQod2luZG93LnZpc3VhbFZpZXdwb3J0KSxcbiAgICAgICAgICAgICAgICB0eXBlOiBSZWNvcmRUeXBlLlZpc3VhbFZpZXdwb3J0LFxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogdGltZXN0YW1wLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRha2VGdWxsU25hcHNob3QoKTtcbiAgICB2YXIgX2EgPSBpbml0T2JzZXJ2ZXJzKHtcbiAgICAgICAgbGlmZUN5Y2xlOiBvcHRpb25zLmxpZmVDeWNsZSxcbiAgICAgICAgY29uZmlndXJhdGlvbjogb3B0aW9ucy5jb25maWd1cmF0aW9uLFxuICAgICAgICBlbGVtZW50c1Njcm9sbFBvc2l0aW9uczogZWxlbWVudHNTY3JvbGxQb3NpdGlvbnMsXG4gICAgICAgIGlucHV0Q2I6IGlucHV0Q2IsXG4gICAgICAgIG1lZGlhSW50ZXJhY3Rpb25DYjogZnVuY3Rpb24gKHApIHtcbiAgICAgICAgICAgIHJldHVybiBlbWl0KGFzc2VtYmxlSW5jcmVtZW50YWxTbmFwc2hvdChJbmNyZW1lbnRhbFNvdXJjZS5NZWRpYUludGVyYWN0aW9uLCBwKSk7XG4gICAgICAgIH0sXG4gICAgICAgIG1vdXNlSW50ZXJhY3Rpb25DYjogZnVuY3Rpb24gKG1vdXNlSW50ZXJhY3Rpb25SZWNvcmQpIHsgcmV0dXJuIGVtaXQobW91c2VJbnRlcmFjdGlvblJlY29yZCk7IH0sXG4gICAgICAgIG1vdXNlbW92ZUNiOiBmdW5jdGlvbiAocG9zaXRpb25zLCBzb3VyY2UpIHsgcmV0dXJuIGVtaXQoYXNzZW1ibGVJbmNyZW1lbnRhbFNuYXBzaG90KHNvdXJjZSwgeyBwb3NpdGlvbnM6IHBvc2l0aW9ucyB9KSk7IH0sXG4gICAgICAgIG11dGF0aW9uQ2I6IG11dGF0aW9uQ2IsXG4gICAgICAgIHNjcm9sbENiOiBmdW5jdGlvbiAocCkgeyByZXR1cm4gZW1pdChhc3NlbWJsZUluY3JlbWVudGFsU25hcHNob3QoSW5jcmVtZW50YWxTb3VyY2UuU2Nyb2xsLCBwKSk7IH0sXG4gICAgICAgIHN0eWxlU2hlZXRDYjogZnVuY3Rpb24gKHIpIHsgcmV0dXJuIGVtaXQoYXNzZW1ibGVJbmNyZW1lbnRhbFNuYXBzaG90KEluY3JlbWVudGFsU291cmNlLlN0eWxlU2hlZXRSdWxlLCByKSk7IH0sXG4gICAgICAgIHZpZXdwb3J0UmVzaXplQ2I6IGZ1bmN0aW9uIChkKSB7IHJldHVybiBlbWl0KGFzc2VtYmxlSW5jcmVtZW50YWxTbmFwc2hvdChJbmNyZW1lbnRhbFNvdXJjZS5WaWV3cG9ydFJlc2l6ZSwgZCkpOyB9LFxuICAgICAgICBmcnVzdHJhdGlvbkNiOiBmdW5jdGlvbiAoZnJ1c3RyYXRpb25SZWNvcmQpIHsgcmV0dXJuIGVtaXQoZnJ1c3RyYXRpb25SZWNvcmQpOyB9LFxuICAgICAgICBmb2N1c0NiOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIGVtaXQoe1xuICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgICAgICAgICAgdHlwZTogUmVjb3JkVHlwZS5Gb2N1cyxcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IHRpbWVTdGFtcE5vdygpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHZpc3VhbFZpZXdwb3J0UmVzaXplQ2I6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICBlbWl0KHtcbiAgICAgICAgICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICAgICAgICAgIHR5cGU6IFJlY29yZFR5cGUuVmlzdWFsVmlld3BvcnQsXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiB0aW1lU3RhbXBOb3coKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBzaGFkb3dSb290c0NvbnRyb2xsZXI6IHNoYWRvd1Jvb3RzQ29udHJvbGxlcixcbiAgICB9KSwgc3RvcE9ic2VydmVycyA9IF9hLnN0b3AsIGZsdXNoTXV0YXRpb25zRnJvbU9ic2VydmVycyA9IF9hLmZsdXNoO1xuICAgIGZ1bmN0aW9uIGZsdXNoTXV0YXRpb25zKCkge1xuICAgICAgICBzaGFkb3dSb290c0NvbnRyb2xsZXIuZmx1c2goKTtcbiAgICAgICAgZmx1c2hNdXRhdGlvbnNGcm9tT2JzZXJ2ZXJzKCk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHN0b3A6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNoYWRvd1Jvb3RzQ29udHJvbGxlci5zdG9wKCk7XG4gICAgICAgICAgICBzdG9wT2JzZXJ2ZXJzKCk7XG4gICAgICAgIH0sXG4gICAgICAgIHRha2VTdWJzZXF1ZW50RnVsbFNuYXBzaG90OiBmdW5jdGlvbiAodGltZXN0YW1wKSB7XG4gICAgICAgICAgICBmbHVzaE11dGF0aW9ucygpO1xuICAgICAgICAgICAgdGFrZUZ1bGxTbmFwc2hvdCh0aW1lc3RhbXAsIHtcbiAgICAgICAgICAgICAgICBzaGFkb3dSb290c0NvbnRyb2xsZXI6IHNoYWRvd1Jvb3RzQ29udHJvbGxlcixcbiAgICAgICAgICAgICAgICBzdGF0dXM6IDEgLyogU2VyaWFsaXphdGlvbkNvbnRleHRTdGF0dXMuU1VCU0VRVUVOVF9GVUxMX1NOQVBTSE9UICovLFxuICAgICAgICAgICAgICAgIGVsZW1lbnRzU2Nyb2xsUG9zaXRpb25zOiBlbGVtZW50c1Njcm9sbFBvc2l0aW9ucyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBmbHVzaE11dGF0aW9uczogZmx1c2hNdXRhdGlvbnMsXG4gICAgICAgIHNoYWRvd1Jvb3RzQ29udHJvbGxlcjogc2hhZG93Um9vdHNDb250cm9sbGVyLFxuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZWNvcmQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/record.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/serialization/index.js":
/*!****************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum/esm/domain/record/serialization/index.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getElementInputValue: () => (/* reexport safe */ _serializationUtils__WEBPACK_IMPORTED_MODULE_0__.getElementInputValue),\n/* harmony export */   getSerializedNodeId: () => (/* reexport safe */ _serializationUtils__WEBPACK_IMPORTED_MODULE_0__.getSerializedNodeId),\n/* harmony export */   hasSerializedNode: () => (/* reexport safe */ _serializationUtils__WEBPACK_IMPORTED_MODULE_0__.hasSerializedNode),\n/* harmony export */   nodeAndAncestorsHaveSerializedNode: () => (/* reexport safe */ _serializationUtils__WEBPACK_IMPORTED_MODULE_0__.nodeAndAncestorsHaveSerializedNode),\n/* harmony export */   serializeAttribute: () => (/* reexport safe */ _serializeAttribute__WEBPACK_IMPORTED_MODULE_3__.serializeAttribute),\n/* harmony export */   serializeDocument: () => (/* reexport safe */ _serializeDocument__WEBPACK_IMPORTED_MODULE_1__.serializeDocument),\n/* harmony export */   serializeNodeWithId: () => (/* reexport safe */ _serializeNode__WEBPACK_IMPORTED_MODULE_2__.serializeNodeWithId)\n/* harmony export */ });\n/* harmony import */ var _serializationUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./serializationUtils */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/serialization/serializationUtils.js\");\n/* harmony import */ var _serializeDocument__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./serializeDocument */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/serialization/serializeDocument.js\");\n/* harmony import */ var _serializeNode__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./serializeNode */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/serialization/serializeNode.js\");\n/* harmony import */ var _serializeAttribute__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./serializeAttribute */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/serialization/serializeAttribute.js\");\n\n\n\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtL2VzbS9kb21haW4vcmVjb3JkL3NlcmlhbGl6YXRpb24vaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBeUk7QUFDakY7QUFDRjtBQUNJO0FBQzFEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFyY2FzdGVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLXJ1bS9lc20vZG9tYWluL3JlY29yZC9zZXJpYWxpemF0aW9uL2luZGV4LmpzPzEwYWQiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHsgZ2V0RWxlbWVudElucHV0VmFsdWUsIGdldFNlcmlhbGl6ZWROb2RlSWQsIGhhc1NlcmlhbGl6ZWROb2RlLCBub2RlQW5kQW5jZXN0b3JzSGF2ZVNlcmlhbGl6ZWROb2RlLCB9IGZyb20gJy4vc2VyaWFsaXphdGlvblV0aWxzJztcbmV4cG9ydCB7IHNlcmlhbGl6ZURvY3VtZW50IH0gZnJvbSAnLi9zZXJpYWxpemVEb2N1bWVudCc7XG5leHBvcnQgeyBzZXJpYWxpemVOb2RlV2l0aElkIH0gZnJvbSAnLi9zZXJpYWxpemVOb2RlJztcbmV4cG9ydCB7IHNlcmlhbGl6ZUF0dHJpYnV0ZSB9IGZyb20gJy4vc2VyaWFsaXplQXR0cmlidXRlJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/serialization/index.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/serialization/serializationUtils.js":
/*!*****************************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum/esm/domain/record/serialization/serializationUtils.js ***!
  \*****************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ABSOLUTE_URL: () => (/* binding */ ABSOLUTE_URL),\n/* harmony export */   DATA_URI: () => (/* binding */ DATA_URI),\n/* harmony export */   URL_IN_CSS_REF: () => (/* binding */ URL_IN_CSS_REF),\n/* harmony export */   getElementInputValue: () => (/* binding */ getElementInputValue),\n/* harmony export */   getSerializedNodeId: () => (/* binding */ getSerializedNodeId),\n/* harmony export */   getValidTagName: () => (/* binding */ getValidTagName),\n/* harmony export */   hasSerializedNode: () => (/* binding */ hasSerializedNode),\n/* harmony export */   makeUrlAbsolute: () => (/* binding */ makeUrlAbsolute),\n/* harmony export */   nodeAndAncestorsHaveSerializedNode: () => (/* binding */ nodeAndAncestorsHaveSerializedNode),\n/* harmony export */   setSerializedNodeId: () => (/* binding */ setSerializedNodeId),\n/* harmony export */   switchToAbsoluteUrl: () => (/* binding */ switchToAbsoluteUrl)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/urlPolyfill.js\");\n/* harmony import */ var _datadog_browser_rum_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-rum-core */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/index.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../constants */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/constants.js\");\n/* harmony import */ var _privacy__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../privacy */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/privacy.js\");\n\n\n\n\nvar serializedNodeIds = new WeakMap();\nfunction hasSerializedNode(node) {\n    return serializedNodeIds.has(node);\n}\nfunction nodeAndAncestorsHaveSerializedNode(node) {\n    var current = node;\n    while (current) {\n        if (!hasSerializedNode(current) && !(0,_datadog_browser_rum_core__WEBPACK_IMPORTED_MODULE_0__.isNodeShadowRoot)(current)) {\n            return false;\n        }\n        current = (0,_datadog_browser_rum_core__WEBPACK_IMPORTED_MODULE_0__.getParentNode)(current);\n    }\n    return true;\n}\nfunction getSerializedNodeId(node) {\n    return serializedNodeIds.get(node);\n}\nfunction setSerializedNodeId(node, serializeNodeId) {\n    serializedNodeIds.set(node, serializeNodeId);\n}\n/**\n * Get the element \"value\" to be serialized as an attribute or an input update record. It respects\n * the input privacy mode of the element.\n * PERFROMANCE OPTIMIZATION: Assumes that privacy level `HIDDEN` is never encountered because of earlier checks.\n */\nfunction getElementInputValue(element, nodePrivacyLevel) {\n    /*\n     BROWSER SPEC NOTE: <input>, <select>\n     For some <input> elements, the `value` is an exceptional property/attribute that has the\n     value synced between el.value and el.getAttribute()\n     input[type=button,checkbox,hidden,image,radio,reset,submit]\n     */\n    var tagName = element.tagName;\n    var value = element.value;\n    if ((0,_privacy__WEBPACK_IMPORTED_MODULE_2__.shouldMaskNode)(element, nodePrivacyLevel)) {\n        var type = element.type;\n        if (tagName === 'INPUT' && (type === 'button' || type === 'submit' || type === 'reset')) {\n            // Overrule `MASK` privacy level for button-like element values, as they are used during replay\n            // to display their label. They can still be hidden via the \"hidden\" privacy attribute or class name.\n            return value;\n        }\n        else if (!value || tagName === 'OPTION') {\n            // <Option> value provides no benefit\n            return;\n        }\n        return _constants__WEBPACK_IMPORTED_MODULE_1__.CENSORED_STRING_MARK;\n    }\n    if (tagName === 'OPTION' || tagName === 'SELECT') {\n        return element.value;\n    }\n    if (tagName !== 'INPUT' && tagName !== 'TEXTAREA') {\n        return;\n    }\n    return value;\n}\nvar URL_IN_CSS_REF = /url\\((?:(')([^']*)'|(\")([^\"]*)\"|([^)]*))\\)/gm;\nvar ABSOLUTE_URL = /^[A-Za-z]+:|^\\/\\//;\nvar DATA_URI = /^data:.*,/i;\nfunction switchToAbsoluteUrl(cssText, cssHref) {\n    return cssText.replace(URL_IN_CSS_REF, function (matchingSubstring, singleQuote, urlWrappedInSingleQuotes, doubleQuote, urlWrappedInDoubleQuotes, urlNotWrappedInQuotes) {\n        var url = urlWrappedInSingleQuotes || urlWrappedInDoubleQuotes || urlNotWrappedInQuotes;\n        if (!cssHref || !url || ABSOLUTE_URL.test(url) || DATA_URI.test(url)) {\n            return matchingSubstring;\n        }\n        var quote = singleQuote || doubleQuote || '';\n        return \"url(\".concat(quote).concat(makeUrlAbsolute(url, cssHref)).concat(quote, \")\");\n    });\n}\nfunction makeUrlAbsolute(url, baseUrl) {\n    try {\n        return (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.buildUrl)(url, baseUrl).href;\n    }\n    catch (_) {\n        return url;\n    }\n}\nvar TAG_NAME_REGEX = /[^a-z1-6-_]/;\nfunction getValidTagName(tagName) {\n    var processedTagName = tagName.toLowerCase().trim();\n    if (TAG_NAME_REGEX.test(processedTagName)) {\n        // if the tag name is odd and we cannot extract\n        // anything from the string, then we return a\n        // generic div\n        return 'div';\n    }\n    return processedTagName;\n}\n//# sourceMappingURL=serializationUtils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtL2VzbS9kb21haW4vcmVjb3JkL3NlcmlhbGl6YXRpb24vc2VyaWFsaXphdGlvblV0aWxzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFpRDtBQUMyQjtBQUNsQjtBQUNkO0FBQzVDO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EsNENBQTRDLDJFQUFnQjtBQUM1RDtBQUNBO0FBQ0Esa0JBQWtCLHdFQUFhO0FBQy9CO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHdEQUFjO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSw0REFBb0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDQTtBQUNBO0FBQ0E7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNPO0FBQ1A7QUFDQSxlQUFlLCtEQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYXJjYXN0ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtL2VzbS9kb21haW4vcmVjb3JkL3NlcmlhbGl6YXRpb24vc2VyaWFsaXphdGlvblV0aWxzLmpzPzhiNDgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYnVpbGRVcmwgfSBmcm9tICdAZGF0YWRvZy9icm93c2VyLWNvcmUnO1xuaW1wb3J0IHsgZ2V0UGFyZW50Tm9kZSwgaXNOb2RlU2hhZG93Um9vdCB9IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUnO1xuaW1wb3J0IHsgQ0VOU09SRURfU1RSSU5HX01BUksgfSBmcm9tICcuLi8uLi8uLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgc2hvdWxkTWFza05vZGUgfSBmcm9tICcuLi9wcml2YWN5JztcbnZhciBzZXJpYWxpemVkTm9kZUlkcyA9IG5ldyBXZWFrTWFwKCk7XG5leHBvcnQgZnVuY3Rpb24gaGFzU2VyaWFsaXplZE5vZGUobm9kZSkge1xuICAgIHJldHVybiBzZXJpYWxpemVkTm9kZUlkcy5oYXMobm9kZSk7XG59XG5leHBvcnQgZnVuY3Rpb24gbm9kZUFuZEFuY2VzdG9yc0hhdmVTZXJpYWxpemVkTm9kZShub2RlKSB7XG4gICAgdmFyIGN1cnJlbnQgPSBub2RlO1xuICAgIHdoaWxlIChjdXJyZW50KSB7XG4gICAgICAgIGlmICghaGFzU2VyaWFsaXplZE5vZGUoY3VycmVudCkgJiYgIWlzTm9kZVNoYWRvd1Jvb3QoY3VycmVudCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50ID0gZ2V0UGFyZW50Tm9kZShjdXJyZW50KTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0U2VyaWFsaXplZE5vZGVJZChub2RlKSB7XG4gICAgcmV0dXJuIHNlcmlhbGl6ZWROb2RlSWRzLmdldChub2RlKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzZXRTZXJpYWxpemVkTm9kZUlkKG5vZGUsIHNlcmlhbGl6ZU5vZGVJZCkge1xuICAgIHNlcmlhbGl6ZWROb2RlSWRzLnNldChub2RlLCBzZXJpYWxpemVOb2RlSWQpO1xufVxuLyoqXG4gKiBHZXQgdGhlIGVsZW1lbnQgXCJ2YWx1ZVwiIHRvIGJlIHNlcmlhbGl6ZWQgYXMgYW4gYXR0cmlidXRlIG9yIGFuIGlucHV0IHVwZGF0ZSByZWNvcmQuIEl0IHJlc3BlY3RzXG4gKiB0aGUgaW5wdXQgcHJpdmFjeSBtb2RlIG9mIHRoZSBlbGVtZW50LlxuICogUEVSRlJPTUFOQ0UgT1BUSU1JWkFUSU9OOiBBc3N1bWVzIHRoYXQgcHJpdmFjeSBsZXZlbCBgSElEREVOYCBpcyBuZXZlciBlbmNvdW50ZXJlZCBiZWNhdXNlIG9mIGVhcmxpZXIgY2hlY2tzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RWxlbWVudElucHV0VmFsdWUoZWxlbWVudCwgbm9kZVByaXZhY3lMZXZlbCkge1xuICAgIC8qXG4gICAgIEJST1dTRVIgU1BFQyBOT1RFOiA8aW5wdXQ+LCA8c2VsZWN0PlxuICAgICBGb3Igc29tZSA8aW5wdXQ+IGVsZW1lbnRzLCB0aGUgYHZhbHVlYCBpcyBhbiBleGNlcHRpb25hbCBwcm9wZXJ0eS9hdHRyaWJ1dGUgdGhhdCBoYXMgdGhlXG4gICAgIHZhbHVlIHN5bmNlZCBiZXR3ZWVuIGVsLnZhbHVlIGFuZCBlbC5nZXRBdHRyaWJ1dGUoKVxuICAgICBpbnB1dFt0eXBlPWJ1dHRvbixjaGVja2JveCxoaWRkZW4saW1hZ2UscmFkaW8scmVzZXQsc3VibWl0XVxuICAgICAqL1xuICAgIHZhciB0YWdOYW1lID0gZWxlbWVudC50YWdOYW1lO1xuICAgIHZhciB2YWx1ZSA9IGVsZW1lbnQudmFsdWU7XG4gICAgaWYgKHNob3VsZE1hc2tOb2RlKGVsZW1lbnQsIG5vZGVQcml2YWN5TGV2ZWwpKSB7XG4gICAgICAgIHZhciB0eXBlID0gZWxlbWVudC50eXBlO1xuICAgICAgICBpZiAodGFnTmFtZSA9PT0gJ0lOUFVUJyAmJiAodHlwZSA9PT0gJ2J1dHRvbicgfHwgdHlwZSA9PT0gJ3N1Ym1pdCcgfHwgdHlwZSA9PT0gJ3Jlc2V0JykpIHtcbiAgICAgICAgICAgIC8vIE92ZXJydWxlIGBNQVNLYCBwcml2YWN5IGxldmVsIGZvciBidXR0b24tbGlrZSBlbGVtZW50IHZhbHVlcywgYXMgdGhleSBhcmUgdXNlZCBkdXJpbmcgcmVwbGF5XG4gICAgICAgICAgICAvLyB0byBkaXNwbGF5IHRoZWlyIGxhYmVsLiBUaGV5IGNhbiBzdGlsbCBiZSBoaWRkZW4gdmlhIHRoZSBcImhpZGRlblwiIHByaXZhY3kgYXR0cmlidXRlIG9yIGNsYXNzIG5hbWUuXG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIXZhbHVlIHx8IHRhZ05hbWUgPT09ICdPUFRJT04nKSB7XG4gICAgICAgICAgICAvLyA8T3B0aW9uPiB2YWx1ZSBwcm92aWRlcyBubyBiZW5lZml0XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIENFTlNPUkVEX1NUUklOR19NQVJLO1xuICAgIH1cbiAgICBpZiAodGFnTmFtZSA9PT0gJ09QVElPTicgfHwgdGFnTmFtZSA9PT0gJ1NFTEVDVCcpIHtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQudmFsdWU7XG4gICAgfVxuICAgIGlmICh0YWdOYW1lICE9PSAnSU5QVVQnICYmIHRhZ05hbWUgIT09ICdURVhUQVJFQScpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59XG5leHBvcnQgdmFyIFVSTF9JTl9DU1NfUkVGID0gL3VybFxcKCg/OignKShbXiddKiknfChcIikoW15cIl0qKVwifChbXildKikpXFwpL2dtO1xuZXhwb3J0IHZhciBBQlNPTFVURV9VUkwgPSAvXltBLVphLXpdKzp8XlxcL1xcLy87XG5leHBvcnQgdmFyIERBVEFfVVJJID0gL15kYXRhOi4qLC9pO1xuZXhwb3J0IGZ1bmN0aW9uIHN3aXRjaFRvQWJzb2x1dGVVcmwoY3NzVGV4dCwgY3NzSHJlZikge1xuICAgIHJldHVybiBjc3NUZXh0LnJlcGxhY2UoVVJMX0lOX0NTU19SRUYsIGZ1bmN0aW9uIChtYXRjaGluZ1N1YnN0cmluZywgc2luZ2xlUXVvdGUsIHVybFdyYXBwZWRJblNpbmdsZVF1b3RlcywgZG91YmxlUXVvdGUsIHVybFdyYXBwZWRJbkRvdWJsZVF1b3RlcywgdXJsTm90V3JhcHBlZEluUXVvdGVzKSB7XG4gICAgICAgIHZhciB1cmwgPSB1cmxXcmFwcGVkSW5TaW5nbGVRdW90ZXMgfHwgdXJsV3JhcHBlZEluRG91YmxlUXVvdGVzIHx8IHVybE5vdFdyYXBwZWRJblF1b3RlcztcbiAgICAgICAgaWYgKCFjc3NIcmVmIHx8ICF1cmwgfHwgQUJTT0xVVEVfVVJMLnRlc3QodXJsKSB8fCBEQVRBX1VSSS50ZXN0KHVybCkpIHtcbiAgICAgICAgICAgIHJldHVybiBtYXRjaGluZ1N1YnN0cmluZztcbiAgICAgICAgfVxuICAgICAgICB2YXIgcXVvdGUgPSBzaW5nbGVRdW90ZSB8fCBkb3VibGVRdW90ZSB8fCAnJztcbiAgICAgICAgcmV0dXJuIFwidXJsKFwiLmNvbmNhdChxdW90ZSkuY29uY2F0KG1ha2VVcmxBYnNvbHV0ZSh1cmwsIGNzc0hyZWYpKS5jb25jYXQocXVvdGUsIFwiKVwiKTtcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBtYWtlVXJsQWJzb2x1dGUodXJsLCBiYXNlVXJsKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGJ1aWxkVXJsKHVybCwgYmFzZVVybCkuaHJlZjtcbiAgICB9XG4gICAgY2F0Y2ggKF8pIHtcbiAgICAgICAgcmV0dXJuIHVybDtcbiAgICB9XG59XG52YXIgVEFHX05BTUVfUkVHRVggPSAvW15hLXoxLTYtX10vO1xuZXhwb3J0IGZ1bmN0aW9uIGdldFZhbGlkVGFnTmFtZSh0YWdOYW1lKSB7XG4gICAgdmFyIHByb2Nlc3NlZFRhZ05hbWUgPSB0YWdOYW1lLnRvTG93ZXJDYXNlKCkudHJpbSgpO1xuICAgIGlmIChUQUdfTkFNRV9SRUdFWC50ZXN0KHByb2Nlc3NlZFRhZ05hbWUpKSB7XG4gICAgICAgIC8vIGlmIHRoZSB0YWcgbmFtZSBpcyBvZGQgYW5kIHdlIGNhbm5vdCBleHRyYWN0XG4gICAgICAgIC8vIGFueXRoaW5nIGZyb20gdGhlIHN0cmluZywgdGhlbiB3ZSByZXR1cm4gYVxuICAgICAgICAvLyBnZW5lcmljIGRpdlxuICAgICAgICByZXR1cm4gJ2Rpdic7XG4gICAgfVxuICAgIHJldHVybiBwcm9jZXNzZWRUYWdOYW1lO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2VyaWFsaXphdGlvblV0aWxzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/serialization/serializationUtils.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/serialization/serializeAttribute.js":
/*!*****************************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum/esm/domain/record/serialization/serializeAttribute.js ***!
  \*****************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   serializeAttribute: () => (/* binding */ serializeAttribute)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/polyfills.js\");\n/* harmony import */ var _datadog_browser_rum_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-rum-core */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/index.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../constants */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/constants.js\");\n/* harmony import */ var _privacy__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../privacy */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/privacy.js\");\n\n\n\n\nfunction serializeAttribute(element, nodePrivacyLevel, attributeName, configuration) {\n    if (nodePrivacyLevel === _constants__WEBPACK_IMPORTED_MODULE_1__.NodePrivacyLevel.HIDDEN) {\n        // dup condition for direct access case\n        return null;\n    }\n    var attributeValue = element.getAttribute(attributeName);\n    if (nodePrivacyLevel === _constants__WEBPACK_IMPORTED_MODULE_1__.NodePrivacyLevel.MASK &&\n        attributeName !== _constants__WEBPACK_IMPORTED_MODULE_1__.PRIVACY_ATTR_NAME &&\n        !_datadog_browser_rum_core__WEBPACK_IMPORTED_MODULE_0__.STABLE_ATTRIBUTES.includes(attributeName) &&\n        attributeName !== configuration.actionNameAttribute) {\n        var tagName = element.tagName;\n        switch (attributeName) {\n            // Mask Attribute text content\n            case 'title':\n            case 'alt':\n            case 'placeholder':\n                return _constants__WEBPACK_IMPORTED_MODULE_1__.CENSORED_STRING_MARK;\n        }\n        // mask image URLs\n        if (tagName === 'IMG' || tagName === 'SOURCE') {\n            if (attributeName === 'src' || attributeName === 'srcset') {\n                return _constants__WEBPACK_IMPORTED_MODULE_1__.CENSORED_IMG_MARK;\n            }\n        }\n        // mask <a> URLs\n        if (tagName === 'A' && attributeName === 'href') {\n            return _constants__WEBPACK_IMPORTED_MODULE_1__.CENSORED_STRING_MARK;\n        }\n        // mask data-* attributes\n        if (attributeValue && (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.startsWith)(attributeName, 'data-')) {\n            // Exception: it's safe to reveal the `${PRIVACY_ATTR_NAME}` attr\n            return _constants__WEBPACK_IMPORTED_MODULE_1__.CENSORED_STRING_MARK;\n        }\n    }\n    if (!attributeValue || typeof attributeValue !== 'string') {\n        return attributeValue;\n    }\n    // Minimum Fix for customer.\n    if (attributeValue.length > _privacy__WEBPACK_IMPORTED_MODULE_2__.MAX_ATTRIBUTE_VALUE_CHAR_LENGTH && attributeValue.slice(0, 5) === 'data:') {\n        return 'data:truncated';\n    }\n    return attributeValue;\n}\n//# sourceMappingURL=serializeAttribute.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtL2VzbS9kb21haW4vcmVjb3JkL3NlcmlhbGl6YXRpb24vc2VyaWFsaXplQXR0cmlidXRlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQW1EO0FBQ1c7QUFDb0Q7QUFDckQ7QUFDdEQ7QUFDUCw2QkFBNkIsd0RBQWdCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLHdEQUFnQjtBQUM3QywwQkFBMEIseURBQWlCO0FBQzNDLFNBQVMsd0VBQWlCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLDREQUFvQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qix5REFBaUI7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsNERBQW9CO0FBQ3ZDO0FBQ0E7QUFDQSw4QkFBOEIsaUVBQVU7QUFDeEMscURBQXFELGtCQUFrQjtBQUN2RSxtQkFBbUIsNERBQW9CO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxxRUFBK0I7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhcmNhc3Rlci8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0vZXNtL2RvbWFpbi9yZWNvcmQvc2VyaWFsaXphdGlvbi9zZXJpYWxpemVBdHRyaWJ1dGUuanM/YTkwOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzdGFydHNXaXRoIH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJztcbmltcG9ydCB7IFNUQUJMRV9BVFRSSUJVVEVTIH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1ydW0tY29yZSc7XG5pbXBvcnQgeyBOb2RlUHJpdmFjeUxldmVsLCBQUklWQUNZX0FUVFJfTkFNRSwgQ0VOU09SRURfU1RSSU5HX01BUkssIENFTlNPUkVEX0lNR19NQVJLIH0gZnJvbSAnLi4vLi4vLi4vY29uc3RhbnRzJztcbmltcG9ydCB7IE1BWF9BVFRSSUJVVEVfVkFMVUVfQ0hBUl9MRU5HVEggfSBmcm9tICcuLi9wcml2YWN5JztcbmV4cG9ydCBmdW5jdGlvbiBzZXJpYWxpemVBdHRyaWJ1dGUoZWxlbWVudCwgbm9kZVByaXZhY3lMZXZlbCwgYXR0cmlidXRlTmFtZSwgY29uZmlndXJhdGlvbikge1xuICAgIGlmIChub2RlUHJpdmFjeUxldmVsID09PSBOb2RlUHJpdmFjeUxldmVsLkhJRERFTikge1xuICAgICAgICAvLyBkdXAgY29uZGl0aW9uIGZvciBkaXJlY3QgYWNjZXNzIGNhc2VcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHZhciBhdHRyaWJ1dGVWYWx1ZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUpO1xuICAgIGlmIChub2RlUHJpdmFjeUxldmVsID09PSBOb2RlUHJpdmFjeUxldmVsLk1BU0sgJiZcbiAgICAgICAgYXR0cmlidXRlTmFtZSAhPT0gUFJJVkFDWV9BVFRSX05BTUUgJiZcbiAgICAgICAgIVNUQUJMRV9BVFRSSUJVVEVTLmluY2x1ZGVzKGF0dHJpYnV0ZU5hbWUpICYmXG4gICAgICAgIGF0dHJpYnV0ZU5hbWUgIT09IGNvbmZpZ3VyYXRpb24uYWN0aW9uTmFtZUF0dHJpYnV0ZSkge1xuICAgICAgICB2YXIgdGFnTmFtZSA9IGVsZW1lbnQudGFnTmFtZTtcbiAgICAgICAgc3dpdGNoIChhdHRyaWJ1dGVOYW1lKSB7XG4gICAgICAgICAgICAvLyBNYXNrIEF0dHJpYnV0ZSB0ZXh0IGNvbnRlbnRcbiAgICAgICAgICAgIGNhc2UgJ3RpdGxlJzpcbiAgICAgICAgICAgIGNhc2UgJ2FsdCc6XG4gICAgICAgICAgICBjYXNlICdwbGFjZWhvbGRlcic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIENFTlNPUkVEX1NUUklOR19NQVJLO1xuICAgICAgICB9XG4gICAgICAgIC8vIG1hc2sgaW1hZ2UgVVJMc1xuICAgICAgICBpZiAodGFnTmFtZSA9PT0gJ0lNRycgfHwgdGFnTmFtZSA9PT0gJ1NPVVJDRScpIHtcbiAgICAgICAgICAgIGlmIChhdHRyaWJ1dGVOYW1lID09PSAnc3JjJyB8fCBhdHRyaWJ1dGVOYW1lID09PSAnc3Jjc2V0Jykge1xuICAgICAgICAgICAgICAgIHJldHVybiBDRU5TT1JFRF9JTUdfTUFSSztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBtYXNrIDxhPiBVUkxzXG4gICAgICAgIGlmICh0YWdOYW1lID09PSAnQScgJiYgYXR0cmlidXRlTmFtZSA9PT0gJ2hyZWYnKSB7XG4gICAgICAgICAgICByZXR1cm4gQ0VOU09SRURfU1RSSU5HX01BUks7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbWFzayBkYXRhLSogYXR0cmlidXRlc1xuICAgICAgICBpZiAoYXR0cmlidXRlVmFsdWUgJiYgc3RhcnRzV2l0aChhdHRyaWJ1dGVOYW1lLCAnZGF0YS0nKSkge1xuICAgICAgICAgICAgLy8gRXhjZXB0aW9uOiBpdCdzIHNhZmUgdG8gcmV2ZWFsIHRoZSBgJHtQUklWQUNZX0FUVFJfTkFNRX1gIGF0dHJcbiAgICAgICAgICAgIHJldHVybiBDRU5TT1JFRF9TVFJJTkdfTUFSSztcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoIWF0dHJpYnV0ZVZhbHVlIHx8IHR5cGVvZiBhdHRyaWJ1dGVWYWx1ZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIGF0dHJpYnV0ZVZhbHVlO1xuICAgIH1cbiAgICAvLyBNaW5pbXVtIEZpeCBmb3IgY3VzdG9tZXIuXG4gICAgaWYgKGF0dHJpYnV0ZVZhbHVlLmxlbmd0aCA+IE1BWF9BVFRSSUJVVEVfVkFMVUVfQ0hBUl9MRU5HVEggJiYgYXR0cmlidXRlVmFsdWUuc2xpY2UoMCwgNSkgPT09ICdkYXRhOicpIHtcbiAgICAgICAgcmV0dXJuICdkYXRhOnRydW5jYXRlZCc7XG4gICAgfVxuICAgIHJldHVybiBhdHRyaWJ1dGVWYWx1ZTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNlcmlhbGl6ZUF0dHJpYnV0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/serialization/serializeAttribute.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/serialization/serializeAttributes.js":
/*!******************************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum/esm/domain/record/serialization/serializeAttributes.js ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   serializeAttributes: () => (/* binding */ serializeAttributes)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../constants */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/constants.js\");\n/* harmony import */ var _privacy__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../privacy */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/privacy.js\");\n/* harmony import */ var _serializationUtils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./serializationUtils */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/serialization/serializationUtils.js\");\n/* harmony import */ var _serializeAttribute__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./serializeAttribute */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/serialization/serializeAttribute.js\");\n\n\n\n\nfunction serializeAttributes(element, nodePrivacyLevel, options) {\n    var _a;\n    if (nodePrivacyLevel === _constants__WEBPACK_IMPORTED_MODULE_0__.NodePrivacyLevel.HIDDEN) {\n        return {};\n    }\n    var safeAttrs = {};\n    var tagName = (0,_serializationUtils__WEBPACK_IMPORTED_MODULE_2__.getValidTagName)(element.tagName);\n    var doc = element.ownerDocument;\n    for (var i = 0; i < element.attributes.length; i += 1) {\n        var attribute = element.attributes.item(i);\n        var attributeName = attribute.name;\n        var attributeValue = (0,_serializeAttribute__WEBPACK_IMPORTED_MODULE_3__.serializeAttribute)(element, nodePrivacyLevel, attributeName, options.configuration);\n        if (attributeValue !== null) {\n            safeAttrs[attributeName] = attributeValue;\n        }\n    }\n    if (element.value &&\n        (tagName === 'textarea' || tagName === 'select' || tagName === 'option' || tagName === 'input')) {\n        var formValue = (0,_serializationUtils__WEBPACK_IMPORTED_MODULE_2__.getElementInputValue)(element, nodePrivacyLevel);\n        if (formValue !== undefined) {\n            safeAttrs.value = formValue;\n        }\n    }\n    /**\n     * <Option> can be selected, which occurs if its `value` matches ancestor `<Select>.value`\n     */\n    if (tagName === 'option' && nodePrivacyLevel === _constants__WEBPACK_IMPORTED_MODULE_0__.NodePrivacyLevel.ALLOW) {\n        // For privacy=`MASK`, all the values would be the same, so skip.\n        var optionElement = element;\n        if (optionElement.selected) {\n            safeAttrs.selected = optionElement.selected;\n        }\n    }\n    // remote css\n    if (tagName === 'link') {\n        var stylesheet = Array.from(doc.styleSheets).find(function (s) { return s.href === element.href; });\n        var cssText = getCssRulesString(stylesheet);\n        if (cssText && stylesheet) {\n            safeAttrs._cssText = cssText;\n        }\n    }\n    // dynamic stylesheet\n    if (tagName === 'style' &&\n        element.sheet &&\n        // TODO: Currently we only try to get dynamic stylesheet when it is an empty style element\n        !(element.innerText || element.textContent || '').trim().length) {\n        var cssText = getCssRulesString(element.sheet);\n        if (cssText) {\n            safeAttrs._cssText = cssText;\n        }\n    }\n    /**\n     * Forms: input[type=checkbox,radio]\n     * The `checked` property for <input> is a little bit special:\n     * 1. el.checked is a setter that returns if truthy.\n     * 2. getAttribute returns the string value\n     * getAttribute('checked') does not sync with `Element.checked`, so use JS property\n     * NOTE: `checked` property exists on `HTMLInputElement`. For serializer assumptions, we check for type=radio|check.\n     */\n    var inputElement = element;\n    if (tagName === 'input' && (inputElement.type === 'radio' || inputElement.type === 'checkbox')) {\n        if (nodePrivacyLevel === _constants__WEBPACK_IMPORTED_MODULE_0__.NodePrivacyLevel.ALLOW) {\n            safeAttrs.checked = !!inputElement.checked;\n        }\n        else if ((0,_privacy__WEBPACK_IMPORTED_MODULE_1__.shouldMaskNode)(inputElement, nodePrivacyLevel)) {\n            delete safeAttrs.checked;\n        }\n    }\n    /**\n     * Serialize the media playback state\n     */\n    if (tagName === 'audio' || tagName === 'video') {\n        var mediaElement = element;\n        safeAttrs.rr_mediaState = mediaElement.paused ? 'paused' : 'played';\n    }\n    /**\n     * Serialize the scroll state for each element only for full snapshot\n     */\n    var scrollTop;\n    var scrollLeft;\n    var serializationContext = options.serializationContext;\n    switch (serializationContext.status) {\n        case 0 /* SerializationContextStatus.INITIAL_FULL_SNAPSHOT */:\n            scrollTop = Math.round(element.scrollTop);\n            scrollLeft = Math.round(element.scrollLeft);\n            if (scrollTop || scrollLeft) {\n                serializationContext.elementsScrollPositions.set(element, { scrollTop: scrollTop, scrollLeft: scrollLeft });\n            }\n            break;\n        case 1 /* SerializationContextStatus.SUBSEQUENT_FULL_SNAPSHOT */:\n            if (serializationContext.elementsScrollPositions.has(element)) {\n                ;\n                (_a = serializationContext.elementsScrollPositions.get(element), scrollTop = _a.scrollTop, scrollLeft = _a.scrollLeft);\n            }\n            break;\n    }\n    if (scrollLeft) {\n        safeAttrs.rr_scrollLeft = scrollLeft;\n    }\n    if (scrollTop) {\n        safeAttrs.rr_scrollTop = scrollTop;\n    }\n    return safeAttrs;\n}\nfunction getCssRulesString(cssStyleSheet) {\n    if (!cssStyleSheet) {\n        return null;\n    }\n    var rules;\n    try {\n        rules = cssStyleSheet.rules || cssStyleSheet.cssRules;\n    }\n    catch (_a) {\n        // if css is protected by CORS we cannot access cssRules see: https://www.w3.org/TR/cssom-1/#the-cssstylesheet-interface\n    }\n    if (!rules) {\n        return null;\n    }\n    var styleSheetCssText = Array.from(rules, getCssRuleString).join('');\n    return (0,_serializationUtils__WEBPACK_IMPORTED_MODULE_2__.switchToAbsoluteUrl)(styleSheetCssText, cssStyleSheet.href);\n}\nfunction getCssRuleString(rule) {\n    return isCSSImportRule(rule) ? getCssRulesString(rule.styleSheet) || '' : rule.cssText;\n}\nfunction isCSSImportRule(rule) {\n    return 'styleSheet' in rule;\n}\n//# sourceMappingURL=serializeAttributes.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtL2VzbS9kb21haW4vcmVjb3JkL3NlcmlhbGl6YXRpb24vc2VyaWFsaXplQXR0cmlidXRlcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFzRDtBQUNWO0FBQ3NEO0FBQ3hDO0FBQ25EO0FBQ1A7QUFDQSw2QkFBNkIsd0RBQWdCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixvRUFBZTtBQUNqQztBQUNBLG9CQUFvQiwrQkFBK0I7QUFDbkQ7QUFDQTtBQUNBLDZCQUE2Qix1RUFBa0I7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHlFQUFvQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCx3REFBZ0I7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlFQUF5RSxpQ0FBaUM7QUFDMUc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsd0RBQWdCO0FBQ2pEO0FBQ0E7QUFDQSxpQkFBaUIsd0RBQWM7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEVBQTRFLDhDQUE4QztBQUMxSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyx3RUFBbUI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhcmNhc3Rlci8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0vZXNtL2RvbWFpbi9yZWNvcmQvc2VyaWFsaXphdGlvbi9zZXJpYWxpemVBdHRyaWJ1dGVzLmpzPzUyMWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTm9kZVByaXZhY3lMZXZlbCB9IGZyb20gJy4uLy4uLy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBzaG91bGRNYXNrTm9kZSB9IGZyb20gJy4uL3ByaXZhY3knO1xuaW1wb3J0IHsgZ2V0RWxlbWVudElucHV0VmFsdWUsIHN3aXRjaFRvQWJzb2x1dGVVcmwsIGdldFZhbGlkVGFnTmFtZSB9IGZyb20gJy4vc2VyaWFsaXphdGlvblV0aWxzJztcbmltcG9ydCB7IHNlcmlhbGl6ZUF0dHJpYnV0ZSB9IGZyb20gJy4vc2VyaWFsaXplQXR0cmlidXRlJztcbmV4cG9ydCBmdW5jdGlvbiBzZXJpYWxpemVBdHRyaWJ1dGVzKGVsZW1lbnQsIG5vZGVQcml2YWN5TGV2ZWwsIG9wdGlvbnMpIHtcbiAgICB2YXIgX2E7XG4gICAgaWYgKG5vZGVQcml2YWN5TGV2ZWwgPT09IE5vZGVQcml2YWN5TGV2ZWwuSElEREVOKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgdmFyIHNhZmVBdHRycyA9IHt9O1xuICAgIHZhciB0YWdOYW1lID0gZ2V0VmFsaWRUYWdOYW1lKGVsZW1lbnQudGFnTmFtZSk7XG4gICAgdmFyIGRvYyA9IGVsZW1lbnQub3duZXJEb2N1bWVudDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVsZW1lbnQuYXR0cmlidXRlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICB2YXIgYXR0cmlidXRlID0gZWxlbWVudC5hdHRyaWJ1dGVzLml0ZW0oaSk7XG4gICAgICAgIHZhciBhdHRyaWJ1dGVOYW1lID0gYXR0cmlidXRlLm5hbWU7XG4gICAgICAgIHZhciBhdHRyaWJ1dGVWYWx1ZSA9IHNlcmlhbGl6ZUF0dHJpYnV0ZShlbGVtZW50LCBub2RlUHJpdmFjeUxldmVsLCBhdHRyaWJ1dGVOYW1lLCBvcHRpb25zLmNvbmZpZ3VyYXRpb24pO1xuICAgICAgICBpZiAoYXR0cmlidXRlVmFsdWUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHNhZmVBdHRyc1thdHRyaWJ1dGVOYW1lXSA9IGF0dHJpYnV0ZVZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChlbGVtZW50LnZhbHVlICYmXG4gICAgICAgICh0YWdOYW1lID09PSAndGV4dGFyZWEnIHx8IHRhZ05hbWUgPT09ICdzZWxlY3QnIHx8IHRhZ05hbWUgPT09ICdvcHRpb24nIHx8IHRhZ05hbWUgPT09ICdpbnB1dCcpKSB7XG4gICAgICAgIHZhciBmb3JtVmFsdWUgPSBnZXRFbGVtZW50SW5wdXRWYWx1ZShlbGVtZW50LCBub2RlUHJpdmFjeUxldmVsKTtcbiAgICAgICAgaWYgKGZvcm1WYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBzYWZlQXR0cnMudmFsdWUgPSBmb3JtVmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogPE9wdGlvbj4gY2FuIGJlIHNlbGVjdGVkLCB3aGljaCBvY2N1cnMgaWYgaXRzIGB2YWx1ZWAgbWF0Y2hlcyBhbmNlc3RvciBgPFNlbGVjdD4udmFsdWVgXG4gICAgICovXG4gICAgaWYgKHRhZ05hbWUgPT09ICdvcHRpb24nICYmIG5vZGVQcml2YWN5TGV2ZWwgPT09IE5vZGVQcml2YWN5TGV2ZWwuQUxMT1cpIHtcbiAgICAgICAgLy8gRm9yIHByaXZhY3k9YE1BU0tgLCBhbGwgdGhlIHZhbHVlcyB3b3VsZCBiZSB0aGUgc2FtZSwgc28gc2tpcC5cbiAgICAgICAgdmFyIG9wdGlvbkVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICBpZiAob3B0aW9uRWxlbWVudC5zZWxlY3RlZCkge1xuICAgICAgICAgICAgc2FmZUF0dHJzLnNlbGVjdGVkID0gb3B0aW9uRWxlbWVudC5zZWxlY3RlZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyByZW1vdGUgY3NzXG4gICAgaWYgKHRhZ05hbWUgPT09ICdsaW5rJykge1xuICAgICAgICB2YXIgc3R5bGVzaGVldCA9IEFycmF5LmZyb20oZG9jLnN0eWxlU2hlZXRzKS5maW5kKGZ1bmN0aW9uIChzKSB7IHJldHVybiBzLmhyZWYgPT09IGVsZW1lbnQuaHJlZjsgfSk7XG4gICAgICAgIHZhciBjc3NUZXh0ID0gZ2V0Q3NzUnVsZXNTdHJpbmcoc3R5bGVzaGVldCk7XG4gICAgICAgIGlmIChjc3NUZXh0ICYmIHN0eWxlc2hlZXQpIHtcbiAgICAgICAgICAgIHNhZmVBdHRycy5fY3NzVGV4dCA9IGNzc1RleHQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gZHluYW1pYyBzdHlsZXNoZWV0XG4gICAgaWYgKHRhZ05hbWUgPT09ICdzdHlsZScgJiZcbiAgICAgICAgZWxlbWVudC5zaGVldCAmJlxuICAgICAgICAvLyBUT0RPOiBDdXJyZW50bHkgd2Ugb25seSB0cnkgdG8gZ2V0IGR5bmFtaWMgc3R5bGVzaGVldCB3aGVuIGl0IGlzIGFuIGVtcHR5IHN0eWxlIGVsZW1lbnRcbiAgICAgICAgIShlbGVtZW50LmlubmVyVGV4dCB8fCBlbGVtZW50LnRleHRDb250ZW50IHx8ICcnKS50cmltKCkubGVuZ3RoKSB7XG4gICAgICAgIHZhciBjc3NUZXh0ID0gZ2V0Q3NzUnVsZXNTdHJpbmcoZWxlbWVudC5zaGVldCk7XG4gICAgICAgIGlmIChjc3NUZXh0KSB7XG4gICAgICAgICAgICBzYWZlQXR0cnMuX2Nzc1RleHQgPSBjc3NUZXh0O1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZvcm1zOiBpbnB1dFt0eXBlPWNoZWNrYm94LHJhZGlvXVxuICAgICAqIFRoZSBgY2hlY2tlZGAgcHJvcGVydHkgZm9yIDxpbnB1dD4gaXMgYSBsaXR0bGUgYml0IHNwZWNpYWw6XG4gICAgICogMS4gZWwuY2hlY2tlZCBpcyBhIHNldHRlciB0aGF0IHJldHVybnMgaWYgdHJ1dGh5LlxuICAgICAqIDIuIGdldEF0dHJpYnV0ZSByZXR1cm5zIHRoZSBzdHJpbmcgdmFsdWVcbiAgICAgKiBnZXRBdHRyaWJ1dGUoJ2NoZWNrZWQnKSBkb2VzIG5vdCBzeW5jIHdpdGggYEVsZW1lbnQuY2hlY2tlZGAsIHNvIHVzZSBKUyBwcm9wZXJ0eVxuICAgICAqIE5PVEU6IGBjaGVja2VkYCBwcm9wZXJ0eSBleGlzdHMgb24gYEhUTUxJbnB1dEVsZW1lbnRgLiBGb3Igc2VyaWFsaXplciBhc3N1bXB0aW9ucywgd2UgY2hlY2sgZm9yIHR5cGU9cmFkaW98Y2hlY2suXG4gICAgICovXG4gICAgdmFyIGlucHV0RWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgaWYgKHRhZ05hbWUgPT09ICdpbnB1dCcgJiYgKGlucHV0RWxlbWVudC50eXBlID09PSAncmFkaW8nIHx8IGlucHV0RWxlbWVudC50eXBlID09PSAnY2hlY2tib3gnKSkge1xuICAgICAgICBpZiAobm9kZVByaXZhY3lMZXZlbCA9PT0gTm9kZVByaXZhY3lMZXZlbC5BTExPVykge1xuICAgICAgICAgICAgc2FmZUF0dHJzLmNoZWNrZWQgPSAhIWlucHV0RWxlbWVudC5jaGVja2VkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHNob3VsZE1hc2tOb2RlKGlucHV0RWxlbWVudCwgbm9kZVByaXZhY3lMZXZlbCkpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBzYWZlQXR0cnMuY2hlY2tlZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXJpYWxpemUgdGhlIG1lZGlhIHBsYXliYWNrIHN0YXRlXG4gICAgICovXG4gICAgaWYgKHRhZ05hbWUgPT09ICdhdWRpbycgfHwgdGFnTmFtZSA9PT0gJ3ZpZGVvJykge1xuICAgICAgICB2YXIgbWVkaWFFbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgc2FmZUF0dHJzLnJyX21lZGlhU3RhdGUgPSBtZWRpYUVsZW1lbnQucGF1c2VkID8gJ3BhdXNlZCcgOiAncGxheWVkJztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VyaWFsaXplIHRoZSBzY3JvbGwgc3RhdGUgZm9yIGVhY2ggZWxlbWVudCBvbmx5IGZvciBmdWxsIHNuYXBzaG90XG4gICAgICovXG4gICAgdmFyIHNjcm9sbFRvcDtcbiAgICB2YXIgc2Nyb2xsTGVmdDtcbiAgICB2YXIgc2VyaWFsaXphdGlvbkNvbnRleHQgPSBvcHRpb25zLnNlcmlhbGl6YXRpb25Db250ZXh0O1xuICAgIHN3aXRjaCAoc2VyaWFsaXphdGlvbkNvbnRleHQuc3RhdHVzKSB7XG4gICAgICAgIGNhc2UgMCAvKiBTZXJpYWxpemF0aW9uQ29udGV4dFN0YXR1cy5JTklUSUFMX0ZVTExfU05BUFNIT1QgKi86XG4gICAgICAgICAgICBzY3JvbGxUb3AgPSBNYXRoLnJvdW5kKGVsZW1lbnQuc2Nyb2xsVG9wKTtcbiAgICAgICAgICAgIHNjcm9sbExlZnQgPSBNYXRoLnJvdW5kKGVsZW1lbnQuc2Nyb2xsTGVmdCk7XG4gICAgICAgICAgICBpZiAoc2Nyb2xsVG9wIHx8IHNjcm9sbExlZnQpIHtcbiAgICAgICAgICAgICAgICBzZXJpYWxpemF0aW9uQ29udGV4dC5lbGVtZW50c1Njcm9sbFBvc2l0aW9ucy5zZXQoZWxlbWVudCwgeyBzY3JvbGxUb3A6IHNjcm9sbFRvcCwgc2Nyb2xsTGVmdDogc2Nyb2xsTGVmdCB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDEgLyogU2VyaWFsaXphdGlvbkNvbnRleHRTdGF0dXMuU1VCU0VRVUVOVF9GVUxMX1NOQVBTSE9UICovOlxuICAgICAgICAgICAgaWYgKHNlcmlhbGl6YXRpb25Db250ZXh0LmVsZW1lbnRzU2Nyb2xsUG9zaXRpb25zLmhhcyhlbGVtZW50KSkge1xuICAgICAgICAgICAgICAgIDtcbiAgICAgICAgICAgICAgICAoX2EgPSBzZXJpYWxpemF0aW9uQ29udGV4dC5lbGVtZW50c1Njcm9sbFBvc2l0aW9ucy5nZXQoZWxlbWVudCksIHNjcm9sbFRvcCA9IF9hLnNjcm9sbFRvcCwgc2Nyb2xsTGVmdCA9IF9hLnNjcm9sbExlZnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGlmIChzY3JvbGxMZWZ0KSB7XG4gICAgICAgIHNhZmVBdHRycy5ycl9zY3JvbGxMZWZ0ID0gc2Nyb2xsTGVmdDtcbiAgICB9XG4gICAgaWYgKHNjcm9sbFRvcCkge1xuICAgICAgICBzYWZlQXR0cnMucnJfc2Nyb2xsVG9wID0gc2Nyb2xsVG9wO1xuICAgIH1cbiAgICByZXR1cm4gc2FmZUF0dHJzO1xufVxuZnVuY3Rpb24gZ2V0Q3NzUnVsZXNTdHJpbmcoY3NzU3R5bGVTaGVldCkge1xuICAgIGlmICghY3NzU3R5bGVTaGVldCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgdmFyIHJ1bGVzO1xuICAgIHRyeSB7XG4gICAgICAgIHJ1bGVzID0gY3NzU3R5bGVTaGVldC5ydWxlcyB8fCBjc3NTdHlsZVNoZWV0LmNzc1J1bGVzO1xuICAgIH1cbiAgICBjYXRjaCAoX2EpIHtcbiAgICAgICAgLy8gaWYgY3NzIGlzIHByb3RlY3RlZCBieSBDT1JTIHdlIGNhbm5vdCBhY2Nlc3MgY3NzUnVsZXMgc2VlOiBodHRwczovL3d3dy53My5vcmcvVFIvY3Nzb20tMS8jdGhlLWNzc3N0eWxlc2hlZXQtaW50ZXJmYWNlXG4gICAgfVxuICAgIGlmICghcnVsZXMpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHZhciBzdHlsZVNoZWV0Q3NzVGV4dCA9IEFycmF5LmZyb20ocnVsZXMsIGdldENzc1J1bGVTdHJpbmcpLmpvaW4oJycpO1xuICAgIHJldHVybiBzd2l0Y2hUb0Fic29sdXRlVXJsKHN0eWxlU2hlZXRDc3NUZXh0LCBjc3NTdHlsZVNoZWV0LmhyZWYpO1xufVxuZnVuY3Rpb24gZ2V0Q3NzUnVsZVN0cmluZyhydWxlKSB7XG4gICAgcmV0dXJuIGlzQ1NTSW1wb3J0UnVsZShydWxlKSA/IGdldENzc1J1bGVzU3RyaW5nKHJ1bGUuc3R5bGVTaGVldCkgfHwgJycgOiBydWxlLmNzc1RleHQ7XG59XG5mdW5jdGlvbiBpc0NTU0ltcG9ydFJ1bGUocnVsZSkge1xuICAgIHJldHVybiAnc3R5bGVTaGVldCcgaW4gcnVsZTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNlcmlhbGl6ZUF0dHJpYnV0ZXMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/serialization/serializeAttributes.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/serialization/serializeDocument.js":
/*!****************************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum/esm/domain/record/serialization/serializeDocument.js ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   serializeDocument: () => (/* binding */ serializeDocument)\n/* harmony export */ });\n/* harmony import */ var _serializeNode__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./serializeNode */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/serialization/serializeNode.js\");\n\nfunction serializeDocument(document, configuration, serializationContext) {\n    // We are sure that Documents are never ignored, so this function never returns null\n    return (0,_serializeNode__WEBPACK_IMPORTED_MODULE_0__.serializeNodeWithId)(document, {\n        serializationContext: serializationContext,\n        parentNodePrivacyLevel: configuration.defaultPrivacyLevel,\n        configuration: configuration,\n    });\n}\n//# sourceMappingURL=serializeDocument.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtL2VzbS9kb21haW4vcmVjb3JkL3NlcmlhbGl6YXRpb24vc2VyaWFsaXplRG9jdW1lbnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBc0Q7QUFDL0M7QUFDUDtBQUNBLFdBQVcsbUVBQW1CO0FBQzlCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFyY2FzdGVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLXJ1bS9lc20vZG9tYWluL3JlY29yZC9zZXJpYWxpemF0aW9uL3NlcmlhbGl6ZURvY3VtZW50LmpzPzljMmIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc2VyaWFsaXplTm9kZVdpdGhJZCB9IGZyb20gJy4vc2VyaWFsaXplTm9kZSc7XG5leHBvcnQgZnVuY3Rpb24gc2VyaWFsaXplRG9jdW1lbnQoZG9jdW1lbnQsIGNvbmZpZ3VyYXRpb24sIHNlcmlhbGl6YXRpb25Db250ZXh0KSB7XG4gICAgLy8gV2UgYXJlIHN1cmUgdGhhdCBEb2N1bWVudHMgYXJlIG5ldmVyIGlnbm9yZWQsIHNvIHRoaXMgZnVuY3Rpb24gbmV2ZXIgcmV0dXJucyBudWxsXG4gICAgcmV0dXJuIHNlcmlhbGl6ZU5vZGVXaXRoSWQoZG9jdW1lbnQsIHtcbiAgICAgICAgc2VyaWFsaXphdGlvbkNvbnRleHQ6IHNlcmlhbGl6YXRpb25Db250ZXh0LFxuICAgICAgICBwYXJlbnROb2RlUHJpdmFjeUxldmVsOiBjb25maWd1cmF0aW9uLmRlZmF1bHRQcml2YWN5TGV2ZWwsXG4gICAgICAgIGNvbmZpZ3VyYXRpb246IGNvbmZpZ3VyYXRpb24sXG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXJpYWxpemVEb2N1bWVudC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/serialization/serializeDocument.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/serialization/serializeNode.js":
/*!************************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum/esm/domain/record/serialization/serializeNode.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   generateNextId: () => (/* binding */ generateNextId),\n/* harmony export */   serializeChildNodes: () => (/* binding */ serializeChildNodes),\n/* harmony export */   serializeDocumentNode: () => (/* binding */ serializeDocumentNode),\n/* harmony export */   serializeNodeWithId: () => (/* binding */ serializeNodeWithId)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_rum_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-rum-core */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/index.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/polyfills.js\");\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../types */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/types/index.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../constants */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/constants.js\");\n/* harmony import */ var _privacy__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../privacy */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/privacy.js\");\n/* harmony import */ var _serializationUtils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./serializationUtils */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/serialization/serializationUtils.js\");\n/* harmony import */ var _serializeStyleSheets__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./serializeStyleSheets */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/serialization/serializeStyleSheets.js\");\n/* harmony import */ var _serializeAttributes__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./serializeAttributes */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/serialization/serializeAttributes.js\");\n\n\n\n\n\n\n\n\nfunction serializeNodeWithId(node, options) {\n    var serializedNode = serializeNode(node, options);\n    if (!serializedNode) {\n        return null;\n    }\n    // Try to reuse the previous id\n    var id = (0,_serializationUtils__WEBPACK_IMPORTED_MODULE_4__.getSerializedNodeId)(node) || generateNextId();\n    var serializedNodeWithId = serializedNode;\n    serializedNodeWithId.id = id;\n    (0,_serializationUtils__WEBPACK_IMPORTED_MODULE_4__.setSerializedNodeId)(node, id);\n    if (options.serializedNodeIds) {\n        options.serializedNodeIds.add(id);\n    }\n    return serializedNodeWithId;\n}\nvar _nextId = 1;\nfunction generateNextId() {\n    return _nextId++;\n}\nfunction serializeChildNodes(node, options) {\n    var result = [];\n    node.childNodes.forEach(function (childNode) {\n        var serializedChildNode = serializeNodeWithId(childNode, options);\n        if (serializedChildNode) {\n            result.push(serializedChildNode);\n        }\n    });\n    return result;\n}\nfunction serializeNode(node, options) {\n    switch (node.nodeType) {\n        case node.DOCUMENT_NODE:\n            return serializeDocumentNode(node, options);\n        case node.DOCUMENT_FRAGMENT_NODE:\n            return serializeDocumentFragmentNode(node, options);\n        case node.DOCUMENT_TYPE_NODE:\n            return serializeDocumentTypeNode(node);\n        case node.ELEMENT_NODE:\n            return serializeElementNode(node, options);\n        case node.TEXT_NODE:\n            return serializeTextNode(node, options);\n        case node.CDATA_SECTION_NODE:\n            return serializeCDataNode();\n    }\n}\nfunction serializeDocumentNode(document, options) {\n    return {\n        type: _types__WEBPACK_IMPORTED_MODULE_1__.NodeType.Document,\n        childNodes: serializeChildNodes(document, options),\n        adoptedStyleSheets: (0,_serializeStyleSheets__WEBPACK_IMPORTED_MODULE_5__.serializeStyleSheets)(document.adoptedStyleSheets),\n    };\n}\nfunction serializeDocumentFragmentNode(element, options) {\n    var childNodes = [];\n    if (element.childNodes.length) {\n        childNodes = serializeChildNodes(element, options);\n    }\n    var isShadowRoot = (0,_datadog_browser_rum_core__WEBPACK_IMPORTED_MODULE_0__.isNodeShadowRoot)(element);\n    if (isShadowRoot) {\n        options.serializationContext.shadowRootsController.addShadowRoot(element);\n    }\n    return {\n        type: _types__WEBPACK_IMPORTED_MODULE_1__.NodeType.DocumentFragment,\n        childNodes: childNodes,\n        isShadowRoot: isShadowRoot,\n        adoptedStyleSheets: isShadowRoot ? (0,_serializeStyleSheets__WEBPACK_IMPORTED_MODULE_5__.serializeStyleSheets)(element.adoptedStyleSheets) : undefined,\n    };\n}\nfunction serializeDocumentTypeNode(documentType) {\n    return {\n        type: _types__WEBPACK_IMPORTED_MODULE_1__.NodeType.DocumentType,\n        name: documentType.name,\n        publicId: documentType.publicId,\n        systemId: documentType.systemId,\n    };\n}\n/**\n * Serializing Element nodes involves capturing:\n * 1. HTML ATTRIBUTES:\n * 2. JS STATE:\n * - scroll offsets\n * - Form fields (input value, checkbox checked, option selection, range)\n * - Canvas state,\n * - Media (video/audio) play mode + currentTime\n * - iframe contents\n * - webcomponents\n * 3. CUSTOM PROPERTIES:\n * - height+width for when `hidden` to cover the element\n * 4. EXCLUDED INTERACTION STATE:\n * - focus (possible, but not worth perf impact)\n * - hover (tracked only via mouse activity)\n * - fullscreen mode\n */\nfunction serializeElementNode(element, options) {\n    var _a;\n    var tagName = (0,_serializationUtils__WEBPACK_IMPORTED_MODULE_4__.getValidTagName)(element.tagName);\n    var isSVG = isSVGElement(element) || undefined;\n    // For performance reason, we don't use getNodePrivacyLevel directly: we leverage the\n    // parentNodePrivacyLevel option to avoid iterating over all parents\n    var nodePrivacyLevel = (0,_privacy__WEBPACK_IMPORTED_MODULE_3__.reducePrivacyLevel)((0,_privacy__WEBPACK_IMPORTED_MODULE_3__.getNodeSelfPrivacyLevel)(element), options.parentNodePrivacyLevel);\n    if (nodePrivacyLevel === _constants__WEBPACK_IMPORTED_MODULE_2__.NodePrivacyLevel.HIDDEN) {\n        var _b = element.getBoundingClientRect(), width = _b.width, height = _b.height;\n        return {\n            type: _types__WEBPACK_IMPORTED_MODULE_1__.NodeType.Element,\n            tagName: tagName,\n            attributes: (_a = {\n                    rr_width: \"\".concat(width, \"px\"),\n                    rr_height: \"\".concat(height, \"px\")\n                },\n                _a[_constants__WEBPACK_IMPORTED_MODULE_2__.PRIVACY_ATTR_NAME] = _constants__WEBPACK_IMPORTED_MODULE_2__.PRIVACY_ATTR_VALUE_HIDDEN,\n                _a),\n            childNodes: [],\n            isSVG: isSVG,\n        };\n    }\n    // Ignore Elements like Script and some Link, Metas\n    if (nodePrivacyLevel === _constants__WEBPACK_IMPORTED_MODULE_2__.NodePrivacyLevel.IGNORE) {\n        return;\n    }\n    var attributes = (0,_serializeAttributes__WEBPACK_IMPORTED_MODULE_6__.serializeAttributes)(element, nodePrivacyLevel, options);\n    var childNodes = [];\n    if (element.childNodes.length) {\n        // OBJECT POOLING OPTIMIZATION:\n        // We should not create a new object systematically as it could impact performances. Try to reuse\n        // the same object as much as possible, and clone it only if we need to.\n        var childNodesSerializationOptions = void 0;\n        if (options.parentNodePrivacyLevel === nodePrivacyLevel && options.ignoreWhiteSpace === (tagName === 'head')) {\n            childNodesSerializationOptions = options;\n        }\n        else {\n            childNodesSerializationOptions = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.assign)({}, options, {\n                parentNodePrivacyLevel: nodePrivacyLevel,\n                ignoreWhiteSpace: tagName === 'head',\n            });\n        }\n        childNodes = serializeChildNodes(element, childNodesSerializationOptions);\n    }\n    if ((0,_datadog_browser_rum_core__WEBPACK_IMPORTED_MODULE_0__.isNodeShadowHost)(element)) {\n        var shadowRoot = serializeNodeWithId(element.shadowRoot, options);\n        if (shadowRoot !== null) {\n            childNodes.push(shadowRoot);\n        }\n    }\n    return {\n        type: _types__WEBPACK_IMPORTED_MODULE_1__.NodeType.Element,\n        tagName: tagName,\n        attributes: attributes,\n        childNodes: childNodes,\n        isSVG: isSVG,\n    };\n}\nfunction isSVGElement(el) {\n    return el.tagName === 'svg' || el instanceof SVGElement;\n}\n/**\n * Text Nodes are dependant on Element nodes\n * Privacy levels are set on elements so we check the parentElement of a text node\n * for privacy level.\n */\nfunction serializeTextNode(textNode, options) {\n    var _a;\n    // The parent node may not be a html element which has a tagName attribute.\n    // So just let it be undefined which is ok in this use case.\n    var parentTagName = (_a = textNode.parentElement) === null || _a === void 0 ? void 0 : _a.tagName;\n    var textContent = (0,_privacy__WEBPACK_IMPORTED_MODULE_3__.getTextContent)(textNode, options.ignoreWhiteSpace || false, options.parentNodePrivacyLevel);\n    if (textContent === undefined) {\n        return;\n    }\n    return {\n        type: _types__WEBPACK_IMPORTED_MODULE_1__.NodeType.Text,\n        textContent: textContent,\n        isStyle: parentTagName === 'STYLE' ? true : undefined,\n    };\n}\nfunction serializeCDataNode() {\n    return {\n        type: _types__WEBPACK_IMPORTED_MODULE_1__.NodeType.CDATA,\n        textContent: '',\n    };\n}\n//# sourceMappingURL=serializeNode.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtL2VzbS9kb21haW4vcmVjb3JkL3NlcmlhbGl6YXRpb24vc2VyaWFsaXplTm9kZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBK0U7QUFDaEM7QUFDTDtBQUMwRDtBQUNYO0FBQ1E7QUFDbkM7QUFDRjtBQUNyRDtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLHdFQUFtQjtBQUNoQztBQUNBO0FBQ0EsSUFBSSx3RUFBbUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLGNBQWMsNENBQVE7QUFDdEI7QUFDQSw0QkFBNEIsMkVBQW9CO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLDJFQUFnQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsNENBQVE7QUFDdEI7QUFDQTtBQUNBLDJDQUEyQywyRUFBb0I7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLDRDQUFRO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixvRUFBZTtBQUNqQztBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsNERBQWtCLENBQUMsaUVBQXVCO0FBQ3JFLDZCQUE2Qix3REFBZ0I7QUFDN0M7QUFDQTtBQUNBLGtCQUFrQiw0Q0FBUTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixtQkFBbUIseURBQWlCLElBQUksaUVBQXlCO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2Qix3REFBZ0I7QUFDN0M7QUFDQTtBQUNBLHFCQUFxQix5RUFBbUI7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsNkRBQU0sR0FBRztBQUN0RDtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLFFBQVEsMkVBQWdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsNENBQVE7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0Isd0RBQWM7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLDRDQUFRO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsNENBQVE7QUFDdEI7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYXJjYXN0ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtL2VzbS9kb21haW4vcmVjb3JkL3NlcmlhbGl6YXRpb24vc2VyaWFsaXplTm9kZS5qcz81NTRjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzTm9kZVNoYWRvd1Jvb3QsIGlzTm9kZVNoYWRvd0hvc3QgfSBmcm9tICdAZGF0YWRvZy9icm93c2VyLXJ1bS1jb3JlJztcbmltcG9ydCB7IGFzc2lnbiB9IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItY29yZSc7XG5pbXBvcnQgeyBOb2RlVHlwZSB9IGZyb20gJy4uLy4uLy4uL3R5cGVzJztcbmltcG9ydCB7IE5vZGVQcml2YWN5TGV2ZWwsIFBSSVZBQ1lfQVRUUl9OQU1FLCBQUklWQUNZX0FUVFJfVkFMVUVfSElEREVOIH0gZnJvbSAnLi4vLi4vLi4vY29uc3RhbnRzJztcbmltcG9ydCB7IHJlZHVjZVByaXZhY3lMZXZlbCwgZ2V0Tm9kZVNlbGZQcml2YWN5TGV2ZWwsIGdldFRleHRDb250ZW50IH0gZnJvbSAnLi4vcHJpdmFjeSc7XG5pbXBvcnQgeyBnZXRTZXJpYWxpemVkTm9kZUlkLCBnZXRWYWxpZFRhZ05hbWUsIHNldFNlcmlhbGl6ZWROb2RlSWQgfSBmcm9tICcuL3NlcmlhbGl6YXRpb25VdGlscyc7XG5pbXBvcnQgeyBzZXJpYWxpemVTdHlsZVNoZWV0cyB9IGZyb20gJy4vc2VyaWFsaXplU3R5bGVTaGVldHMnO1xuaW1wb3J0IHsgc2VyaWFsaXplQXR0cmlidXRlcyB9IGZyb20gJy4vc2VyaWFsaXplQXR0cmlidXRlcyc7XG5leHBvcnQgZnVuY3Rpb24gc2VyaWFsaXplTm9kZVdpdGhJZChub2RlLCBvcHRpb25zKSB7XG4gICAgdmFyIHNlcmlhbGl6ZWROb2RlID0gc2VyaWFsaXplTm9kZShub2RlLCBvcHRpb25zKTtcbiAgICBpZiAoIXNlcmlhbGl6ZWROb2RlKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICAvLyBUcnkgdG8gcmV1c2UgdGhlIHByZXZpb3VzIGlkXG4gICAgdmFyIGlkID0gZ2V0U2VyaWFsaXplZE5vZGVJZChub2RlKSB8fCBnZW5lcmF0ZU5leHRJZCgpO1xuICAgIHZhciBzZXJpYWxpemVkTm9kZVdpdGhJZCA9IHNlcmlhbGl6ZWROb2RlO1xuICAgIHNlcmlhbGl6ZWROb2RlV2l0aElkLmlkID0gaWQ7XG4gICAgc2V0U2VyaWFsaXplZE5vZGVJZChub2RlLCBpZCk7XG4gICAgaWYgKG9wdGlvbnMuc2VyaWFsaXplZE5vZGVJZHMpIHtcbiAgICAgICAgb3B0aW9ucy5zZXJpYWxpemVkTm9kZUlkcy5hZGQoaWQpO1xuICAgIH1cbiAgICByZXR1cm4gc2VyaWFsaXplZE5vZGVXaXRoSWQ7XG59XG52YXIgX25leHRJZCA9IDE7XG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVOZXh0SWQoKSB7XG4gICAgcmV0dXJuIF9uZXh0SWQrKztcbn1cbmV4cG9ydCBmdW5jdGlvbiBzZXJpYWxpemVDaGlsZE5vZGVzKG5vZGUsIG9wdGlvbnMpIHtcbiAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgbm9kZS5jaGlsZE5vZGVzLmZvckVhY2goZnVuY3Rpb24gKGNoaWxkTm9kZSkge1xuICAgICAgICB2YXIgc2VyaWFsaXplZENoaWxkTm9kZSA9IHNlcmlhbGl6ZU5vZGVXaXRoSWQoY2hpbGROb2RlLCBvcHRpb25zKTtcbiAgICAgICAgaWYgKHNlcmlhbGl6ZWRDaGlsZE5vZGUpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHNlcmlhbGl6ZWRDaGlsZE5vZGUpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIHNlcmlhbGl6ZU5vZGUobm9kZSwgb3B0aW9ucykge1xuICAgIHN3aXRjaCAobm9kZS5ub2RlVHlwZSkge1xuICAgICAgICBjYXNlIG5vZGUuRE9DVU1FTlRfTk9ERTpcbiAgICAgICAgICAgIHJldHVybiBzZXJpYWxpemVEb2N1bWVudE5vZGUobm9kZSwgb3B0aW9ucyk7XG4gICAgICAgIGNhc2Ugbm9kZS5ET0NVTUVOVF9GUkFHTUVOVF9OT0RFOlxuICAgICAgICAgICAgcmV0dXJuIHNlcmlhbGl6ZURvY3VtZW50RnJhZ21lbnROb2RlKG5vZGUsIG9wdGlvbnMpO1xuICAgICAgICBjYXNlIG5vZGUuRE9DVU1FTlRfVFlQRV9OT0RFOlxuICAgICAgICAgICAgcmV0dXJuIHNlcmlhbGl6ZURvY3VtZW50VHlwZU5vZGUobm9kZSk7XG4gICAgICAgIGNhc2Ugbm9kZS5FTEVNRU5UX05PREU6XG4gICAgICAgICAgICByZXR1cm4gc2VyaWFsaXplRWxlbWVudE5vZGUobm9kZSwgb3B0aW9ucyk7XG4gICAgICAgIGNhc2Ugbm9kZS5URVhUX05PREU6XG4gICAgICAgICAgICByZXR1cm4gc2VyaWFsaXplVGV4dE5vZGUobm9kZSwgb3B0aW9ucyk7XG4gICAgICAgIGNhc2Ugbm9kZS5DREFUQV9TRUNUSU9OX05PREU6XG4gICAgICAgICAgICByZXR1cm4gc2VyaWFsaXplQ0RhdGFOb2RlKCk7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIHNlcmlhbGl6ZURvY3VtZW50Tm9kZShkb2N1bWVudCwgb3B0aW9ucykge1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IE5vZGVUeXBlLkRvY3VtZW50LFxuICAgICAgICBjaGlsZE5vZGVzOiBzZXJpYWxpemVDaGlsZE5vZGVzKGRvY3VtZW50LCBvcHRpb25zKSxcbiAgICAgICAgYWRvcHRlZFN0eWxlU2hlZXRzOiBzZXJpYWxpemVTdHlsZVNoZWV0cyhkb2N1bWVudC5hZG9wdGVkU3R5bGVTaGVldHMpLFxuICAgIH07XG59XG5mdW5jdGlvbiBzZXJpYWxpemVEb2N1bWVudEZyYWdtZW50Tm9kZShlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgdmFyIGNoaWxkTm9kZXMgPSBbXTtcbiAgICBpZiAoZWxlbWVudC5jaGlsZE5vZGVzLmxlbmd0aCkge1xuICAgICAgICBjaGlsZE5vZGVzID0gc2VyaWFsaXplQ2hpbGROb2RlcyhlbGVtZW50LCBvcHRpb25zKTtcbiAgICB9XG4gICAgdmFyIGlzU2hhZG93Um9vdCA9IGlzTm9kZVNoYWRvd1Jvb3QoZWxlbWVudCk7XG4gICAgaWYgKGlzU2hhZG93Um9vdCkge1xuICAgICAgICBvcHRpb25zLnNlcmlhbGl6YXRpb25Db250ZXh0LnNoYWRvd1Jvb3RzQ29udHJvbGxlci5hZGRTaGFkb3dSb290KGVsZW1lbnQpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBOb2RlVHlwZS5Eb2N1bWVudEZyYWdtZW50LFxuICAgICAgICBjaGlsZE5vZGVzOiBjaGlsZE5vZGVzLFxuICAgICAgICBpc1NoYWRvd1Jvb3Q6IGlzU2hhZG93Um9vdCxcbiAgICAgICAgYWRvcHRlZFN0eWxlU2hlZXRzOiBpc1NoYWRvd1Jvb3QgPyBzZXJpYWxpemVTdHlsZVNoZWV0cyhlbGVtZW50LmFkb3B0ZWRTdHlsZVNoZWV0cykgOiB1bmRlZmluZWQsXG4gICAgfTtcbn1cbmZ1bmN0aW9uIHNlcmlhbGl6ZURvY3VtZW50VHlwZU5vZGUoZG9jdW1lbnRUeXBlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogTm9kZVR5cGUuRG9jdW1lbnRUeXBlLFxuICAgICAgICBuYW1lOiBkb2N1bWVudFR5cGUubmFtZSxcbiAgICAgICAgcHVibGljSWQ6IGRvY3VtZW50VHlwZS5wdWJsaWNJZCxcbiAgICAgICAgc3lzdGVtSWQ6IGRvY3VtZW50VHlwZS5zeXN0ZW1JZCxcbiAgICB9O1xufVxuLyoqXG4gKiBTZXJpYWxpemluZyBFbGVtZW50IG5vZGVzIGludm9sdmVzIGNhcHR1cmluZzpcbiAqIDEuIEhUTUwgQVRUUklCVVRFUzpcbiAqIDIuIEpTIFNUQVRFOlxuICogLSBzY3JvbGwgb2Zmc2V0c1xuICogLSBGb3JtIGZpZWxkcyAoaW5wdXQgdmFsdWUsIGNoZWNrYm94IGNoZWNrZWQsIG9wdGlvbiBzZWxlY3Rpb24sIHJhbmdlKVxuICogLSBDYW52YXMgc3RhdGUsXG4gKiAtIE1lZGlhICh2aWRlby9hdWRpbykgcGxheSBtb2RlICsgY3VycmVudFRpbWVcbiAqIC0gaWZyYW1lIGNvbnRlbnRzXG4gKiAtIHdlYmNvbXBvbmVudHNcbiAqIDMuIENVU1RPTSBQUk9QRVJUSUVTOlxuICogLSBoZWlnaHQrd2lkdGggZm9yIHdoZW4gYGhpZGRlbmAgdG8gY292ZXIgdGhlIGVsZW1lbnRcbiAqIDQuIEVYQ0xVREVEIElOVEVSQUNUSU9OIFNUQVRFOlxuICogLSBmb2N1cyAocG9zc2libGUsIGJ1dCBub3Qgd29ydGggcGVyZiBpbXBhY3QpXG4gKiAtIGhvdmVyICh0cmFja2VkIG9ubHkgdmlhIG1vdXNlIGFjdGl2aXR5KVxuICogLSBmdWxsc2NyZWVuIG1vZGVcbiAqL1xuZnVuY3Rpb24gc2VyaWFsaXplRWxlbWVudE5vZGUoZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHZhciBfYTtcbiAgICB2YXIgdGFnTmFtZSA9IGdldFZhbGlkVGFnTmFtZShlbGVtZW50LnRhZ05hbWUpO1xuICAgIHZhciBpc1NWRyA9IGlzU1ZHRWxlbWVudChlbGVtZW50KSB8fCB1bmRlZmluZWQ7XG4gICAgLy8gRm9yIHBlcmZvcm1hbmNlIHJlYXNvbiwgd2UgZG9uJ3QgdXNlIGdldE5vZGVQcml2YWN5TGV2ZWwgZGlyZWN0bHk6IHdlIGxldmVyYWdlIHRoZVxuICAgIC8vIHBhcmVudE5vZGVQcml2YWN5TGV2ZWwgb3B0aW9uIHRvIGF2b2lkIGl0ZXJhdGluZyBvdmVyIGFsbCBwYXJlbnRzXG4gICAgdmFyIG5vZGVQcml2YWN5TGV2ZWwgPSByZWR1Y2VQcml2YWN5TGV2ZWwoZ2V0Tm9kZVNlbGZQcml2YWN5TGV2ZWwoZWxlbWVudCksIG9wdGlvbnMucGFyZW50Tm9kZVByaXZhY3lMZXZlbCk7XG4gICAgaWYgKG5vZGVQcml2YWN5TGV2ZWwgPT09IE5vZGVQcml2YWN5TGV2ZWwuSElEREVOKSB7XG4gICAgICAgIHZhciBfYiA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIHdpZHRoID0gX2Iud2lkdGgsIGhlaWdodCA9IF9iLmhlaWdodDtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IE5vZGVUeXBlLkVsZW1lbnQsXG4gICAgICAgICAgICB0YWdOYW1lOiB0YWdOYW1lLFxuICAgICAgICAgICAgYXR0cmlidXRlczogKF9hID0ge1xuICAgICAgICAgICAgICAgICAgICBycl93aWR0aDogXCJcIi5jb25jYXQod2lkdGgsIFwicHhcIiksXG4gICAgICAgICAgICAgICAgICAgIHJyX2hlaWdodDogXCJcIi5jb25jYXQoaGVpZ2h0LCBcInB4XCIpXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBfYVtQUklWQUNZX0FUVFJfTkFNRV0gPSBQUklWQUNZX0FUVFJfVkFMVUVfSElEREVOLFxuICAgICAgICAgICAgICAgIF9hKSxcbiAgICAgICAgICAgIGNoaWxkTm9kZXM6IFtdLFxuICAgICAgICAgICAgaXNTVkc6IGlzU1ZHLFxuICAgICAgICB9O1xuICAgIH1cbiAgICAvLyBJZ25vcmUgRWxlbWVudHMgbGlrZSBTY3JpcHQgYW5kIHNvbWUgTGluaywgTWV0YXNcbiAgICBpZiAobm9kZVByaXZhY3lMZXZlbCA9PT0gTm9kZVByaXZhY3lMZXZlbC5JR05PUkUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgYXR0cmlidXRlcyA9IHNlcmlhbGl6ZUF0dHJpYnV0ZXMoZWxlbWVudCwgbm9kZVByaXZhY3lMZXZlbCwgb3B0aW9ucyk7XG4gICAgdmFyIGNoaWxkTm9kZXMgPSBbXTtcbiAgICBpZiAoZWxlbWVudC5jaGlsZE5vZGVzLmxlbmd0aCkge1xuICAgICAgICAvLyBPQkpFQ1QgUE9PTElORyBPUFRJTUlaQVRJT046XG4gICAgICAgIC8vIFdlIHNob3VsZCBub3QgY3JlYXRlIGEgbmV3IG9iamVjdCBzeXN0ZW1hdGljYWxseSBhcyBpdCBjb3VsZCBpbXBhY3QgcGVyZm9ybWFuY2VzLiBUcnkgdG8gcmV1c2VcbiAgICAgICAgLy8gdGhlIHNhbWUgb2JqZWN0IGFzIG11Y2ggYXMgcG9zc2libGUsIGFuZCBjbG9uZSBpdCBvbmx5IGlmIHdlIG5lZWQgdG8uXG4gICAgICAgIHZhciBjaGlsZE5vZGVzU2VyaWFsaXphdGlvbk9wdGlvbnMgPSB2b2lkIDA7XG4gICAgICAgIGlmIChvcHRpb25zLnBhcmVudE5vZGVQcml2YWN5TGV2ZWwgPT09IG5vZGVQcml2YWN5TGV2ZWwgJiYgb3B0aW9ucy5pZ25vcmVXaGl0ZVNwYWNlID09PSAodGFnTmFtZSA9PT0gJ2hlYWQnKSkge1xuICAgICAgICAgICAgY2hpbGROb2Rlc1NlcmlhbGl6YXRpb25PcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNoaWxkTm9kZXNTZXJpYWxpemF0aW9uT3B0aW9ucyA9IGFzc2lnbih7fSwgb3B0aW9ucywge1xuICAgICAgICAgICAgICAgIHBhcmVudE5vZGVQcml2YWN5TGV2ZWw6IG5vZGVQcml2YWN5TGV2ZWwsXG4gICAgICAgICAgICAgICAgaWdub3JlV2hpdGVTcGFjZTogdGFnTmFtZSA9PT0gJ2hlYWQnLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2hpbGROb2RlcyA9IHNlcmlhbGl6ZUNoaWxkTm9kZXMoZWxlbWVudCwgY2hpbGROb2Rlc1NlcmlhbGl6YXRpb25PcHRpb25zKTtcbiAgICB9XG4gICAgaWYgKGlzTm9kZVNoYWRvd0hvc3QoZWxlbWVudCkpIHtcbiAgICAgICAgdmFyIHNoYWRvd1Jvb3QgPSBzZXJpYWxpemVOb2RlV2l0aElkKGVsZW1lbnQuc2hhZG93Um9vdCwgb3B0aW9ucyk7XG4gICAgICAgIGlmIChzaGFkb3dSb290ICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjaGlsZE5vZGVzLnB1c2goc2hhZG93Um9vdCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogTm9kZVR5cGUuRWxlbWVudCxcbiAgICAgICAgdGFnTmFtZTogdGFnTmFtZSxcbiAgICAgICAgYXR0cmlidXRlczogYXR0cmlidXRlcyxcbiAgICAgICAgY2hpbGROb2RlczogY2hpbGROb2RlcyxcbiAgICAgICAgaXNTVkc6IGlzU1ZHLFxuICAgIH07XG59XG5mdW5jdGlvbiBpc1NWR0VsZW1lbnQoZWwpIHtcbiAgICByZXR1cm4gZWwudGFnTmFtZSA9PT0gJ3N2ZycgfHwgZWwgaW5zdGFuY2VvZiBTVkdFbGVtZW50O1xufVxuLyoqXG4gKiBUZXh0IE5vZGVzIGFyZSBkZXBlbmRhbnQgb24gRWxlbWVudCBub2Rlc1xuICogUHJpdmFjeSBsZXZlbHMgYXJlIHNldCBvbiBlbGVtZW50cyBzbyB3ZSBjaGVjayB0aGUgcGFyZW50RWxlbWVudCBvZiBhIHRleHQgbm9kZVxuICogZm9yIHByaXZhY3kgbGV2ZWwuXG4gKi9cbmZ1bmN0aW9uIHNlcmlhbGl6ZVRleHROb2RlKHRleHROb2RlLCBvcHRpb25zKSB7XG4gICAgdmFyIF9hO1xuICAgIC8vIFRoZSBwYXJlbnQgbm9kZSBtYXkgbm90IGJlIGEgaHRtbCBlbGVtZW50IHdoaWNoIGhhcyBhIHRhZ05hbWUgYXR0cmlidXRlLlxuICAgIC8vIFNvIGp1c3QgbGV0IGl0IGJlIHVuZGVmaW5lZCB3aGljaCBpcyBvayBpbiB0aGlzIHVzZSBjYXNlLlxuICAgIHZhciBwYXJlbnRUYWdOYW1lID0gKF9hID0gdGV4dE5vZGUucGFyZW50RWxlbWVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnRhZ05hbWU7XG4gICAgdmFyIHRleHRDb250ZW50ID0gZ2V0VGV4dENvbnRlbnQodGV4dE5vZGUsIG9wdGlvbnMuaWdub3JlV2hpdGVTcGFjZSB8fCBmYWxzZSwgb3B0aW9ucy5wYXJlbnROb2RlUHJpdmFjeUxldmVsKTtcbiAgICBpZiAodGV4dENvbnRlbnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IE5vZGVUeXBlLlRleHQsXG4gICAgICAgIHRleHRDb250ZW50OiB0ZXh0Q29udGVudCxcbiAgICAgICAgaXNTdHlsZTogcGFyZW50VGFnTmFtZSA9PT0gJ1NUWUxFJyA/IHRydWUgOiB1bmRlZmluZWQsXG4gICAgfTtcbn1cbmZ1bmN0aW9uIHNlcmlhbGl6ZUNEYXRhTm9kZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBOb2RlVHlwZS5DREFUQSxcbiAgICAgICAgdGV4dENvbnRlbnQ6ICcnLFxuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXJpYWxpemVOb2RlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/serialization/serializeNode.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/serialization/serializeStyleSheets.js":
/*!*******************************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum/esm/domain/record/serialization/serializeStyleSheets.js ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   serializeStyleSheets: () => (/* binding */ serializeStyleSheets)\n/* harmony export */ });\nfunction serializeStyleSheets(cssStyleSheets) {\n    if (cssStyleSheets === undefined || cssStyleSheets.length === 0) {\n        return undefined;\n    }\n    return cssStyleSheets.map(function (cssStyleSheet) {\n        var rules = cssStyleSheet.cssRules || cssStyleSheet.rules;\n        var cssRules = Array.from(rules, function (cssRule) { return cssRule.cssText; });\n        var styleSheet = {\n            cssRules: cssRules,\n            disabled: cssStyleSheet.disabled || undefined,\n            media: cssStyleSheet.media.length > 0 ? Array.from(cssStyleSheet.media) : undefined,\n        };\n        return styleSheet;\n    });\n}\n//# sourceMappingURL=serializeStyleSheets.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtL2VzbS9kb21haW4vcmVjb3JkL3NlcmlhbGl6YXRpb24vc2VyaWFsaXplU3R5bGVTaGVldHMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhEQUE4RCx5QkFBeUI7QUFDdkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYXJjYXN0ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtL2VzbS9kb21haW4vcmVjb3JkL3NlcmlhbGl6YXRpb24vc2VyaWFsaXplU3R5bGVTaGVldHMuanM/NjI2NyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gc2VyaWFsaXplU3R5bGVTaGVldHMoY3NzU3R5bGVTaGVldHMpIHtcbiAgICBpZiAoY3NzU3R5bGVTaGVldHMgPT09IHVuZGVmaW5lZCB8fCBjc3NTdHlsZVNoZWV0cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgcmV0dXJuIGNzc1N0eWxlU2hlZXRzLm1hcChmdW5jdGlvbiAoY3NzU3R5bGVTaGVldCkge1xuICAgICAgICB2YXIgcnVsZXMgPSBjc3NTdHlsZVNoZWV0LmNzc1J1bGVzIHx8IGNzc1N0eWxlU2hlZXQucnVsZXM7XG4gICAgICAgIHZhciBjc3NSdWxlcyA9IEFycmF5LmZyb20ocnVsZXMsIGZ1bmN0aW9uIChjc3NSdWxlKSB7IHJldHVybiBjc3NSdWxlLmNzc1RleHQ7IH0pO1xuICAgICAgICB2YXIgc3R5bGVTaGVldCA9IHtcbiAgICAgICAgICAgIGNzc1J1bGVzOiBjc3NSdWxlcyxcbiAgICAgICAgICAgIGRpc2FibGVkOiBjc3NTdHlsZVNoZWV0LmRpc2FibGVkIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIG1lZGlhOiBjc3NTdHlsZVNoZWV0Lm1lZGlhLmxlbmd0aCA+IDAgPyBBcnJheS5mcm9tKGNzc1N0eWxlU2hlZXQubWVkaWEpIDogdW5kZWZpbmVkLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gc3R5bGVTaGVldDtcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNlcmlhbGl6ZVN0eWxlU2hlZXRzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/serialization/serializeStyleSheets.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/shadowRootsController.js":
/*!******************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum/esm/domain/record/shadowRootsController.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initShadowRootsController: () => (/* binding */ initShadowRootsController)\n/* harmony export */ });\n/* harmony import */ var _observers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./observers */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/observers/index.js\");\n\nvar initShadowRootsController = function (configuration, _a) {\n    var mutationCb = _a.mutationCb, inputCb = _a.inputCb;\n    var controllerByShadowRoot = new Map();\n    var shadowRootsController = {\n        addShadowRoot: function (shadowRoot) {\n            var _a = (0,_observers__WEBPACK_IMPORTED_MODULE_0__.initMutationObserver)(mutationCb, configuration, shadowRootsController, shadowRoot), stopMutationObserver = _a.stop, flush = _a.flush;\n            // the change event no do bubble up across the shadow root, we have to listen on the shadow root\n            var stopInputObserver = (0,_observers__WEBPACK_IMPORTED_MODULE_0__.initInputObserver)(inputCb, configuration.defaultPrivacyLevel, {\n                target: shadowRoot,\n                domEvents: [\"change\" /* DOM_EVENT.CHANGE */],\n            });\n            controllerByShadowRoot.set(shadowRoot, {\n                flush: flush,\n                stop: function () {\n                    stopMutationObserver();\n                    stopInputObserver();\n                },\n            });\n        },\n        removeShadowRoot: function (shadowRoot) {\n            var entry = controllerByShadowRoot.get(shadowRoot);\n            if (!entry) {\n                // unidentified root cause: observed in some cases with shadow DOM added by browser extensions\n                return;\n            }\n            entry.stop();\n            controllerByShadowRoot.delete(shadowRoot);\n        },\n        stop: function () {\n            controllerByShadowRoot.forEach(function (_a) {\n                var stop = _a.stop;\n                return stop();\n            });\n        },\n        flush: function () {\n            controllerByShadowRoot.forEach(function (_a) {\n                var flush = _a.flush;\n                return flush();\n            });\n        },\n    };\n    return shadowRootsController;\n};\n//# sourceMappingURL=shadowRootsController.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtL2VzbS9kb21haW4vcmVjb3JkL3NoYWRvd1Jvb3RzQ29udHJvbGxlci5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFzRTtBQUMvRDtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLGdFQUFvQjtBQUN6QztBQUNBLG9DQUFvQyw2REFBaUI7QUFDckQ7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFyY2FzdGVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLXJ1bS9lc20vZG9tYWluL3JlY29yZC9zaGFkb3dSb290c0NvbnRyb2xsZXIuanM/OTA5NSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpbml0SW5wdXRPYnNlcnZlciwgaW5pdE11dGF0aW9uT2JzZXJ2ZXIgfSBmcm9tICcuL29ic2VydmVycyc7XG5leHBvcnQgdmFyIGluaXRTaGFkb3dSb290c0NvbnRyb2xsZXIgPSBmdW5jdGlvbiAoY29uZmlndXJhdGlvbiwgX2EpIHtcbiAgICB2YXIgbXV0YXRpb25DYiA9IF9hLm11dGF0aW9uQ2IsIGlucHV0Q2IgPSBfYS5pbnB1dENiO1xuICAgIHZhciBjb250cm9sbGVyQnlTaGFkb3dSb290ID0gbmV3IE1hcCgpO1xuICAgIHZhciBzaGFkb3dSb290c0NvbnRyb2xsZXIgPSB7XG4gICAgICAgIGFkZFNoYWRvd1Jvb3Q6IGZ1bmN0aW9uIChzaGFkb3dSb290KSB7XG4gICAgICAgICAgICB2YXIgX2EgPSBpbml0TXV0YXRpb25PYnNlcnZlcihtdXRhdGlvbkNiLCBjb25maWd1cmF0aW9uLCBzaGFkb3dSb290c0NvbnRyb2xsZXIsIHNoYWRvd1Jvb3QpLCBzdG9wTXV0YXRpb25PYnNlcnZlciA9IF9hLnN0b3AsIGZsdXNoID0gX2EuZmx1c2g7XG4gICAgICAgICAgICAvLyB0aGUgY2hhbmdlIGV2ZW50IG5vIGRvIGJ1YmJsZSB1cCBhY3Jvc3MgdGhlIHNoYWRvdyByb290LCB3ZSBoYXZlIHRvIGxpc3RlbiBvbiB0aGUgc2hhZG93IHJvb3RcbiAgICAgICAgICAgIHZhciBzdG9wSW5wdXRPYnNlcnZlciA9IGluaXRJbnB1dE9ic2VydmVyKGlucHV0Q2IsIGNvbmZpZ3VyYXRpb24uZGVmYXVsdFByaXZhY3lMZXZlbCwge1xuICAgICAgICAgICAgICAgIHRhcmdldDogc2hhZG93Um9vdCxcbiAgICAgICAgICAgICAgICBkb21FdmVudHM6IFtcImNoYW5nZVwiIC8qIERPTV9FVkVOVC5DSEFOR0UgKi9dLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb250cm9sbGVyQnlTaGFkb3dSb290LnNldChzaGFkb3dSb290LCB7XG4gICAgICAgICAgICAgICAgZmx1c2g6IGZsdXNoLFxuICAgICAgICAgICAgICAgIHN0b3A6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RvcE11dGF0aW9uT2JzZXJ2ZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgc3RvcElucHV0T2JzZXJ2ZXIoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlbW92ZVNoYWRvd1Jvb3Q6IGZ1bmN0aW9uIChzaGFkb3dSb290KSB7XG4gICAgICAgICAgICB2YXIgZW50cnkgPSBjb250cm9sbGVyQnlTaGFkb3dSb290LmdldChzaGFkb3dSb290KTtcbiAgICAgICAgICAgIGlmICghZW50cnkpIHtcbiAgICAgICAgICAgICAgICAvLyB1bmlkZW50aWZpZWQgcm9vdCBjYXVzZTogb2JzZXJ2ZWQgaW4gc29tZSBjYXNlcyB3aXRoIHNoYWRvdyBET00gYWRkZWQgYnkgYnJvd3NlciBleHRlbnNpb25zXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZW50cnkuc3RvcCgpO1xuICAgICAgICAgICAgY29udHJvbGxlckJ5U2hhZG93Um9vdC5kZWxldGUoc2hhZG93Um9vdCk7XG4gICAgICAgIH0sXG4gICAgICAgIHN0b3A6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXJCeVNoYWRvd1Jvb3QuZm9yRWFjaChmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3RvcCA9IF9hLnN0b3A7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0b3AoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBmbHVzaDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY29udHJvbGxlckJ5U2hhZG93Um9vdC5mb3JFYWNoKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHZhciBmbHVzaCA9IF9hLmZsdXNoO1xuICAgICAgICAgICAgICAgIHJldHVybiBmbHVzaCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgfTtcbiAgICByZXR1cm4gc2hhZG93Um9vdHNDb250cm9sbGVyO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNoYWRvd1Jvb3RzQ29udHJvbGxlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/shadowRootsController.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/viewports.js":
/*!******************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum/esm/domain/record/viewports.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   convertMouseEventToLayoutCoordinates: () => (/* binding */ convertMouseEventToLayoutCoordinates),\n/* harmony export */   getScrollX: () => (/* binding */ getScrollX),\n/* harmony export */   getScrollY: () => (/* binding */ getScrollY),\n/* harmony export */   getVisualViewport: () => (/* binding */ getVisualViewport)\n/* harmony export */ });\n/**\n * Browsers have not standardized various dimension properties. Mobile devices typically report\n * dimensions in reference to the visual viewport, while desktop uses the layout viewport. For example,\n * Mobile Chrome will change innerWidth when a pinch zoom takes place, while Chrome Desktop (mac) will not.\n *\n * With the new Viewport API, we now calculate and normalize dimension properties to the layout viewport.\n * If the VisualViewport API is not supported by a browser, it isn't reasonably possible to detect or normalize\n * which viewport is being measured. Therefore these exported functions will fallback to assuming that the layout\n * viewport is being measured by the browser\n */\n// Scrollbar widths vary across properties on different devices and browsers\nvar TOLERANCE = 25;\n/**\n * Use the Visual Viewport API's properties to measure scrollX/Y in reference to the layout viewport\n * in order to determine if window.scrollX/Y is measuring the layout or visual viewport.\n * This finding corresponds to which viewport mouseEvent.clientX/Y and window.innerWidth/Height measures.\n */\nfunction isVisualViewportFactoredIn(visualViewport) {\n    return (Math.abs(visualViewport.pageTop - visualViewport.offsetTop - window.scrollY) > TOLERANCE ||\n        Math.abs(visualViewport.pageLeft - visualViewport.offsetLeft - window.scrollX) > TOLERANCE);\n}\nvar convertMouseEventToLayoutCoordinates = function (clientX, clientY) {\n    var visualViewport = window.visualViewport;\n    var normalized = {\n        layoutViewportX: clientX,\n        layoutViewportY: clientY,\n        visualViewportX: clientX,\n        visualViewportY: clientY,\n    };\n    if (!visualViewport) {\n        // On old browsers, we cannot normalize, so fallback to clientX/Y\n        return normalized;\n    }\n    else if (isVisualViewportFactoredIn(visualViewport)) {\n        // Typically Mobile Devices\n        normalized.layoutViewportX = Math.round(clientX + visualViewport.offsetLeft);\n        normalized.layoutViewportY = Math.round(clientY + visualViewport.offsetTop);\n    }\n    else {\n        // Typically Desktop Devices\n        normalized.visualViewportX = Math.round(clientX - visualViewport.offsetLeft);\n        normalized.visualViewportY = Math.round(clientY - visualViewport.offsetTop);\n    }\n    return normalized;\n};\nvar getVisualViewport = function (visualViewport) { return ({\n    scale: visualViewport.scale,\n    offsetLeft: visualViewport.offsetLeft,\n    offsetTop: visualViewport.offsetTop,\n    pageLeft: visualViewport.pageLeft,\n    pageTop: visualViewport.pageTop,\n    height: visualViewport.height,\n    width: visualViewport.width,\n}); };\nfunction getScrollX() {\n    var scrollX;\n    var visual = window.visualViewport;\n    if (visual) {\n        scrollX = visual.pageLeft - visual.offsetLeft;\n    }\n    else if (window.scrollX !== undefined) {\n        scrollX = window.scrollX;\n    }\n    else {\n        scrollX = window.pageXOffset || 0;\n    }\n    return Math.round(scrollX);\n}\nfunction getScrollY() {\n    var scrollY;\n    var visual = window.visualViewport;\n    if (visual) {\n        scrollY = visual.pageTop - visual.offsetTop;\n    }\n    else if (window.scrollY !== undefined) {\n        scrollY = window.scrollY;\n    }\n    else {\n        scrollY = window.pageYOffset || 0;\n    }\n    return Math.round(scrollY);\n}\n//# sourceMappingURL=viewports.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtL2VzbS9kb21haW4vcmVjb3JkL3ZpZXdwb3J0cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sb0RBQW9EO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNNO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYXJjYXN0ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtL2VzbS9kb21haW4vcmVjb3JkL3ZpZXdwb3J0cy5qcz84ZjU5Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQnJvd3NlcnMgaGF2ZSBub3Qgc3RhbmRhcmRpemVkIHZhcmlvdXMgZGltZW5zaW9uIHByb3BlcnRpZXMuIE1vYmlsZSBkZXZpY2VzIHR5cGljYWxseSByZXBvcnRcbiAqIGRpbWVuc2lvbnMgaW4gcmVmZXJlbmNlIHRvIHRoZSB2aXN1YWwgdmlld3BvcnQsIHdoaWxlIGRlc2t0b3AgdXNlcyB0aGUgbGF5b3V0IHZpZXdwb3J0LiBGb3IgZXhhbXBsZSxcbiAqIE1vYmlsZSBDaHJvbWUgd2lsbCBjaGFuZ2UgaW5uZXJXaWR0aCB3aGVuIGEgcGluY2ggem9vbSB0YWtlcyBwbGFjZSwgd2hpbGUgQ2hyb21lIERlc2t0b3AgKG1hYykgd2lsbCBub3QuXG4gKlxuICogV2l0aCB0aGUgbmV3IFZpZXdwb3J0IEFQSSwgd2Ugbm93IGNhbGN1bGF0ZSBhbmQgbm9ybWFsaXplIGRpbWVuc2lvbiBwcm9wZXJ0aWVzIHRvIHRoZSBsYXlvdXQgdmlld3BvcnQuXG4gKiBJZiB0aGUgVmlzdWFsVmlld3BvcnQgQVBJIGlzIG5vdCBzdXBwb3J0ZWQgYnkgYSBicm93c2VyLCBpdCBpc24ndCByZWFzb25hYmx5IHBvc3NpYmxlIHRvIGRldGVjdCBvciBub3JtYWxpemVcbiAqIHdoaWNoIHZpZXdwb3J0IGlzIGJlaW5nIG1lYXN1cmVkLiBUaGVyZWZvcmUgdGhlc2UgZXhwb3J0ZWQgZnVuY3Rpb25zIHdpbGwgZmFsbGJhY2sgdG8gYXNzdW1pbmcgdGhhdCB0aGUgbGF5b3V0XG4gKiB2aWV3cG9ydCBpcyBiZWluZyBtZWFzdXJlZCBieSB0aGUgYnJvd3NlclxuICovXG4vLyBTY3JvbGxiYXIgd2lkdGhzIHZhcnkgYWNyb3NzIHByb3BlcnRpZXMgb24gZGlmZmVyZW50IGRldmljZXMgYW5kIGJyb3dzZXJzXG52YXIgVE9MRVJBTkNFID0gMjU7XG4vKipcbiAqIFVzZSB0aGUgVmlzdWFsIFZpZXdwb3J0IEFQSSdzIHByb3BlcnRpZXMgdG8gbWVhc3VyZSBzY3JvbGxYL1kgaW4gcmVmZXJlbmNlIHRvIHRoZSBsYXlvdXQgdmlld3BvcnRcbiAqIGluIG9yZGVyIHRvIGRldGVybWluZSBpZiB3aW5kb3cuc2Nyb2xsWC9ZIGlzIG1lYXN1cmluZyB0aGUgbGF5b3V0IG9yIHZpc3VhbCB2aWV3cG9ydC5cbiAqIFRoaXMgZmluZGluZyBjb3JyZXNwb25kcyB0byB3aGljaCB2aWV3cG9ydCBtb3VzZUV2ZW50LmNsaWVudFgvWSBhbmQgd2luZG93LmlubmVyV2lkdGgvSGVpZ2h0IG1lYXN1cmVzLlxuICovXG5mdW5jdGlvbiBpc1Zpc3VhbFZpZXdwb3J0RmFjdG9yZWRJbih2aXN1YWxWaWV3cG9ydCkge1xuICAgIHJldHVybiAoTWF0aC5hYnModmlzdWFsVmlld3BvcnQucGFnZVRvcCAtIHZpc3VhbFZpZXdwb3J0Lm9mZnNldFRvcCAtIHdpbmRvdy5zY3JvbGxZKSA+IFRPTEVSQU5DRSB8fFxuICAgICAgICBNYXRoLmFicyh2aXN1YWxWaWV3cG9ydC5wYWdlTGVmdCAtIHZpc3VhbFZpZXdwb3J0Lm9mZnNldExlZnQgLSB3aW5kb3cuc2Nyb2xsWCkgPiBUT0xFUkFOQ0UpO1xufVxuZXhwb3J0IHZhciBjb252ZXJ0TW91c2VFdmVudFRvTGF5b3V0Q29vcmRpbmF0ZXMgPSBmdW5jdGlvbiAoY2xpZW50WCwgY2xpZW50WSkge1xuICAgIHZhciB2aXN1YWxWaWV3cG9ydCA9IHdpbmRvdy52aXN1YWxWaWV3cG9ydDtcbiAgICB2YXIgbm9ybWFsaXplZCA9IHtcbiAgICAgICAgbGF5b3V0Vmlld3BvcnRYOiBjbGllbnRYLFxuICAgICAgICBsYXlvdXRWaWV3cG9ydFk6IGNsaWVudFksXG4gICAgICAgIHZpc3VhbFZpZXdwb3J0WDogY2xpZW50WCxcbiAgICAgICAgdmlzdWFsVmlld3BvcnRZOiBjbGllbnRZLFxuICAgIH07XG4gICAgaWYgKCF2aXN1YWxWaWV3cG9ydCkge1xuICAgICAgICAvLyBPbiBvbGQgYnJvd3NlcnMsIHdlIGNhbm5vdCBub3JtYWxpemUsIHNvIGZhbGxiYWNrIHRvIGNsaWVudFgvWVxuICAgICAgICByZXR1cm4gbm9ybWFsaXplZDtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNWaXN1YWxWaWV3cG9ydEZhY3RvcmVkSW4odmlzdWFsVmlld3BvcnQpKSB7XG4gICAgICAgIC8vIFR5cGljYWxseSBNb2JpbGUgRGV2aWNlc1xuICAgICAgICBub3JtYWxpemVkLmxheW91dFZpZXdwb3J0WCA9IE1hdGgucm91bmQoY2xpZW50WCArIHZpc3VhbFZpZXdwb3J0Lm9mZnNldExlZnQpO1xuICAgICAgICBub3JtYWxpemVkLmxheW91dFZpZXdwb3J0WSA9IE1hdGgucm91bmQoY2xpZW50WSArIHZpc3VhbFZpZXdwb3J0Lm9mZnNldFRvcCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBUeXBpY2FsbHkgRGVza3RvcCBEZXZpY2VzXG4gICAgICAgIG5vcm1hbGl6ZWQudmlzdWFsVmlld3BvcnRYID0gTWF0aC5yb3VuZChjbGllbnRYIC0gdmlzdWFsVmlld3BvcnQub2Zmc2V0TGVmdCk7XG4gICAgICAgIG5vcm1hbGl6ZWQudmlzdWFsVmlld3BvcnRZID0gTWF0aC5yb3VuZChjbGllbnRZIC0gdmlzdWFsVmlld3BvcnQub2Zmc2V0VG9wKTtcbiAgICB9XG4gICAgcmV0dXJuIG5vcm1hbGl6ZWQ7XG59O1xuZXhwb3J0IHZhciBnZXRWaXN1YWxWaWV3cG9ydCA9IGZ1bmN0aW9uICh2aXN1YWxWaWV3cG9ydCkgeyByZXR1cm4gKHtcbiAgICBzY2FsZTogdmlzdWFsVmlld3BvcnQuc2NhbGUsXG4gICAgb2Zmc2V0TGVmdDogdmlzdWFsVmlld3BvcnQub2Zmc2V0TGVmdCxcbiAgICBvZmZzZXRUb3A6IHZpc3VhbFZpZXdwb3J0Lm9mZnNldFRvcCxcbiAgICBwYWdlTGVmdDogdmlzdWFsVmlld3BvcnQucGFnZUxlZnQsXG4gICAgcGFnZVRvcDogdmlzdWFsVmlld3BvcnQucGFnZVRvcCxcbiAgICBoZWlnaHQ6IHZpc3VhbFZpZXdwb3J0LmhlaWdodCxcbiAgICB3aWR0aDogdmlzdWFsVmlld3BvcnQud2lkdGgsXG59KTsgfTtcbmV4cG9ydCBmdW5jdGlvbiBnZXRTY3JvbGxYKCkge1xuICAgIHZhciBzY3JvbGxYO1xuICAgIHZhciB2aXN1YWwgPSB3aW5kb3cudmlzdWFsVmlld3BvcnQ7XG4gICAgaWYgKHZpc3VhbCkge1xuICAgICAgICBzY3JvbGxYID0gdmlzdWFsLnBhZ2VMZWZ0IC0gdmlzdWFsLm9mZnNldExlZnQ7XG4gICAgfVxuICAgIGVsc2UgaWYgKHdpbmRvdy5zY3JvbGxYICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgc2Nyb2xsWCA9IHdpbmRvdy5zY3JvbGxYO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgc2Nyb2xsWCA9IHdpbmRvdy5wYWdlWE9mZnNldCB8fCAwO1xuICAgIH1cbiAgICByZXR1cm4gTWF0aC5yb3VuZChzY3JvbGxYKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRTY3JvbGxZKCkge1xuICAgIHZhciBzY3JvbGxZO1xuICAgIHZhciB2aXN1YWwgPSB3aW5kb3cudmlzdWFsVmlld3BvcnQ7XG4gICAgaWYgKHZpc3VhbCkge1xuICAgICAgICBzY3JvbGxZID0gdmlzdWFsLnBhZ2VUb3AgLSB2aXN1YWwub2Zmc2V0VG9wO1xuICAgIH1cbiAgICBlbHNlIGlmICh3aW5kb3cuc2Nyb2xsWSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHNjcm9sbFkgPSB3aW5kb3cuc2Nyb2xsWTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHNjcm9sbFkgPSB3aW5kb3cucGFnZVlPZmZzZXQgfHwgMDtcbiAgICB9XG4gICAgcmV0dXJuIE1hdGgucm91bmQoc2Nyb2xsWSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD12aWV3cG9ydHMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/record/viewports.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/replayStats.js":
/*!*************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum/esm/domain/replayStats.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MAX_STATS_HISTORY: () => (/* binding */ MAX_STATS_HISTORY),\n/* harmony export */   addRecord: () => (/* binding */ addRecord),\n/* harmony export */   addSegment: () => (/* binding */ addSegment),\n/* harmony export */   addWroteData: () => (/* binding */ addWroteData),\n/* harmony export */   getReplayStats: () => (/* binding */ getReplayStats),\n/* harmony export */   getSegmentsCount: () => (/* binding */ getSegmentsCount),\n/* harmony export */   resetReplayStats: () => (/* binding */ resetReplayStats)\n/* harmony export */ });\nvar MAX_STATS_HISTORY = 10;\nvar statsPerView;\nfunction getSegmentsCount(viewId) {\n    return getOrCreateReplayStats(viewId).segments_count;\n}\nfunction addSegment(viewId) {\n    getOrCreateReplayStats(viewId).segments_count += 1;\n}\nfunction addRecord(viewId) {\n    getOrCreateReplayStats(viewId).records_count += 1;\n}\nfunction addWroteData(viewId, additionalBytesCount) {\n    getOrCreateReplayStats(viewId).segments_total_raw_size += additionalBytesCount;\n}\nfunction getReplayStats(viewId) {\n    return statsPerView === null || statsPerView === void 0 ? void 0 : statsPerView.get(viewId);\n}\nfunction resetReplayStats() {\n    statsPerView = undefined;\n}\nfunction getOrCreateReplayStats(viewId) {\n    if (!statsPerView) {\n        statsPerView = new Map();\n    }\n    var replayStats;\n    if (statsPerView.has(viewId)) {\n        replayStats = statsPerView.get(viewId);\n    }\n    else {\n        replayStats = {\n            records_count: 0,\n            segments_count: 0,\n            segments_total_raw_size: 0,\n        };\n        statsPerView.set(viewId, replayStats);\n        if (statsPerView.size > MAX_STATS_HISTORY) {\n            deleteOldestStats();\n        }\n    }\n    return replayStats;\n}\nfunction deleteOldestStats() {\n    if (!statsPerView) {\n        return;\n    }\n    if (statsPerView.keys) {\n        statsPerView.delete(statsPerView.keys().next().value);\n    }\n    else {\n        // IE11 doesn't support map.keys\n        var isFirst_1 = true;\n        statsPerView.forEach(function (_value, key) {\n            if (isFirst_1) {\n                statsPerView.delete(key);\n                isFirst_1 = false;\n            }\n        });\n    }\n}\n//# sourceMappingURL=replayStats.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtL2VzbS9kb21haW4vcmVwbGF5U3RhdHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFPO0FBQ1A7QUFDTztBQUNQO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFyY2FzdGVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLXJ1bS9lc20vZG9tYWluL3JlcGxheVN0YXRzLmpzPzYxOGIiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHZhciBNQVhfU1RBVFNfSElTVE9SWSA9IDEwO1xudmFyIHN0YXRzUGVyVmlldztcbmV4cG9ydCBmdW5jdGlvbiBnZXRTZWdtZW50c0NvdW50KHZpZXdJZCkge1xuICAgIHJldHVybiBnZXRPckNyZWF0ZVJlcGxheVN0YXRzKHZpZXdJZCkuc2VnbWVudHNfY291bnQ7XG59XG5leHBvcnQgZnVuY3Rpb24gYWRkU2VnbWVudCh2aWV3SWQpIHtcbiAgICBnZXRPckNyZWF0ZVJlcGxheVN0YXRzKHZpZXdJZCkuc2VnbWVudHNfY291bnQgKz0gMTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhZGRSZWNvcmQodmlld0lkKSB7XG4gICAgZ2V0T3JDcmVhdGVSZXBsYXlTdGF0cyh2aWV3SWQpLnJlY29yZHNfY291bnQgKz0gMTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhZGRXcm90ZURhdGEodmlld0lkLCBhZGRpdGlvbmFsQnl0ZXNDb3VudCkge1xuICAgIGdldE9yQ3JlYXRlUmVwbGF5U3RhdHModmlld0lkKS5zZWdtZW50c190b3RhbF9yYXdfc2l6ZSArPSBhZGRpdGlvbmFsQnl0ZXNDb3VudDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRSZXBsYXlTdGF0cyh2aWV3SWQpIHtcbiAgICByZXR1cm4gc3RhdHNQZXJWaWV3ID09PSBudWxsIHx8IHN0YXRzUGVyVmlldyA9PT0gdm9pZCAwID8gdm9pZCAwIDogc3RhdHNQZXJWaWV3LmdldCh2aWV3SWQpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlc2V0UmVwbGF5U3RhdHMoKSB7XG4gICAgc3RhdHNQZXJWaWV3ID0gdW5kZWZpbmVkO1xufVxuZnVuY3Rpb24gZ2V0T3JDcmVhdGVSZXBsYXlTdGF0cyh2aWV3SWQpIHtcbiAgICBpZiAoIXN0YXRzUGVyVmlldykge1xuICAgICAgICBzdGF0c1BlclZpZXcgPSBuZXcgTWFwKCk7XG4gICAgfVxuICAgIHZhciByZXBsYXlTdGF0cztcbiAgICBpZiAoc3RhdHNQZXJWaWV3Lmhhcyh2aWV3SWQpKSB7XG4gICAgICAgIHJlcGxheVN0YXRzID0gc3RhdHNQZXJWaWV3LmdldCh2aWV3SWQpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmVwbGF5U3RhdHMgPSB7XG4gICAgICAgICAgICByZWNvcmRzX2NvdW50OiAwLFxuICAgICAgICAgICAgc2VnbWVudHNfY291bnQ6IDAsXG4gICAgICAgICAgICBzZWdtZW50c190b3RhbF9yYXdfc2l6ZTogMCxcbiAgICAgICAgfTtcbiAgICAgICAgc3RhdHNQZXJWaWV3LnNldCh2aWV3SWQsIHJlcGxheVN0YXRzKTtcbiAgICAgICAgaWYgKHN0YXRzUGVyVmlldy5zaXplID4gTUFYX1NUQVRTX0hJU1RPUlkpIHtcbiAgICAgICAgICAgIGRlbGV0ZU9sZGVzdFN0YXRzKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlcGxheVN0YXRzO1xufVxuZnVuY3Rpb24gZGVsZXRlT2xkZXN0U3RhdHMoKSB7XG4gICAgaWYgKCFzdGF0c1BlclZpZXcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoc3RhdHNQZXJWaWV3LmtleXMpIHtcbiAgICAgICAgc3RhdHNQZXJWaWV3LmRlbGV0ZShzdGF0c1BlclZpZXcua2V5cygpLm5leHQoKS52YWx1ZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBJRTExIGRvZXNuJ3Qgc3VwcG9ydCBtYXAua2V5c1xuICAgICAgICB2YXIgaXNGaXJzdF8xID0gdHJ1ZTtcbiAgICAgICAgc3RhdHNQZXJWaWV3LmZvckVhY2goZnVuY3Rpb24gKF92YWx1ZSwga2V5KSB7XG4gICAgICAgICAgICBpZiAoaXNGaXJzdF8xKSB7XG4gICAgICAgICAgICAgICAgc3RhdHNQZXJWaWV3LmRlbGV0ZShrZXkpO1xuICAgICAgICAgICAgICAgIGlzRmlyc3RfMSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXBsYXlTdGF0cy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/replayStats.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/segmentCollection/buildReplayPayload.js":
/*!**************************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum/esm/domain/segmentCollection/buildReplayPayload.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   buildReplayPayload: () => (/* binding */ buildReplayPayload)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/polyfills.js\");\n\nfunction buildReplayPayload(data, metadata, rawSegmentBytesCount) {\n    var formData = new FormData();\n    formData.append('segment', new Blob([data], {\n        type: 'application/octet-stream',\n    }), \"\".concat(metadata.session.id, \"-\").concat(metadata.start));\n    var metadataAndSegmentSizes = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.assign)({\n        raw_segment_size: rawSegmentBytesCount,\n        compressed_segment_size: data.byteLength,\n    }, metadata);\n    var serializedMetadataAndSegmentSizes = JSON.stringify(metadataAndSegmentSizes);\n    formData.append('event', new Blob([serializedMetadataAndSegmentSizes], { type: 'application/json' }));\n    return { data: formData, bytesCount: data.byteLength };\n}\n//# sourceMappingURL=buildReplayPayload.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtL2VzbS9kb21haW4vc2VnbWVudENvbGxlY3Rpb24vYnVpbGRSZXBsYXlQYXlsb2FkLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQStDO0FBQ3hDO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLGtDQUFrQyw2REFBTTtBQUN4QztBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsNkVBQTZFLDBCQUEwQjtBQUN2RyxhQUFhO0FBQ2I7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhcmNhc3Rlci8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0vZXNtL2RvbWFpbi9zZWdtZW50Q29sbGVjdGlvbi9idWlsZFJlcGxheVBheWxvYWQuanM/MTAzNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhc3NpZ24gfSBmcm9tICdAZGF0YWRvZy9icm93c2VyLWNvcmUnO1xuZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkUmVwbGF5UGF5bG9hZChkYXRhLCBtZXRhZGF0YSwgcmF3U2VnbWVudEJ5dGVzQ291bnQpIHtcbiAgICB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcbiAgICBmb3JtRGF0YS5hcHBlbmQoJ3NlZ21lbnQnLCBuZXcgQmxvYihbZGF0YV0sIHtcbiAgICAgICAgdHlwZTogJ2FwcGxpY2F0aW9uL29jdGV0LXN0cmVhbScsXG4gICAgfSksIFwiXCIuY29uY2F0KG1ldGFkYXRhLnNlc3Npb24uaWQsIFwiLVwiKS5jb25jYXQobWV0YWRhdGEuc3RhcnQpKTtcbiAgICB2YXIgbWV0YWRhdGFBbmRTZWdtZW50U2l6ZXMgPSBhc3NpZ24oe1xuICAgICAgICByYXdfc2VnbWVudF9zaXplOiByYXdTZWdtZW50Qnl0ZXNDb3VudCxcbiAgICAgICAgY29tcHJlc3NlZF9zZWdtZW50X3NpemU6IGRhdGEuYnl0ZUxlbmd0aCxcbiAgICB9LCBtZXRhZGF0YSk7XG4gICAgdmFyIHNlcmlhbGl6ZWRNZXRhZGF0YUFuZFNlZ21lbnRTaXplcyA9IEpTT04uc3RyaW5naWZ5KG1ldGFkYXRhQW5kU2VnbWVudFNpemVzKTtcbiAgICBmb3JtRGF0YS5hcHBlbmQoJ2V2ZW50JywgbmV3IEJsb2IoW3NlcmlhbGl6ZWRNZXRhZGF0YUFuZFNlZ21lbnRTaXplc10sIHsgdHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nIH0pKTtcbiAgICByZXR1cm4geyBkYXRhOiBmb3JtRGF0YSwgYnl0ZXNDb3VudDogZGF0YS5ieXRlTGVuZ3RoIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1idWlsZFJlcGxheVBheWxvYWQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/segmentCollection/buildReplayPayload.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/segmentCollection/deflateWorker.js":
/*!*********************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum/esm/domain/segmentCollection/deflateWorker.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createDeflateWorker: () => (/* binding */ createDeflateWorker)\n/* harmony export */ });\nvar workerURL;\nfunction createDeflateWorker() {\n    // Lazily compute the worker URL to allow importing the SDK in NodeJS\n    if (!workerURL) {\n        workerURL = URL.createObjectURL(new Blob([\"(\".concat(workerCodeFn, \")(self)\")]));\n    }\n    return new Worker(workerURL);\n}\nfunction workerCodeFn() {\n    monitor(function () {\n        var _a = makePakoDeflate(), Deflate = _a.Deflate, constants = _a.constants, string2buf = _a.string2buf;\n        var deflate = new Deflate();\n        var rawBytesCount = 0;\n        self.addEventListener('message', monitor(function (event) {\n            var data = event.data;\n            switch (data.action) {\n                case 'init':\n                    self.postMessage({\n                        type: 'initialized',\n                    });\n                    break;\n                case 'write': {\n                    var additionalBytesCount = pushData(data.data);\n                    self.postMessage({\n                        type: 'wrote',\n                        id: data.id,\n                        compressedBytesCount: deflate.chunks.reduce(function (total, chunk) { return total + chunk.length; }, 0),\n                        additionalBytesCount: additionalBytesCount,\n                    });\n                    break;\n                }\n                case 'flush': {\n                    var additionalBytesCount = data.data ? pushData(data.data) : 0;\n                    deflate.push('', constants.Z_FINISH);\n                    self.postMessage({\n                        type: 'flushed',\n                        id: data.id,\n                        result: deflate.result,\n                        additionalBytesCount: additionalBytesCount,\n                        rawBytesCount: rawBytesCount,\n                    });\n                    deflate = new Deflate();\n                    rawBytesCount = 0;\n                    break;\n                }\n            }\n        }));\n        function pushData(data) {\n            // TextEncoder is not supported on old browser version like Edge 18, therefore we use string2buf\n            var binaryData = string2buf(data);\n            deflate.push(binaryData, constants.Z_SYNC_FLUSH);\n            rawBytesCount += binaryData.length;\n            return binaryData.length;\n        }\n    })();\n    function monitor(fn) {\n        return function () {\n            try {\n                return fn.apply(this, arguments);\n            }\n            catch (e) {\n                try {\n                    self.postMessage({\n                        type: 'errored',\n                        error: e,\n                    });\n                }\n                catch (_) {\n                    // DATA_CLONE_ERR, cf https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Structured_clone_algorithm\n                    self.postMessage({\n                        type: 'errored',\n                        error: \"\".concat(e),\n                    });\n                }\n            }\n        };\n    }\n    // https://github.com/nodeca/pako/blob/034669ba0f1a4c0590e45f7c2820128200f972b3/dist/pako_deflate.es5.js\n    function makePakoDeflate() {\n        /* eslint-disable camelcase, no-bitwise */\n        // (C) 2014-2017 Vitaly Puzrin and Andrey Tupitsin\n        //\n        // This software is provided 'as-is', without any express or implied\n        // warranty. In no event will the authors be held liable for any damages\n        // arising from the use of this software.\n        //\n        // Permission is granted to anyone to use this software for any purpose,\n        // including commercial applications, and to alter it and redistribute it\n        // freely, subject to the following restrictions:\n        //\n        // 1. The origin of this software must not be misrepresented; you must not\n        //   claim that you wrote the original software. If you use this software\n        //   in a product, an acknowledgment in the product documentation would be\n        //   appreciated but is not required.\n        // 2. Altered source versions must be plainly marked as such, and must not be\n        //   misrepresented as being the original software.\n        // 3. This notice may not be removed or altered from any source distribution.\n        /* Public constants ========================================================== */\n        /* =========================================================================== */\n        // const Z_FILTERED          = 1;\n        // const Z_HUFFMAN_ONLY      = 2;\n        // const Z_RLE               = 3;\n        var Z_FIXED = 4; // const Z_DEFAULT_STRATEGY  = 0;\n        /* Possible values of the data_type field (though see inflate()) */\n        var Z_BINARY = 0;\n        var Z_TEXT = 1; // const Z_ASCII             = 1; // = Z_TEXT\n        var Z_UNKNOWN = 2;\n        /* ============================================================================ */\n        function zero(buf) {\n            var len = buf.length;\n            while (--len >= 0) {\n                buf[len] = 0;\n            }\n        } // From zutil.h\n        var STORED_BLOCK = 0;\n        var STATIC_TREES = 1;\n        var DYN_TREES = 2;\n        /* The three kinds of block type */\n        var MIN_MATCH = 3;\n        var MAX_MATCH = 258;\n        /* The minimum and maximum match lengths */\n        // From deflate.h\n        /* ===========================================================================\n         * Internal compression state.\n         */\n        var LENGTH_CODES = 29;\n        /* number of length codes, not counting the special END_BLOCK code */\n        var LITERALS = 256;\n        /* number of literal bytes 0..255 */\n        var L_CODES = LITERALS + 1 + LENGTH_CODES;\n        /* number of Literal or Length codes, including the END_BLOCK code */\n        var D_CODES = 30;\n        /* number of distance codes */\n        var BL_CODES = 19;\n        /* number of codes used to transfer the bit lengths */\n        var HEAP_SIZE = 2 * L_CODES + 1;\n        /* maximum heap size */\n        var MAX_BITS = 15;\n        /* All codes must not exceed MAX_BITS bits */\n        var Buf_size = 16;\n        /* size of bit buffer in bi_buf */\n        /* ===========================================================================\n         * Constants\n         */\n        var MAX_BL_BITS = 7;\n        /* Bit length codes must not exceed MAX_BL_BITS bits */\n        var END_BLOCK = 256;\n        /* end of block literal code */\n        var REP_3_6 = 16;\n        /* repeat previous bit length 3-6 times (2 bits of repeat count) */\n        var REPZ_3_10 = 17;\n        /* repeat a zero length 3-10 times  (3 bits of repeat count) */\n        var REPZ_11_138 = 18;\n        /* repeat a zero length 11-138 times  (7 bits of repeat count) */\n        var extra_lbits = \n        /* extra bits for each length code */\n        new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0]);\n        var extra_dbits = \n        /* extra bits for each distance code */\n        new Uint8Array([0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13]);\n        var extra_blbits = \n        /* extra bits for each bit length code */\n        new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 3, 7]);\n        var bl_order = new Uint8Array([16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]);\n        /* eslint-enable comma-spacing,array-bracket-spacing */\n        /* The lengths of the bit length codes are sent in order of decreasing\n         * probability, to avoid transmitting the lengths for unused bit length codes.\n         */\n        /* ===========================================================================\n         * Local data. These are initialized only once.\n         */\n        // We pre-fill arrays with 0 to avoid uninitialized gaps\n        var DIST_CODE_LEN = 512;\n        /* see definition of array dist_code below */\n        // !!!! Use flat array instead of structure, Freq = i*2, Len = i*2+1\n        var static_ltree = new Array((L_CODES + 2) * 2);\n        zero(static_ltree);\n        /* The static literal tree. Since the bit lengths are imposed, there is no\n         * need for the L_CODES extra codes used during heap construction. However\n         * The codes 286 and 287 are needed to build a canonical tree (see _tr_init\n         * below).\n         */\n        var static_dtree = new Array(D_CODES * 2);\n        zero(static_dtree);\n        /* The static distance tree. (Actually a trivial tree since all codes use\n         * 5 bits.)\n         */\n        var _dist_code = new Array(DIST_CODE_LEN);\n        zero(_dist_code);\n        /* Distance codes. The first 256 values correspond to the distances\n         * 3 .. 258, the last 256 values correspond to the top 8 bits of\n         * the 15 bit distances.\n         */\n        var _length_code = new Array(MAX_MATCH - MIN_MATCH + 1);\n        zero(_length_code);\n        /* length code for each normalized match length (0 == MIN_MATCH) */\n        var base_length = new Array(LENGTH_CODES);\n        zero(base_length);\n        /* First normalized length for each code (0 = MIN_MATCH) */\n        var base_dist = new Array(D_CODES);\n        zero(base_dist);\n        /* First normalized distance for each code (0 = distance of 1) */\n        function StaticTreeDesc(static_tree, extra_bits, extra_base, elems, max_length) {\n            this.static_tree = static_tree;\n            /* static tree or NULL */\n            this.extra_bits = extra_bits;\n            /* extra bits for each code or NULL */\n            this.extra_base = extra_base;\n            /* base index for extra_bits */\n            this.elems = elems;\n            /* max number of elements in the tree */\n            this.max_length = max_length;\n            /* max bit length for the codes */\n            // show if `static_tree` has data or dummy - needed for monomorphic objects\n            this.has_stree = static_tree && static_tree.length;\n        }\n        var static_l_desc;\n        var static_d_desc;\n        var static_bl_desc;\n        function TreeDesc(dyn_tree, stat_desc) {\n            this.dyn_tree = dyn_tree;\n            /* the dynamic tree */\n            this.max_code = 0;\n            /* largest code with non zero frequency */\n            this.stat_desc = stat_desc;\n            /* the corresponding static tree */\n        }\n        var d_code = function d_code(dist) {\n            return dist < 256 ? _dist_code[dist] : _dist_code[256 + (dist >>> 7)];\n        };\n        /* ===========================================================================\n         * Output a short LSB first on the stream.\n         * IN assertion: there is enough room in pendingBuf.\n         */\n        var put_short = function put_short(s, w) {\n            //    put_byte(s, (uch)((w) & 0xff));\n            //    put_byte(s, (uch)((ush)(w) >> 8));\n            s.pending_buf[s.pending++] = w & 0xff;\n            s.pending_buf[s.pending++] = (w >>> 8) & 0xff;\n        };\n        /* ===========================================================================\n         * Send a value on a given number of bits.\n         * IN assertion: length <= 16 and value fits in length bits.\n         */\n        var send_bits = function send_bits(s, value, length) {\n            if (s.bi_valid > Buf_size - length) {\n                s.bi_buf |= (value << s.bi_valid) & 0xffff;\n                put_short(s, s.bi_buf);\n                s.bi_buf = value >> (Buf_size - s.bi_valid);\n                s.bi_valid += length - Buf_size;\n            }\n            else {\n                s.bi_buf |= (value << s.bi_valid) & 0xffff;\n                s.bi_valid += length;\n            }\n        };\n        var send_code = function send_code(s, c, tree) {\n            send_bits(s, tree[c * 2], \n            /* .Code */\n            tree[c * 2 + 1]\n            /* .Len */\n            );\n        };\n        /* ===========================================================================\n         * Reverse the first len bits of a code, using straightforward code (a faster\n         * method would use a table)\n         * IN assertion: 1 <= len <= 15\n         */\n        var bi_reverse = function bi_reverse(code, len) {\n            var res = 0;\n            do {\n                res |= code & 1;\n                code >>>= 1;\n                res <<= 1;\n            } while (--len > 0);\n            return res >>> 1;\n        };\n        /* ===========================================================================\n         * Flush the bit buffer, keeping at most 7 bits in it.\n         */\n        var bi_flush = function bi_flush(s) {\n            if (s.bi_valid === 16) {\n                put_short(s, s.bi_buf);\n                s.bi_buf = 0;\n                s.bi_valid = 0;\n            }\n            else if (s.bi_valid >= 8) {\n                s.pending_buf[s.pending++] = s.bi_buf & 0xff;\n                s.bi_buf >>= 8;\n                s.bi_valid -= 8;\n            }\n        };\n        /* ===========================================================================\n         * Compute the optimal bit lengths for a tree and update the total bit length\n         * for the current block.\n         * IN assertion: the fields freq and dad are set, heap[heap_max] and\n         *    above are the tree nodes sorted by increasing frequency.\n         * OUT assertions: the field len is set to the optimal bit length, the\n         *     array bl_count contains the frequencies for each bit length.\n         *     The length opt_len is updated; static_len is also updated if stree is\n         *     not null.\n         */\n        var gen_bitlen = function gen_bitlen(s, desc //    deflate_state *s; //    tree_desc *desc;    /* the tree descriptor */\n        ) {\n            var tree = desc.dyn_tree;\n            var max_code = desc.max_code;\n            var stree = desc.stat_desc.static_tree;\n            var has_stree = desc.stat_desc.has_stree;\n            var extra = desc.stat_desc.extra_bits;\n            var base = desc.stat_desc.extra_base;\n            var max_length = desc.stat_desc.max_length;\n            var h;\n            /* heap index */\n            var n;\n            var m;\n            /* iterate over the tree elements */\n            var bits;\n            /* bit length */\n            var xbits;\n            /* extra bits */\n            var f;\n            /* frequency */\n            var overflow = 0;\n            /* number of elements with bit length too large */\n            for (bits = 0; bits <= MAX_BITS; bits++) {\n                s.bl_count[bits] = 0;\n            }\n            /* In a first pass, compute the optimal bit lengths (which may\n             * overflow in the case of the bit length tree).\n             */\n            tree[s.heap[s.heap_max] * 2 + 1] =\n                /* .Len */\n                0;\n            /* root of the heap */\n            for (h = s.heap_max + 1; h < HEAP_SIZE; h++) {\n                n = s.heap[h];\n                bits =\n                    tree[tree[n * 2 + 1] *\n                        /* .Dad */\n                        2 +\n                        1] +\n                        /* .Len */\n                        1;\n                if (bits > max_length) {\n                    bits = max_length;\n                    overflow++;\n                }\n                tree[n * 2 + 1] =\n                    /* .Len */\n                    bits;\n                /* We overwrite tree[n].Dad which is no longer needed */\n                if (n > max_code) {\n                    continue;\n                }\n                /* not a leaf node */\n                s.bl_count[bits]++;\n                xbits = 0;\n                if (n >= base) {\n                    xbits = extra[n - base];\n                }\n                f = tree[n * 2];\n                /* .Freq */\n                s.opt_len += f * (bits + xbits);\n                if (has_stree) {\n                    s.static_len +=\n                        f *\n                            (stree[n * 2 + 1] +\n                                /* .Len */\n                                xbits);\n                }\n            }\n            if (overflow === 0) {\n                return;\n            } // Trace((stderr,\"\\nbit length overflow\\n\"));\n            /* This happens for example on obj2 and pic of the Calgary corpus */\n            /* Find the first bit length which could increase: */\n            do {\n                bits = max_length - 1;\n                while (s.bl_count[bits] === 0) {\n                    bits--;\n                }\n                s.bl_count[bits]--;\n                /* move one leaf down the tree */\n                s.bl_count[bits + 1] += 2;\n                /* move one overflow item as its brother */\n                s.bl_count[max_length]--;\n                /* The brother of the overflow item also moves one step up,\n                 * but this does not affect bl_count[max_length]\n                 */\n                overflow -= 2;\n            } while (overflow > 0);\n            /* Now recompute all bit lengths, scanning in increasing frequency.\n             * h is still equal to HEAP_SIZE. (It is simpler to reconstruct all\n             * lengths instead of fixing only the wrong ones. This idea is taken\n             * from 'ar' written by Haruhiko Okumura.)\n             */\n            for (bits = max_length; bits !== 0; bits--) {\n                n = s.bl_count[bits];\n                while (n !== 0) {\n                    m = s.heap[--h];\n                    if (m > max_code) {\n                        continue;\n                    }\n                    if (tree[m * 2 + 1] !==\n                        /* .Len */\n                        bits) {\n                        // Trace((stderr,\"code %d bits %d->%d\\n\", m, tree[m].Len, bits));\n                        s.opt_len +=\n                            (bits - tree[m * 2 + 1]) *\n                                /* .Len */\n                                tree[m * 2];\n                        /* .Freq */\n                        tree[m * 2 + 1] =\n                            /* .Len */\n                            bits;\n                    }\n                    n--;\n                }\n            }\n        };\n        /* ===========================================================================\n         * Generate the codes for a given tree and bit counts (which need not be\n         * optimal).\n         * IN assertion: the array bl_count contains the bit length statistics for\n         * the given tree and the field len is set for all tree elements.\n         * OUT assertion: the field code is set for all tree elements of non\n         *     zero code length.\n         */\n        var gen_codes = function gen_codes(tree, max_code, bl_count\n        //    ct_data *tree;             /* the tree to decorate */\n        //    int max_code;              /* largest code with non zero frequency */\n        //    ushf *bl_count;            /* number of codes at each bit length */\n        ) {\n            var next_code = new Array(MAX_BITS + 1);\n            /* next code value for each bit length */\n            var code = 0;\n            /* running code value */\n            var bits;\n            /* bit index */\n            var n;\n            /* code index */\n            /* The distribution counts are first used to generate the code values\n             * without bit reversal.\n             */\n            for (bits = 1; bits <= MAX_BITS; bits++) {\n                next_code[bits] = code = (code + bl_count[bits - 1]) << 1;\n            }\n            /* Check that the bit counts in bl_count are consistent. The last code\n             * must be all ones.\n             */\n            // Assert (code + bl_count[MAX_BITS]-1 == (1<<MAX_BITS)-1,\n            //        \"inconsistent bit counts\");\n            // Tracev((stderr,\"\\ngen_codes: max_code %d \", max_code));\n            for (n = 0; n <= max_code; n++) {\n                var len = tree[n * 2 + 1];\n                /* .Len */\n                if (len === 0) {\n                    continue;\n                }\n                /* Now reverse the bits */\n                tree[n * 2] =\n                    /* .Code */\n                    bi_reverse(next_code[len]++, len); // Tracecv(tree != static_ltree, (stderr,\"\\nn %3d %c l %2d c %4x (%x) \",\n                //     n, (isgraph(n) ? n : ' '), len, tree[n].Code, next_code[len]-1));\n            }\n        };\n        /* ===========================================================================\n         * Initialize the various 'constant' tables.\n         */\n        var tr_static_init = function tr_static_init() {\n            var n;\n            /* iterates over tree elements */\n            var bits;\n            /* bit counter */\n            var length;\n            /* length value */\n            var code;\n            /* code value */\n            var dist;\n            /* distance index */\n            var bl_count = new Array(MAX_BITS + 1);\n            /* number of codes at each bit length for an optimal tree */\n            // do check in _tr_init()\n            // if (static_init_done) return;\n            /* For some embedded targets, global variables are not initialized: */\n            /* #ifdef NO_INIT_GLOBAL_POINTERS\n            static_l_desc.static_tree = static_ltree;\n            static_l_desc.extra_bits = extra_lbits;\n            static_d_desc.static_tree = static_dtree;\n            static_d_desc.extra_bits = extra_dbits;\n            static_bl_desc.extra_bits = extra_blbits;\n          #endif */\n            /* Initialize the mapping length (0..255) -> length code (0..28) */\n            length = 0;\n            for (code = 0; code < LENGTH_CODES - 1; code++) {\n                base_length[code] = length;\n                for (n = 0; n < 1 << extra_lbits[code]; n++) {\n                    _length_code[length++] = code;\n                }\n            } // Assert (length == 256, \"tr_static_init: length != 256\");\n            /* Note that the length 255 (match length 258) can be represented\n             * in two different ways: code 284 + 5 bits or code 285, so we\n             * overwrite length_code[255] to use the best encoding:\n             */\n            _length_code[length - 1] = code;\n            /* Initialize the mapping dist (0..32K) -> dist code (0..29) */\n            dist = 0;\n            for (code = 0; code < 16; code++) {\n                base_dist[code] = dist;\n                for (n = 0; n < 1 << extra_dbits[code]; n++) {\n                    _dist_code[dist++] = code;\n                }\n            } // Assert (dist == 256, \"tr_static_init: dist != 256\");\n            dist >>= 7;\n            /* from now on, all distances are divided by 128 */\n            for (; code < D_CODES; code++) {\n                base_dist[code] = dist << 7;\n                for (n = 0; n < 1 << (extra_dbits[code] - 7); n++) {\n                    _dist_code[256 + dist++] = code;\n                }\n            } // Assert (dist == 256, \"tr_static_init: 256+dist != 512\");\n            /* Construct the codes of the static literal tree */\n            for (bits = 0; bits <= MAX_BITS; bits++) {\n                bl_count[bits] = 0;\n            }\n            n = 0;\n            while (n <= 143) {\n                static_ltree[n * 2 + 1] =\n                    /* .Len */\n                    8;\n                n++;\n                bl_count[8]++;\n            }\n            while (n <= 255) {\n                static_ltree[n * 2 + 1] =\n                    /* .Len */\n                    9;\n                n++;\n                bl_count[9]++;\n            }\n            while (n <= 279) {\n                static_ltree[n * 2 + 1] =\n                    /* .Len */\n                    7;\n                n++;\n                bl_count[7]++;\n            }\n            while (n <= 287) {\n                static_ltree[n * 2 + 1] =\n                    /* .Len */\n                    8;\n                n++;\n                bl_count[8]++;\n            }\n            /* Codes 286 and 287 do not exist, but we must include them in the\n             * tree construction to get a canonical Huffman tree (longest code\n             * all ones)\n             */\n            gen_codes(static_ltree, L_CODES + 1, bl_count);\n            /* The static distance tree is trivial: */\n            for (n = 0; n < D_CODES; n++) {\n                static_dtree[n * 2 + 1] =\n                    /* .Len */\n                    5;\n                static_dtree[n * 2] =\n                    /* .Code */\n                    bi_reverse(n, 5);\n            } // Now data ready and we can init static trees\n            static_l_desc = new StaticTreeDesc(static_ltree, extra_lbits, LITERALS + 1, L_CODES, MAX_BITS);\n            static_d_desc = new StaticTreeDesc(static_dtree, extra_dbits, 0, D_CODES, MAX_BITS);\n            static_bl_desc = new StaticTreeDesc(new Array(0), extra_blbits, 0, BL_CODES, MAX_BL_BITS);\n            // static_init_done = true;\n        };\n        /* ===========================================================================\n         * Initialize a new block.\n         */\n        var init_block = function init_block(s) {\n            var n;\n            /* iterates over tree elements */\n            /* Initialize the trees. */\n            for (n = 0; n < L_CODES; n++) {\n                s.dyn_ltree[n * 2] =\n                    /* .Freq */\n                    0;\n            }\n            for (n = 0; n < D_CODES; n++) {\n                s.dyn_dtree[n * 2] =\n                    /* .Freq */\n                    0;\n            }\n            for (n = 0; n < BL_CODES; n++) {\n                s.bl_tree[n * 2] =\n                    /* .Freq */\n                    0;\n            }\n            s.dyn_ltree[END_BLOCK * 2] =\n                /* .Freq */\n                1;\n            s.opt_len = s.static_len = 0;\n            s.last_lit = s.matches = 0;\n        };\n        /* ===========================================================================\n         * Flush the bit buffer and align the output on a byte boundary\n         */\n        var bi_windup = function bi_windup(s) {\n            if (s.bi_valid > 8) {\n                put_short(s, s.bi_buf);\n            }\n            else if (s.bi_valid > 0) {\n                // put_byte(s, (Byte)s->bi_buf);\n                s.pending_buf[s.pending++] = s.bi_buf;\n            }\n            s.bi_buf = 0;\n            s.bi_valid = 0;\n        };\n        /* ===========================================================================\n         * Copy a stored block, storing first the length and its\n         * one's complement if requested.\n         */\n        var copy_block = function copy_block(s, buf, len, header\n        // DeflateState *s;\n        // charf    *buf;    /* the input data */\n        // unsigned len;     /* its length */\n        // int      header;  /* true if block header must be written */\n        ) {\n            bi_windup(s);\n            /* align on byte boundary */\n            if (header) {\n                put_short(s, len);\n                put_short(s, ~len);\n            }\n            //  while (len--) {\n            //    put_byte(s, *buf++);\n            //  }\n            s.pending_buf.set(s.window.subarray(buf, buf + len), s.pending);\n            s.pending += len;\n        };\n        /* ===========================================================================\n         * Compares to subtrees, using the tree depth as tie breaker when\n         * the subtrees have equal frequency. This minimizes the worst case length.\n         */\n        var smaller = function smaller(tree, n, m, depth) {\n            var _n2 = n * 2;\n            var _m2 = m * 2;\n            return (tree[_n2] <\n                /* .Freq */\n                tree[_m2] ||\n                /* .Freq */\n                (tree[_n2] ===\n                    /* .Freq */\n                    tree[_m2] &&\n                    /* .Freq */\n                    depth[n] <= depth[m]));\n        };\n        /* ===========================================================================\n         * Restore the heap property by moving down the tree starting at node k,\n         * exchanging a node with the smallest of its two sons if necessary, stopping\n         * when the heap property is re-established (each father smaller than its\n         * two sons).\n         */\n        var pqdownheap = function pqdownheap(s, tree, k\n        //    deflate_state *s;\n        //    ct_data *tree;  /* the tree to restore */\n        //    int k;               /* node to move down */\n        ) {\n            var v = s.heap[k];\n            var j = k << 1;\n            /* left son of k */\n            while (j <= s.heap_len) {\n                /* Set j to the smallest of the two sons: */\n                if (j < s.heap_len && smaller(tree, s.heap[j + 1], s.heap[j], s.depth)) {\n                    j++;\n                }\n                /* Exit if v is smaller than both sons */\n                if (smaller(tree, v, s.heap[j], s.depth)) {\n                    break;\n                }\n                /* Exchange v with the smallest son */\n                s.heap[k] = s.heap[j];\n                k = j;\n                /* And continue down the tree, setting j to the left son of k */\n                j <<= 1;\n            }\n            s.heap[k] = v;\n        }; // inlined manually\n        // const SMALLEST = 1;\n        /* ===========================================================================\n         * Send the block data compressed using the given Huffman trees\n         */\n        var compress_block = function compress_block(s, ltree, dtree\n        //    deflate_state *s;\n        //    const ct_data *ltree; /* literal tree */\n        //    const ct_data *dtree; /* distance tree */\n        ) {\n            var dist;\n            /* distance of matched string */\n            var lc;\n            /* match length or unmatched char (if dist == 0) */\n            var lx = 0;\n            /* running index in l_buf */\n            var code;\n            /* the code to send */\n            var extra;\n            /* number of extra bits to send */\n            if (s.last_lit !== 0) {\n                do {\n                    dist = (s.pending_buf[s.d_buf + lx * 2] << 8) | s.pending_buf[s.d_buf + lx * 2 + 1];\n                    lc = s.pending_buf[s.l_buf + lx];\n                    lx++;\n                    if (dist === 0) {\n                        send_code(s, lc, ltree);\n                        /* send a literal byte */\n                        // Tracecv(isgraph(lc), (stderr,\" '%c' \", lc));\n                    }\n                    else {\n                        /* Here, lc is the match length - MIN_MATCH */\n                        code = _length_code[lc];\n                        send_code(s, code + LITERALS + 1, ltree);\n                        /* send the length code */\n                        extra = extra_lbits[code];\n                        if (extra !== 0) {\n                            lc -= base_length[code];\n                            send_bits(s, lc, extra);\n                            /* send the extra length bits */\n                        }\n                        dist--;\n                        /* dist is now the match distance - 1 */\n                        code = d_code(dist); // Assert (code < D_CODES, \"bad d_code\");\n                        send_code(s, code, dtree);\n                        /* send the distance code */\n                        extra = extra_dbits[code];\n                        if (extra !== 0) {\n                            dist -= base_dist[code];\n                            send_bits(s, dist, extra);\n                            /* send the extra distance bits */\n                        }\n                    }\n                    /* literal or match pair ? */\n                    /* Check that the overlay between pending_buf and d_buf+l_buf is ok: */\n                    // Assert((uInt)(s->pending) < s->lit_bufsize + 2*lx,\n                    //       \"pendingBuf overflow\");\n                } while (lx < s.last_lit);\n            }\n            send_code(s, END_BLOCK, ltree);\n        };\n        /* ===========================================================================\n         * Construct one Huffman tree and assigns the code bit strings and lengths.\n         * Update the total bit length for the current block.\n         * IN assertion: the field freq is set for all tree elements.\n         * OUT assertions: the fields len and code are set to the optimal bit length\n         *     and corresponding code. The length opt_len is updated; static_len is\n         *     also updated if stree is not null. The field max_code is set.\n         */\n        var build_tree = function build_tree(s, desc //    deflate_state *s; //    tree_desc *desc; /* the tree descriptor */\n        ) {\n            var tree = desc.dyn_tree;\n            var stree = desc.stat_desc.static_tree;\n            var has_stree = desc.stat_desc.has_stree;\n            var elems = desc.stat_desc.elems;\n            var n;\n            var m;\n            /* iterate over heap elements */\n            var max_code = -1;\n            /* largest code with non zero frequency */\n            var node;\n            /* new node being created */\n            /* Construct the initial heap, with least frequent element in\n             * heap[SMALLEST]. The sons of heap[n] are heap[2*n] and heap[2*n+1].\n             * heap[0] is not used.\n             */\n            s.heap_len = 0;\n            s.heap_max = HEAP_SIZE;\n            for (n = 0; n < elems; n++) {\n                if (tree[n * 2] !==\n                    /* .Freq */\n                    0) {\n                    s.heap[++s.heap_len] = max_code = n;\n                    s.depth[n] = 0;\n                }\n                else {\n                    tree[n * 2 + 1] =\n                        /* .Len */\n                        0;\n                }\n            }\n            /* The pkzip format requires that at least one distance code exists,\n             * and that at least one bit should be sent even if there is only one\n             * possible code. So to avoid special checks later on we force at least\n             * two codes of non zero frequency.\n             */\n            while (s.heap_len < 2) {\n                node = s.heap[++s.heap_len] = max_code < 2 ? ++max_code : 0;\n                tree[node * 2] =\n                    /* .Freq */\n                    1;\n                s.depth[node] = 0;\n                s.opt_len--;\n                if (has_stree) {\n                    s.static_len -= stree[node * 2 + 1];\n                    /* .Len */\n                }\n                /* node is 0 or 1 so it does not have extra bits */\n            }\n            desc.max_code = max_code;\n            /* The elements heap[heap_len/2+1 .. heap_len] are leaves of the tree,\n             * establish sub-heaps of increasing lengths:\n             */\n            for (n = s.heap_len >> 1; \n            /* int /2 */\n            n >= 1; n--) {\n                pqdownheap(s, tree, n);\n            }\n            /* Construct the Huffman tree by repeatedly combining the least two\n             * frequent nodes.\n             */\n            node = elems;\n            /* next internal node of the tree */\n            do {\n                // pqremove(s, tree, n);  /* n = node of least frequency */\n                /** * pqremove ** */\n                n = s.heap[1];\n                /* SMALLEST */\n                s.heap[1] = s.heap[s.heap_len--];\n                /* SMALLEST */\n                pqdownheap(s, tree, 1\n                /* SMALLEST */\n                );\n                /***/\n                m = s.heap[1];\n                /* SMALLEST */\n                /* m = node of next least frequency */\n                s.heap[--s.heap_max] = n;\n                /* keep the nodes sorted by frequency */\n                s.heap[--s.heap_max] = m;\n                /* Create a new node father of n and m */\n                tree[node * 2] =\n                    /* .Freq */\n                    tree[n * 2] +\n                        /* .Freq */\n                        tree[m * 2];\n                /* .Freq */\n                s.depth[node] = (s.depth[n] >= s.depth[m] ? s.depth[n] : s.depth[m]) + 1;\n                tree[n * 2 + 1] =\n                    /* .Dad */\n                    tree[m * 2 + 1] =\n                        /* .Dad */\n                        node;\n                /* and insert the new node in the heap */\n                s.heap[1] = node++;\n                /* SMALLEST */\n                pqdownheap(s, tree, 1\n                /* SMALLEST */\n                );\n            } while (s.heap_len >= 2);\n            s.heap[--s.heap_max] = s.heap[1];\n            /* SMALLEST */\n            /* At this point, the fields freq and dad are set. We can now\n             * generate the bit lengths.\n             */\n            gen_bitlen(s, desc);\n            /* The field len is now set, we can generate the bit codes */\n            gen_codes(tree, max_code, s.bl_count);\n        };\n        /* ===========================================================================\n         * Scan a literal or distance tree to determine the frequencies of the codes\n         * in the bit length tree.\n         */\n        var scan_tree = function scan_tree(s, tree, max_code\n        //    deflate_state *s;\n        //    ct_data *tree;   /* the tree to be scanned */\n        //    int max_code;    /* and its largest code of non zero frequency */\n        ) {\n            var n;\n            /* iterates over all tree elements */\n            var prevlen = -1;\n            /* last emitted length */\n            var curlen;\n            /* length of current code */\n            var nextlen = tree[0 * 2 + 1];\n            /* .Len */\n            /* length of next code */\n            var count = 0;\n            /* repeat count of the current code */\n            var max_count = 7;\n            /* max repeat count */\n            var min_count = 4;\n            /* min repeat count */\n            if (nextlen === 0) {\n                max_count = 138;\n                min_count = 3;\n            }\n            tree[(max_code + 1) * 2 + 1] =\n                /* .Len */\n                0xffff;\n            /* guard */\n            for (n = 0; n <= max_code; n++) {\n                curlen = nextlen;\n                nextlen = tree[(n + 1) * 2 + 1];\n                /* .Len */\n                if (++count < max_count && curlen === nextlen) {\n                    continue;\n                }\n                else if (count < min_count) {\n                    s.bl_tree[curlen * 2] +=\n                        /* .Freq */\n                        count;\n                }\n                else if (curlen !== 0) {\n                    if (curlen !== prevlen) {\n                        s.bl_tree[curlen * 2] /* .Freq */++;\n                    }\n                    s.bl_tree[REP_3_6 * 2] /* .Freq */++;\n                }\n                else if (count <= 10) {\n                    s.bl_tree[REPZ_3_10 * 2] /* .Freq */++;\n                }\n                else {\n                    s.bl_tree[REPZ_11_138 * 2] /* .Freq */++;\n                }\n                count = 0;\n                prevlen = curlen;\n                if (nextlen === 0) {\n                    max_count = 138;\n                    min_count = 3;\n                }\n                else if (curlen === nextlen) {\n                    max_count = 6;\n                    min_count = 3;\n                }\n                else {\n                    max_count = 7;\n                    min_count = 4;\n                }\n            }\n        };\n        /* ===========================================================================\n         * Send a literal or distance tree in compressed form, using the codes in\n         * bl_tree.\n         */\n        var send_tree = function send_tree(s, tree, max_code\n        //    deflate_state *s;\n        //    ct_data *tree; /* the tree to be scanned */\n        //    int max_code;       /* and its largest code of non zero frequency */\n        ) {\n            var n;\n            /* iterates over all tree elements */\n            var prevlen = -1;\n            /* last emitted length */\n            var curlen;\n            /* length of current code */\n            var nextlen = tree[0 * 2 + 1];\n            /* .Len */\n            /* length of next code */\n            var count = 0;\n            /* repeat count of the current code */\n            var max_count = 7;\n            /* max repeat count */\n            var min_count = 4;\n            /* min repeat count */\n            /* tree[max_code+1].Len = -1; */\n            /* guard already set */\n            if (nextlen === 0) {\n                max_count = 138;\n                min_count = 3;\n            }\n            for (n = 0; n <= max_code; n++) {\n                curlen = nextlen;\n                nextlen = tree[(n + 1) * 2 + 1];\n                /* .Len */\n                if (++count < max_count && curlen === nextlen) {\n                    continue;\n                }\n                else if (count < min_count) {\n                    do {\n                        send_code(s, curlen, s.bl_tree);\n                    } while (--count !== 0);\n                }\n                else if (curlen !== 0) {\n                    if (curlen !== prevlen) {\n                        send_code(s, curlen, s.bl_tree);\n                        count--;\n                    } // Assert(count >= 3 && count <= 6, \" 3_6?\");\n                    send_code(s, REP_3_6, s.bl_tree);\n                    send_bits(s, count - 3, 2);\n                }\n                else if (count <= 10) {\n                    send_code(s, REPZ_3_10, s.bl_tree);\n                    send_bits(s, count - 3, 3);\n                }\n                else {\n                    send_code(s, REPZ_11_138, s.bl_tree);\n                    send_bits(s, count - 11, 7);\n                }\n                count = 0;\n                prevlen = curlen;\n                if (nextlen === 0) {\n                    max_count = 138;\n                    min_count = 3;\n                }\n                else if (curlen === nextlen) {\n                    max_count = 6;\n                    min_count = 3;\n                }\n                else {\n                    max_count = 7;\n                    min_count = 4;\n                }\n            }\n        };\n        /* ===========================================================================\n         * Construct the Huffman tree for the bit lengths and return the index in\n         * bl_order of the last bit length code to send.\n         */\n        var build_bl_tree = function build_bl_tree(s) {\n            var max_blindex;\n            /* index of last bit length code of non zero freq */\n            /* Determine the bit length frequencies for literal and distance trees */\n            scan_tree(s, s.dyn_ltree, s.l_desc.max_code);\n            scan_tree(s, s.dyn_dtree, s.d_desc.max_code);\n            /* Build the bit length tree: */\n            build_tree(s, s.bl_desc);\n            /* opt_len now includes the length of the tree representations, except\n             * the lengths of the bit lengths codes and the 5+5+4 bits for the counts.\n             */\n            /* Determine the number of bit length codes to send. The pkzip format\n             * requires that at least 4 bit length codes be sent. (appnote.txt says\n             * 3 but the actual value used is 4.)\n             */\n            for (max_blindex = BL_CODES - 1; max_blindex >= 3; max_blindex--) {\n                if (s.bl_tree[bl_order[max_blindex] * 2 + 1] !==\n                    /* .Len */\n                    0) {\n                    break;\n                }\n            }\n            /* Update opt_len to include the bit length tree and counts */\n            s.opt_len += 3 * (max_blindex + 1) + 5 + 5 + 4; // Tracev((stderr, \"\\ndyn trees: dyn %ld, stat %ld\",\n            //        s->opt_len, s->static_len));\n            return max_blindex;\n        };\n        /* ===========================================================================\n         * Send the header for a block using dynamic Huffman trees: the counts, the\n         * lengths of the bit length codes, the literal tree and the distance tree.\n         * IN assertion: lcodes >= 257, dcodes >= 1, blcodes >= 4.\n         */\n        var send_all_trees = function send_all_trees(s, lcodes, dcodes, blcodes //    deflate_state *s; //    int lcodes, dcodes, blcodes; /* number of codes for each tree */\n        ) {\n            var rank;\n            /* index in bl_order */\n            // Assert (lcodes >= 257 && dcodes >= 1 && blcodes >= 4, \"not enough codes\");\n            // Assert (lcodes <= L_CODES && dcodes <= D_CODES && blcodes <= BL_CODES,\n            //        \"too many codes\");\n            // Tracev((stderr, \"\\nbl counts: \"));\n            send_bits(s, lcodes - 257, 5);\n            /* not +255 as stated in appnote.txt */\n            send_bits(s, dcodes - 1, 5);\n            send_bits(s, blcodes - 4, 4);\n            /* not -3 as stated in appnote.txt */\n            for (rank = 0; rank < blcodes; rank++) {\n                // Tracev((stderr, \"\\nbl code %2d \", bl_order[rank]));\n                send_bits(s, s.bl_tree[bl_order[rank] * 2 + 1], \n                /* .Len */\n                3);\n            } // Tracev((stderr, \"\\nbl tree: sent %ld\", s->bits_sent));\n            send_tree(s, s.dyn_ltree, lcodes - 1);\n            /* literal tree */\n            // Tracev((stderr, \"\\nlit tree: sent %ld\", s->bits_sent));\n            send_tree(s, s.dyn_dtree, dcodes - 1);\n            /* distance tree */\n            // Tracev((stderr, \"\\ndist tree: sent %ld\", s->bits_sent));\n        };\n        /* ===========================================================================\n         * Check if the data type is TEXT or BINARY, using the following algorithm:\n         * - TEXT if the two conditions below are satisfied:\n         *    a) There are no non-portable control characters belonging to the\n         *       \"black list\" (0..6, 14..25, 28..31).\n         *    b) There is at least one printable character belonging to the\n         *       \"white list\" (9 {TAB}, 10 {LF}, 13 {CR}, 32..255).\n         * - BINARY otherwise.\n         * - The following partially-portable control characters form a\n         *   \"gray list\" that is ignored in this detection algorithm:\n         *   (7 {BEL}, 8 {BS}, 11 {VT}, 12 {FF}, 26 {SUB}, 27 {ESC}).\n         * IN assertion: the fields Freq of dyn_ltree are set.\n         */\n        var detect_data_type = function detect_data_type(s) {\n            /* black_mask is the bit mask of black-listed bytes\n             * set bits 0..6, 14..25, and 28..31\n             * 0xf3ffc07f = binary 11110011111111111100000001111111\n             */\n            var black_mask = 0xf3ffc07f;\n            var n;\n            /* Check for non-textual (\"black-listed\") bytes. */\n            for (n = 0; n <= 31; n++, black_mask >>>= 1) {\n                if (black_mask & 1 &&\n                    s.dyn_ltree[n * 2] !==\n                        /* .Freq */\n                        0) {\n                    return Z_BINARY;\n                }\n            }\n            /* Check for textual (\"white-listed\") bytes. */\n            if (s.dyn_ltree[9 * 2] !==\n                /* .Freq */\n                0 ||\n                s.dyn_ltree[10 * 2] !==\n                    /* .Freq */\n                    0 ||\n                s.dyn_ltree[13 * 2] !==\n                    /* .Freq */\n                    0) {\n                return Z_TEXT;\n            }\n            for (n = 32; n < LITERALS; n++) {\n                if (s.dyn_ltree[n * 2] !==\n                    /* .Freq */\n                    0) {\n                    return Z_TEXT;\n                }\n            }\n            /* There are no \"black-listed\" or \"white-listed\" bytes:\n             * this stream either is empty or has tolerated (\"gray-listed\") bytes only.\n             */\n            return Z_BINARY;\n        };\n        var static_init_done = false;\n        /* ===========================================================================\n         * Initialize the tree data structures for a new zlib stream.\n         */\n        var _tr_init = function _tr_init(s) {\n            if (!static_init_done) {\n                tr_static_init();\n                static_init_done = true;\n            }\n            s.l_desc = new TreeDesc(s.dyn_ltree, static_l_desc);\n            s.d_desc = new TreeDesc(s.dyn_dtree, static_d_desc);\n            s.bl_desc = new TreeDesc(s.bl_tree, static_bl_desc);\n            s.bi_buf = 0;\n            s.bi_valid = 0;\n            /* Initialize the first block of the first file: */\n            init_block(s);\n        };\n        /* ===========================================================================\n         * Send a stored block\n         */\n        var _tr_stored_block = function _tr_stored_block(s, buf, stored_len, last\n        // DeflateState *s;\n        // charf *buf;       /* input block */\n        // ulg stored_len;   /* length of input block */\n        // int last;         /* one if this is the last block for a file */\n        ) {\n            send_bits(s, (STORED_BLOCK << 1) + (last ? 1 : 0), 3);\n            /* send block type */\n            copy_block(s, buf, stored_len, true);\n            /* with header */\n        };\n        /* ===========================================================================\n         * Send one empty static block to give enough lookahead for inflate.\n         * This takes 10 bits, of which 7 may remain in the bit buffer.\n         */\n        var _tr_align = function _tr_align(s) {\n            send_bits(s, STATIC_TREES << 1, 3);\n            send_code(s, END_BLOCK, static_ltree);\n            bi_flush(s);\n        };\n        /* ===========================================================================\n         * Determine the best encoding for the current block: dynamic trees, static\n         * trees or store, and output the encoded block to the zip file.\n         */\n        var _tr_flush_block = function _tr_flush_block(s, buf, stored_len, last\n        // DeflateState *s;\n        // charf *buf;       /* input block, or NULL if too old */\n        // ulg stored_len;   /* length of input block */\n        // int last;         /* one if this is the last block for a file */\n        ) {\n            var opt_lenb;\n            var static_lenb;\n            /* opt_len and static_len in bytes */\n            var max_blindex = 0;\n            /* index of last bit length code of non zero freq */\n            /* Build the Huffman trees unless a stored block is forced */\n            if (s.level > 0) {\n                /* Check if the file is binary or text */\n                if (s.strm.data_type === Z_UNKNOWN) {\n                    s.strm.data_type = detect_data_type(s);\n                }\n                /* Construct the literal and distance trees */\n                build_tree(s, s.l_desc); // Tracev((stderr, \"\\nlit data: dyn %ld, stat %ld\", s->opt_len,\n                //        s->static_len));\n                build_tree(s, s.d_desc); // Tracev((stderr, \"\\ndist data: dyn %ld, stat %ld\", s->opt_len,\n                //        s->static_len));\n                /* At this point, opt_len and static_len are the total bit lengths of\n                 * the compressed block data, excluding the tree representations.\n                 */\n                /* Build the bit length tree for the above two trees, and get the index\n                 * in bl_order of the last bit length code to send.\n                 */\n                max_blindex = build_bl_tree(s);\n                /* Determine the best encoding. Compute the block lengths in bytes. */\n                opt_lenb = (s.opt_len + 3 + 7) >>> 3;\n                static_lenb = (s.static_len + 3 + 7) >>> 3; // Tracev((stderr, \"\\nopt %lu(%lu) stat %lu(%lu) stored %lu lit %u \",\n                //        opt_lenb, s->opt_len, static_lenb, s->static_len, stored_len,\n                //        s->last_lit));\n                if (static_lenb <= opt_lenb) {\n                    opt_lenb = static_lenb;\n                }\n            }\n            else {\n                // Assert(buf != (char*)0, \"lost buf\");\n                opt_lenb = static_lenb = stored_len + 5;\n                /* force a stored block */\n            }\n            if (stored_len + 4 <= opt_lenb && buf !== -1) {\n                /* 4: two words for the lengths */\n                /* The test buf != NULL is only necessary if LIT_BUFSIZE > WSIZE.\n                 * Otherwise we can't have processed more than WSIZE input bytes since\n                 * the last block flush, because compression would have been\n                 * successful. If LIT_BUFSIZE <= WSIZE, it is never too late to\n                 * transform a block into a stored block.\n                 */\n                _tr_stored_block(s, buf, stored_len, last);\n            }\n            else if (s.strategy === Z_FIXED || static_lenb === opt_lenb) {\n                send_bits(s, (STATIC_TREES << 1) + (last ? 1 : 0), 3);\n                compress_block(s, static_ltree, static_dtree);\n            }\n            else {\n                send_bits(s, (DYN_TREES << 1) + (last ? 1 : 0), 3);\n                send_all_trees(s, s.l_desc.max_code + 1, s.d_desc.max_code + 1, max_blindex + 1);\n                compress_block(s, s.dyn_ltree, s.dyn_dtree);\n            } // Assert (s->compressed_len == s->bits_sent, \"bad compressed size\");\n            /* The above check is made mod 2^32, for files larger than 512 MB\n             * and uLong implemented on 32 bits.\n             */\n            init_block(s);\n            if (last) {\n                bi_windup(s);\n            } // Tracev((stderr,\"\\ncomprlen %lu(%lu) \", s->compressed_len>>3,\n            //       s->compressed_len-7*last));\n        };\n        /* ===========================================================================\n         * Save the match info and tally the frequency counts. Return true if\n         * the current block must be flushed.\n         */\n        var _tr_tally = function _tr_tally(s, dist, lc\n        //    deflate_state *s;\n        //    unsigned dist;  /* distance of matched string */\n        //    unsigned lc;    /* match length-MIN_MATCH or unmatched char (if dist==0) */\n        ) {\n            // let out_length, in_length, dcode;\n            s.pending_buf[s.d_buf + s.last_lit * 2] = (dist >>> 8) & 0xff;\n            s.pending_buf[s.d_buf + s.last_lit * 2 + 1] = dist & 0xff;\n            s.pending_buf[s.l_buf + s.last_lit] = lc & 0xff;\n            s.last_lit++;\n            if (dist === 0) {\n                /* lc is the unmatched char */\n                s.dyn_ltree[lc * 2] /* .Freq */++;\n            }\n            else {\n                s.matches++;\n                /* Here, lc is the match length - MIN_MATCH */\n                dist--;\n                /* dist = match distance - 1 */\n                // Assert((ush)dist < (ush)MAX_DIST(s) &&\n                //       (ush)lc <= (ush)(MAX_MATCH-MIN_MATCH) &&\n                //       (ush)d_code(dist) < (ush)D_CODES,  \"_tr_tally: bad match\");\n                s.dyn_ltree[(_length_code[lc] + LITERALS + 1) * 2] /* .Freq */++;\n                s.dyn_dtree[d_code(dist) * 2] /* .Freq */++;\n            } // (!) This block is disabled in zlib defaults,\n            // don't enable it for binary compatibility\n            // #ifdef TRUNCATE_BLOCK\n            //  /* Try to guess if it is profitable to stop the current block here */\n            //  if ((s.last_lit & 0x1fff) === 0 && s.level > 2) {\n            //    /* Compute an upper bound for the compressed length */\n            //    out_length = s.last_lit*8;\n            //    in_length = s.strstart - s.block_start;\n            //\n            //    for (dcode = 0; dcode < D_CODES; dcode++) {\n            //      out_length += s.dyn_dtree[dcode*2]/*.Freq*/ * (5 + extra_dbits[dcode]);\n            //    }\n            //    out_length >>>= 3;\n            //    //Tracev((stderr,\"\\nlast_lit %u, in %ld, out ~%ld(%ld%%) \",\n            //    //       s->last_lit, in_length, out_length,\n            //    //       100L - out_length*100L/in_length));\n            //    if (s.matches < (s.last_lit>>1)/*int /2*/ && out_length < (in_length>>1)/*int /2*/) {\n            //      return true;\n            //    }\n            //  }\n            // #endif\n            return s.last_lit === s.lit_bufsize - 1;\n            /* We avoid equality with lit_bufsize because of wraparound at 64K\n             * on 16 bit machines and because stored blocks are restricted to\n             * 64K-1 bytes.\n             */\n        };\n        var _tr_init_1 = _tr_init;\n        var _tr_stored_block_1 = _tr_stored_block;\n        var _tr_flush_block_1 = _tr_flush_block;\n        var _tr_tally_1 = _tr_tally;\n        var _tr_align_1 = _tr_align;\n        var trees = {\n            _tr_init: _tr_init_1,\n            _tr_stored_block: _tr_stored_block_1,\n            _tr_flush_block: _tr_flush_block_1,\n            _tr_tally: _tr_tally_1,\n            _tr_align: _tr_align_1,\n        };\n        // It isn't worth it to make additional optimizations as in original.\n        // Small size is preferable.\n        // (C) 1995-2013 Jean-loup Gailly and Mark Adler\n        // (C) 2014-2017 Vitaly Puzrin and Andrey Tupitsin\n        //\n        // This software is provided 'as-is', without any express or implied\n        // warranty. In no event will the authors be held liable for any damages\n        // arising from the use of this software.\n        //\n        // Permission is granted to anyone to use this software for any purpose,\n        // including commercial applications, and to alter it and redistribute it\n        // freely, subject to the following restrictions:\n        //\n        // 1. The origin of this software must not be misrepresented; you must not\n        //   claim that you wrote the original software. If you use this software\n        //   in a product, an acknowledgment in the product documentation would be\n        //   appreciated but is not required.\n        // 2. Altered source versions must be plainly marked as such, and must not be\n        //   misrepresented as being the original software.\n        // 3. This notice may not be removed or altered from any source distribution.\n        var adler32 = function adler32(adler, buf, len, pos) {\n            var s1 = (adler & 0xffff) | 0;\n            var s2 = ((adler >>> 16) & 0xffff) | 0;\n            var n = 0;\n            while (len !== 0) {\n                // Set limit ~ twice less than 5552, to keep\n                // s2 in 31-bits, because we force signed ints.\n                // in other case %= will fail.\n                n = len > 2000 ? 2000 : len;\n                len -= n;\n                do {\n                    s1 = (s1 + buf[pos++]) | 0;\n                    s2 = (s2 + s1) | 0;\n                } while (--n);\n                s1 %= 65521;\n                s2 %= 65521;\n            }\n            return s1 | (s2 << 16) | 0;\n        };\n        var adler32_1 = adler32;\n        // So write code to minimize size - no pregenerated tables\n        // and array tools dependencies.\n        // (C) 1995-2013 Jean-loup Gailly and Mark Adler\n        // (C) 2014-2017 Vitaly Puzrin and Andrey Tupitsin\n        //\n        // This software is provided 'as-is', without any express or implied\n        // warranty. In no event will the authors be held liable for any damages\n        // arising from the use of this software.\n        //\n        // Permission is granted to anyone to use this software for any purpose,\n        // including commercial applications, and to alter it and redistribute it\n        // freely, subject to the following restrictions:\n        //\n        // 1. The origin of this software must not be misrepresented; you must not\n        //   claim that you wrote the original software. If you use this software\n        //   in a product, an acknowledgment in the product documentation would be\n        //   appreciated but is not required.\n        // 2. Altered source versions must be plainly marked as such, and must not be\n        //   misrepresented as being the original software.\n        // 3. This notice may not be removed or altered from any source distribution.\n        // Use ordinary array, since untyped makes no boost here\n        var makeTable = function makeTable() {\n            var c;\n            var table = [];\n            for (var n = 0; n < 256; n++) {\n                c = n;\n                for (var k = 0; k < 8; k++) {\n                    c = c & 1 ? 0xedb88320 ^ (c >>> 1) : c >>> 1;\n                }\n                table[n] = c;\n            }\n            return table;\n        }; // Create table on load. Just 255 signed longs. Not a problem.\n        var crcTable = new Uint32Array(makeTable());\n        var crc32 = function crc32(crc, buf, len, pos) {\n            var t = crcTable;\n            var end = pos + len;\n            crc ^= -1;\n            for (var i = pos; i < end; i++) {\n                crc = (crc >>> 8) ^ t[(crc ^ buf[i]) & 0xff];\n            }\n            return crc ^ -1; // >>> 0;\n        };\n        var crc32_1 = crc32;\n        // (C) 2014-2017 Vitaly Puzrin and Andrey Tupitsin\n        //\n        // This software is provided 'as-is', without any express or implied\n        // warranty. In no event will the authors be held liable for any damages\n        // arising from the use of this software.\n        //\n        // Permission is granted to anyone to use this software for any purpose,\n        // including commercial applications, and to alter it and redistribute it\n        // freely, subject to the following restrictions:\n        //\n        // 1. The origin of this software must not be misrepresented; you must not\n        //   claim that you wrote the original software. If you use this software\n        //   in a product, an acknowledgment in the product documentation would be\n        //   appreciated but is not required.\n        // 2. Altered source versions must be plainly marked as such, and must not be\n        //   misrepresented as being the original software.\n        // 3. This notice may not be removed or altered from any source distribution.\n        var messages = {\n            2: 'need dictionary',\n            /* Z_NEED_DICT       2  */\n            1: 'stream end',\n            /* Z_STREAM_END      1  */\n            0: '',\n            /* Z_OK              0  */\n            '-1': 'file error',\n            /* Z_ERRNO         (-1) */\n            '-2': 'stream error',\n            /* Z_STREAM_ERROR  (-2) */\n            '-3': 'data error',\n            /* Z_DATA_ERROR    (-3) */\n            '-4': 'insufficient memory',\n            /* Z_MEM_ERROR     (-4) */\n            '-5': 'buffer error',\n            /* Z_BUF_ERROR     (-5) */\n            '-6': 'incompatible version',\n            /* Z_VERSION_ERROR (-6) */\n        };\n        // (C) 2014-2017 Vitaly Puzrin and Andrey Tupitsin\n        //\n        // This software is provided 'as-is', without any express or implied\n        // warranty. In no event will the authors be held liable for any damages\n        // arising from the use of this software.\n        //\n        // Permission is granted to anyone to use this software for any purpose,\n        // including commercial applications, and to alter it and redistribute it\n        // freely, subject to the following restrictions:\n        //\n        // 1. The origin of this software must not be misrepresented; you must not\n        //   claim that you wrote the original software. If you use this software\n        //   in a product, an acknowledgment in the product documentation would be\n        //   appreciated but is not required.\n        // 2. Altered source versions must be plainly marked as such, and must not be\n        //   misrepresented as being the original software.\n        // 3. This notice may not be removed or altered from any source distribution.\n        var constants = {\n            /* Allowed flush values; see deflate() and inflate() below for details */\n            Z_NO_FLUSH: 0,\n            Z_PARTIAL_FLUSH: 1,\n            Z_SYNC_FLUSH: 2,\n            Z_FULL_FLUSH: 3,\n            Z_FINISH: 4,\n            Z_BLOCK: 5,\n            Z_TREES: 6,\n            /* Return codes for the compression/decompression functions. Negative values\n             * are errors, positive values are used for special but normal events.\n             */\n            Z_OK: 0,\n            Z_STREAM_END: 1,\n            Z_NEED_DICT: 2,\n            Z_ERRNO: -1,\n            Z_STREAM_ERROR: -2,\n            Z_DATA_ERROR: -3,\n            Z_MEM_ERROR: -4,\n            Z_BUF_ERROR: -5,\n            // Z_VERSION_ERROR: -6,\n            /* compression levels */\n            Z_NO_COMPRESSION: 0,\n            Z_BEST_SPEED: 1,\n            Z_BEST_COMPRESSION: 9,\n            Z_DEFAULT_COMPRESSION: -1,\n            Z_FILTERED: 1,\n            Z_HUFFMAN_ONLY: 2,\n            Z_RLE: 3,\n            Z_FIXED: 4,\n            Z_DEFAULT_STRATEGY: 0,\n            /* Possible values of the data_type field (though see inflate()) */\n            Z_BINARY: 0,\n            Z_TEXT: 1,\n            // Z_ASCII:                1, // = Z_TEXT (deprecated)\n            Z_UNKNOWN: 2,\n            /* The deflate compression method */\n            Z_DEFLATED: 8, // Z_NULL:                 null // Use -1 or null inline, depending on var type\n        };\n        // (C) 2014-2017 Vitaly Puzrin and Andrey Tupitsin\n        //\n        // This software is provided 'as-is', without any express or implied\n        // warranty. In no event will the authors be held liable for any damages\n        // arising from the use of this software.\n        //\n        // Permission is granted to anyone to use this software for any purpose,\n        // including commercial applications, and to alter it and redistribute it\n        // freely, subject to the following restrictions:\n        //\n        // 1. The origin of this software must not be misrepresented; you must not\n        //   claim that you wrote the original software. If you use this software\n        //   in a product, an acknowledgment in the product documentation would be\n        //   appreciated but is not required.\n        // 2. Altered source versions must be plainly marked as such, and must not be\n        //   misrepresented as being the original software.\n        // 3. This notice may not be removed or altered from any source distribution.\n        var _tr_init$1 = trees._tr_init;\n        var _tr_stored_block$1 = trees._tr_stored_block;\n        var _tr_flush_block$1 = trees._tr_flush_block;\n        var _tr_tally$1 = trees._tr_tally;\n        var _tr_align$1 = trees._tr_align;\n        /* Public constants ========================================================== */\n        /* =========================================================================== */\n        var Z_NO_FLUSH = constants.Z_NO_FLUSH;\n        var Z_PARTIAL_FLUSH = constants.Z_PARTIAL_FLUSH;\n        var Z_FULL_FLUSH = constants.Z_FULL_FLUSH;\n        var Z_FINISH = constants.Z_FINISH;\n        var Z_BLOCK = constants.Z_BLOCK;\n        var Z_OK = constants.Z_OK;\n        var Z_STREAM_END = constants.Z_STREAM_END;\n        var Z_STREAM_ERROR = constants.Z_STREAM_ERROR;\n        var Z_DATA_ERROR = constants.Z_DATA_ERROR;\n        var Z_BUF_ERROR = constants.Z_BUF_ERROR;\n        var Z_DEFAULT_COMPRESSION = constants.Z_DEFAULT_COMPRESSION;\n        var Z_FILTERED = constants.Z_FILTERED;\n        var Z_HUFFMAN_ONLY = constants.Z_HUFFMAN_ONLY;\n        var Z_RLE = constants.Z_RLE;\n        var Z_FIXED$1 = constants.Z_FIXED;\n        var Z_DEFAULT_STRATEGY = constants.Z_DEFAULT_STRATEGY;\n        var Z_UNKNOWN$1 = constants.Z_UNKNOWN;\n        var Z_DEFLATED = constants.Z_DEFLATED;\n        /* ============================================================================ */\n        var MAX_MEM_LEVEL = 9;\n        /* Maximum value for memLevel in deflateInit2 */\n        var MAX_WBITS = 15;\n        /* 32K LZ77 window */\n        var DEF_MEM_LEVEL = 8;\n        var LENGTH_CODES$1 = 29;\n        /* number of length codes, not counting the special END_BLOCK code */\n        var LITERALS$1 = 256;\n        /* number of literal bytes 0..255 */\n        var L_CODES$1 = LITERALS$1 + 1 + LENGTH_CODES$1;\n        /* number of Literal or Length codes, including the END_BLOCK code */\n        var D_CODES$1 = 30;\n        /* number of distance codes */\n        var BL_CODES$1 = 19;\n        /* number of codes used to transfer the bit lengths */\n        var HEAP_SIZE$1 = 2 * L_CODES$1 + 1;\n        /* maximum heap size */\n        var MAX_BITS$1 = 15;\n        /* All codes must not exceed MAX_BITS bits */\n        var MIN_MATCH$1 = 3;\n        var MAX_MATCH$1 = 258;\n        var MIN_LOOKAHEAD = MAX_MATCH$1 + MIN_MATCH$1 + 1;\n        var PRESET_DICT = 0x20;\n        var INIT_STATE = 42;\n        var EXTRA_STATE = 69;\n        var NAME_STATE = 73;\n        var COMMENT_STATE = 91;\n        var HCRC_STATE = 103;\n        var BUSY_STATE = 113;\n        var FINISH_STATE = 666;\n        var BS_NEED_MORE = 1;\n        /* block not completed, need more input or more output */\n        var BS_BLOCK_DONE = 2;\n        /* block flush performed */\n        var BS_FINISH_STARTED = 3;\n        /* finish started, need only more output at next deflate */\n        var BS_FINISH_DONE = 4;\n        /* finish done, accept no more input or output */\n        var OS_CODE = 0x03; // Unix :) . Don't detect, use this default.\n        var err = function err(strm, errorCode) {\n            strm.msg = messages[errorCode];\n            return errorCode;\n        };\n        var rank = function rank(f) {\n            return (f << 1) - (f > 4 ? 9 : 0);\n        };\n        var zero$1 = function zero(buf) {\n            var len = buf.length;\n            while (--len >= 0) {\n                buf[len] = 0;\n            }\n        };\n        var HASH_ZLIB = function HASH_ZLIB(s, prev, data) {\n            return ((prev << s.hash_shift) ^ data) & s.hash_mask;\n        }; // This hash causes less collisions, https://github.com/nodeca/pako/issues/135\n        // But breaks binary compatibility\n        // let HASH_FAST = (s, prev, data) => ((prev << 8) + (prev >> 8) + (data << 4)) & s.hash_mask;\n        var HASH = HASH_ZLIB;\n        /* =========================================================================\n         * Flush as much pending output as possible. All deflate() output goes\n         * through this function so some applications may wish to modify it\n         * to avoid allocating a large strm->output buffer and copying into it.\n         * (See also read_buf()).\n         */\n        var flush_pending = function flush_pending(strm) {\n            var s = strm.state; // _tr_flush_bits(s);\n            var len = s.pending;\n            if (len > strm.avail_out) {\n                len = strm.avail_out;\n            }\n            if (len === 0) {\n                return;\n            }\n            strm.output.set(s.pending_buf.subarray(s.pending_out, s.pending_out + len), strm.next_out);\n            strm.next_out += len;\n            s.pending_out += len;\n            strm.total_out += len;\n            strm.avail_out -= len;\n            s.pending -= len;\n            if (s.pending === 0) {\n                s.pending_out = 0;\n            }\n        };\n        var flush_block_only = function flush_block_only(s, last) {\n            _tr_flush_block$1(s, s.block_start >= 0 ? s.block_start : -1, s.strstart - s.block_start, last);\n            s.block_start = s.strstart;\n            flush_pending(s.strm);\n        };\n        var put_byte = function put_byte(s, b) {\n            s.pending_buf[s.pending++] = b;\n        };\n        /* =========================================================================\n         * Put a short in the pending buffer. The 16-bit value is put in MSB order.\n         * IN assertion: the stream state is correct and there is enough room in\n         * pending_buf.\n         */\n        var putShortMSB = function putShortMSB(s, b) {\n            //  put_byte(s, (Byte)(b >> 8));\n            //  put_byte(s, (Byte)(b & 0xff));\n            s.pending_buf[s.pending++] = (b >>> 8) & 0xff;\n            s.pending_buf[s.pending++] = b & 0xff;\n        };\n        /* ===========================================================================\n         * Read a new buffer from the current input stream, update the adler32\n         * and total number of bytes read.  All deflate() input goes through\n         * this function so some applications may wish to modify it to avoid\n         * allocating a large strm->input buffer and copying from it.\n         * (See also flush_pending()).\n         */\n        var read_buf = function read_buf(strm, buf, start, size) {\n            var len = strm.avail_in;\n            if (len > size) {\n                len = size;\n            }\n            if (len === 0) {\n                return 0;\n            }\n            strm.avail_in -= len; // zmemcpy(buf, strm->next_in, len);\n            buf.set(strm.input.subarray(strm.next_in, strm.next_in + len), start);\n            if (strm.state.wrap === 1) {\n                strm.adler = adler32_1(strm.adler, buf, len, start);\n            }\n            else if (strm.state.wrap === 2) {\n                strm.adler = crc32_1(strm.adler, buf, len, start);\n            }\n            strm.next_in += len;\n            strm.total_in += len;\n            return len;\n        };\n        /* ===========================================================================\n         * Set match_start to the longest match starting at the given string and\n         * return its length. Matches shorter or equal to prev_length are discarded,\n         * in which case the result is equal to prev_length and match_start is\n         * garbage.\n         * IN assertions: cur_match is the head of the hash chain for the current\n         *   string (strstart) and its distance is <= MAX_DIST, and prev_length >= 1\n         * OUT assertion: the match length is not greater than s->lookahead.\n         */\n        var longest_match = function longest_match(s, cur_match) {\n            var chain_length = s.max_chain_length;\n            /* max hash chain length */\n            var scan = s.strstart;\n            /* current string */\n            var match;\n            /* matched string */\n            var len;\n            /* length of current match */\n            var best_len = s.prev_length;\n            /* best match length so far */\n            var nice_match = s.nice_match;\n            /* stop if match long enough */\n            var limit = s.strstart > s.w_size - MIN_LOOKAHEAD ? s.strstart - (s.w_size - MIN_LOOKAHEAD) : 0;\n            /* NIL */\n            var _win = s.window; // shortcut\n            var wmask = s.w_mask;\n            var prev = s.prev;\n            /* Stop when cur_match becomes <= limit. To simplify the code,\n             * we prevent matches with the string of window index 0.\n             */\n            var strend = s.strstart + MAX_MATCH$1;\n            var scan_end1 = _win[scan + best_len - 1];\n            var scan_end = _win[scan + best_len];\n            /* The code is optimized for HASH_BITS >= 8 and MAX_MATCH-2 multiple of 16.\n             * It is easy to get rid of this optimization if necessary.\n             */\n            // Assert(s->hash_bits >= 8 && MAX_MATCH == 258, \"Code too clever\");\n            /* Do not waste too much time if we already have a good match: */\n            if (s.prev_length >= s.good_match) {\n                chain_length >>= 2;\n            }\n            /* Do not look for matches beyond the end of the input. This is necessary\n             * to make deflate deterministic.\n             */\n            if (nice_match > s.lookahead) {\n                nice_match = s.lookahead;\n            } // Assert((ulg)s->strstart <= s->window_size-MIN_LOOKAHEAD, \"need lookahead\");\n            do {\n                // Assert(cur_match < s->strstart, \"no future\");\n                match = cur_match;\n                /* Skip to next match if the match length cannot increase\n                 * or if the match length is less than 2.  Note that the checks below\n                 * for insufficient lookahead only occur occasionally for performance\n                 * reasons.  Therefore uninitialized memory will be accessed, and\n                 * conditional jumps will be made that depend on those values.\n                 * However the length of the match is limited to the lookahead, so\n                 * the output of deflate is not affected by the uninitialized values.\n                 */\n                if (_win[match + best_len] !== scan_end ||\n                    _win[match + best_len - 1] !== scan_end1 ||\n                    _win[match] !== _win[scan] ||\n                    _win[++match] !== _win[scan + 1]) {\n                    continue;\n                }\n                /* The check at best_len-1 can be removed because it will be made\n                 * again later. (This heuristic is not always a win.)\n                 * It is not necessary to compare scan[2] and match[2] since they\n                 * are always equal when the other bytes match, given that\n                 * the hash keys are equal and that HASH_BITS >= 8.\n                 */\n                scan += 2;\n                match++; // Assert(*scan == *match, \"match[2]?\");\n                /* We check for insufficient lookahead only every 8th comparison;\n                 * the 256th check will be made at strstart+258.\n                 */\n                do {\n                    /* jshint noempty:false */\n                } while (_win[++scan] === _win[++match] &&\n                    _win[++scan] === _win[++match] &&\n                    _win[++scan] === _win[++match] &&\n                    _win[++scan] === _win[++match] &&\n                    _win[++scan] === _win[++match] &&\n                    _win[++scan] === _win[++match] &&\n                    _win[++scan] === _win[++match] &&\n                    _win[++scan] === _win[++match] &&\n                    scan < strend); // Assert(scan <= s->window+(unsigned)(s->window_size-1), \"wild scan\");\n                len = MAX_MATCH$1 - (strend - scan);\n                scan = strend - MAX_MATCH$1;\n                if (len > best_len) {\n                    s.match_start = cur_match;\n                    best_len = len;\n                    if (len >= nice_match) {\n                        break;\n                    }\n                    scan_end1 = _win[scan + best_len - 1];\n                    scan_end = _win[scan + best_len];\n                }\n            } while ((cur_match = prev[cur_match & wmask]) > limit && --chain_length !== 0);\n            if (best_len <= s.lookahead) {\n                return best_len;\n            }\n            return s.lookahead;\n        };\n        /* ===========================================================================\n         * Fill the window when the lookahead becomes insufficient.\n         * Updates strstart and lookahead.\n         *\n         * IN assertion: lookahead < MIN_LOOKAHEAD\n         * OUT assertions: strstart <= window_size-MIN_LOOKAHEAD\n         *    At least one byte has been read, or avail_in == 0; reads are\n         *    performed for at least two bytes (required for the zip translate_eol\n         *    option -- not supported here).\n         */\n        var fill_window = function fill_window(s) {\n            var _w_size = s.w_size;\n            var p;\n            var n;\n            var m;\n            var more;\n            var str; // Assert(s->lookahead < MIN_LOOKAHEAD, \"already enough lookahead\");\n            do {\n                more = s.window_size - s.lookahead - s.strstart; // JS ints have 32 bit, block below not needed\n                /* Deal with !@#$% 64K limit: */\n                // if (sizeof(int) <= 2) {\n                //    if (more == 0 && s->strstart == 0 && s->lookahead == 0) {\n                //        more = wsize;\n                //\n                //  } else if (more == (unsigned)(-1)) {\n                //        /* Very unlikely, but possible on 16 bit machine if\n                //         * strstart == 0 && lookahead == 1 (input done a byte at time)\n                //         */\n                //        more--;\n                //    }\n                // }\n                /* If the window is almost full and there is insufficient lookahead,\n                 * move the upper half to the lower one to make room in the upper half.\n                 */\n                if (s.strstart >= _w_size + (_w_size - MIN_LOOKAHEAD)) {\n                    s.window.set(s.window.subarray(_w_size, _w_size + _w_size), 0);\n                    s.match_start -= _w_size;\n                    s.strstart -= _w_size;\n                    /* we now have strstart >= MAX_DIST */\n                    s.block_start -= _w_size;\n                    /* Slide the hash table (could be avoided with 32 bit values\n                   at the expense of memory usage). We slide even when level == 0\n                   to keep the hash table consistent if we switch back to level > 0\n                   later. (Using level 0 permanently is not an optimal usage of\n                   zlib, so we don't care about this pathological case.)\n                   */\n                    n = s.hash_size;\n                    p = n;\n                    do {\n                        m = s.head[--p];\n                        s.head[p] = m >= _w_size ? m - _w_size : 0;\n                    } while (--n);\n                    n = _w_size;\n                    p = n;\n                    do {\n                        m = s.prev[--p];\n                        s.prev[p] = m >= _w_size ? m - _w_size : 0;\n                        /* If n is not on any hash chain, prev[n] is garbage but\n                         * its value will never be used.\n                         */\n                    } while (--n);\n                    more += _w_size;\n                }\n                if (s.strm.avail_in === 0) {\n                    break;\n                }\n                /* If there was no sliding:\n                 *    strstart <= WSIZE+MAX_DIST-1 && lookahead <= MIN_LOOKAHEAD - 1 &&\n                 *    more == window_size - lookahead - strstart\n                 * => more >= window_size - (MIN_LOOKAHEAD-1 + WSIZE + MAX_DIST-1)\n                 * => more >= window_size - 2*WSIZE + 2\n                 * In the BIG_MEM or MMAP case (not yet supported),\n                 *   window_size == input_size + MIN_LOOKAHEAD  &&\n                 *   strstart + s->lookahead <= input_size => more >= MIN_LOOKAHEAD.\n                 * Otherwise, window_size == 2*WSIZE so more >= 2.\n                 * If there was sliding, more >= WSIZE. So in all cases, more >= 2.\n                 */\n                // Assert(more >= 2, \"more < 2\");\n                n = read_buf(s.strm, s.window, s.strstart + s.lookahead, more);\n                s.lookahead += n;\n                /* Initialize the hash value now that we have some input: */\n                if (s.lookahead + s.insert >= MIN_MATCH$1) {\n                    str = s.strstart - s.insert;\n                    s.ins_h = s.window[str];\n                    /* UPDATE_HASH(s, s->ins_h, s->window[str + 1]); */\n                    s.ins_h = HASH(s, s.ins_h, s.window[str + 1]); // #if MIN_MATCH != 3\n                    //        Call update_hash() MIN_MATCH-3 more times\n                    // #endif\n                    while (s.insert) {\n                        /* UPDATE_HASH(s, s->ins_h, s->window[str + MIN_MATCH-1]); */\n                        s.ins_h = HASH(s, s.ins_h, s.window[str + MIN_MATCH$1 - 1]);\n                        s.prev[str & s.w_mask] = s.head[s.ins_h];\n                        s.head[s.ins_h] = str;\n                        str++;\n                        s.insert--;\n                        if (s.lookahead + s.insert < MIN_MATCH$1) {\n                            break;\n                        }\n                    }\n                }\n                /* If the whole input has less than MIN_MATCH bytes, ins_h is garbage,\n                 * but this is not important since only literal bytes will be emitted.\n                 */\n            } while (s.lookahead < MIN_LOOKAHEAD && s.strm.avail_in !== 0);\n            /* If the WIN_INIT bytes after the end of the current data have never been\n             * written, then zero those bytes in order to avoid memory check reports of\n             * the use of uninitialized (or uninitialised as Julian writes) bytes by\n             * the longest match routines.  Update the high water mark for the next\n             * time through here.  WIN_INIT is set to MAX_MATCH since the longest match\n             * routines allow scanning to strstart + MAX_MATCH, ignoring lookahead.\n             */\n            //  if (s.high_water < s.window_size) {\n            //    const curr = s.strstart + s.lookahead;\n            //    let init = 0;\n            //\n            //    if (s.high_water < curr) {\n            //      /* Previous high water mark below current data -- zero WIN_INIT\n            //       * bytes or up to end of window, whichever is less.\n            //       */\n            //      init = s.window_size - curr;\n            //      if (init > WIN_INIT)\n            //        init = WIN_INIT;\n            //      zmemzero(s->window + curr, (unsigned)init);\n            //      s->high_water = curr + init;\n            //    }\n            //    else if (s->high_water < (ulg)curr + WIN_INIT) {\n            //      /* High water mark at or above current data, but below current data\n            //       * plus WIN_INIT -- zero out to current data plus WIN_INIT, or up\n            //       * to end of window, whichever is less.\n            //       */\n            //      init = (ulg)curr + WIN_INIT - s->high_water;\n            //      if (init > s->window_size - s->high_water)\n            //        init = s->window_size - s->high_water;\n            //      zmemzero(s->window + s->high_water, (unsigned)init);\n            //      s->high_water += init;\n            //    }\n            //  }\n            //\n            //  Assert((ulg)s->strstart <= s->window_size - MIN_LOOKAHEAD,\n            //    \"not enough room for search\");\n        };\n        /* ===========================================================================\n         * Copy without compression as much as possible from the input stream, return\n         * the current block state.\n         * This function does not insert new strings in the dictionary since\n         * uncompressible data is probably not useful. This function is used\n         * only for the level=0 compression option.\n         * NOTE: this function should be optimized to avoid extra copying from\n         * window to pending_buf.\n         */\n        var deflate_stored = function deflate_stored(s, flush) {\n            /* Stored blocks are limited to 0xffff bytes, pending_buf is limited\n             * to pending_buf_size, and each stored block has a 5 byte header:\n             */\n            var max_block_size = 0xffff;\n            if (max_block_size > s.pending_buf_size - 5) {\n                max_block_size = s.pending_buf_size - 5;\n            }\n            /* Copy as much as possible from input to output: */\n            for (;;) {\n                /* Fill the window as much as possible: */\n                if (s.lookahead <= 1) {\n                    // Assert(s->strstart < s->w_size+MAX_DIST(s) ||\n                    //  s->block_start >= (long)s->w_size, \"slide too late\");\n                    //      if (!(s.strstart < s.w_size + (s.w_size - MIN_LOOKAHEAD) ||\n                    //        s.block_start >= s.w_size)) {\n                    //        throw  new Error(\"slide too late\");\n                    //      }\n                    fill_window(s);\n                    if (s.lookahead === 0 && flush === Z_NO_FLUSH) {\n                        return BS_NEED_MORE;\n                    }\n                    if (s.lookahead === 0) {\n                        break;\n                    }\n                    /* flush the current block */\n                } // Assert(s->block_start >= 0L, \"block gone\");\n                //    if (s.block_start < 0) throw new Error(\"block gone\");\n                s.strstart += s.lookahead;\n                s.lookahead = 0;\n                /* Emit a stored block if pending_buf will be full: */\n                var max_start = s.block_start + max_block_size;\n                if (s.strstart === 0 || s.strstart >= max_start) {\n                    /* strstart == 0 is possible when wraparound on 16-bit machine */\n                    s.lookahead = s.strstart - max_start;\n                    s.strstart = max_start;\n                    /** * FLUSH_BLOCK(s, 0); ** */\n                    flush_block_only(s, false);\n                    if (s.strm.avail_out === 0) {\n                        return BS_NEED_MORE;\n                    }\n                    /***/\n                }\n                /* Flush if we may have to slide, otherwise block_start may become\n                 * negative and the data will be gone:\n                 */\n                if (s.strstart - s.block_start >= s.w_size - MIN_LOOKAHEAD) {\n                    /** * FLUSH_BLOCK(s, 0); ** */\n                    flush_block_only(s, false);\n                    if (s.strm.avail_out === 0) {\n                        return BS_NEED_MORE;\n                    }\n                    /***/\n                }\n            }\n            s.insert = 0;\n            if (flush === Z_FINISH) {\n                /** * FLUSH_BLOCK(s, 1); ** */\n                flush_block_only(s, true);\n                if (s.strm.avail_out === 0) {\n                    return BS_FINISH_STARTED;\n                }\n                /***/\n                return BS_FINISH_DONE;\n            }\n            if (s.strstart > s.block_start) {\n                /** * FLUSH_BLOCK(s, 0); ** */\n                flush_block_only(s, false);\n                if (s.strm.avail_out === 0) {\n                    return BS_NEED_MORE;\n                }\n                /***/\n            }\n            return BS_NEED_MORE;\n        };\n        /* ===========================================================================\n         * Compress as much as possible from the input stream, return the current\n         * block state.\n         * This function does not perform lazy evaluation of matches and inserts\n         * new strings in the dictionary only for unmatched strings or for short\n         * matches. It is used only for the fast compression options.\n         */\n        var deflate_fast = function deflate_fast(s, flush) {\n            var hash_head;\n            /* head of the hash chain */\n            var bflush;\n            /* set if current block must be flushed */\n            for (;;) {\n                /* Make sure that we always have enough lookahead, except\n                 * at the end of the input file. We need MAX_MATCH bytes\n                 * for the next match, plus MIN_MATCH bytes to insert the\n                 * string following the next match.\n                 */\n                if (s.lookahead < MIN_LOOKAHEAD) {\n                    fill_window(s);\n                    if (s.lookahead < MIN_LOOKAHEAD && flush === Z_NO_FLUSH) {\n                        return BS_NEED_MORE;\n                    }\n                    if (s.lookahead === 0) {\n                        break;\n                        /* flush the current block */\n                    }\n                }\n                /* Insert the string window[strstart .. strstart+2] in the\n                 * dictionary, and set hash_head to the head of the hash chain:\n                 */\n                hash_head = 0;\n                /* NIL */\n                if (s.lookahead >= MIN_MATCH$1) {\n                    /** * INSERT_STRING(s, s.strstart, hash_head); ** */\n                    s.ins_h = HASH(s, s.ins_h, s.window[s.strstart + MIN_MATCH$1 - 1]);\n                    hash_head = s.prev[s.strstart & s.w_mask] = s.head[s.ins_h];\n                    s.head[s.ins_h] = s.strstart;\n                    /***/\n                }\n                /* Find the longest match, discarding those <= prev_length.\n                 * At this point we have always match_length < MIN_MATCH\n                 */\n                if (hash_head !== 0 &&\n                    /* NIL */\n                    s.strstart - hash_head <= s.w_size - MIN_LOOKAHEAD) {\n                    /* To simplify the code, we prevent matches with the string\n                     * of window index 0 (in particular we have to avoid a match\n                     * of the string with itself at the start of the input file).\n                     */\n                    s.match_length = longest_match(s, hash_head);\n                    /* longest_match() sets match_start */\n                }\n                if (s.match_length >= MIN_MATCH$1) {\n                    // check_match(s, s.strstart, s.match_start, s.match_length); // for debug only\n                    /** * _tr_tally_dist(s, s.strstart - s.match_start,\n                                 s.match_length - MIN_MATCH, bflush); ** */\n                    bflush = _tr_tally$1(s, s.strstart - s.match_start, s.match_length - MIN_MATCH$1);\n                    s.lookahead -= s.match_length;\n                    /* Insert new strings in the hash table only if the match length\n                     * is not too large. This saves time but degrades compression.\n                     */\n                    if (s.match_length <= s.max_lazy_match &&\n                        /* max_insert_length */\n                        s.lookahead >= MIN_MATCH$1) {\n                        s.match_length--;\n                        /* string at strstart already in table */\n                        do {\n                            s.strstart++;\n                            /** * INSERT_STRING(s, s.strstart, hash_head); ** */\n                            s.ins_h = HASH(s, s.ins_h, s.window[s.strstart + MIN_MATCH$1 - 1]);\n                            hash_head = s.prev[s.strstart & s.w_mask] = s.head[s.ins_h];\n                            s.head[s.ins_h] = s.strstart;\n                            /***/\n                            /* strstart never exceeds WSIZE-MAX_MATCH, so there are\n                             * always MIN_MATCH bytes ahead.\n                             */\n                        } while (--s.match_length !== 0);\n                        s.strstart++;\n                    }\n                    else {\n                        s.strstart += s.match_length;\n                        s.match_length = 0;\n                        s.ins_h = s.window[s.strstart];\n                        /* UPDATE_HASH(s, s.ins_h, s.window[s.strstart+1]); */\n                        s.ins_h = HASH(s, s.ins_h, s.window[s.strstart + 1]); // #if MIN_MATCH != 3\n                        //                Call UPDATE_HASH() MIN_MATCH-3 more times\n                        // #endif\n                        /* If lookahead < MIN_MATCH, ins_h is garbage, but it does not\n                         * matter since it will be recomputed at next deflate call.\n                         */\n                    }\n                }\n                else {\n                    /* No match, output a literal byte */\n                    // Tracevv((stderr,\"%c\", s.window[s.strstart]));\n                    /** * _tr_tally_lit(s, s.window[s.strstart], bflush); ** */\n                    bflush = _tr_tally$1(s, 0, s.window[s.strstart]);\n                    s.lookahead--;\n                    s.strstart++;\n                }\n                if (bflush) {\n                    /** * FLUSH_BLOCK(s, 0); ** */\n                    flush_block_only(s, false);\n                    if (s.strm.avail_out === 0) {\n                        return BS_NEED_MORE;\n                    }\n                    /***/\n                }\n            }\n            s.insert = s.strstart < MIN_MATCH$1 - 1 ? s.strstart : MIN_MATCH$1 - 1;\n            if (flush === Z_FINISH) {\n                /** * FLUSH_BLOCK(s, 1); ** */\n                flush_block_only(s, true);\n                if (s.strm.avail_out === 0) {\n                    return BS_FINISH_STARTED;\n                }\n                /***/\n                return BS_FINISH_DONE;\n            }\n            if (s.last_lit) {\n                /** * FLUSH_BLOCK(s, 0); ** */\n                flush_block_only(s, false);\n                if (s.strm.avail_out === 0) {\n                    return BS_NEED_MORE;\n                }\n                /***/\n            }\n            return BS_BLOCK_DONE;\n        };\n        /* ===========================================================================\n         * Same as above, but achieves better compression. We use a lazy\n         * evaluation for matches: a match is finally adopted only if there is\n         * no better match at the next window position.\n         */\n        var deflate_slow = function deflate_slow(s, flush) {\n            var hash_head;\n            /* head of hash chain */\n            var bflush;\n            /* set if current block must be flushed */\n            var max_insert;\n            /* Process the input block. */\n            for (;;) {\n                /* Make sure that we always have enough lookahead, except\n                 * at the end of the input file. We need MAX_MATCH bytes\n                 * for the next match, plus MIN_MATCH bytes to insert the\n                 * string following the next match.\n                 */\n                if (s.lookahead < MIN_LOOKAHEAD) {\n                    fill_window(s);\n                    if (s.lookahead < MIN_LOOKAHEAD && flush === Z_NO_FLUSH) {\n                        return BS_NEED_MORE;\n                    }\n                    if (s.lookahead === 0) {\n                        break;\n                    }\n                    /* flush the current block */\n                }\n                /* Insert the string window[strstart .. strstart+2] in the\n                 * dictionary, and set hash_head to the head of the hash chain:\n                 */\n                hash_head = 0;\n                /* NIL */\n                if (s.lookahead >= MIN_MATCH$1) {\n                    /** * INSERT_STRING(s, s.strstart, hash_head); ** */\n                    s.ins_h = HASH(s, s.ins_h, s.window[s.strstart + MIN_MATCH$1 - 1]);\n                    hash_head = s.prev[s.strstart & s.w_mask] = s.head[s.ins_h];\n                    s.head[s.ins_h] = s.strstart;\n                    /***/\n                }\n                /* Find the longest match, discarding those <= prev_length.\n                 */\n                s.prev_length = s.match_length;\n                s.prev_match = s.match_start;\n                s.match_length = MIN_MATCH$1 - 1;\n                if (hash_head !== 0 &&\n                    /* NIL */\n                    s.prev_length < s.max_lazy_match &&\n                    s.strstart - hash_head <= s.w_size - MIN_LOOKAHEAD\n                /* MAX_DIST(s) */\n                ) {\n                    /* To simplify the code, we prevent matches with the string\n                     * of window index 0 (in particular we have to avoid a match\n                     * of the string with itself at the start of the input file).\n                     */\n                    s.match_length = longest_match(s, hash_head);\n                    /* longest_match() sets match_start */\n                    if (s.match_length <= 5 &&\n                        (s.strategy === Z_FILTERED || (s.match_length === MIN_MATCH$1 && s.strstart - s.match_start > 4096))\n                    /* TOO_FAR */\n                    ) {\n                        /* If prev_match is also MIN_MATCH, match_start is garbage\n                         * but we will ignore the current match anyway.\n                         */\n                        s.match_length = MIN_MATCH$1 - 1;\n                    }\n                }\n                /* If there was a match at the previous step and the current\n                 * match is not better, output the previous match:\n                 */\n                if (s.prev_length >= MIN_MATCH$1 && s.match_length <= s.prev_length) {\n                    max_insert = s.strstart + s.lookahead - MIN_MATCH$1;\n                    /* Do not insert strings in hash table beyond this. */\n                    // check_match(s, s.strstart-1, s.prev_match, s.prev_length);\n                    /** *_tr_tally_dist(s, s.strstart - 1 - s.prev_match,\n                                 s.prev_length - MIN_MATCH, bflush);** */\n                    bflush = _tr_tally$1(s, s.strstart - 1 - s.prev_match, s.prev_length - MIN_MATCH$1);\n                    /* Insert in hash table all strings up to the end of the match.\n                     * strstart-1 and strstart are already inserted. If there is not\n                     * enough lookahead, the last two strings are not inserted in\n                     * the hash table.\n                     */\n                    s.lookahead -= s.prev_length - 1;\n                    s.prev_length -= 2;\n                    do {\n                        if (++s.strstart <= max_insert) {\n                            /** * INSERT_STRING(s, s.strstart, hash_head); ** */\n                            s.ins_h = HASH(s, s.ins_h, s.window[s.strstart + MIN_MATCH$1 - 1]);\n                            hash_head = s.prev[s.strstart & s.w_mask] = s.head[s.ins_h];\n                            s.head[s.ins_h] = s.strstart;\n                            /***/\n                        }\n                    } while (--s.prev_length !== 0);\n                    s.match_available = 0;\n                    s.match_length = MIN_MATCH$1 - 1;\n                    s.strstart++;\n                    if (bflush) {\n                        /** * FLUSH_BLOCK(s, 0); ** */\n                        flush_block_only(s, false);\n                        if (s.strm.avail_out === 0) {\n                            return BS_NEED_MORE;\n                        }\n                        /***/\n                    }\n                }\n                else if (s.match_available) {\n                    /* If there was no match at the previous position, output a\n                     * single literal. If there was a match but the current match\n                     * is longer, truncate the previous match to a single literal.\n                     */\n                    // Tracevv((stderr,\"%c\", s->window[s->strstart-1]));\n                    /** * _tr_tally_lit(s, s.window[s.strstart-1], bflush); ** */\n                    bflush = _tr_tally$1(s, 0, s.window[s.strstart - 1]);\n                    if (bflush) {\n                        /** * FLUSH_BLOCK_ONLY(s, 0) ** */\n                        flush_block_only(s, false);\n                        /***/\n                    }\n                    s.strstart++;\n                    s.lookahead--;\n                    if (s.strm.avail_out === 0) {\n                        return BS_NEED_MORE;\n                    }\n                }\n                else {\n                    /* There is no previous match to compare with, wait for\n                     * the next step to decide.\n                     */\n                    s.match_available = 1;\n                    s.strstart++;\n                    s.lookahead--;\n                }\n            } // Assert (flush != Z_NO_FLUSH, \"no flush?\");\n            if (s.match_available) {\n                // Tracevv((stderr,\"%c\", s->window[s->strstart-1]));\n                /** * _tr_tally_lit(s, s.window[s.strstart-1], bflush); ** */\n                bflush = _tr_tally$1(s, 0, s.window[s.strstart - 1]);\n                s.match_available = 0;\n            }\n            s.insert = s.strstart < MIN_MATCH$1 - 1 ? s.strstart : MIN_MATCH$1 - 1;\n            if (flush === Z_FINISH) {\n                /** * FLUSH_BLOCK(s, 1); ** */\n                flush_block_only(s, true);\n                if (s.strm.avail_out === 0) {\n                    return BS_FINISH_STARTED;\n                }\n                /***/\n                return BS_FINISH_DONE;\n            }\n            if (s.last_lit) {\n                /** * FLUSH_BLOCK(s, 0); ** */\n                flush_block_only(s, false);\n                if (s.strm.avail_out === 0) {\n                    return BS_NEED_MORE;\n                }\n                /***/\n            }\n            return BS_BLOCK_DONE;\n        };\n        /* ===========================================================================\n         * For Z_RLE, simply look for runs of bytes, generate matches only of distance\n         * one.  Do not maintain a hash table.  (It will be regenerated if this run of\n         * deflate switches away from Z_RLE.)\n         */\n        var deflate_rle = function deflate_rle(s, flush) {\n            var bflush;\n            /* set if current block must be flushed */\n            var prev;\n            /* byte at distance one to match */\n            var scan;\n            var strend;\n            /* scan goes up to strend for length of run */\n            var _win = s.window;\n            for (;;) {\n                /* Make sure that we always have enough lookahead, except\n                 * at the end of the input file. We need MAX_MATCH bytes\n                 * for the longest run, plus one for the unrolled loop.\n                 */\n                if (s.lookahead <= MAX_MATCH$1) {\n                    fill_window(s);\n                    if (s.lookahead <= MAX_MATCH$1 && flush === Z_NO_FLUSH) {\n                        return BS_NEED_MORE;\n                    }\n                    if (s.lookahead === 0) {\n                        break;\n                    }\n                    /* flush the current block */\n                }\n                /* See how many times the previous byte repeats */\n                s.match_length = 0;\n                if (s.lookahead >= MIN_MATCH$1 && s.strstart > 0) {\n                    scan = s.strstart - 1;\n                    prev = _win[scan];\n                    if (prev === _win[++scan] && prev === _win[++scan] && prev === _win[++scan]) {\n                        strend = s.strstart + MAX_MATCH$1;\n                        do {\n                            /* jshint noempty:false */\n                        } while (prev === _win[++scan] &&\n                            prev === _win[++scan] &&\n                            prev === _win[++scan] &&\n                            prev === _win[++scan] &&\n                            prev === _win[++scan] &&\n                            prev === _win[++scan] &&\n                            prev === _win[++scan] &&\n                            prev === _win[++scan] &&\n                            scan < strend);\n                        s.match_length = MAX_MATCH$1 - (strend - scan);\n                        if (s.match_length > s.lookahead) {\n                            s.match_length = s.lookahead;\n                        }\n                    } // Assert(scan <= s->window+(uInt)(s->window_size-1), \"wild scan\");\n                }\n                /* Emit match if have run of MIN_MATCH or longer, else emit literal */\n                if (s.match_length >= MIN_MATCH$1) {\n                    // check_match(s, s.strstart, s.strstart - 1, s.match_length);\n                    /** * _tr_tally_dist(s, 1, s.match_length - MIN_MATCH, bflush); ** */\n                    bflush = _tr_tally$1(s, 1, s.match_length - MIN_MATCH$1);\n                    s.lookahead -= s.match_length;\n                    s.strstart += s.match_length;\n                    s.match_length = 0;\n                }\n                else {\n                    /* No match, output a literal byte */\n                    // Tracevv((stderr,\"%c\", s->window[s->strstart]));\n                    /** * _tr_tally_lit(s, s.window[s.strstart], bflush); ** */\n                    bflush = _tr_tally$1(s, 0, s.window[s.strstart]);\n                    s.lookahead--;\n                    s.strstart++;\n                }\n                if (bflush) {\n                    /** * FLUSH_BLOCK(s, 0); ** */\n                    flush_block_only(s, false);\n                    if (s.strm.avail_out === 0) {\n                        return BS_NEED_MORE;\n                    }\n                    /***/\n                }\n            }\n            s.insert = 0;\n            if (flush === Z_FINISH) {\n                /** * FLUSH_BLOCK(s, 1); ** */\n                flush_block_only(s, true);\n                if (s.strm.avail_out === 0) {\n                    return BS_FINISH_STARTED;\n                }\n                /***/\n                return BS_FINISH_DONE;\n            }\n            if (s.last_lit) {\n                /** * FLUSH_BLOCK(s, 0); ** */\n                flush_block_only(s, false);\n                if (s.strm.avail_out === 0) {\n                    return BS_NEED_MORE;\n                }\n                /***/\n            }\n            return BS_BLOCK_DONE;\n        };\n        /* ===========================================================================\n         * For Z_HUFFMAN_ONLY, do not look for matches.  Do not maintain a hash table.\n         * (It will be regenerated if this run of deflate switches away from Huffman.)\n         */\n        var deflate_huff = function deflate_huff(s, flush) {\n            var bflush;\n            /* set if current block must be flushed */\n            for (;;) {\n                /* Make sure that we have a literal to write. */\n                if (s.lookahead === 0) {\n                    fill_window(s);\n                    if (s.lookahead === 0) {\n                        if (flush === Z_NO_FLUSH) {\n                            return BS_NEED_MORE;\n                        }\n                        break;\n                        /* flush the current block */\n                    }\n                }\n                /* Output a literal byte */\n                s.match_length = 0; // Tracevv((stderr,\"%c\", s->window[s->strstart]));\n                /** * _tr_tally_lit(s, s.window[s.strstart], bflush); ** */\n                bflush = _tr_tally$1(s, 0, s.window[s.strstart]);\n                s.lookahead--;\n                s.strstart++;\n                if (bflush) {\n                    /** * FLUSH_BLOCK(s, 0); ** */\n                    flush_block_only(s, false);\n                    if (s.strm.avail_out === 0) {\n                        return BS_NEED_MORE;\n                    }\n                    /***/\n                }\n            }\n            s.insert = 0;\n            if (flush === Z_FINISH) {\n                /** * FLUSH_BLOCK(s, 1); ** */\n                flush_block_only(s, true);\n                if (s.strm.avail_out === 0) {\n                    return BS_FINISH_STARTED;\n                }\n                /***/\n                return BS_FINISH_DONE;\n            }\n            if (s.last_lit) {\n                /** * FLUSH_BLOCK(s, 0); ** */\n                flush_block_only(s, false);\n                if (s.strm.avail_out === 0) {\n                    return BS_NEED_MORE;\n                }\n                /***/\n            }\n            return BS_BLOCK_DONE;\n        };\n        /* Values for max_lazy_match, good_match and max_chain_length, depending on\n         * the desired pack level (0..9). The values given below have been tuned to\n         * exclude worst case performance for pathological files. Better values may be\n         * found for specific files.\n         */\n        function Config(good_length, max_lazy, nice_length, max_chain, func) {\n            this.good_length = good_length;\n            this.max_lazy = max_lazy;\n            this.nice_length = nice_length;\n            this.max_chain = max_chain;\n            this.func = func;\n        }\n        var configuration_table = [\n            /*      good lazy nice chain */\n            new Config(0, 0, 0, 0, deflate_stored),\n            /* 0 store only */\n            new Config(4, 4, 8, 4, deflate_fast),\n            /* 1 max speed, no lazy matches */\n            new Config(4, 5, 16, 8, deflate_fast),\n            /* 2 */\n            new Config(4, 6, 32, 32, deflate_fast),\n            /* 3 */\n            new Config(4, 4, 16, 16, deflate_slow),\n            /* 4 lazy matches */\n            new Config(8, 16, 32, 32, deflate_slow),\n            /* 5 */\n            new Config(8, 16, 128, 128, deflate_slow),\n            /* 6 */\n            new Config(8, 32, 128, 256, deflate_slow),\n            /* 7 */\n            new Config(32, 128, 258, 1024, deflate_slow),\n            /* 8 */\n            new Config(32, 258, 258, 4096, deflate_slow),\n            /* 9 max compression */\n        ];\n        /* ===========================================================================\n         * Initialize the \"longest match\" routines for a new zlib stream\n         */\n        var lm_init = function lm_init(s) {\n            s.window_size = 2 * s.w_size;\n            /** * CLEAR_HASH(s); ** */\n            zero$1(s.head); // Fill with NIL (= 0);\n            /* Set the default configuration parameters:\n             */\n            s.max_lazy_match = configuration_table[s.level].max_lazy;\n            s.good_match = configuration_table[s.level].good_length;\n            s.nice_match = configuration_table[s.level].nice_length;\n            s.max_chain_length = configuration_table[s.level].max_chain;\n            s.strstart = 0;\n            s.block_start = 0;\n            s.lookahead = 0;\n            s.insert = 0;\n            s.match_length = s.prev_length = MIN_MATCH$1 - 1;\n            s.match_available = 0;\n            s.ins_h = 0;\n        };\n        function DeflateState() {\n            this.strm = null;\n            /* pointer back to this zlib stream */\n            this.status = 0;\n            /* as the name implies */\n            this.pending_buf = null;\n            /* output still pending */\n            this.pending_buf_size = 0;\n            /* size of pending_buf */\n            this.pending_out = 0;\n            /* next pending byte to output to the stream */\n            this.pending = 0;\n            /* nb of bytes in the pending buffer */\n            this.wrap = 0;\n            /* bit 0 true for zlib, bit 1 true for gzip */\n            this.gzhead = null;\n            /* gzip header information to write */\n            this.gzindex = 0;\n            /* where in extra, name, or comment */\n            this.method = Z_DEFLATED;\n            /* can only be DEFLATED */\n            this.last_flush = -1;\n            /* value of flush param for previous deflate call */\n            this.w_size = 0;\n            /* LZ77 window size (32K by default) */\n            this.w_bits = 0;\n            /* log2(w_size)  (8..16) */\n            this.w_mask = 0;\n            /* w_size - 1 */\n            this.window = null;\n            /* Sliding window. Input bytes are read into the second half of the window,\n             * and move to the first half later to keep a dictionary of at least wSize\n             * bytes. With this organization, matches are limited to a distance of\n             * wSize-MAX_MATCH bytes, but this ensures that IO is always\n             * performed with a length multiple of the block size.\n             */\n            this.window_size = 0;\n            /* Actual size of window: 2*wSize, except when the user input buffer\n             * is directly used as sliding window.\n             */\n            this.prev = null;\n            /* Link to older string with same hash index. To limit the size of this\n             * array to 64K, this link is maintained only for the last 32K strings.\n             * An index in this array is thus a window index modulo 32K.\n             */\n            this.head = null;\n            /* Heads of the hash chains or NIL. */\n            this.ins_h = 0;\n            /* hash index of string to be inserted */\n            this.hash_size = 0;\n            /* number of elements in hash table */\n            this.hash_bits = 0;\n            /* log2(hash_size) */\n            this.hash_mask = 0;\n            /* hash_size-1 */\n            this.hash_shift = 0;\n            /* Number of bits by which ins_h must be shifted at each input\n             * step. It must be such that after MIN_MATCH steps, the oldest\n             * byte no longer takes part in the hash key, that is:\n             *   hash_shift * MIN_MATCH >= hash_bits\n             */\n            this.block_start = 0;\n            /* Window position at the beginning of the current output block. Gets\n             * negative when the window is moved backwards.\n             */\n            this.match_length = 0;\n            /* length of best match */\n            this.prev_match = 0;\n            /* previous match */\n            this.match_available = 0;\n            /* set if previous match exists */\n            this.strstart = 0;\n            /* start of string to insert */\n            this.match_start = 0;\n            /* start of matching string */\n            this.lookahead = 0;\n            /* number of valid bytes ahead in window */\n            this.prev_length = 0;\n            /* Length of the best match at previous step. Matches not greater than this\n             * are discarded. This is used in the lazy match evaluation.\n             */\n            this.max_chain_length = 0;\n            /* To speed up deflation, hash chains are never searched beyond this\n             * length.  A higher limit improves compression ratio but degrades the\n             * speed.\n             */\n            this.max_lazy_match = 0;\n            /* Attempt to find a better match only when the current match is strictly\n             * smaller than this value. This mechanism is used only for compression\n             * levels >= 4.\n             */\n            // That's alias to max_lazy_match, don't use directly\n            // this.max_insert_length = 0;\n            /* Insert new strings in the hash table only if the match length is not\n             * greater than this length. This saves time but degrades compression.\n             * max_insert_length is used only for compression levels <= 3.\n             */\n            this.level = 0;\n            /* compression level (1..9) */\n            this.strategy = 0;\n            /* favor or force Huffman coding */\n            this.good_match = 0;\n            /* Use a faster search when the previous match is longer than this */\n            this.nice_match = 0;\n            /* Stop searching when current match exceeds this */\n            /* used by trees.c: */\n            /* Didn't use ct_data typedef below to suppress compiler warning */\n            // struct ct_data_s dyn_ltree[HEAP_SIZE];   /* literal and length tree */\n            // struct ct_data_s dyn_dtree[2*D_CODES+1]; /* distance tree */\n            // struct ct_data_s bl_tree[2*BL_CODES+1];  /* Huffman tree for bit lengths */\n            // Use flat array of DOUBLE size, with interleaved fata,\n            // because JS does not support effective\n            this.dyn_ltree = new Uint16Array(HEAP_SIZE$1 * 2);\n            this.dyn_dtree = new Uint16Array((2 * D_CODES$1 + 1) * 2);\n            this.bl_tree = new Uint16Array((2 * BL_CODES$1 + 1) * 2);\n            zero$1(this.dyn_ltree);\n            zero$1(this.dyn_dtree);\n            zero$1(this.bl_tree);\n            this.l_desc = null;\n            /* desc. for literal tree */\n            this.d_desc = null;\n            /* desc. for distance tree */\n            this.bl_desc = null;\n            /* desc. for bit length tree */\n            // ush bl_count[MAX_BITS+1];\n            this.bl_count = new Uint16Array(MAX_BITS$1 + 1);\n            /* number of codes at each bit length for an optimal tree */\n            // int heap[2*L_CODES+1];      /* heap used to build the Huffman trees */\n            this.heap = new Uint16Array(2 * L_CODES$1 + 1);\n            /* heap used to build the Huffman trees */\n            zero$1(this.heap);\n            this.heap_len = 0;\n            /* number of elements in the heap */\n            this.heap_max = 0;\n            /* element of largest frequency */\n            /* The sons of heap[n] are heap[2*n] and heap[2*n+1]. heap[0] is not used.\n             * The same heap array is used to build all trees.\n             */\n            this.depth = new Uint16Array(2 * L_CODES$1 + 1); // uch depth[2*L_CODES+1];\n            zero$1(this.depth);\n            /* Depth of each subtree used as tie breaker for trees of equal frequency\n             */\n            this.l_buf = 0;\n            /* buffer index for literals or lengths */\n            this.lit_bufsize = 0;\n            /* Size of match buffer for literals/lengths.  There are 4 reasons for\n             * limiting lit_bufsize to 64K:\n             *   - frequencies can be kept in 16 bit counters\n             *   - if compression is not successful for the first block, all input\n             *     data is still in the window so we can still emit a stored block even\n             *     when input comes from standard input.  (This can also be done for\n             *     all blocks if lit_bufsize is not greater than 32K.)\n             *   - if compression is not successful for a file smaller than 64K, we can\n             *     even emit a stored file instead of a stored block (saving 5 bytes).\n             *     This is applicable only for zip (not gzip or zlib).\n             *   - creating new Huffman trees less frequently may not provide fast\n             *     adaptation to changes in the input data statistics. (Take for\n             *     example a binary file with poorly compressible code followed by\n             *     a highly compressible string table.) Smaller buffer sizes give\n             *     fast adaptation but have of course the overhead of transmitting\n             *     trees more frequently.\n             *   - I can't count above 4\n             */\n            this.last_lit = 0;\n            /* running index in l_buf */\n            this.d_buf = 0;\n            /* Buffer index for distances. To simplify the code, d_buf and l_buf have\n             * the same number of elements. To use different lengths, an extra flag\n             * array would be necessary.\n             */\n            this.opt_len = 0;\n            /* bit length of current block with optimal trees */\n            this.static_len = 0;\n            /* bit length of current block with static trees */\n            this.matches = 0;\n            /* number of string matches in current block */\n            this.insert = 0;\n            /* bytes at end of window left to insert */\n            this.bi_buf = 0;\n            /* Output buffer. bits are inserted starting at the bottom (least\n             * significant bits).\n             */\n            this.bi_valid = 0;\n            /* Number of valid bits in bi_buf.  All bits above the last valid bit\n             * are always zero.\n             */\n            // Used for window memory init. We safely ignore it for JS. That makes\n            // sense only for pointers and memory check tools.\n            // this.high_water = 0;\n            /* High water mark offset in window for initialized bytes -- bytes above\n             * this are set to zero in order to avoid memory check warnings when\n             * longest match routines access bytes past the input.  This is then\n             * updated to the new high water mark.\n             */\n        }\n        var deflateResetKeep = function deflateResetKeep(strm) {\n            if (!strm || !strm.state) {\n                return err(strm, Z_STREAM_ERROR);\n            }\n            strm.total_in = strm.total_out = 0;\n            strm.data_type = Z_UNKNOWN$1;\n            var s = strm.state;\n            s.pending = 0;\n            s.pending_out = 0;\n            if (s.wrap < 0) {\n                s.wrap = -s.wrap;\n                /* was made negative by deflate(..., Z_FINISH); */\n            }\n            s.status = s.wrap ? INIT_STATE : BUSY_STATE;\n            strm.adler =\n                s.wrap === 2\n                    ? 0 // crc32(0, Z_NULL, 0)\n                    : 1; // adler32(0, Z_NULL, 0)\n            s.last_flush = Z_NO_FLUSH;\n            _tr_init$1(s);\n            return Z_OK;\n        };\n        var deflateReset = function deflateReset(strm) {\n            var ret = deflateResetKeep(strm);\n            if (ret === Z_OK) {\n                lm_init(strm.state);\n            }\n            return ret;\n        };\n        var deflateSetHeader = function deflateSetHeader(strm, head) {\n            if (!strm || !strm.state) {\n                return Z_STREAM_ERROR;\n            }\n            if (strm.state.wrap !== 2) {\n                return Z_STREAM_ERROR;\n            }\n            strm.state.gzhead = head;\n            return Z_OK;\n        };\n        var deflateInit2 = function deflateInit2(strm, level, method, windowBits, memLevel, strategy) {\n            if (!strm) {\n                // === Z_NULL\n                return Z_STREAM_ERROR;\n            }\n            var wrap = 1;\n            if (level === Z_DEFAULT_COMPRESSION) {\n                level = 6;\n            }\n            if (windowBits < 0) {\n                /* suppress zlib wrapper */\n                wrap = 0;\n                windowBits = -windowBits;\n            }\n            else if (windowBits > 15) {\n                wrap = 2;\n                /* write gzip wrapper instead */\n                windowBits -= 16;\n            }\n            if (memLevel < 1 ||\n                memLevel > MAX_MEM_LEVEL ||\n                method !== Z_DEFLATED ||\n                windowBits < 8 ||\n                windowBits > 15 ||\n                level < 0 ||\n                level > 9 ||\n                strategy < 0 ||\n                strategy > Z_FIXED$1) {\n                return err(strm, Z_STREAM_ERROR);\n            }\n            if (windowBits === 8) {\n                windowBits = 9;\n            }\n            /* until 256-byte window bug fixed */\n            var s = new DeflateState();\n            strm.state = s;\n            s.strm = strm;\n            s.wrap = wrap;\n            s.gzhead = null;\n            s.w_bits = windowBits;\n            s.w_size = 1 << s.w_bits;\n            s.w_mask = s.w_size - 1;\n            s.hash_bits = memLevel + 7;\n            s.hash_size = 1 << s.hash_bits;\n            s.hash_mask = s.hash_size - 1;\n            s.hash_shift = ~~((s.hash_bits + MIN_MATCH$1 - 1) / MIN_MATCH$1);\n            s.window = new Uint8Array(s.w_size * 2);\n            s.head = new Uint16Array(s.hash_size);\n            s.prev = new Uint16Array(s.w_size); // Don't need mem init magic for JS.\n            // s.high_water = 0;  /* nothing written to s->window yet */\n            s.lit_bufsize = 1 << (memLevel + 6);\n            /* 16K elements by default */\n            s.pending_buf_size = s.lit_bufsize * 4;\n            // overlay = (ushf *) ZALLOC(strm, s->lit_bufsize, sizeof(ush)+2);\n            // s->pending_buf = (uchf *) overlay;\n            // It is offset from `s.pending_buf` (size is `s.lit_bufsize * 2`)\n            s.pending_buf = new Uint8Array(s.pending_buf_size);\n            // s->d_buf = overlay + s->lit_bufsize/sizeof(ush);\n            s.d_buf = 1 * s.lit_bufsize; // s->l_buf = s->pending_buf + (1+sizeof(ush))*s->lit_bufsize;\n            s.l_buf = (1 + 2) * s.lit_bufsize;\n            s.level = level;\n            s.strategy = strategy;\n            s.method = method;\n            return deflateReset(strm);\n        };\n        var deflateInit = function deflateInit(strm, level) {\n            return deflateInit2(strm, level, Z_DEFLATED, MAX_WBITS, DEF_MEM_LEVEL, Z_DEFAULT_STRATEGY);\n        };\n        var deflate = function deflate(strm, flush) {\n            var beg;\n            var val; // for gzip header write only\n            if (!strm || !strm.state || flush > Z_BLOCK || flush < 0) {\n                return strm ? err(strm, Z_STREAM_ERROR) : Z_STREAM_ERROR;\n            }\n            var s = strm.state;\n            if (!strm.output || (!strm.input && strm.avail_in !== 0) || (s.status === FINISH_STATE && flush !== Z_FINISH)) {\n                return err(strm, strm.avail_out === 0 ? Z_BUF_ERROR : Z_STREAM_ERROR);\n            }\n            s.strm = strm;\n            /* just in case */\n            var old_flush = s.last_flush;\n            s.last_flush = flush;\n            /* Write the header */\n            if (s.status === INIT_STATE) {\n                if (s.wrap === 2) {\n                    // GZIP header\n                    strm.adler = 0; // crc32(0L, Z_NULL, 0);\n                    put_byte(s, 31);\n                    put_byte(s, 139);\n                    put_byte(s, 8);\n                    if (!s.gzhead) {\n                        // s->gzhead == Z_NULL\n                        put_byte(s, 0);\n                        put_byte(s, 0);\n                        put_byte(s, 0);\n                        put_byte(s, 0);\n                        put_byte(s, 0);\n                        put_byte(s, s.level === 9 ? 2 : s.strategy >= Z_HUFFMAN_ONLY || s.level < 2 ? 4 : 0);\n                        put_byte(s, OS_CODE);\n                        s.status = BUSY_STATE;\n                    }\n                    else {\n                        put_byte(s, (s.gzhead.text ? 1 : 0) +\n                            (s.gzhead.hcrc ? 2 : 0) +\n                            (!s.gzhead.extra ? 0 : 4) +\n                            (!s.gzhead.name ? 0 : 8) +\n                            (!s.gzhead.comment ? 0 : 16));\n                        put_byte(s, s.gzhead.time & 0xff);\n                        put_byte(s, (s.gzhead.time >> 8) & 0xff);\n                        put_byte(s, (s.gzhead.time >> 16) & 0xff);\n                        put_byte(s, (s.gzhead.time >> 24) & 0xff);\n                        put_byte(s, s.level === 9 ? 2 : s.strategy >= Z_HUFFMAN_ONLY || s.level < 2 ? 4 : 0);\n                        put_byte(s, s.gzhead.os & 0xff);\n                        if (s.gzhead.extra && s.gzhead.extra.length) {\n                            put_byte(s, s.gzhead.extra.length & 0xff);\n                            put_byte(s, (s.gzhead.extra.length >> 8) & 0xff);\n                        }\n                        if (s.gzhead.hcrc) {\n                            strm.adler = crc32_1(strm.adler, s.pending_buf, s.pending, 0);\n                        }\n                        s.gzindex = 0;\n                        s.status = EXTRA_STATE;\n                    }\n                } // DEFLATE header\n                else {\n                    var header = (Z_DEFLATED + ((s.w_bits - 8) << 4)) << 8;\n                    var level_flags = -1;\n                    if (s.strategy >= Z_HUFFMAN_ONLY || s.level < 2) {\n                        level_flags = 0;\n                    }\n                    else if (s.level < 6) {\n                        level_flags = 1;\n                    }\n                    else if (s.level === 6) {\n                        level_flags = 2;\n                    }\n                    else {\n                        level_flags = 3;\n                    }\n                    header |= level_flags << 6;\n                    if (s.strstart !== 0) {\n                        header |= PRESET_DICT;\n                    }\n                    header += 31 - (header % 31);\n                    s.status = BUSY_STATE;\n                    putShortMSB(s, header);\n                    /* Save the adler32 of the preset dictionary: */\n                    if (s.strstart !== 0) {\n                        putShortMSB(s, strm.adler >>> 16);\n                        putShortMSB(s, strm.adler & 0xffff);\n                    }\n                    strm.adler = 1; // adler32(0L, Z_NULL, 0);\n                }\n            } // #ifdef GZIP\n            if (s.status === EXTRA_STATE) {\n                if (s.gzhead.extra\n                /* != Z_NULL */\n                ) {\n                    beg = s.pending;\n                    /* start of bytes to update crc */\n                    while (s.gzindex < (s.gzhead.extra.length & 0xffff)) {\n                        if (s.pending === s.pending_buf_size) {\n                            if (s.gzhead.hcrc && s.pending > beg) {\n                                strm.adler = crc32_1(strm.adler, s.pending_buf, s.pending - beg, beg);\n                            }\n                            flush_pending(strm);\n                            beg = s.pending;\n                            if (s.pending === s.pending_buf_size) {\n                                break;\n                            }\n                        }\n                        put_byte(s, s.gzhead.extra[s.gzindex] & 0xff);\n                        s.gzindex++;\n                    }\n                    if (s.gzhead.hcrc && s.pending > beg) {\n                        strm.adler = crc32_1(strm.adler, s.pending_buf, s.pending - beg, beg);\n                    }\n                    if (s.gzindex === s.gzhead.extra.length) {\n                        s.gzindex = 0;\n                        s.status = NAME_STATE;\n                    }\n                }\n                else {\n                    s.status = NAME_STATE;\n                }\n            }\n            if (s.status === NAME_STATE) {\n                if (s.gzhead.name\n                /* != Z_NULL */\n                ) {\n                    beg = s.pending;\n                    /* start of bytes to update crc */\n                    // int val;\n                    do {\n                        if (s.pending === s.pending_buf_size) {\n                            if (s.gzhead.hcrc && s.pending > beg) {\n                                strm.adler = crc32_1(strm.adler, s.pending_buf, s.pending - beg, beg);\n                            }\n                            flush_pending(strm);\n                            beg = s.pending;\n                            if (s.pending === s.pending_buf_size) {\n                                val = 1;\n                                break;\n                            }\n                        } // JS specific: little magic to add zero terminator to end of string\n                        if (s.gzindex < s.gzhead.name.length) {\n                            val = s.gzhead.name.charCodeAt(s.gzindex++) & 0xff;\n                        }\n                        else {\n                            val = 0;\n                        }\n                        put_byte(s, val);\n                    } while (val !== 0);\n                    if (s.gzhead.hcrc && s.pending > beg) {\n                        strm.adler = crc32_1(strm.adler, s.pending_buf, s.pending - beg, beg);\n                    }\n                    if (val === 0) {\n                        s.gzindex = 0;\n                        s.status = COMMENT_STATE;\n                    }\n                }\n                else {\n                    s.status = COMMENT_STATE;\n                }\n            }\n            if (s.status === COMMENT_STATE) {\n                if (s.gzhead.comment\n                /* != Z_NULL */\n                ) {\n                    beg = s.pending;\n                    /* start of bytes to update crc */\n                    // int val;\n                    do {\n                        if (s.pending === s.pending_buf_size) {\n                            if (s.gzhead.hcrc && s.pending > beg) {\n                                strm.adler = crc32_1(strm.adler, s.pending_buf, s.pending - beg, beg);\n                            }\n                            flush_pending(strm);\n                            beg = s.pending;\n                            if (s.pending === s.pending_buf_size) {\n                                val = 1;\n                                break;\n                            }\n                        } // JS specific: little magic to add zero terminator to end of string\n                        if (s.gzindex < s.gzhead.comment.length) {\n                            val = s.gzhead.comment.charCodeAt(s.gzindex++) & 0xff;\n                        }\n                        else {\n                            val = 0;\n                        }\n                        put_byte(s, val);\n                    } while (val !== 0);\n                    if (s.gzhead.hcrc && s.pending > beg) {\n                        strm.adler = crc32_1(strm.adler, s.pending_buf, s.pending - beg, beg);\n                    }\n                    if (val === 0) {\n                        s.status = HCRC_STATE;\n                    }\n                }\n                else {\n                    s.status = HCRC_STATE;\n                }\n            }\n            if (s.status === HCRC_STATE) {\n                if (s.gzhead.hcrc) {\n                    if (s.pending + 2 > s.pending_buf_size) {\n                        flush_pending(strm);\n                    }\n                    if (s.pending + 2 <= s.pending_buf_size) {\n                        put_byte(s, strm.adler & 0xff);\n                        put_byte(s, (strm.adler >> 8) & 0xff);\n                        strm.adler = 0; // crc32(0L, Z_NULL, 0);\n                        s.status = BUSY_STATE;\n                    }\n                }\n                else {\n                    s.status = BUSY_STATE;\n                }\n            } // #endif\n            /* Flush as much pending output as possible */\n            if (s.pending !== 0) {\n                flush_pending(strm);\n                if (strm.avail_out === 0) {\n                    /* Since avail_out is 0, deflate will be called again with\n                     * more output space, but possibly with both pending and\n                     * avail_in equal to zero. There won't be anything to do,\n                     * but this is not an error situation so make sure we\n                     * return OK instead of BUF_ERROR at next call of deflate:\n                     */\n                    s.last_flush = -1;\n                    return Z_OK;\n                }\n                /* Make sure there is something to do and avoid duplicate consecutive\n                 * flushes. For repeated and useless calls with Z_FINISH, we keep\n                 * returning Z_STREAM_END instead of Z_BUF_ERROR.\n                 */\n            }\n            else if (strm.avail_in === 0 && rank(flush) <= rank(old_flush) && flush !== Z_FINISH) {\n                return err(strm, Z_BUF_ERROR);\n            }\n            /* User must not provide more input after the first FINISH: */\n            if (s.status === FINISH_STATE && strm.avail_in !== 0) {\n                return err(strm, Z_BUF_ERROR);\n            }\n            /* Start a new block or continue the current one.\n             */\n            if (strm.avail_in !== 0 || s.lookahead !== 0 || (flush !== Z_NO_FLUSH && s.status !== FINISH_STATE)) {\n                var bstate = s.strategy === Z_HUFFMAN_ONLY\n                    ? deflate_huff(s, flush)\n                    : s.strategy === Z_RLE\n                        ? deflate_rle(s, flush)\n                        : configuration_table[s.level].func(s, flush);\n                if (bstate === BS_FINISH_STARTED || bstate === BS_FINISH_DONE) {\n                    s.status = FINISH_STATE;\n                }\n                if (bstate === BS_NEED_MORE || bstate === BS_FINISH_STARTED) {\n                    if (strm.avail_out === 0) {\n                        s.last_flush = -1;\n                        /* avoid BUF_ERROR next call, see above */\n                    }\n                    return Z_OK;\n                    /* If flush != Z_NO_FLUSH && avail_out == 0, the next call\n                     * of deflate should use the same flush parameter to make sure\n                     * that the flush is complete. So we don't have to output an\n                     * empty block here, this will be done at next call. This also\n                     * ensures that for a very small output buffer, we emit at most\n                     * one empty block.\n                     */\n                }\n                if (bstate === BS_BLOCK_DONE) {\n                    if (flush === Z_PARTIAL_FLUSH) {\n                        _tr_align$1(s);\n                    }\n                    else if (flush !== Z_BLOCK) {\n                        /* FULL_FLUSH or SYNC_FLUSH */\n                        _tr_stored_block$1(s, 0, 0, false);\n                        /* For a full flush, this empty block will be recognized\n                         * as a special marker by inflate_sync().\n                         */\n                        if (flush === Z_FULL_FLUSH) {\n                            /** * CLEAR_HASH(s); ** */\n                            /* forget history */\n                            zero$1(s.head); // Fill with NIL (= 0);\n                            if (s.lookahead === 0) {\n                                s.strstart = 0;\n                                s.block_start = 0;\n                                s.insert = 0;\n                            }\n                        }\n                    }\n                    flush_pending(strm);\n                    if (strm.avail_out === 0) {\n                        s.last_flush = -1;\n                        /* avoid BUF_ERROR at next call, see above */\n                        return Z_OK;\n                    }\n                }\n            } // Assert(strm->avail_out > 0, \"bug2\");\n            // if (strm.avail_out <= 0) { throw new Error(\"bug2\");}\n            if (flush !== Z_FINISH) {\n                return Z_OK;\n            }\n            if (s.wrap <= 0) {\n                return Z_STREAM_END;\n            }\n            /* Write the trailer */\n            if (s.wrap === 2) {\n                put_byte(s, strm.adler & 0xff);\n                put_byte(s, (strm.adler >> 8) & 0xff);\n                put_byte(s, (strm.adler >> 16) & 0xff);\n                put_byte(s, (strm.adler >> 24) & 0xff);\n                put_byte(s, strm.total_in & 0xff);\n                put_byte(s, (strm.total_in >> 8) & 0xff);\n                put_byte(s, (strm.total_in >> 16) & 0xff);\n                put_byte(s, (strm.total_in >> 24) & 0xff);\n            }\n            else {\n                putShortMSB(s, strm.adler >>> 16);\n                putShortMSB(s, strm.adler & 0xffff);\n            }\n            flush_pending(strm);\n            /* If avail_out is zero, the application will call deflate again\n             * to flush the rest.\n             */\n            if (s.wrap > 0) {\n                s.wrap = -s.wrap;\n            }\n            /* write the trailer only once! */\n            return s.pending !== 0 ? Z_OK : Z_STREAM_END;\n        };\n        var deflateEnd = function deflateEnd(strm) {\n            if (!strm ||\n                /* == Z_NULL */\n                !strm.state\n            /* == Z_NULL */\n            ) {\n                return Z_STREAM_ERROR;\n            }\n            var status = strm.state.status;\n            if (status !== INIT_STATE &&\n                status !== EXTRA_STATE &&\n                status !== NAME_STATE &&\n                status !== COMMENT_STATE &&\n                status !== HCRC_STATE &&\n                status !== BUSY_STATE &&\n                status !== FINISH_STATE) {\n                return err(strm, Z_STREAM_ERROR);\n            }\n            strm.state = null;\n            return status === BUSY_STATE ? err(strm, Z_DATA_ERROR) : Z_OK;\n        };\n        /* =========================================================================\n         * Initializes the compression dictionary from the given byte\n         * sequence without producing any compressed output.\n         */\n        var deflateSetDictionary = function deflateSetDictionary(strm, dictionary) {\n            var dictLength = dictionary.length;\n            if (!strm ||\n                /* == Z_NULL */\n                !strm.state\n            /* == Z_NULL */\n            ) {\n                return Z_STREAM_ERROR;\n            }\n            var s = strm.state;\n            var wrap = s.wrap;\n            if (wrap === 2 || (wrap === 1 && s.status !== INIT_STATE) || s.lookahead) {\n                return Z_STREAM_ERROR;\n            }\n            /* when using zlib wrappers, compute Adler-32 for provided dictionary */\n            if (wrap === 1) {\n                /* adler32(strm->adler, dictionary, dictLength); */\n                strm.adler = adler32_1(strm.adler, dictionary, dictLength, 0);\n            }\n            s.wrap = 0;\n            /* avoid computing Adler-32 in read_buf */\n            /* if dictionary would fill window, just replace the history */\n            if (dictLength >= s.w_size) {\n                if (wrap === 0) {\n                    /* already empty otherwise */\n                    /** * CLEAR_HASH(s); ** */\n                    zero$1(s.head); // Fill with NIL (= 0);\n                    s.strstart = 0;\n                    s.block_start = 0;\n                    s.insert = 0;\n                }\n                /* use the tail */\n                // dictionary = dictionary.slice(dictLength - s.w_size);\n                var tmpDict = new Uint8Array(s.w_size);\n                tmpDict.set(dictionary.subarray(dictLength - s.w_size, dictLength), 0);\n                dictionary = tmpDict;\n                dictLength = s.w_size;\n            }\n            /* insert dictionary into window and hash */\n            var avail = strm.avail_in;\n            var next = strm.next_in;\n            var input = strm.input;\n            strm.avail_in = dictLength;\n            strm.next_in = 0;\n            strm.input = dictionary;\n            fill_window(s);\n            while (s.lookahead >= MIN_MATCH$1) {\n                var str = s.strstart;\n                var n = s.lookahead - (MIN_MATCH$1 - 1);\n                do {\n                    /* UPDATE_HASH(s, s->ins_h, s->window[str + MIN_MATCH-1]); */\n                    s.ins_h = HASH(s, s.ins_h, s.window[str + MIN_MATCH$1 - 1]);\n                    s.prev[str & s.w_mask] = s.head[s.ins_h];\n                    s.head[s.ins_h] = str;\n                    str++;\n                } while (--n);\n                s.strstart = str;\n                s.lookahead = MIN_MATCH$1 - 1;\n                fill_window(s);\n            }\n            s.strstart += s.lookahead;\n            s.block_start = s.strstart;\n            s.insert = s.lookahead;\n            s.lookahead = 0;\n            s.match_length = s.prev_length = MIN_MATCH$1 - 1;\n            s.match_available = 0;\n            strm.next_in = next;\n            strm.input = input;\n            strm.avail_in = avail;\n            s.wrap = wrap;\n            return Z_OK;\n        };\n        var deflateInit_1 = deflateInit;\n        var deflateInit2_1 = deflateInit2;\n        var deflateReset_1 = deflateReset;\n        var deflateResetKeep_1 = deflateResetKeep;\n        var deflateSetHeader_1 = deflateSetHeader;\n        var deflate_2 = deflate;\n        var deflateEnd_1 = deflateEnd;\n        var deflateSetDictionary_1 = deflateSetDictionary;\n        var deflateInfo = 'pako deflate (from Nodeca project)';\n        /* Not implemented\n      module.exports.deflateBound = deflateBound;\n      module.exports.deflateCopy = deflateCopy;\n      module.exports.deflateParams = deflateParams;\n      module.exports.deflatePending = deflatePending;\n      module.exports.deflatePrime = deflatePrime;\n      module.exports.deflateTune = deflateTune;\n      */\n        var deflate_1 = {\n            deflateInit: deflateInit_1,\n            deflateInit2: deflateInit2_1,\n            deflateReset: deflateReset_1,\n            deflateResetKeep: deflateResetKeep_1,\n            deflateSetHeader: deflateSetHeader_1,\n            deflate: deflate_2,\n            deflateEnd: deflateEnd_1,\n            deflateSetDictionary: deflateSetDictionary_1,\n            deflateInfo: deflateInfo,\n        };\n        // Join array of chunks to single array.\n        function flattenChunks(chunks) {\n            // calculate data length\n            var len = 0;\n            for (var i = 0, l = chunks.length; i < l; i++) {\n                len += chunks[i].length;\n            } // join chunks\n            var result = new Uint8Array(len);\n            for (var _i = 0, pos = 0, _l = chunks.length; _i < _l; _i++) {\n                var chunk = chunks[_i];\n                result.set(chunk, pos);\n                pos += chunk.length;\n            }\n            return result;\n        }\n        // String encode/decode helpers\n        //\n        // - apply(Array) can fail on Android 2.2\n        // - apply(Uint8Array) can fail on iOS 5.1 Safari\n        //\n        // Table with utf8 lengths (calculated by first byte of sequence)\n        // Note, that 5 & 6-byte values and some 4-byte values can not be represented in JS,\n        // because max possible codepoint is 0x10ffff\n        var _utf8len = new Uint8Array(256);\n        for (var q = 0; q < 256; q++) {\n            _utf8len[q] = q >= 252 ? 6 : q >= 248 ? 5 : q >= 240 ? 4 : q >= 224 ? 3 : q >= 192 ? 2 : 1;\n        }\n        _utf8len[254] = _utf8len[254] = 1; // Invalid sequence start\n        // convert string to array (typed, when possible)\n        // (C) 2014-2017 Vitaly Puzrin and Andrey Tupitsin\n        //\n        // This software is provided 'as-is', without any express or implied\n        // warranty. In no event will the authors be held liable for any damages\n        // arising from the use of this software.\n        //\n        // Permission is granted to anyone to use this software for any purpose,\n        // including commercial applications, and to alter it and redistribute it\n        // freely, subject to the following restrictions:\n        //\n        // 1. The origin of this software must not be misrepresented; you must not\n        //   claim that you wrote the original software. If you use this software\n        //   in a product, an acknowledgment in the product documentation would be\n        //   appreciated but is not required.\n        // 2. Altered source versions must be plainly marked as such, and must not be\n        //   misrepresented as being the original software.\n        // 3. This notice may not be removed or altered from any source distribution.\n        function ZStream() {\n            /* next input byte */\n            this.input = null; // JS specific, because we have no pointers\n            this.next_in = 0;\n            /* number of bytes available at input */\n            this.avail_in = 0;\n            /* total number of input bytes read so far */\n            this.total_in = 0;\n            /* next output byte should be put there */\n            this.output = null; // JS specific, because we have no pointers\n            this.next_out = 0;\n            /* remaining free space at output */\n            this.avail_out = 0;\n            /* total number of bytes output so far */\n            this.total_out = 0;\n            /* last error message, NULL if no error */\n            this.msg = '';\n            /* Z_NULL */\n            /* not visible by applications */\n            this.state = null;\n            /* best guess about the data type: binary or text */\n            this.data_type = 2;\n            /* Z_UNKNOWN */\n            /* adler32 value of the uncompressed data */\n            this.adler = 0;\n        }\n        var zstream = ZStream;\n        // eslint-disable-next-line @typescript-eslint/unbound-method\n        var toString = Object.prototype.toString;\n        /* Public constants ========================================================== */\n        /* =========================================================================== */\n        var Z_NO_FLUSH$1 = constants.Z_NO_FLUSH;\n        var Z_SYNC_FLUSH = constants.Z_SYNC_FLUSH;\n        var Z_FULL_FLUSH$1 = constants.Z_FULL_FLUSH;\n        var Z_FINISH$1 = constants.Z_FINISH;\n        var Z_OK$1 = constants.Z_OK;\n        var Z_STREAM_END$1 = constants.Z_STREAM_END;\n        var Z_DEFAULT_COMPRESSION$1 = constants.Z_DEFAULT_COMPRESSION;\n        var Z_DEFAULT_STRATEGY$1 = constants.Z_DEFAULT_STRATEGY;\n        var Z_DEFLATED$1 = constants.Z_DEFLATED;\n        /* =========================================================================== */\n        /**\n         * class Deflate\n         *\n         * Generic JS-style wrapper for zlib calls. If you don't need\n         * streaming behaviour - use more simple functions: [[deflate]],\n         * [[deflateRaw]] and [[gzip]].\n         * */\n        /* internal\n         * Deflate.chunks -> Array\n         *\n         * Chunks of output data, if [[Deflate#onData]] not overridden.\n         * */\n        /**\n         * Deflate.result -> Uint8Array\n         *\n         * Compressed result, generated by default [[Deflate#onData]]\n         * and [[Deflate#onEnd]] handlers. Filled after you push last chunk\n         * (call [[Deflate#push]] with `Z_FINISH` / `true` param).\n         * */\n        /**\n         * Deflate.err -> Number\n         *\n         * Error code after deflate finished. 0 (Z_OK) on success.\n         * You will not need it in real life, because deflate errors\n         * are possible only on wrong options or bad `onData` / `onEnd`\n         * custom handlers.\n         * */\n        /**\n         * Deflate.msg -> String\n         *\n         * Error message, if [[Deflate.err]] != 0\n         * */\n        /**\n         * new Deflate(options)\n         * - options (Object): zlib deflate options.\n         *\n         * Creates new deflator instance with specified params. Throws exception\n         * on bad params. Supported options:\n         *\n         * - `level`\n         * - `windowBits`\n         * - `memLevel`\n         * - `strategy`\n         * - `dictionary`\n         *\n         * [http://zlib.net/manual.html#Advanced](http://zlib.net/manual.html#Advanced)\n         * for more information on these.\n         *\n         * Additional options, for internal needs:\n         *\n         * * `chunkSize` - size of generated data chunks (16K by default)\n         * * `raw` (Boolean) - do raw deflate\n         * * `gzip` (Boolean) - create gzip wrapper\n         * * `header` (Object) - custom header for gzip\n         * ** `text` (Boolean) - true if compressed data believed to be text\n         * ** `time` (Number) - modification time, unix timestamp\n         * ** `os` (Number) - operation system code\n         * ** `extra` (Array) - array of bytes with extra data (max 65536)\n         * ** `name` (String) - file name (binary string)\n         * ** `comment` (String) - comment (binary string)\n         * ** `hcrc` (Boolean) - true if header crc should be added\n         *\n         * ##### Example:\n         *\n         * ```javascript\n         * const pako = require('pako')\n         *   , chunk1 = new Uint8Array([1,2,3,4,5,6,7,8,9])\n         *   , chunk2 = new Uint8Array([10,11,12,13,14,15,16,17,18,19]);\n         *\n         * const deflate = new pako.Deflate({ level: 3});\n         *\n         * deflate.push(chunk1, false);\n         * deflate.push(chunk2, true);  // true -> last chunk\n         *\n         * if (deflate.err) { throw new Error(deflate.err); }\n         *\n         * console.log(deflate.result);\n         * ```\n         * */\n        function Deflate() {\n            this.options = {\n                level: Z_DEFAULT_COMPRESSION$1,\n                method: Z_DEFLATED$1,\n                chunkSize: 16384,\n                windowBits: 15,\n                memLevel: 8,\n                strategy: Z_DEFAULT_STRATEGY$1,\n            };\n            var opt = this.options;\n            if (opt.raw && opt.windowBits > 0) {\n                opt.windowBits = -opt.windowBits;\n            }\n            else if (opt.gzip && opt.windowBits > 0 && opt.windowBits < 16) {\n                opt.windowBits += 16;\n            }\n            this.err = 0; // error code, if happens (0 = Z_OK)\n            this.msg = ''; // error message\n            this.ended = false; // used to avoid multiple onEnd() calls\n            this.chunks = []; // chunks of compressed data\n            this.strm = new zstream();\n            this.strm.avail_out = 0;\n            var status = deflate_1.deflateInit2(this.strm, opt.level, opt.method, opt.windowBits, opt.memLevel, opt.strategy);\n            if (status !== Z_OK$1) {\n                throw new Error(messages[status]);\n            }\n            if (opt.header) {\n                deflate_1.deflateSetHeader(this.strm, opt.header);\n            }\n            if (opt.dictionary) {\n                var dict; // Convert data if needed\n                if (toString.call(opt.dictionary) === '[object ArrayBuffer]') {\n                    dict = new Uint8Array(opt.dictionary);\n                }\n                else {\n                    dict = opt.dictionary;\n                }\n                status = deflate_1.deflateSetDictionary(this.strm, dict);\n                if (status !== Z_OK$1) {\n                    throw new Error(messages[status]);\n                }\n                this._dict_set = true;\n            }\n        }\n        /**\n         * Deflate#push(data[, flush_mode]) -> Boolean\n         * - data (Uint8Array|ArrayBuffer|String): input data. Strings will be\n         * converted to utf8 byte sequence.\n         * - flush_mode (Number|Boolean): 0..6 for corresponding Z_NO_FLUSH..Z_TREE modes.\n         * See constants. Skipped or `false` means Z_NO_FLUSH, `true` means Z_FINISH.\n         *\n         * Sends input data to deflate pipe, generating [[Deflate#onData]] calls with\n         * new compressed chunks. Returns `true` on success. The last data block must\n         * have `flush_mode` Z_FINISH (or `true`). That will flush internal pending\n         * buffers and call [[Deflate#onEnd]].\n         *\n         * On fail call [[Deflate#onEnd]] with error code and return false.\n         *\n         * ##### Example\n         *\n         * ```javascript\n         * push(chunk, false); // push one of data chunks\n         * ...\n         * push(chunk, true);  // push last chunk\n         * ```\n         * */\n        Deflate.prototype.push = function (data, flush_mode) {\n            var strm = this.strm;\n            var chunkSize = this.options.chunkSize;\n            var status;\n            var _flush_mode;\n            if (this.ended) {\n                return false;\n            }\n            if (flush_mode === ~~flush_mode) {\n                _flush_mode = flush_mode;\n            }\n            else {\n                _flush_mode = flush_mode === true ? Z_FINISH$1 : Z_NO_FLUSH$1;\n            } // Convert data if needed\n            if (toString.call(data) === '[object ArrayBuffer]') {\n                strm.input = new Uint8Array(data);\n            }\n            else {\n                strm.input = data;\n            }\n            strm.next_in = 0;\n            strm.avail_in = strm.input.length;\n            for (;;) {\n                if (strm.avail_out === 0) {\n                    strm.output = new Uint8Array(chunkSize);\n                    strm.next_out = 0;\n                    strm.avail_out = chunkSize;\n                } // Make sure avail_out > 6 to avoid repeating markers\n                if ((_flush_mode === Z_SYNC_FLUSH || _flush_mode === Z_FULL_FLUSH$1) && strm.avail_out <= 6) {\n                    this.onData(strm.output.subarray(0, strm.next_out));\n                    strm.avail_out = 0;\n                    continue;\n                }\n                status = deflate_1.deflate(strm, _flush_mode); // Ended => flush and finish\n                if (status === Z_STREAM_END$1) {\n                    if (strm.next_out > 0) {\n                        this.onData(strm.output.subarray(0, strm.next_out));\n                    }\n                    status = deflate_1.deflateEnd(this.strm);\n                    this.onEnd(status);\n                    this.ended = true;\n                    return status === Z_OK$1;\n                } // Flush if out buffer full\n                if (strm.avail_out === 0) {\n                    this.onData(strm.output);\n                    continue;\n                } // Flush if requested and has data\n                if (_flush_mode > 0 && strm.next_out > 0) {\n                    this.onData(strm.output.subarray(0, strm.next_out));\n                    strm.avail_out = 0;\n                    continue;\n                }\n                if (strm.avail_in === 0) {\n                    break;\n                }\n            }\n            return true;\n        };\n        /**\n         * Deflate#onData(chunk) -> Void\n         * - chunk (Uint8Array): output data.\n         *\n         * By default, stores data blocks in `chunks[]` property and glue\n         * those in `onEnd`. Override this handler, if you need another behaviour.\n         * */\n        Deflate.prototype.onData = function (chunk) {\n            this.chunks.push(chunk);\n        };\n        /**\n         * Deflate#onEnd(status) -> Void\n         * - status (Number): deflate status. 0 (Z_OK) on success,\n         * other if not.\n         *\n         * Called once after you tell deflate that the input stream is\n         * complete (Z_FINISH). By default - join collected chunks,\n         * free memory and fill `results` / `err` properties.\n         * */\n        Deflate.prototype.onEnd = function (status) {\n            // On success - join\n            if (status === Z_OK$1) {\n                this.result = flattenChunks(this.chunks);\n            }\n            this.chunks = [];\n            this.err = status;\n            this.msg = this.strm.msg;\n        };\n        // https://github.com/nodeca/pako/blob/26dff4fb3472c5532b3bd8856421146d35ab7592/lib/utils/strings.js#L26\n        function string2buf(str) {\n            if (typeof TextEncoder === 'function' && TextEncoder.prototype.encode) {\n                return new TextEncoder().encode(str);\n            }\n            var buf;\n            var c;\n            var c2;\n            var m_pos;\n            var i;\n            var str_len = str.length;\n            var buf_len = 0;\n            // count binary size\n            for (m_pos = 0; m_pos < str_len; m_pos++) {\n                c = str.charCodeAt(m_pos);\n                if ((c & 0xfc00) === 0xd800 && m_pos + 1 < str_len) {\n                    c2 = str.charCodeAt(m_pos + 1);\n                    if ((c2 & 0xfc00) === 0xdc00) {\n                        c = 0x10000 + ((c - 0xd800) << 10) + (c2 - 0xdc00);\n                        m_pos++;\n                    }\n                }\n                buf_len += c < 0x80 ? 1 : c < 0x800 ? 2 : c < 0x10000 ? 3 : 4;\n            }\n            // allocate buffer\n            buf = new Uint8Array(buf_len);\n            // convert\n            for (i = 0, m_pos = 0; i < buf_len; m_pos++) {\n                c = str.charCodeAt(m_pos);\n                if ((c & 0xfc00) === 0xd800 && m_pos + 1 < str_len) {\n                    c2 = str.charCodeAt(m_pos + 1);\n                    if ((c2 & 0xfc00) === 0xdc00) {\n                        c = 0x10000 + ((c - 0xd800) << 10) + (c2 - 0xdc00);\n                        m_pos++;\n                    }\n                }\n                if (c < 0x80) {\n                    /* one byte */\n                    buf[i++] = c;\n                }\n                else if (c < 0x800) {\n                    /* two bytes */\n                    buf[i++] = 0xc0 | (c >>> 6);\n                    buf[i++] = 0x80 | (c & 0x3f);\n                }\n                else if (c < 0x10000) {\n                    /* three bytes */\n                    buf[i++] = 0xe0 | (c >>> 12);\n                    buf[i++] = 0x80 | ((c >>> 6) & 0x3f);\n                    buf[i++] = 0x80 | (c & 0x3f);\n                }\n                else {\n                    /* four bytes */\n                    buf[i++] = 0xf0 | (c >>> 18);\n                    buf[i++] = 0x80 | ((c >>> 12) & 0x3f);\n                    buf[i++] = 0x80 | ((c >>> 6) & 0x3f);\n                    buf[i++] = 0x80 | (c & 0x3f);\n                }\n            }\n            return buf;\n        }\n        return { Deflate: Deflate, constants: constants, string2buf: string2buf };\n    }\n}\n//# sourceMappingURL=deflateWorker.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtL2VzbS9kb21haW4vc2VnbWVudENvbGxlY3Rpb24vZGVmbGF0ZVdvcmtlci5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEZBQThGLDhCQUE4QjtBQUM1SDtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzRUFBc0U7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0Esd0JBQXdCLGtDQUFrQztBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEM7QUFDOUM7QUFDQTtBQUNBLDZFQUE2RSwwQkFBMEI7QUFDdkc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLGtCQUFrQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsZUFBZTtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsWUFBWTtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDO0FBQ3pDLHlDQUF5QztBQUN6Qyx5Q0FBeUM7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLGtCQUFrQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGVBQWU7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RDtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQix5QkFBeUI7QUFDcEQ7QUFDQSw0QkFBNEIsNEJBQTRCO0FBQ3hEO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsV0FBVztBQUN0QztBQUNBLDRCQUE0Qiw0QkFBNEI7QUFDeEQ7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0EsbUJBQW1CLGdCQUFnQjtBQUNuQztBQUNBLDRCQUE0QixrQ0FBa0M7QUFDOUQ7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBLDJCQUEyQixrQkFBa0I7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsYUFBYTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGFBQWE7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsYUFBYTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixjQUFjO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3Qiw2QkFBNkI7QUFDN0IsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUIsbUNBQW1DO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0VBQXNFO0FBQ3RFO0FBQ0E7QUFDQSw2RUFBNkUsdUJBQXVCO0FBQ3BHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixXQUFXO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQiwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGVBQWU7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCLGtDQUFrQztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGVBQWU7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsa0JBQWtCO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTREO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3R0FBd0csbUNBQW1DO0FBQzNJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixnQkFBZ0I7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsSUFBSSxNQUFNLEdBQUcsTUFBTSxHQUFHO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixJQUFJLEtBQUssR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sSUFBSSxNQUFNLElBQUk7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsU0FBUztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixjQUFjO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3Qiw2QkFBNkI7QUFDN0IsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3Qiw2QkFBNkI7QUFDN0IsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDO0FBQ3pDO0FBQ0EseUNBQXlDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTREO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUIsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxpQkFBaUI7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0VBQXNFO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0VBQXNFO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLFNBQVM7QUFDckM7QUFDQSxnQ0FBZ0MsT0FBTztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsU0FBUztBQUN2QztBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNFQUFzRTtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzRUFBc0U7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNFQUFzRTtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlFQUFpRTtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQSxpRUFBaUU7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFFQUFxRTtBQUNyRSxtRUFBbUU7QUFDbkU7QUFDQTtBQUNBO0FBQ0EsbUZBQW1GO0FBQ25GO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1FQUFtRTtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtGQUFrRjtBQUNsRjtBQUNBLHNFQUFzRTtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyRUFBMkU7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEVBQTRFO0FBQzVFLDhFQUE4RTtBQUM5RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBFQUEwRTtBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUVBQW1FO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0VBQW9FO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkVBQTJFO0FBQzNFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQ7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0RUFBNEU7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0Esd0VBQXdFO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9GQUFvRjtBQUNwRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEVBQTBFO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQztBQUNwQyxzRUFBc0U7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RDtBQUN4RCx3REFBd0Q7QUFDeEQsd0RBQXdEO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkM7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2REFBNkQ7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnRUFBZ0U7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0Q7QUFDaEQsa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQ7QUFDakQ7QUFDQSw0Q0FBNEM7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZCwwQ0FBMEM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUVBQWlFO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekMsb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrRUFBK0U7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQStDLE9BQU87QUFDdEQ7QUFDQSxjQUFjO0FBQ2Q7QUFDQSwwREFBMEQsU0FBUztBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsU0FBUztBQUNqQztBQUNBO0FBQ0EsMkNBQTJDO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzRUFBc0U7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsU0FBUztBQUN2RDtBQUNBO0FBQ0Esd0NBQXdDO0FBQ3hDO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUIsMkJBQTJCO0FBQzNCLGdDQUFnQztBQUNoQyw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrREFBK0Q7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsaUJBQWlCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLGFBQWE7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhcmNhc3Rlci8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0vZXNtL2RvbWFpbi9zZWdtZW50Q29sbGVjdGlvbi9kZWZsYXRlV29ya2VyLmpzPzg5MGIiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIHdvcmtlclVSTDtcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVEZWZsYXRlV29ya2VyKCkge1xuICAgIC8vIExhemlseSBjb21wdXRlIHRoZSB3b3JrZXIgVVJMIHRvIGFsbG93IGltcG9ydGluZyB0aGUgU0RLIGluIE5vZGVKU1xuICAgIGlmICghd29ya2VyVVJMKSB7XG4gICAgICAgIHdvcmtlclVSTCA9IFVSTC5jcmVhdGVPYmplY3RVUkwobmV3IEJsb2IoW1wiKFwiLmNvbmNhdCh3b3JrZXJDb2RlRm4sIFwiKShzZWxmKVwiKV0pKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBXb3JrZXIod29ya2VyVVJMKTtcbn1cbmZ1bmN0aW9uIHdvcmtlckNvZGVGbigpIHtcbiAgICBtb25pdG9yKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hID0gbWFrZVBha29EZWZsYXRlKCksIERlZmxhdGUgPSBfYS5EZWZsYXRlLCBjb25zdGFudHMgPSBfYS5jb25zdGFudHMsIHN0cmluZzJidWYgPSBfYS5zdHJpbmcyYnVmO1xuICAgICAgICB2YXIgZGVmbGF0ZSA9IG5ldyBEZWZsYXRlKCk7XG4gICAgICAgIHZhciByYXdCeXRlc0NvdW50ID0gMDtcbiAgICAgICAgc2VsZi5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgbW9uaXRvcihmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIHZhciBkYXRhID0gZXZlbnQuZGF0YTtcbiAgICAgICAgICAgIHN3aXRjaCAoZGF0YS5hY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBjYXNlICdpbml0JzpcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnaW5pdGlhbGl6ZWQnLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnd3JpdGUnOiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhZGRpdGlvbmFsQnl0ZXNDb3VudCA9IHB1c2hEYXRhKGRhdGEuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3dyb3RlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBkYXRhLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcHJlc3NlZEJ5dGVzQ291bnQ6IGRlZmxhdGUuY2h1bmtzLnJlZHVjZShmdW5jdGlvbiAodG90YWwsIGNodW5rKSB7IHJldHVybiB0b3RhbCArIGNodW5rLmxlbmd0aDsgfSwgMCksXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRpdGlvbmFsQnl0ZXNDb3VudDogYWRkaXRpb25hbEJ5dGVzQ291bnQsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAnZmx1c2gnOiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhZGRpdGlvbmFsQnl0ZXNDb3VudCA9IGRhdGEuZGF0YSA/IHB1c2hEYXRhKGRhdGEuZGF0YSkgOiAwO1xuICAgICAgICAgICAgICAgICAgICBkZWZsYXRlLnB1c2goJycsIGNvbnN0YW50cy5aX0ZJTklTSCk7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2ZsdXNoZWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGRhdGEuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQ6IGRlZmxhdGUucmVzdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkaXRpb25hbEJ5dGVzQ291bnQ6IGFkZGl0aW9uYWxCeXRlc0NvdW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgcmF3Qnl0ZXNDb3VudDogcmF3Qnl0ZXNDb3VudCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGRlZmxhdGUgPSBuZXcgRGVmbGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICByYXdCeXRlc0NvdW50ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgICAgIGZ1bmN0aW9uIHB1c2hEYXRhKGRhdGEpIHtcbiAgICAgICAgICAgIC8vIFRleHRFbmNvZGVyIGlzIG5vdCBzdXBwb3J0ZWQgb24gb2xkIGJyb3dzZXIgdmVyc2lvbiBsaWtlIEVkZ2UgMTgsIHRoZXJlZm9yZSB3ZSB1c2Ugc3RyaW5nMmJ1ZlxuICAgICAgICAgICAgdmFyIGJpbmFyeURhdGEgPSBzdHJpbmcyYnVmKGRhdGEpO1xuICAgICAgICAgICAgZGVmbGF0ZS5wdXNoKGJpbmFyeURhdGEsIGNvbnN0YW50cy5aX1NZTkNfRkxVU0gpO1xuICAgICAgICAgICAgcmF3Qnl0ZXNDb3VudCArPSBiaW5hcnlEYXRhLmxlbmd0aDtcbiAgICAgICAgICAgIHJldHVybiBiaW5hcnlEYXRhLmxlbmd0aDtcbiAgICAgICAgfVxuICAgIH0pKCk7XG4gICAgZnVuY3Rpb24gbW9uaXRvcihmbikge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3JlZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChfKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIERBVEFfQ0xPTkVfRVJSLCBjZiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvV2ViX1dvcmtlcnNfQVBJL1N0cnVjdHVyZWRfY2xvbmVfYWxnb3JpdGhtXG4gICAgICAgICAgICAgICAgICAgIHNlbGYucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yZWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IFwiXCIuY29uY2F0KGUpLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9ub2RlY2EvcGFrby9ibG9iLzAzNDY2OWJhMGYxYTRjMDU5MGU0NWY3YzI4MjAxMjgyMDBmOTcyYjMvZGlzdC9wYWtvX2RlZmxhdGUuZXM1LmpzXG4gICAgZnVuY3Rpb24gbWFrZVBha29EZWZsYXRlKCkge1xuICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBjYW1lbGNhc2UsIG5vLWJpdHdpc2UgKi9cbiAgICAgICAgLy8gKEMpIDIwMTQtMjAxNyBWaXRhbHkgUHV6cmluIGFuZCBBbmRyZXkgVHVwaXRzaW5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gVGhpcyBzb2Z0d2FyZSBpcyBwcm92aWRlZCAnYXMtaXMnLCB3aXRob3V0IGFueSBleHByZXNzIG9yIGltcGxpZWRcbiAgICAgICAgLy8gd2FycmFudHkuIEluIG5vIGV2ZW50IHdpbGwgdGhlIGF1dGhvcnMgYmUgaGVsZCBsaWFibGUgZm9yIGFueSBkYW1hZ2VzXG4gICAgICAgIC8vIGFyaXNpbmcgZnJvbSB0aGUgdXNlIG9mIHRoaXMgc29mdHdhcmUuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFBlcm1pc3Npb24gaXMgZ3JhbnRlZCB0byBhbnlvbmUgdG8gdXNlIHRoaXMgc29mdHdhcmUgZm9yIGFueSBwdXJwb3NlLFxuICAgICAgICAvLyBpbmNsdWRpbmcgY29tbWVyY2lhbCBhcHBsaWNhdGlvbnMsIGFuZCB0byBhbHRlciBpdCBhbmQgcmVkaXN0cmlidXRlIGl0XG4gICAgICAgIC8vIGZyZWVseSwgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIHJlc3RyaWN0aW9uczpcbiAgICAgICAgLy9cbiAgICAgICAgLy8gMS4gVGhlIG9yaWdpbiBvZiB0aGlzIHNvZnR3YXJlIG11c3Qgbm90IGJlIG1pc3JlcHJlc2VudGVkOyB5b3UgbXVzdCBub3RcbiAgICAgICAgLy8gICBjbGFpbSB0aGF0IHlvdSB3cm90ZSB0aGUgb3JpZ2luYWwgc29mdHdhcmUuIElmIHlvdSB1c2UgdGhpcyBzb2Z0d2FyZVxuICAgICAgICAvLyAgIGluIGEgcHJvZHVjdCwgYW4gYWNrbm93bGVkZ21lbnQgaW4gdGhlIHByb2R1Y3QgZG9jdW1lbnRhdGlvbiB3b3VsZCBiZVxuICAgICAgICAvLyAgIGFwcHJlY2lhdGVkIGJ1dCBpcyBub3QgcmVxdWlyZWQuXG4gICAgICAgIC8vIDIuIEFsdGVyZWQgc291cmNlIHZlcnNpb25zIG11c3QgYmUgcGxhaW5seSBtYXJrZWQgYXMgc3VjaCwgYW5kIG11c3Qgbm90IGJlXG4gICAgICAgIC8vICAgbWlzcmVwcmVzZW50ZWQgYXMgYmVpbmcgdGhlIG9yaWdpbmFsIHNvZnR3YXJlLlxuICAgICAgICAvLyAzLiBUaGlzIG5vdGljZSBtYXkgbm90IGJlIHJlbW92ZWQgb3IgYWx0ZXJlZCBmcm9tIGFueSBzb3VyY2UgZGlzdHJpYnV0aW9uLlxuICAgICAgICAvKiBQdWJsaWMgY29uc3RhbnRzID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cbiAgICAgICAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG4gICAgICAgIC8vIGNvbnN0IFpfRklMVEVSRUQgICAgICAgICAgPSAxO1xuICAgICAgICAvLyBjb25zdCBaX0hVRkZNQU5fT05MWSAgICAgID0gMjtcbiAgICAgICAgLy8gY29uc3QgWl9STEUgICAgICAgICAgICAgICA9IDM7XG4gICAgICAgIHZhciBaX0ZJWEVEID0gNDsgLy8gY29uc3QgWl9ERUZBVUxUX1NUUkFURUdZICA9IDA7XG4gICAgICAgIC8qIFBvc3NpYmxlIHZhbHVlcyBvZiB0aGUgZGF0YV90eXBlIGZpZWxkICh0aG91Z2ggc2VlIGluZmxhdGUoKSkgKi9cbiAgICAgICAgdmFyIFpfQklOQVJZID0gMDtcbiAgICAgICAgdmFyIFpfVEVYVCA9IDE7IC8vIGNvbnN0IFpfQVNDSUkgICAgICAgICAgICAgPSAxOyAvLyA9IFpfVEVYVFxuICAgICAgICB2YXIgWl9VTktOT1dOID0gMjtcbiAgICAgICAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuICAgICAgICBmdW5jdGlvbiB6ZXJvKGJ1Zikge1xuICAgICAgICAgICAgdmFyIGxlbiA9IGJ1Zi5sZW5ndGg7XG4gICAgICAgICAgICB3aGlsZSAoLS1sZW4gPj0gMCkge1xuICAgICAgICAgICAgICAgIGJ1ZltsZW5dID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSAvLyBGcm9tIHp1dGlsLmhcbiAgICAgICAgdmFyIFNUT1JFRF9CTE9DSyA9IDA7XG4gICAgICAgIHZhciBTVEFUSUNfVFJFRVMgPSAxO1xuICAgICAgICB2YXIgRFlOX1RSRUVTID0gMjtcbiAgICAgICAgLyogVGhlIHRocmVlIGtpbmRzIG9mIGJsb2NrIHR5cGUgKi9cbiAgICAgICAgdmFyIE1JTl9NQVRDSCA9IDM7XG4gICAgICAgIHZhciBNQVhfTUFUQ0ggPSAyNTg7XG4gICAgICAgIC8qIFRoZSBtaW5pbXVtIGFuZCBtYXhpbXVtIG1hdGNoIGxlbmd0aHMgKi9cbiAgICAgICAgLy8gRnJvbSBkZWZsYXRlLmhcbiAgICAgICAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICAgICAqIEludGVybmFsIGNvbXByZXNzaW9uIHN0YXRlLlxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIExFTkdUSF9DT0RFUyA9IDI5O1xuICAgICAgICAvKiBudW1iZXIgb2YgbGVuZ3RoIGNvZGVzLCBub3QgY291bnRpbmcgdGhlIHNwZWNpYWwgRU5EX0JMT0NLIGNvZGUgKi9cbiAgICAgICAgdmFyIExJVEVSQUxTID0gMjU2O1xuICAgICAgICAvKiBudW1iZXIgb2YgbGl0ZXJhbCBieXRlcyAwLi4yNTUgKi9cbiAgICAgICAgdmFyIExfQ09ERVMgPSBMSVRFUkFMUyArIDEgKyBMRU5HVEhfQ09ERVM7XG4gICAgICAgIC8qIG51bWJlciBvZiBMaXRlcmFsIG9yIExlbmd0aCBjb2RlcywgaW5jbHVkaW5nIHRoZSBFTkRfQkxPQ0sgY29kZSAqL1xuICAgICAgICB2YXIgRF9DT0RFUyA9IDMwO1xuICAgICAgICAvKiBudW1iZXIgb2YgZGlzdGFuY2UgY29kZXMgKi9cbiAgICAgICAgdmFyIEJMX0NPREVTID0gMTk7XG4gICAgICAgIC8qIG51bWJlciBvZiBjb2RlcyB1c2VkIHRvIHRyYW5zZmVyIHRoZSBiaXQgbGVuZ3RocyAqL1xuICAgICAgICB2YXIgSEVBUF9TSVpFID0gMiAqIExfQ09ERVMgKyAxO1xuICAgICAgICAvKiBtYXhpbXVtIGhlYXAgc2l6ZSAqL1xuICAgICAgICB2YXIgTUFYX0JJVFMgPSAxNTtcbiAgICAgICAgLyogQWxsIGNvZGVzIG11c3Qgbm90IGV4Y2VlZCBNQVhfQklUUyBiaXRzICovXG4gICAgICAgIHZhciBCdWZfc2l6ZSA9IDE2O1xuICAgICAgICAvKiBzaXplIG9mIGJpdCBidWZmZXIgaW4gYmlfYnVmICovXG4gICAgICAgIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgICAgKiBDb25zdGFudHNcbiAgICAgICAgICovXG4gICAgICAgIHZhciBNQVhfQkxfQklUUyA9IDc7XG4gICAgICAgIC8qIEJpdCBsZW5ndGggY29kZXMgbXVzdCBub3QgZXhjZWVkIE1BWF9CTF9CSVRTIGJpdHMgKi9cbiAgICAgICAgdmFyIEVORF9CTE9DSyA9IDI1NjtcbiAgICAgICAgLyogZW5kIG9mIGJsb2NrIGxpdGVyYWwgY29kZSAqL1xuICAgICAgICB2YXIgUkVQXzNfNiA9IDE2O1xuICAgICAgICAvKiByZXBlYXQgcHJldmlvdXMgYml0IGxlbmd0aCAzLTYgdGltZXMgKDIgYml0cyBvZiByZXBlYXQgY291bnQpICovXG4gICAgICAgIHZhciBSRVBaXzNfMTAgPSAxNztcbiAgICAgICAgLyogcmVwZWF0IGEgemVybyBsZW5ndGggMy0xMCB0aW1lcyAgKDMgYml0cyBvZiByZXBlYXQgY291bnQpICovXG4gICAgICAgIHZhciBSRVBaXzExXzEzOCA9IDE4O1xuICAgICAgICAvKiByZXBlYXQgYSB6ZXJvIGxlbmd0aCAxMS0xMzggdGltZXMgICg3IGJpdHMgb2YgcmVwZWF0IGNvdW50KSAqL1xuICAgICAgICB2YXIgZXh0cmFfbGJpdHMgPSBcbiAgICAgICAgLyogZXh0cmEgYml0cyBmb3IgZWFjaCBsZW5ndGggY29kZSAqL1xuICAgICAgICBuZXcgVWludDhBcnJheShbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMSwgMSwgMSwgMSwgMiwgMiwgMiwgMiwgMywgMywgMywgMywgNCwgNCwgNCwgNCwgNSwgNSwgNSwgNSwgMF0pO1xuICAgICAgICB2YXIgZXh0cmFfZGJpdHMgPSBcbiAgICAgICAgLyogZXh0cmEgYml0cyBmb3IgZWFjaCBkaXN0YW5jZSBjb2RlICovXG4gICAgICAgIG5ldyBVaW50OEFycmF5KFswLCAwLCAwLCAwLCAxLCAxLCAyLCAyLCAzLCAzLCA0LCA0LCA1LCA1LCA2LCA2LCA3LCA3LCA4LCA4LCA5LCA5LCAxMCwgMTAsIDExLCAxMSwgMTIsIDEyLCAxMywgMTNdKTtcbiAgICAgICAgdmFyIGV4dHJhX2JsYml0cyA9IFxuICAgICAgICAvKiBleHRyYSBiaXRzIGZvciBlYWNoIGJpdCBsZW5ndGggY29kZSAqL1xuICAgICAgICBuZXcgVWludDhBcnJheShbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMiwgMywgN10pO1xuICAgICAgICB2YXIgYmxfb3JkZXIgPSBuZXcgVWludDhBcnJheShbMTYsIDE3LCAxOCwgMCwgOCwgNywgOSwgNiwgMTAsIDUsIDExLCA0LCAxMiwgMywgMTMsIDIsIDE0LCAxLCAxNV0pO1xuICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIGNvbW1hLXNwYWNpbmcsYXJyYXktYnJhY2tldC1zcGFjaW5nICovXG4gICAgICAgIC8qIFRoZSBsZW5ndGhzIG9mIHRoZSBiaXQgbGVuZ3RoIGNvZGVzIGFyZSBzZW50IGluIG9yZGVyIG9mIGRlY3JlYXNpbmdcbiAgICAgICAgICogcHJvYmFiaWxpdHksIHRvIGF2b2lkIHRyYW5zbWl0dGluZyB0aGUgbGVuZ3RocyBmb3IgdW51c2VkIGJpdCBsZW5ndGggY29kZXMuXG4gICAgICAgICAqL1xuICAgICAgICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgICAgICogTG9jYWwgZGF0YS4gVGhlc2UgYXJlIGluaXRpYWxpemVkIG9ubHkgb25jZS5cbiAgICAgICAgICovXG4gICAgICAgIC8vIFdlIHByZS1maWxsIGFycmF5cyB3aXRoIDAgdG8gYXZvaWQgdW5pbml0aWFsaXplZCBnYXBzXG4gICAgICAgIHZhciBESVNUX0NPREVfTEVOID0gNTEyO1xuICAgICAgICAvKiBzZWUgZGVmaW5pdGlvbiBvZiBhcnJheSBkaXN0X2NvZGUgYmVsb3cgKi9cbiAgICAgICAgLy8gISEhISBVc2UgZmxhdCBhcnJheSBpbnN0ZWFkIG9mIHN0cnVjdHVyZSwgRnJlcSA9IGkqMiwgTGVuID0gaSoyKzFcbiAgICAgICAgdmFyIHN0YXRpY19sdHJlZSA9IG5ldyBBcnJheSgoTF9DT0RFUyArIDIpICogMik7XG4gICAgICAgIHplcm8oc3RhdGljX2x0cmVlKTtcbiAgICAgICAgLyogVGhlIHN0YXRpYyBsaXRlcmFsIHRyZWUuIFNpbmNlIHRoZSBiaXQgbGVuZ3RocyBhcmUgaW1wb3NlZCwgdGhlcmUgaXMgbm9cbiAgICAgICAgICogbmVlZCBmb3IgdGhlIExfQ09ERVMgZXh0cmEgY29kZXMgdXNlZCBkdXJpbmcgaGVhcCBjb25zdHJ1Y3Rpb24uIEhvd2V2ZXJcbiAgICAgICAgICogVGhlIGNvZGVzIDI4NiBhbmQgMjg3IGFyZSBuZWVkZWQgdG8gYnVpbGQgYSBjYW5vbmljYWwgdHJlZSAoc2VlIF90cl9pbml0XG4gICAgICAgICAqIGJlbG93KS5cbiAgICAgICAgICovXG4gICAgICAgIHZhciBzdGF0aWNfZHRyZWUgPSBuZXcgQXJyYXkoRF9DT0RFUyAqIDIpO1xuICAgICAgICB6ZXJvKHN0YXRpY19kdHJlZSk7XG4gICAgICAgIC8qIFRoZSBzdGF0aWMgZGlzdGFuY2UgdHJlZS4gKEFjdHVhbGx5IGEgdHJpdmlhbCB0cmVlIHNpbmNlIGFsbCBjb2RlcyB1c2VcbiAgICAgICAgICogNSBiaXRzLilcbiAgICAgICAgICovXG4gICAgICAgIHZhciBfZGlzdF9jb2RlID0gbmV3IEFycmF5KERJU1RfQ09ERV9MRU4pO1xuICAgICAgICB6ZXJvKF9kaXN0X2NvZGUpO1xuICAgICAgICAvKiBEaXN0YW5jZSBjb2Rlcy4gVGhlIGZpcnN0IDI1NiB2YWx1ZXMgY29ycmVzcG9uZCB0byB0aGUgZGlzdGFuY2VzXG4gICAgICAgICAqIDMgLi4gMjU4LCB0aGUgbGFzdCAyNTYgdmFsdWVzIGNvcnJlc3BvbmQgdG8gdGhlIHRvcCA4IGJpdHMgb2ZcbiAgICAgICAgICogdGhlIDE1IGJpdCBkaXN0YW5jZXMuXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgX2xlbmd0aF9jb2RlID0gbmV3IEFycmF5KE1BWF9NQVRDSCAtIE1JTl9NQVRDSCArIDEpO1xuICAgICAgICB6ZXJvKF9sZW5ndGhfY29kZSk7XG4gICAgICAgIC8qIGxlbmd0aCBjb2RlIGZvciBlYWNoIG5vcm1hbGl6ZWQgbWF0Y2ggbGVuZ3RoICgwID09IE1JTl9NQVRDSCkgKi9cbiAgICAgICAgdmFyIGJhc2VfbGVuZ3RoID0gbmV3IEFycmF5KExFTkdUSF9DT0RFUyk7XG4gICAgICAgIHplcm8oYmFzZV9sZW5ndGgpO1xuICAgICAgICAvKiBGaXJzdCBub3JtYWxpemVkIGxlbmd0aCBmb3IgZWFjaCBjb2RlICgwID0gTUlOX01BVENIKSAqL1xuICAgICAgICB2YXIgYmFzZV9kaXN0ID0gbmV3IEFycmF5KERfQ09ERVMpO1xuICAgICAgICB6ZXJvKGJhc2VfZGlzdCk7XG4gICAgICAgIC8qIEZpcnN0IG5vcm1hbGl6ZWQgZGlzdGFuY2UgZm9yIGVhY2ggY29kZSAoMCA9IGRpc3RhbmNlIG9mIDEpICovXG4gICAgICAgIGZ1bmN0aW9uIFN0YXRpY1RyZWVEZXNjKHN0YXRpY190cmVlLCBleHRyYV9iaXRzLCBleHRyYV9iYXNlLCBlbGVtcywgbWF4X2xlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5zdGF0aWNfdHJlZSA9IHN0YXRpY190cmVlO1xuICAgICAgICAgICAgLyogc3RhdGljIHRyZWUgb3IgTlVMTCAqL1xuICAgICAgICAgICAgdGhpcy5leHRyYV9iaXRzID0gZXh0cmFfYml0cztcbiAgICAgICAgICAgIC8qIGV4dHJhIGJpdHMgZm9yIGVhY2ggY29kZSBvciBOVUxMICovXG4gICAgICAgICAgICB0aGlzLmV4dHJhX2Jhc2UgPSBleHRyYV9iYXNlO1xuICAgICAgICAgICAgLyogYmFzZSBpbmRleCBmb3IgZXh0cmFfYml0cyAqL1xuICAgICAgICAgICAgdGhpcy5lbGVtcyA9IGVsZW1zO1xuICAgICAgICAgICAgLyogbWF4IG51bWJlciBvZiBlbGVtZW50cyBpbiB0aGUgdHJlZSAqL1xuICAgICAgICAgICAgdGhpcy5tYXhfbGVuZ3RoID0gbWF4X2xlbmd0aDtcbiAgICAgICAgICAgIC8qIG1heCBiaXQgbGVuZ3RoIGZvciB0aGUgY29kZXMgKi9cbiAgICAgICAgICAgIC8vIHNob3cgaWYgYHN0YXRpY190cmVlYCBoYXMgZGF0YSBvciBkdW1teSAtIG5lZWRlZCBmb3IgbW9ub21vcnBoaWMgb2JqZWN0c1xuICAgICAgICAgICAgdGhpcy5oYXNfc3RyZWUgPSBzdGF0aWNfdHJlZSAmJiBzdGF0aWNfdHJlZS5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN0YXRpY19sX2Rlc2M7XG4gICAgICAgIHZhciBzdGF0aWNfZF9kZXNjO1xuICAgICAgICB2YXIgc3RhdGljX2JsX2Rlc2M7XG4gICAgICAgIGZ1bmN0aW9uIFRyZWVEZXNjKGR5bl90cmVlLCBzdGF0X2Rlc2MpIHtcbiAgICAgICAgICAgIHRoaXMuZHluX3RyZWUgPSBkeW5fdHJlZTtcbiAgICAgICAgICAgIC8qIHRoZSBkeW5hbWljIHRyZWUgKi9cbiAgICAgICAgICAgIHRoaXMubWF4X2NvZGUgPSAwO1xuICAgICAgICAgICAgLyogbGFyZ2VzdCBjb2RlIHdpdGggbm9uIHplcm8gZnJlcXVlbmN5ICovXG4gICAgICAgICAgICB0aGlzLnN0YXRfZGVzYyA9IHN0YXRfZGVzYztcbiAgICAgICAgICAgIC8qIHRoZSBjb3JyZXNwb25kaW5nIHN0YXRpYyB0cmVlICovXG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRfY29kZSA9IGZ1bmN0aW9uIGRfY29kZShkaXN0KSB7XG4gICAgICAgICAgICByZXR1cm4gZGlzdCA8IDI1NiA/IF9kaXN0X2NvZGVbZGlzdF0gOiBfZGlzdF9jb2RlWzI1NiArIChkaXN0ID4+PiA3KV07XG4gICAgICAgIH07XG4gICAgICAgIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgICAgKiBPdXRwdXQgYSBzaG9ydCBMU0IgZmlyc3Qgb24gdGhlIHN0cmVhbS5cbiAgICAgICAgICogSU4gYXNzZXJ0aW9uOiB0aGVyZSBpcyBlbm91Z2ggcm9vbSBpbiBwZW5kaW5nQnVmLlxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIHB1dF9zaG9ydCA9IGZ1bmN0aW9uIHB1dF9zaG9ydChzLCB3KSB7XG4gICAgICAgICAgICAvLyAgICBwdXRfYnl0ZShzLCAodWNoKSgodykgJiAweGZmKSk7XG4gICAgICAgICAgICAvLyAgICBwdXRfYnl0ZShzLCAodWNoKSgodXNoKSh3KSA+PiA4KSk7XG4gICAgICAgICAgICBzLnBlbmRpbmdfYnVmW3MucGVuZGluZysrXSA9IHcgJiAweGZmO1xuICAgICAgICAgICAgcy5wZW5kaW5nX2J1ZltzLnBlbmRpbmcrK10gPSAodyA+Pj4gOCkgJiAweGZmO1xuICAgICAgICB9O1xuICAgICAgICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgICAgICogU2VuZCBhIHZhbHVlIG9uIGEgZ2l2ZW4gbnVtYmVyIG9mIGJpdHMuXG4gICAgICAgICAqIElOIGFzc2VydGlvbjogbGVuZ3RoIDw9IDE2IGFuZCB2YWx1ZSBmaXRzIGluIGxlbmd0aCBiaXRzLlxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIHNlbmRfYml0cyA9IGZ1bmN0aW9uIHNlbmRfYml0cyhzLCB2YWx1ZSwgbGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAocy5iaV92YWxpZCA+IEJ1Zl9zaXplIC0gbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcy5iaV9idWYgfD0gKHZhbHVlIDw8IHMuYmlfdmFsaWQpICYgMHhmZmZmO1xuICAgICAgICAgICAgICAgIHB1dF9zaG9ydChzLCBzLmJpX2J1Zik7XG4gICAgICAgICAgICAgICAgcy5iaV9idWYgPSB2YWx1ZSA+PiAoQnVmX3NpemUgLSBzLmJpX3ZhbGlkKTtcbiAgICAgICAgICAgICAgICBzLmJpX3ZhbGlkICs9IGxlbmd0aCAtIEJ1Zl9zaXplO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcy5iaV9idWYgfD0gKHZhbHVlIDw8IHMuYmlfdmFsaWQpICYgMHhmZmZmO1xuICAgICAgICAgICAgICAgIHMuYmlfdmFsaWQgKz0gbGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB2YXIgc2VuZF9jb2RlID0gZnVuY3Rpb24gc2VuZF9jb2RlKHMsIGMsIHRyZWUpIHtcbiAgICAgICAgICAgIHNlbmRfYml0cyhzLCB0cmVlW2MgKiAyXSwgXG4gICAgICAgICAgICAvKiAuQ29kZSAqL1xuICAgICAgICAgICAgdHJlZVtjICogMiArIDFdXG4gICAgICAgICAgICAvKiAuTGVuICovXG4gICAgICAgICAgICApO1xuICAgICAgICB9O1xuICAgICAgICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgICAgICogUmV2ZXJzZSB0aGUgZmlyc3QgbGVuIGJpdHMgb2YgYSBjb2RlLCB1c2luZyBzdHJhaWdodGZvcndhcmQgY29kZSAoYSBmYXN0ZXJcbiAgICAgICAgICogbWV0aG9kIHdvdWxkIHVzZSBhIHRhYmxlKVxuICAgICAgICAgKiBJTiBhc3NlcnRpb246IDEgPD0gbGVuIDw9IDE1XG4gICAgICAgICAqL1xuICAgICAgICB2YXIgYmlfcmV2ZXJzZSA9IGZ1bmN0aW9uIGJpX3JldmVyc2UoY29kZSwgbGVuKSB7XG4gICAgICAgICAgICB2YXIgcmVzID0gMDtcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICByZXMgfD0gY29kZSAmIDE7XG4gICAgICAgICAgICAgICAgY29kZSA+Pj49IDE7XG4gICAgICAgICAgICAgICAgcmVzIDw8PSAxO1xuICAgICAgICAgICAgfSB3aGlsZSAoLS1sZW4gPiAwKTtcbiAgICAgICAgICAgIHJldHVybiByZXMgPj4+IDE7XG4gICAgICAgIH07XG4gICAgICAgIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgICAgKiBGbHVzaCB0aGUgYml0IGJ1ZmZlciwga2VlcGluZyBhdCBtb3N0IDcgYml0cyBpbiBpdC5cbiAgICAgICAgICovXG4gICAgICAgIHZhciBiaV9mbHVzaCA9IGZ1bmN0aW9uIGJpX2ZsdXNoKHMpIHtcbiAgICAgICAgICAgIGlmIChzLmJpX3ZhbGlkID09PSAxNikge1xuICAgICAgICAgICAgICAgIHB1dF9zaG9ydChzLCBzLmJpX2J1Zik7XG4gICAgICAgICAgICAgICAgcy5iaV9idWYgPSAwO1xuICAgICAgICAgICAgICAgIHMuYmlfdmFsaWQgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocy5iaV92YWxpZCA+PSA4KSB7XG4gICAgICAgICAgICAgICAgcy5wZW5kaW5nX2J1ZltzLnBlbmRpbmcrK10gPSBzLmJpX2J1ZiAmIDB4ZmY7XG4gICAgICAgICAgICAgICAgcy5iaV9idWYgPj49IDg7XG4gICAgICAgICAgICAgICAgcy5iaV92YWxpZCAtPSA4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgICAgICogQ29tcHV0ZSB0aGUgb3B0aW1hbCBiaXQgbGVuZ3RocyBmb3IgYSB0cmVlIGFuZCB1cGRhdGUgdGhlIHRvdGFsIGJpdCBsZW5ndGhcbiAgICAgICAgICogZm9yIHRoZSBjdXJyZW50IGJsb2NrLlxuICAgICAgICAgKiBJTiBhc3NlcnRpb246IHRoZSBmaWVsZHMgZnJlcSBhbmQgZGFkIGFyZSBzZXQsIGhlYXBbaGVhcF9tYXhdIGFuZFxuICAgICAgICAgKiAgICBhYm92ZSBhcmUgdGhlIHRyZWUgbm9kZXMgc29ydGVkIGJ5IGluY3JlYXNpbmcgZnJlcXVlbmN5LlxuICAgICAgICAgKiBPVVQgYXNzZXJ0aW9uczogdGhlIGZpZWxkIGxlbiBpcyBzZXQgdG8gdGhlIG9wdGltYWwgYml0IGxlbmd0aCwgdGhlXG4gICAgICAgICAqICAgICBhcnJheSBibF9jb3VudCBjb250YWlucyB0aGUgZnJlcXVlbmNpZXMgZm9yIGVhY2ggYml0IGxlbmd0aC5cbiAgICAgICAgICogICAgIFRoZSBsZW5ndGggb3B0X2xlbiBpcyB1cGRhdGVkOyBzdGF0aWNfbGVuIGlzIGFsc28gdXBkYXRlZCBpZiBzdHJlZSBpc1xuICAgICAgICAgKiAgICAgbm90IG51bGwuXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgZ2VuX2JpdGxlbiA9IGZ1bmN0aW9uIGdlbl9iaXRsZW4ocywgZGVzYyAvLyAgICBkZWZsYXRlX3N0YXRlICpzOyAvLyAgICB0cmVlX2Rlc2MgKmRlc2M7ICAgIC8qIHRoZSB0cmVlIGRlc2NyaXB0b3IgKi9cbiAgICAgICAgKSB7XG4gICAgICAgICAgICB2YXIgdHJlZSA9IGRlc2MuZHluX3RyZWU7XG4gICAgICAgICAgICB2YXIgbWF4X2NvZGUgPSBkZXNjLm1heF9jb2RlO1xuICAgICAgICAgICAgdmFyIHN0cmVlID0gZGVzYy5zdGF0X2Rlc2Muc3RhdGljX3RyZWU7XG4gICAgICAgICAgICB2YXIgaGFzX3N0cmVlID0gZGVzYy5zdGF0X2Rlc2MuaGFzX3N0cmVlO1xuICAgICAgICAgICAgdmFyIGV4dHJhID0gZGVzYy5zdGF0X2Rlc2MuZXh0cmFfYml0cztcbiAgICAgICAgICAgIHZhciBiYXNlID0gZGVzYy5zdGF0X2Rlc2MuZXh0cmFfYmFzZTtcbiAgICAgICAgICAgIHZhciBtYXhfbGVuZ3RoID0gZGVzYy5zdGF0X2Rlc2MubWF4X2xlbmd0aDtcbiAgICAgICAgICAgIHZhciBoO1xuICAgICAgICAgICAgLyogaGVhcCBpbmRleCAqL1xuICAgICAgICAgICAgdmFyIG47XG4gICAgICAgICAgICB2YXIgbTtcbiAgICAgICAgICAgIC8qIGl0ZXJhdGUgb3ZlciB0aGUgdHJlZSBlbGVtZW50cyAqL1xuICAgICAgICAgICAgdmFyIGJpdHM7XG4gICAgICAgICAgICAvKiBiaXQgbGVuZ3RoICovXG4gICAgICAgICAgICB2YXIgeGJpdHM7XG4gICAgICAgICAgICAvKiBleHRyYSBiaXRzICovXG4gICAgICAgICAgICB2YXIgZjtcbiAgICAgICAgICAgIC8qIGZyZXF1ZW5jeSAqL1xuICAgICAgICAgICAgdmFyIG92ZXJmbG93ID0gMDtcbiAgICAgICAgICAgIC8qIG51bWJlciBvZiBlbGVtZW50cyB3aXRoIGJpdCBsZW5ndGggdG9vIGxhcmdlICovXG4gICAgICAgICAgICBmb3IgKGJpdHMgPSAwOyBiaXRzIDw9IE1BWF9CSVRTOyBiaXRzKyspIHtcbiAgICAgICAgICAgICAgICBzLmJsX2NvdW50W2JpdHNdID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qIEluIGEgZmlyc3QgcGFzcywgY29tcHV0ZSB0aGUgb3B0aW1hbCBiaXQgbGVuZ3RocyAod2hpY2ggbWF5XG4gICAgICAgICAgICAgKiBvdmVyZmxvdyBpbiB0aGUgY2FzZSBvZiB0aGUgYml0IGxlbmd0aCB0cmVlKS5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdHJlZVtzLmhlYXBbcy5oZWFwX21heF0gKiAyICsgMV0gPVxuICAgICAgICAgICAgICAgIC8qIC5MZW4gKi9cbiAgICAgICAgICAgICAgICAwO1xuICAgICAgICAgICAgLyogcm9vdCBvZiB0aGUgaGVhcCAqL1xuICAgICAgICAgICAgZm9yIChoID0gcy5oZWFwX21heCArIDE7IGggPCBIRUFQX1NJWkU7IGgrKykge1xuICAgICAgICAgICAgICAgIG4gPSBzLmhlYXBbaF07XG4gICAgICAgICAgICAgICAgYml0cyA9XG4gICAgICAgICAgICAgICAgICAgIHRyZWVbdHJlZVtuICogMiArIDFdICpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIC5EYWQgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIDIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgMV0gK1xuICAgICAgICAgICAgICAgICAgICAgICAgLyogLkxlbiAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgMTtcbiAgICAgICAgICAgICAgICBpZiAoYml0cyA+IG1heF9sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgYml0cyA9IG1heF9sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIG92ZXJmbG93Kys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRyZWVbbiAqIDIgKyAxXSA9XG4gICAgICAgICAgICAgICAgICAgIC8qIC5MZW4gKi9cbiAgICAgICAgICAgICAgICAgICAgYml0cztcbiAgICAgICAgICAgICAgICAvKiBXZSBvdmVyd3JpdGUgdHJlZVtuXS5EYWQgd2hpY2ggaXMgbm8gbG9uZ2VyIG5lZWRlZCAqL1xuICAgICAgICAgICAgICAgIGlmIChuID4gbWF4X2NvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8qIG5vdCBhIGxlYWYgbm9kZSAqL1xuICAgICAgICAgICAgICAgIHMuYmxfY291bnRbYml0c10rKztcbiAgICAgICAgICAgICAgICB4Yml0cyA9IDA7XG4gICAgICAgICAgICAgICAgaWYgKG4gPj0gYmFzZSkge1xuICAgICAgICAgICAgICAgICAgICB4Yml0cyA9IGV4dHJhW24gLSBiYXNlXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZiA9IHRyZWVbbiAqIDJdO1xuICAgICAgICAgICAgICAgIC8qIC5GcmVxICovXG4gICAgICAgICAgICAgICAgcy5vcHRfbGVuICs9IGYgKiAoYml0cyArIHhiaXRzKTtcbiAgICAgICAgICAgICAgICBpZiAoaGFzX3N0cmVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHMuc3RhdGljX2xlbiArPVxuICAgICAgICAgICAgICAgICAgICAgICAgZiAqXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKHN0cmVlW24gKiAyICsgMV0gK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiAuTGVuICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhiaXRzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3ZlcmZsb3cgPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9IC8vIFRyYWNlKChzdGRlcnIsXCJcXG5iaXQgbGVuZ3RoIG92ZXJmbG93XFxuXCIpKTtcbiAgICAgICAgICAgIC8qIFRoaXMgaGFwcGVucyBmb3IgZXhhbXBsZSBvbiBvYmoyIGFuZCBwaWMgb2YgdGhlIENhbGdhcnkgY29ycHVzICovXG4gICAgICAgICAgICAvKiBGaW5kIHRoZSBmaXJzdCBiaXQgbGVuZ3RoIHdoaWNoIGNvdWxkIGluY3JlYXNlOiAqL1xuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgIGJpdHMgPSBtYXhfbGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICB3aGlsZSAocy5ibF9jb3VudFtiaXRzXSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBiaXRzLS07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHMuYmxfY291bnRbYml0c10tLTtcbiAgICAgICAgICAgICAgICAvKiBtb3ZlIG9uZSBsZWFmIGRvd24gdGhlIHRyZWUgKi9cbiAgICAgICAgICAgICAgICBzLmJsX2NvdW50W2JpdHMgKyAxXSArPSAyO1xuICAgICAgICAgICAgICAgIC8qIG1vdmUgb25lIG92ZXJmbG93IGl0ZW0gYXMgaXRzIGJyb3RoZXIgKi9cbiAgICAgICAgICAgICAgICBzLmJsX2NvdW50W21heF9sZW5ndGhdLS07XG4gICAgICAgICAgICAgICAgLyogVGhlIGJyb3RoZXIgb2YgdGhlIG92ZXJmbG93IGl0ZW0gYWxzbyBtb3ZlcyBvbmUgc3RlcCB1cCxcbiAgICAgICAgICAgICAgICAgKiBidXQgdGhpcyBkb2VzIG5vdCBhZmZlY3QgYmxfY291bnRbbWF4X2xlbmd0aF1cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBvdmVyZmxvdyAtPSAyO1xuICAgICAgICAgICAgfSB3aGlsZSAob3ZlcmZsb3cgPiAwKTtcbiAgICAgICAgICAgIC8qIE5vdyByZWNvbXB1dGUgYWxsIGJpdCBsZW5ndGhzLCBzY2FubmluZyBpbiBpbmNyZWFzaW5nIGZyZXF1ZW5jeS5cbiAgICAgICAgICAgICAqIGggaXMgc3RpbGwgZXF1YWwgdG8gSEVBUF9TSVpFLiAoSXQgaXMgc2ltcGxlciB0byByZWNvbnN0cnVjdCBhbGxcbiAgICAgICAgICAgICAqIGxlbmd0aHMgaW5zdGVhZCBvZiBmaXhpbmcgb25seSB0aGUgd3Jvbmcgb25lcy4gVGhpcyBpZGVhIGlzIHRha2VuXG4gICAgICAgICAgICAgKiBmcm9tICdhcicgd3JpdHRlbiBieSBIYXJ1aGlrbyBPa3VtdXJhLilcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgZm9yIChiaXRzID0gbWF4X2xlbmd0aDsgYml0cyAhPT0gMDsgYml0cy0tKSB7XG4gICAgICAgICAgICAgICAgbiA9IHMuYmxfY291bnRbYml0c107XG4gICAgICAgICAgICAgICAgd2hpbGUgKG4gIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgbSA9IHMuaGVhcFstLWhdO1xuICAgICAgICAgICAgICAgICAgICBpZiAobSA+IG1heF9jb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodHJlZVttICogMiArIDFdICE9PVxuICAgICAgICAgICAgICAgICAgICAgICAgLyogLkxlbiAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgYml0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVHJhY2UoKHN0ZGVycixcImNvZGUgJWQgYml0cyAlZC0+JWRcXG5cIiwgbSwgdHJlZVttXS5MZW4sIGJpdHMpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHMub3B0X2xlbiArPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChiaXRzIC0gdHJlZVttICogMiArIDFdKSAqXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIC5MZW4gKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJlZVttICogMl07XG4gICAgICAgICAgICAgICAgICAgICAgICAvKiAuRnJlcSAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJlZVttICogMiArIDFdID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiAuTGVuICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYml0cztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBuLS07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgICAgICogR2VuZXJhdGUgdGhlIGNvZGVzIGZvciBhIGdpdmVuIHRyZWUgYW5kIGJpdCBjb3VudHMgKHdoaWNoIG5lZWQgbm90IGJlXG4gICAgICAgICAqIG9wdGltYWwpLlxuICAgICAgICAgKiBJTiBhc3NlcnRpb246IHRoZSBhcnJheSBibF9jb3VudCBjb250YWlucyB0aGUgYml0IGxlbmd0aCBzdGF0aXN0aWNzIGZvclxuICAgICAgICAgKiB0aGUgZ2l2ZW4gdHJlZSBhbmQgdGhlIGZpZWxkIGxlbiBpcyBzZXQgZm9yIGFsbCB0cmVlIGVsZW1lbnRzLlxuICAgICAgICAgKiBPVVQgYXNzZXJ0aW9uOiB0aGUgZmllbGQgY29kZSBpcyBzZXQgZm9yIGFsbCB0cmVlIGVsZW1lbnRzIG9mIG5vblxuICAgICAgICAgKiAgICAgemVybyBjb2RlIGxlbmd0aC5cbiAgICAgICAgICovXG4gICAgICAgIHZhciBnZW5fY29kZXMgPSBmdW5jdGlvbiBnZW5fY29kZXModHJlZSwgbWF4X2NvZGUsIGJsX2NvdW50XG4gICAgICAgIC8vICAgIGN0X2RhdGEgKnRyZWU7ICAgICAgICAgICAgIC8qIHRoZSB0cmVlIHRvIGRlY29yYXRlICovXG4gICAgICAgIC8vICAgIGludCBtYXhfY29kZTsgICAgICAgICAgICAgIC8qIGxhcmdlc3QgY29kZSB3aXRoIG5vbiB6ZXJvIGZyZXF1ZW5jeSAqL1xuICAgICAgICAvLyAgICB1c2hmICpibF9jb3VudDsgICAgICAgICAgICAvKiBudW1iZXIgb2YgY29kZXMgYXQgZWFjaCBiaXQgbGVuZ3RoICovXG4gICAgICAgICkge1xuICAgICAgICAgICAgdmFyIG5leHRfY29kZSA9IG5ldyBBcnJheShNQVhfQklUUyArIDEpO1xuICAgICAgICAgICAgLyogbmV4dCBjb2RlIHZhbHVlIGZvciBlYWNoIGJpdCBsZW5ndGggKi9cbiAgICAgICAgICAgIHZhciBjb2RlID0gMDtcbiAgICAgICAgICAgIC8qIHJ1bm5pbmcgY29kZSB2YWx1ZSAqL1xuICAgICAgICAgICAgdmFyIGJpdHM7XG4gICAgICAgICAgICAvKiBiaXQgaW5kZXggKi9cbiAgICAgICAgICAgIHZhciBuO1xuICAgICAgICAgICAgLyogY29kZSBpbmRleCAqL1xuICAgICAgICAgICAgLyogVGhlIGRpc3RyaWJ1dGlvbiBjb3VudHMgYXJlIGZpcnN0IHVzZWQgdG8gZ2VuZXJhdGUgdGhlIGNvZGUgdmFsdWVzXG4gICAgICAgICAgICAgKiB3aXRob3V0IGJpdCByZXZlcnNhbC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgZm9yIChiaXRzID0gMTsgYml0cyA8PSBNQVhfQklUUzsgYml0cysrKSB7XG4gICAgICAgICAgICAgICAgbmV4dF9jb2RlW2JpdHNdID0gY29kZSA9IChjb2RlICsgYmxfY291bnRbYml0cyAtIDFdKSA8PCAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyogQ2hlY2sgdGhhdCB0aGUgYml0IGNvdW50cyBpbiBibF9jb3VudCBhcmUgY29uc2lzdGVudC4gVGhlIGxhc3QgY29kZVxuICAgICAgICAgICAgICogbXVzdCBiZSBhbGwgb25lcy5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLy8gQXNzZXJ0IChjb2RlICsgYmxfY291bnRbTUFYX0JJVFNdLTEgPT0gKDE8PE1BWF9CSVRTKS0xLFxuICAgICAgICAgICAgLy8gICAgICAgIFwiaW5jb25zaXN0ZW50IGJpdCBjb3VudHNcIik7XG4gICAgICAgICAgICAvLyBUcmFjZXYoKHN0ZGVycixcIlxcbmdlbl9jb2RlczogbWF4X2NvZGUgJWQgXCIsIG1heF9jb2RlKSk7XG4gICAgICAgICAgICBmb3IgKG4gPSAwOyBuIDw9IG1heF9jb2RlOyBuKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgbGVuID0gdHJlZVtuICogMiArIDFdO1xuICAgICAgICAgICAgICAgIC8qIC5MZW4gKi9cbiAgICAgICAgICAgICAgICBpZiAobGVuID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKiBOb3cgcmV2ZXJzZSB0aGUgYml0cyAqL1xuICAgICAgICAgICAgICAgIHRyZWVbbiAqIDJdID1cbiAgICAgICAgICAgICAgICAgICAgLyogLkNvZGUgKi9cbiAgICAgICAgICAgICAgICAgICAgYmlfcmV2ZXJzZShuZXh0X2NvZGVbbGVuXSsrLCBsZW4pOyAvLyBUcmFjZWN2KHRyZWUgIT0gc3RhdGljX2x0cmVlLCAoc3RkZXJyLFwiXFxubiAlM2QgJWMgbCAlMmQgYyAlNHggKCV4KSBcIixcbiAgICAgICAgICAgICAgICAvLyAgICAgbiwgKGlzZ3JhcGgobikgPyBuIDogJyAnKSwgbGVuLCB0cmVlW25dLkNvZGUsIG5leHRfY29kZVtsZW5dLTEpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICAgICAqIEluaXRpYWxpemUgdGhlIHZhcmlvdXMgJ2NvbnN0YW50JyB0YWJsZXMuXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgdHJfc3RhdGljX2luaXQgPSBmdW5jdGlvbiB0cl9zdGF0aWNfaW5pdCgpIHtcbiAgICAgICAgICAgIHZhciBuO1xuICAgICAgICAgICAgLyogaXRlcmF0ZXMgb3ZlciB0cmVlIGVsZW1lbnRzICovXG4gICAgICAgICAgICB2YXIgYml0cztcbiAgICAgICAgICAgIC8qIGJpdCBjb3VudGVyICovXG4gICAgICAgICAgICB2YXIgbGVuZ3RoO1xuICAgICAgICAgICAgLyogbGVuZ3RoIHZhbHVlICovXG4gICAgICAgICAgICB2YXIgY29kZTtcbiAgICAgICAgICAgIC8qIGNvZGUgdmFsdWUgKi9cbiAgICAgICAgICAgIHZhciBkaXN0O1xuICAgICAgICAgICAgLyogZGlzdGFuY2UgaW5kZXggKi9cbiAgICAgICAgICAgIHZhciBibF9jb3VudCA9IG5ldyBBcnJheShNQVhfQklUUyArIDEpO1xuICAgICAgICAgICAgLyogbnVtYmVyIG9mIGNvZGVzIGF0IGVhY2ggYml0IGxlbmd0aCBmb3IgYW4gb3B0aW1hbCB0cmVlICovXG4gICAgICAgICAgICAvLyBkbyBjaGVjayBpbiBfdHJfaW5pdCgpXG4gICAgICAgICAgICAvLyBpZiAoc3RhdGljX2luaXRfZG9uZSkgcmV0dXJuO1xuICAgICAgICAgICAgLyogRm9yIHNvbWUgZW1iZWRkZWQgdGFyZ2V0cywgZ2xvYmFsIHZhcmlhYmxlcyBhcmUgbm90IGluaXRpYWxpemVkOiAqL1xuICAgICAgICAgICAgLyogI2lmZGVmIE5PX0lOSVRfR0xPQkFMX1BPSU5URVJTXG4gICAgICAgICAgICBzdGF0aWNfbF9kZXNjLnN0YXRpY190cmVlID0gc3RhdGljX2x0cmVlO1xuICAgICAgICAgICAgc3RhdGljX2xfZGVzYy5leHRyYV9iaXRzID0gZXh0cmFfbGJpdHM7XG4gICAgICAgICAgICBzdGF0aWNfZF9kZXNjLnN0YXRpY190cmVlID0gc3RhdGljX2R0cmVlO1xuICAgICAgICAgICAgc3RhdGljX2RfZGVzYy5leHRyYV9iaXRzID0gZXh0cmFfZGJpdHM7XG4gICAgICAgICAgICBzdGF0aWNfYmxfZGVzYy5leHRyYV9iaXRzID0gZXh0cmFfYmxiaXRzO1xuICAgICAgICAgICNlbmRpZiAqL1xuICAgICAgICAgICAgLyogSW5pdGlhbGl6ZSB0aGUgbWFwcGluZyBsZW5ndGggKDAuLjI1NSkgLT4gbGVuZ3RoIGNvZGUgKDAuLjI4KSAqL1xuICAgICAgICAgICAgbGVuZ3RoID0gMDtcbiAgICAgICAgICAgIGZvciAoY29kZSA9IDA7IGNvZGUgPCBMRU5HVEhfQ09ERVMgLSAxOyBjb2RlKyspIHtcbiAgICAgICAgICAgICAgICBiYXNlX2xlbmd0aFtjb2RlXSA9IGxlbmd0aDtcbiAgICAgICAgICAgICAgICBmb3IgKG4gPSAwOyBuIDwgMSA8PCBleHRyYV9sYml0c1tjb2RlXTsgbisrKSB7XG4gICAgICAgICAgICAgICAgICAgIF9sZW5ndGhfY29kZVtsZW5ndGgrK10gPSBjb2RlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gLy8gQXNzZXJ0IChsZW5ndGggPT0gMjU2LCBcInRyX3N0YXRpY19pbml0OiBsZW5ndGggIT0gMjU2XCIpO1xuICAgICAgICAgICAgLyogTm90ZSB0aGF0IHRoZSBsZW5ndGggMjU1IChtYXRjaCBsZW5ndGggMjU4KSBjYW4gYmUgcmVwcmVzZW50ZWRcbiAgICAgICAgICAgICAqIGluIHR3byBkaWZmZXJlbnQgd2F5czogY29kZSAyODQgKyA1IGJpdHMgb3IgY29kZSAyODUsIHNvIHdlXG4gICAgICAgICAgICAgKiBvdmVyd3JpdGUgbGVuZ3RoX2NvZGVbMjU1XSB0byB1c2UgdGhlIGJlc3QgZW5jb2Rpbmc6XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIF9sZW5ndGhfY29kZVtsZW5ndGggLSAxXSA9IGNvZGU7XG4gICAgICAgICAgICAvKiBJbml0aWFsaXplIHRoZSBtYXBwaW5nIGRpc3QgKDAuLjMySykgLT4gZGlzdCBjb2RlICgwLi4yOSkgKi9cbiAgICAgICAgICAgIGRpc3QgPSAwO1xuICAgICAgICAgICAgZm9yIChjb2RlID0gMDsgY29kZSA8IDE2OyBjb2RlKyspIHtcbiAgICAgICAgICAgICAgICBiYXNlX2Rpc3RbY29kZV0gPSBkaXN0O1xuICAgICAgICAgICAgICAgIGZvciAobiA9IDA7IG4gPCAxIDw8IGV4dHJhX2RiaXRzW2NvZGVdOyBuKyspIHtcbiAgICAgICAgICAgICAgICAgICAgX2Rpc3RfY29kZVtkaXN0KytdID0gY29kZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IC8vIEFzc2VydCAoZGlzdCA9PSAyNTYsIFwidHJfc3RhdGljX2luaXQ6IGRpc3QgIT0gMjU2XCIpO1xuICAgICAgICAgICAgZGlzdCA+Pj0gNztcbiAgICAgICAgICAgIC8qIGZyb20gbm93IG9uLCBhbGwgZGlzdGFuY2VzIGFyZSBkaXZpZGVkIGJ5IDEyOCAqL1xuICAgICAgICAgICAgZm9yICg7IGNvZGUgPCBEX0NPREVTOyBjb2RlKyspIHtcbiAgICAgICAgICAgICAgICBiYXNlX2Rpc3RbY29kZV0gPSBkaXN0IDw8IDc7XG4gICAgICAgICAgICAgICAgZm9yIChuID0gMDsgbiA8IDEgPDwgKGV4dHJhX2RiaXRzW2NvZGVdIC0gNyk7IG4rKykge1xuICAgICAgICAgICAgICAgICAgICBfZGlzdF9jb2RlWzI1NiArIGRpc3QrK10gPSBjb2RlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gLy8gQXNzZXJ0IChkaXN0ID09IDI1NiwgXCJ0cl9zdGF0aWNfaW5pdDogMjU2K2Rpc3QgIT0gNTEyXCIpO1xuICAgICAgICAgICAgLyogQ29uc3RydWN0IHRoZSBjb2RlcyBvZiB0aGUgc3RhdGljIGxpdGVyYWwgdHJlZSAqL1xuICAgICAgICAgICAgZm9yIChiaXRzID0gMDsgYml0cyA8PSBNQVhfQklUUzsgYml0cysrKSB7XG4gICAgICAgICAgICAgICAgYmxfY291bnRbYml0c10gPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbiA9IDA7XG4gICAgICAgICAgICB3aGlsZSAobiA8PSAxNDMpIHtcbiAgICAgICAgICAgICAgICBzdGF0aWNfbHRyZWVbbiAqIDIgKyAxXSA9XG4gICAgICAgICAgICAgICAgICAgIC8qIC5MZW4gKi9cbiAgICAgICAgICAgICAgICAgICAgODtcbiAgICAgICAgICAgICAgICBuKys7XG4gICAgICAgICAgICAgICAgYmxfY291bnRbOF0rKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdoaWxlIChuIDw9IDI1NSkge1xuICAgICAgICAgICAgICAgIHN0YXRpY19sdHJlZVtuICogMiArIDFdID1cbiAgICAgICAgICAgICAgICAgICAgLyogLkxlbiAqL1xuICAgICAgICAgICAgICAgICAgICA5O1xuICAgICAgICAgICAgICAgIG4rKztcbiAgICAgICAgICAgICAgICBibF9jb3VudFs5XSsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2hpbGUgKG4gPD0gMjc5KSB7XG4gICAgICAgICAgICAgICAgc3RhdGljX2x0cmVlW24gKiAyICsgMV0gPVxuICAgICAgICAgICAgICAgICAgICAvKiAuTGVuICovXG4gICAgICAgICAgICAgICAgICAgIDc7XG4gICAgICAgICAgICAgICAgbisrO1xuICAgICAgICAgICAgICAgIGJsX2NvdW50WzddKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3aGlsZSAobiA8PSAyODcpIHtcbiAgICAgICAgICAgICAgICBzdGF0aWNfbHRyZWVbbiAqIDIgKyAxXSA9XG4gICAgICAgICAgICAgICAgICAgIC8qIC5MZW4gKi9cbiAgICAgICAgICAgICAgICAgICAgODtcbiAgICAgICAgICAgICAgICBuKys7XG4gICAgICAgICAgICAgICAgYmxfY291bnRbOF0rKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qIENvZGVzIDI4NiBhbmQgMjg3IGRvIG5vdCBleGlzdCwgYnV0IHdlIG11c3QgaW5jbHVkZSB0aGVtIGluIHRoZVxuICAgICAgICAgICAgICogdHJlZSBjb25zdHJ1Y3Rpb24gdG8gZ2V0IGEgY2Fub25pY2FsIEh1ZmZtYW4gdHJlZSAobG9uZ2VzdCBjb2RlXG4gICAgICAgICAgICAgKiBhbGwgb25lcylcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgZ2VuX2NvZGVzKHN0YXRpY19sdHJlZSwgTF9DT0RFUyArIDEsIGJsX2NvdW50KTtcbiAgICAgICAgICAgIC8qIFRoZSBzdGF0aWMgZGlzdGFuY2UgdHJlZSBpcyB0cml2aWFsOiAqL1xuICAgICAgICAgICAgZm9yIChuID0gMDsgbiA8IERfQ09ERVM7IG4rKykge1xuICAgICAgICAgICAgICAgIHN0YXRpY19kdHJlZVtuICogMiArIDFdID1cbiAgICAgICAgICAgICAgICAgICAgLyogLkxlbiAqL1xuICAgICAgICAgICAgICAgICAgICA1O1xuICAgICAgICAgICAgICAgIHN0YXRpY19kdHJlZVtuICogMl0gPVxuICAgICAgICAgICAgICAgICAgICAvKiAuQ29kZSAqL1xuICAgICAgICAgICAgICAgICAgICBiaV9yZXZlcnNlKG4sIDUpO1xuICAgICAgICAgICAgfSAvLyBOb3cgZGF0YSByZWFkeSBhbmQgd2UgY2FuIGluaXQgc3RhdGljIHRyZWVzXG4gICAgICAgICAgICBzdGF0aWNfbF9kZXNjID0gbmV3IFN0YXRpY1RyZWVEZXNjKHN0YXRpY19sdHJlZSwgZXh0cmFfbGJpdHMsIExJVEVSQUxTICsgMSwgTF9DT0RFUywgTUFYX0JJVFMpO1xuICAgICAgICAgICAgc3RhdGljX2RfZGVzYyA9IG5ldyBTdGF0aWNUcmVlRGVzYyhzdGF0aWNfZHRyZWUsIGV4dHJhX2RiaXRzLCAwLCBEX0NPREVTLCBNQVhfQklUUyk7XG4gICAgICAgICAgICBzdGF0aWNfYmxfZGVzYyA9IG5ldyBTdGF0aWNUcmVlRGVzYyhuZXcgQXJyYXkoMCksIGV4dHJhX2JsYml0cywgMCwgQkxfQ09ERVMsIE1BWF9CTF9CSVRTKTtcbiAgICAgICAgICAgIC8vIHN0YXRpY19pbml0X2RvbmUgPSB0cnVlO1xuICAgICAgICB9O1xuICAgICAgICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgICAgICogSW5pdGlhbGl6ZSBhIG5ldyBibG9jay5cbiAgICAgICAgICovXG4gICAgICAgIHZhciBpbml0X2Jsb2NrID0gZnVuY3Rpb24gaW5pdF9ibG9jayhzKSB7XG4gICAgICAgICAgICB2YXIgbjtcbiAgICAgICAgICAgIC8qIGl0ZXJhdGVzIG92ZXIgdHJlZSBlbGVtZW50cyAqL1xuICAgICAgICAgICAgLyogSW5pdGlhbGl6ZSB0aGUgdHJlZXMuICovXG4gICAgICAgICAgICBmb3IgKG4gPSAwOyBuIDwgTF9DT0RFUzsgbisrKSB7XG4gICAgICAgICAgICAgICAgcy5keW5fbHRyZWVbbiAqIDJdID1cbiAgICAgICAgICAgICAgICAgICAgLyogLkZyZXEgKi9cbiAgICAgICAgICAgICAgICAgICAgMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAobiA9IDA7IG4gPCBEX0NPREVTOyBuKyspIHtcbiAgICAgICAgICAgICAgICBzLmR5bl9kdHJlZVtuICogMl0gPVxuICAgICAgICAgICAgICAgICAgICAvKiAuRnJlcSAqL1xuICAgICAgICAgICAgICAgICAgICAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChuID0gMDsgbiA8IEJMX0NPREVTOyBuKyspIHtcbiAgICAgICAgICAgICAgICBzLmJsX3RyZWVbbiAqIDJdID1cbiAgICAgICAgICAgICAgICAgICAgLyogLkZyZXEgKi9cbiAgICAgICAgICAgICAgICAgICAgMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHMuZHluX2x0cmVlW0VORF9CTE9DSyAqIDJdID1cbiAgICAgICAgICAgICAgICAvKiAuRnJlcSAqL1xuICAgICAgICAgICAgICAgIDE7XG4gICAgICAgICAgICBzLm9wdF9sZW4gPSBzLnN0YXRpY19sZW4gPSAwO1xuICAgICAgICAgICAgcy5sYXN0X2xpdCA9IHMubWF0Y2hlcyA9IDA7XG4gICAgICAgIH07XG4gICAgICAgIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgICAgKiBGbHVzaCB0aGUgYml0IGJ1ZmZlciBhbmQgYWxpZ24gdGhlIG91dHB1dCBvbiBhIGJ5dGUgYm91bmRhcnlcbiAgICAgICAgICovXG4gICAgICAgIHZhciBiaV93aW5kdXAgPSBmdW5jdGlvbiBiaV93aW5kdXAocykge1xuICAgICAgICAgICAgaWYgKHMuYmlfdmFsaWQgPiA4KSB7XG4gICAgICAgICAgICAgICAgcHV0X3Nob3J0KHMsIHMuYmlfYnVmKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHMuYmlfdmFsaWQgPiAwKSB7XG4gICAgICAgICAgICAgICAgLy8gcHV0X2J5dGUocywgKEJ5dGUpcy0+YmlfYnVmKTtcbiAgICAgICAgICAgICAgICBzLnBlbmRpbmdfYnVmW3MucGVuZGluZysrXSA9IHMuYmlfYnVmO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcy5iaV9idWYgPSAwO1xuICAgICAgICAgICAgcy5iaV92YWxpZCA9IDA7XG4gICAgICAgIH07XG4gICAgICAgIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgICAgKiBDb3B5IGEgc3RvcmVkIGJsb2NrLCBzdG9yaW5nIGZpcnN0IHRoZSBsZW5ndGggYW5kIGl0c1xuICAgICAgICAgKiBvbmUncyBjb21wbGVtZW50IGlmIHJlcXVlc3RlZC5cbiAgICAgICAgICovXG4gICAgICAgIHZhciBjb3B5X2Jsb2NrID0gZnVuY3Rpb24gY29weV9ibG9jayhzLCBidWYsIGxlbiwgaGVhZGVyXG4gICAgICAgIC8vIERlZmxhdGVTdGF0ZSAqcztcbiAgICAgICAgLy8gY2hhcmYgICAgKmJ1ZjsgICAgLyogdGhlIGlucHV0IGRhdGEgKi9cbiAgICAgICAgLy8gdW5zaWduZWQgbGVuOyAgICAgLyogaXRzIGxlbmd0aCAqL1xuICAgICAgICAvLyBpbnQgICAgICBoZWFkZXI7ICAvKiB0cnVlIGlmIGJsb2NrIGhlYWRlciBtdXN0IGJlIHdyaXR0ZW4gKi9cbiAgICAgICAgKSB7XG4gICAgICAgICAgICBiaV93aW5kdXAocyk7XG4gICAgICAgICAgICAvKiBhbGlnbiBvbiBieXRlIGJvdW5kYXJ5ICovXG4gICAgICAgICAgICBpZiAoaGVhZGVyKSB7XG4gICAgICAgICAgICAgICAgcHV0X3Nob3J0KHMsIGxlbik7XG4gICAgICAgICAgICAgICAgcHV0X3Nob3J0KHMsIH5sZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gIHdoaWxlIChsZW4tLSkge1xuICAgICAgICAgICAgLy8gICAgcHV0X2J5dGUocywgKmJ1ZisrKTtcbiAgICAgICAgICAgIC8vICB9XG4gICAgICAgICAgICBzLnBlbmRpbmdfYnVmLnNldChzLndpbmRvdy5zdWJhcnJheShidWYsIGJ1ZiArIGxlbiksIHMucGVuZGluZyk7XG4gICAgICAgICAgICBzLnBlbmRpbmcgKz0gbGVuO1xuICAgICAgICB9O1xuICAgICAgICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgICAgICogQ29tcGFyZXMgdG8gc3VidHJlZXMsIHVzaW5nIHRoZSB0cmVlIGRlcHRoIGFzIHRpZSBicmVha2VyIHdoZW5cbiAgICAgICAgICogdGhlIHN1YnRyZWVzIGhhdmUgZXF1YWwgZnJlcXVlbmN5LiBUaGlzIG1pbmltaXplcyB0aGUgd29yc3QgY2FzZSBsZW5ndGguXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgc21hbGxlciA9IGZ1bmN0aW9uIHNtYWxsZXIodHJlZSwgbiwgbSwgZGVwdGgpIHtcbiAgICAgICAgICAgIHZhciBfbjIgPSBuICogMjtcbiAgICAgICAgICAgIHZhciBfbTIgPSBtICogMjtcbiAgICAgICAgICAgIHJldHVybiAodHJlZVtfbjJdIDxcbiAgICAgICAgICAgICAgICAvKiAuRnJlcSAqL1xuICAgICAgICAgICAgICAgIHRyZWVbX20yXSB8fFxuICAgICAgICAgICAgICAgIC8qIC5GcmVxICovXG4gICAgICAgICAgICAgICAgKHRyZWVbX24yXSA9PT1cbiAgICAgICAgICAgICAgICAgICAgLyogLkZyZXEgKi9cbiAgICAgICAgICAgICAgICAgICAgdHJlZVtfbTJdICYmXG4gICAgICAgICAgICAgICAgICAgIC8qIC5GcmVxICovXG4gICAgICAgICAgICAgICAgICAgIGRlcHRoW25dIDw9IGRlcHRoW21dKSk7XG4gICAgICAgIH07XG4gICAgICAgIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgICAgKiBSZXN0b3JlIHRoZSBoZWFwIHByb3BlcnR5IGJ5IG1vdmluZyBkb3duIHRoZSB0cmVlIHN0YXJ0aW5nIGF0IG5vZGUgayxcbiAgICAgICAgICogZXhjaGFuZ2luZyBhIG5vZGUgd2l0aCB0aGUgc21hbGxlc3Qgb2YgaXRzIHR3byBzb25zIGlmIG5lY2Vzc2FyeSwgc3RvcHBpbmdcbiAgICAgICAgICogd2hlbiB0aGUgaGVhcCBwcm9wZXJ0eSBpcyByZS1lc3RhYmxpc2hlZCAoZWFjaCBmYXRoZXIgc21hbGxlciB0aGFuIGl0c1xuICAgICAgICAgKiB0d28gc29ucykuXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgcHFkb3duaGVhcCA9IGZ1bmN0aW9uIHBxZG93bmhlYXAocywgdHJlZSwga1xuICAgICAgICAvLyAgICBkZWZsYXRlX3N0YXRlICpzO1xuICAgICAgICAvLyAgICBjdF9kYXRhICp0cmVlOyAgLyogdGhlIHRyZWUgdG8gcmVzdG9yZSAqL1xuICAgICAgICAvLyAgICBpbnQgazsgICAgICAgICAgICAgICAvKiBub2RlIHRvIG1vdmUgZG93biAqL1xuICAgICAgICApIHtcbiAgICAgICAgICAgIHZhciB2ID0gcy5oZWFwW2tdO1xuICAgICAgICAgICAgdmFyIGogPSBrIDw8IDE7XG4gICAgICAgICAgICAvKiBsZWZ0IHNvbiBvZiBrICovXG4gICAgICAgICAgICB3aGlsZSAoaiA8PSBzLmhlYXBfbGVuKSB7XG4gICAgICAgICAgICAgICAgLyogU2V0IGogdG8gdGhlIHNtYWxsZXN0IG9mIHRoZSB0d28gc29uczogKi9cbiAgICAgICAgICAgICAgICBpZiAoaiA8IHMuaGVhcF9sZW4gJiYgc21hbGxlcih0cmVlLCBzLmhlYXBbaiArIDFdLCBzLmhlYXBbal0sIHMuZGVwdGgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGorKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyogRXhpdCBpZiB2IGlzIHNtYWxsZXIgdGhhbiBib3RoIHNvbnMgKi9cbiAgICAgICAgICAgICAgICBpZiAoc21hbGxlcih0cmVlLCB2LCBzLmhlYXBbal0sIHMuZGVwdGgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKiBFeGNoYW5nZSB2IHdpdGggdGhlIHNtYWxsZXN0IHNvbiAqL1xuICAgICAgICAgICAgICAgIHMuaGVhcFtrXSA9IHMuaGVhcFtqXTtcbiAgICAgICAgICAgICAgICBrID0gajtcbiAgICAgICAgICAgICAgICAvKiBBbmQgY29udGludWUgZG93biB0aGUgdHJlZSwgc2V0dGluZyBqIHRvIHRoZSBsZWZ0IHNvbiBvZiBrICovXG4gICAgICAgICAgICAgICAgaiA8PD0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHMuaGVhcFtrXSA9IHY7XG4gICAgICAgIH07IC8vIGlubGluZWQgbWFudWFsbHlcbiAgICAgICAgLy8gY29uc3QgU01BTExFU1QgPSAxO1xuICAgICAgICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgICAgICogU2VuZCB0aGUgYmxvY2sgZGF0YSBjb21wcmVzc2VkIHVzaW5nIHRoZSBnaXZlbiBIdWZmbWFuIHRyZWVzXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgY29tcHJlc3NfYmxvY2sgPSBmdW5jdGlvbiBjb21wcmVzc19ibG9jayhzLCBsdHJlZSwgZHRyZWVcbiAgICAgICAgLy8gICAgZGVmbGF0ZV9zdGF0ZSAqcztcbiAgICAgICAgLy8gICAgY29uc3QgY3RfZGF0YSAqbHRyZWU7IC8qIGxpdGVyYWwgdHJlZSAqL1xuICAgICAgICAvLyAgICBjb25zdCBjdF9kYXRhICpkdHJlZTsgLyogZGlzdGFuY2UgdHJlZSAqL1xuICAgICAgICApIHtcbiAgICAgICAgICAgIHZhciBkaXN0O1xuICAgICAgICAgICAgLyogZGlzdGFuY2Ugb2YgbWF0Y2hlZCBzdHJpbmcgKi9cbiAgICAgICAgICAgIHZhciBsYztcbiAgICAgICAgICAgIC8qIG1hdGNoIGxlbmd0aCBvciB1bm1hdGNoZWQgY2hhciAoaWYgZGlzdCA9PSAwKSAqL1xuICAgICAgICAgICAgdmFyIGx4ID0gMDtcbiAgICAgICAgICAgIC8qIHJ1bm5pbmcgaW5kZXggaW4gbF9idWYgKi9cbiAgICAgICAgICAgIHZhciBjb2RlO1xuICAgICAgICAgICAgLyogdGhlIGNvZGUgdG8gc2VuZCAqL1xuICAgICAgICAgICAgdmFyIGV4dHJhO1xuICAgICAgICAgICAgLyogbnVtYmVyIG9mIGV4dHJhIGJpdHMgdG8gc2VuZCAqL1xuICAgICAgICAgICAgaWYgKHMubGFzdF9saXQgIT09IDApIHtcbiAgICAgICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3QgPSAocy5wZW5kaW5nX2J1ZltzLmRfYnVmICsgbHggKiAyXSA8PCA4KSB8IHMucGVuZGluZ19idWZbcy5kX2J1ZiArIGx4ICogMiArIDFdO1xuICAgICAgICAgICAgICAgICAgICBsYyA9IHMucGVuZGluZ19idWZbcy5sX2J1ZiArIGx4XTtcbiAgICAgICAgICAgICAgICAgICAgbHgrKztcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpc3QgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRfY29kZShzLCBsYywgbHRyZWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLyogc2VuZCBhIGxpdGVyYWwgYnl0ZSAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVHJhY2Vjdihpc2dyYXBoKGxjKSwgKHN0ZGVycixcIiAnJWMnIFwiLCBsYykpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLyogSGVyZSwgbGMgaXMgdGhlIG1hdGNoIGxlbmd0aCAtIE1JTl9NQVRDSCAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZSA9IF9sZW5ndGhfY29kZVtsY107XG4gICAgICAgICAgICAgICAgICAgICAgICBzZW5kX2NvZGUocywgY29kZSArIExJVEVSQUxTICsgMSwgbHRyZWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLyogc2VuZCB0aGUgbGVuZ3RoIGNvZGUgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhID0gZXh0cmFfbGJpdHNbY29kZV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXh0cmEgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYyAtPSBiYXNlX2xlbmd0aFtjb2RlXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5kX2JpdHMocywgbGMsIGV4dHJhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBzZW5kIHRoZSBleHRyYSBsZW5ndGggYml0cyAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzdC0tO1xuICAgICAgICAgICAgICAgICAgICAgICAgLyogZGlzdCBpcyBub3cgdGhlIG1hdGNoIGRpc3RhbmNlIC0gMSAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZSA9IGRfY29kZShkaXN0KTsgLy8gQXNzZXJ0IChjb2RlIDwgRF9DT0RFUywgXCJiYWQgZF9jb2RlXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VuZF9jb2RlKHMsIGNvZGUsIGR0cmVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIHNlbmQgdGhlIGRpc3RhbmNlIGNvZGUgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhID0gZXh0cmFfZGJpdHNbY29kZV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXh0cmEgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXN0IC09IGJhc2VfZGlzdFtjb2RlXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5kX2JpdHMocywgZGlzdCwgZXh0cmEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIHNlbmQgdGhlIGV4dHJhIGRpc3RhbmNlIGJpdHMgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvKiBsaXRlcmFsIG9yIG1hdGNoIHBhaXIgPyAqL1xuICAgICAgICAgICAgICAgICAgICAvKiBDaGVjayB0aGF0IHRoZSBvdmVybGF5IGJldHdlZW4gcGVuZGluZ19idWYgYW5kIGRfYnVmK2xfYnVmIGlzIG9rOiAqL1xuICAgICAgICAgICAgICAgICAgICAvLyBBc3NlcnQoKHVJbnQpKHMtPnBlbmRpbmcpIDwgcy0+bGl0X2J1ZnNpemUgKyAyKmx4LFxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICBcInBlbmRpbmdCdWYgb3ZlcmZsb3dcIik7XG4gICAgICAgICAgICAgICAgfSB3aGlsZSAobHggPCBzLmxhc3RfbGl0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNlbmRfY29kZShzLCBFTkRfQkxPQ0ssIGx0cmVlKTtcbiAgICAgICAgfTtcbiAgICAgICAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICAgICAqIENvbnN0cnVjdCBvbmUgSHVmZm1hbiB0cmVlIGFuZCBhc3NpZ25zIHRoZSBjb2RlIGJpdCBzdHJpbmdzIGFuZCBsZW5ndGhzLlxuICAgICAgICAgKiBVcGRhdGUgdGhlIHRvdGFsIGJpdCBsZW5ndGggZm9yIHRoZSBjdXJyZW50IGJsb2NrLlxuICAgICAgICAgKiBJTiBhc3NlcnRpb246IHRoZSBmaWVsZCBmcmVxIGlzIHNldCBmb3IgYWxsIHRyZWUgZWxlbWVudHMuXG4gICAgICAgICAqIE9VVCBhc3NlcnRpb25zOiB0aGUgZmllbGRzIGxlbiBhbmQgY29kZSBhcmUgc2V0IHRvIHRoZSBvcHRpbWFsIGJpdCBsZW5ndGhcbiAgICAgICAgICogICAgIGFuZCBjb3JyZXNwb25kaW5nIGNvZGUuIFRoZSBsZW5ndGggb3B0X2xlbiBpcyB1cGRhdGVkOyBzdGF0aWNfbGVuIGlzXG4gICAgICAgICAqICAgICBhbHNvIHVwZGF0ZWQgaWYgc3RyZWUgaXMgbm90IG51bGwuIFRoZSBmaWVsZCBtYXhfY29kZSBpcyBzZXQuXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgYnVpbGRfdHJlZSA9IGZ1bmN0aW9uIGJ1aWxkX3RyZWUocywgZGVzYyAvLyAgICBkZWZsYXRlX3N0YXRlICpzOyAvLyAgICB0cmVlX2Rlc2MgKmRlc2M7IC8qIHRoZSB0cmVlIGRlc2NyaXB0b3IgKi9cbiAgICAgICAgKSB7XG4gICAgICAgICAgICB2YXIgdHJlZSA9IGRlc2MuZHluX3RyZWU7XG4gICAgICAgICAgICB2YXIgc3RyZWUgPSBkZXNjLnN0YXRfZGVzYy5zdGF0aWNfdHJlZTtcbiAgICAgICAgICAgIHZhciBoYXNfc3RyZWUgPSBkZXNjLnN0YXRfZGVzYy5oYXNfc3RyZWU7XG4gICAgICAgICAgICB2YXIgZWxlbXMgPSBkZXNjLnN0YXRfZGVzYy5lbGVtcztcbiAgICAgICAgICAgIHZhciBuO1xuICAgICAgICAgICAgdmFyIG07XG4gICAgICAgICAgICAvKiBpdGVyYXRlIG92ZXIgaGVhcCBlbGVtZW50cyAqL1xuICAgICAgICAgICAgdmFyIG1heF9jb2RlID0gLTE7XG4gICAgICAgICAgICAvKiBsYXJnZXN0IGNvZGUgd2l0aCBub24gemVybyBmcmVxdWVuY3kgKi9cbiAgICAgICAgICAgIHZhciBub2RlO1xuICAgICAgICAgICAgLyogbmV3IG5vZGUgYmVpbmcgY3JlYXRlZCAqL1xuICAgICAgICAgICAgLyogQ29uc3RydWN0IHRoZSBpbml0aWFsIGhlYXAsIHdpdGggbGVhc3QgZnJlcXVlbnQgZWxlbWVudCBpblxuICAgICAgICAgICAgICogaGVhcFtTTUFMTEVTVF0uIFRoZSBzb25zIG9mIGhlYXBbbl0gYXJlIGhlYXBbMipuXSBhbmQgaGVhcFsyKm4rMV0uXG4gICAgICAgICAgICAgKiBoZWFwWzBdIGlzIG5vdCB1c2VkLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBzLmhlYXBfbGVuID0gMDtcbiAgICAgICAgICAgIHMuaGVhcF9tYXggPSBIRUFQX1NJWkU7XG4gICAgICAgICAgICBmb3IgKG4gPSAwOyBuIDwgZWxlbXM7IG4rKykge1xuICAgICAgICAgICAgICAgIGlmICh0cmVlW24gKiAyXSAhPT1cbiAgICAgICAgICAgICAgICAgICAgLyogLkZyZXEgKi9cbiAgICAgICAgICAgICAgICAgICAgMCkge1xuICAgICAgICAgICAgICAgICAgICBzLmhlYXBbKytzLmhlYXBfbGVuXSA9IG1heF9jb2RlID0gbjtcbiAgICAgICAgICAgICAgICAgICAgcy5kZXB0aFtuXSA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0cmVlW24gKiAyICsgMV0gPVxuICAgICAgICAgICAgICAgICAgICAgICAgLyogLkxlbiAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKiBUaGUgcGt6aXAgZm9ybWF0IHJlcXVpcmVzIHRoYXQgYXQgbGVhc3Qgb25lIGRpc3RhbmNlIGNvZGUgZXhpc3RzLFxuICAgICAgICAgICAgICogYW5kIHRoYXQgYXQgbGVhc3Qgb25lIGJpdCBzaG91bGQgYmUgc2VudCBldmVuIGlmIHRoZXJlIGlzIG9ubHkgb25lXG4gICAgICAgICAgICAgKiBwb3NzaWJsZSBjb2RlLiBTbyB0byBhdm9pZCBzcGVjaWFsIGNoZWNrcyBsYXRlciBvbiB3ZSBmb3JjZSBhdCBsZWFzdFxuICAgICAgICAgICAgICogdHdvIGNvZGVzIG9mIG5vbiB6ZXJvIGZyZXF1ZW5jeS5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgd2hpbGUgKHMuaGVhcF9sZW4gPCAyKSB7XG4gICAgICAgICAgICAgICAgbm9kZSA9IHMuaGVhcFsrK3MuaGVhcF9sZW5dID0gbWF4X2NvZGUgPCAyID8gKyttYXhfY29kZSA6IDA7XG4gICAgICAgICAgICAgICAgdHJlZVtub2RlICogMl0gPVxuICAgICAgICAgICAgICAgICAgICAvKiAuRnJlcSAqL1xuICAgICAgICAgICAgICAgICAgICAxO1xuICAgICAgICAgICAgICAgIHMuZGVwdGhbbm9kZV0gPSAwO1xuICAgICAgICAgICAgICAgIHMub3B0X2xlbi0tO1xuICAgICAgICAgICAgICAgIGlmIChoYXNfc3RyZWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcy5zdGF0aWNfbGVuIC09IHN0cmVlW25vZGUgKiAyICsgMV07XG4gICAgICAgICAgICAgICAgICAgIC8qIC5MZW4gKi9cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyogbm9kZSBpcyAwIG9yIDEgc28gaXQgZG9lcyBub3QgaGF2ZSBleHRyYSBiaXRzICovXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZXNjLm1heF9jb2RlID0gbWF4X2NvZGU7XG4gICAgICAgICAgICAvKiBUaGUgZWxlbWVudHMgaGVhcFtoZWFwX2xlbi8yKzEgLi4gaGVhcF9sZW5dIGFyZSBsZWF2ZXMgb2YgdGhlIHRyZWUsXG4gICAgICAgICAgICAgKiBlc3RhYmxpc2ggc3ViLWhlYXBzIG9mIGluY3JlYXNpbmcgbGVuZ3RoczpcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgZm9yIChuID0gcy5oZWFwX2xlbiA+PiAxOyBcbiAgICAgICAgICAgIC8qIGludCAvMiAqL1xuICAgICAgICAgICAgbiA+PSAxOyBuLS0pIHtcbiAgICAgICAgICAgICAgICBwcWRvd25oZWFwKHMsIHRyZWUsIG4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyogQ29uc3RydWN0IHRoZSBIdWZmbWFuIHRyZWUgYnkgcmVwZWF0ZWRseSBjb21iaW5pbmcgdGhlIGxlYXN0IHR3b1xuICAgICAgICAgICAgICogZnJlcXVlbnQgbm9kZXMuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIG5vZGUgPSBlbGVtcztcbiAgICAgICAgICAgIC8qIG5leHQgaW50ZXJuYWwgbm9kZSBvZiB0aGUgdHJlZSAqL1xuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgIC8vIHBxcmVtb3ZlKHMsIHRyZWUsIG4pOyAgLyogbiA9IG5vZGUgb2YgbGVhc3QgZnJlcXVlbmN5ICovXG4gICAgICAgICAgICAgICAgLyoqICogcHFyZW1vdmUgKiogKi9cbiAgICAgICAgICAgICAgICBuID0gcy5oZWFwWzFdO1xuICAgICAgICAgICAgICAgIC8qIFNNQUxMRVNUICovXG4gICAgICAgICAgICAgICAgcy5oZWFwWzFdID0gcy5oZWFwW3MuaGVhcF9sZW4tLV07XG4gICAgICAgICAgICAgICAgLyogU01BTExFU1QgKi9cbiAgICAgICAgICAgICAgICBwcWRvd25oZWFwKHMsIHRyZWUsIDFcbiAgICAgICAgICAgICAgICAvKiBTTUFMTEVTVCAqL1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgLyoqKi9cbiAgICAgICAgICAgICAgICBtID0gcy5oZWFwWzFdO1xuICAgICAgICAgICAgICAgIC8qIFNNQUxMRVNUICovXG4gICAgICAgICAgICAgICAgLyogbSA9IG5vZGUgb2YgbmV4dCBsZWFzdCBmcmVxdWVuY3kgKi9cbiAgICAgICAgICAgICAgICBzLmhlYXBbLS1zLmhlYXBfbWF4XSA9IG47XG4gICAgICAgICAgICAgICAgLyoga2VlcCB0aGUgbm9kZXMgc29ydGVkIGJ5IGZyZXF1ZW5jeSAqL1xuICAgICAgICAgICAgICAgIHMuaGVhcFstLXMuaGVhcF9tYXhdID0gbTtcbiAgICAgICAgICAgICAgICAvKiBDcmVhdGUgYSBuZXcgbm9kZSBmYXRoZXIgb2YgbiBhbmQgbSAqL1xuICAgICAgICAgICAgICAgIHRyZWVbbm9kZSAqIDJdID1cbiAgICAgICAgICAgICAgICAgICAgLyogLkZyZXEgKi9cbiAgICAgICAgICAgICAgICAgICAgdHJlZVtuICogMl0gK1xuICAgICAgICAgICAgICAgICAgICAgICAgLyogLkZyZXEgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIHRyZWVbbSAqIDJdO1xuICAgICAgICAgICAgICAgIC8qIC5GcmVxICovXG4gICAgICAgICAgICAgICAgcy5kZXB0aFtub2RlXSA9IChzLmRlcHRoW25dID49IHMuZGVwdGhbbV0gPyBzLmRlcHRoW25dIDogcy5kZXB0aFttXSkgKyAxO1xuICAgICAgICAgICAgICAgIHRyZWVbbiAqIDIgKyAxXSA9XG4gICAgICAgICAgICAgICAgICAgIC8qIC5EYWQgKi9cbiAgICAgICAgICAgICAgICAgICAgdHJlZVttICogMiArIDFdID1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIC5EYWQgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGU7XG4gICAgICAgICAgICAgICAgLyogYW5kIGluc2VydCB0aGUgbmV3IG5vZGUgaW4gdGhlIGhlYXAgKi9cbiAgICAgICAgICAgICAgICBzLmhlYXBbMV0gPSBub2RlKys7XG4gICAgICAgICAgICAgICAgLyogU01BTExFU1QgKi9cbiAgICAgICAgICAgICAgICBwcWRvd25oZWFwKHMsIHRyZWUsIDFcbiAgICAgICAgICAgICAgICAvKiBTTUFMTEVTVCAqL1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IHdoaWxlIChzLmhlYXBfbGVuID49IDIpO1xuICAgICAgICAgICAgcy5oZWFwWy0tcy5oZWFwX21heF0gPSBzLmhlYXBbMV07XG4gICAgICAgICAgICAvKiBTTUFMTEVTVCAqL1xuICAgICAgICAgICAgLyogQXQgdGhpcyBwb2ludCwgdGhlIGZpZWxkcyBmcmVxIGFuZCBkYWQgYXJlIHNldC4gV2UgY2FuIG5vd1xuICAgICAgICAgICAgICogZ2VuZXJhdGUgdGhlIGJpdCBsZW5ndGhzLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBnZW5fYml0bGVuKHMsIGRlc2MpO1xuICAgICAgICAgICAgLyogVGhlIGZpZWxkIGxlbiBpcyBub3cgc2V0LCB3ZSBjYW4gZ2VuZXJhdGUgdGhlIGJpdCBjb2RlcyAqL1xuICAgICAgICAgICAgZ2VuX2NvZGVzKHRyZWUsIG1heF9jb2RlLCBzLmJsX2NvdW50KTtcbiAgICAgICAgfTtcbiAgICAgICAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICAgICAqIFNjYW4gYSBsaXRlcmFsIG9yIGRpc3RhbmNlIHRyZWUgdG8gZGV0ZXJtaW5lIHRoZSBmcmVxdWVuY2llcyBvZiB0aGUgY29kZXNcbiAgICAgICAgICogaW4gdGhlIGJpdCBsZW5ndGggdHJlZS5cbiAgICAgICAgICovXG4gICAgICAgIHZhciBzY2FuX3RyZWUgPSBmdW5jdGlvbiBzY2FuX3RyZWUocywgdHJlZSwgbWF4X2NvZGVcbiAgICAgICAgLy8gICAgZGVmbGF0ZV9zdGF0ZSAqcztcbiAgICAgICAgLy8gICAgY3RfZGF0YSAqdHJlZTsgICAvKiB0aGUgdHJlZSB0byBiZSBzY2FubmVkICovXG4gICAgICAgIC8vICAgIGludCBtYXhfY29kZTsgICAgLyogYW5kIGl0cyBsYXJnZXN0IGNvZGUgb2Ygbm9uIHplcm8gZnJlcXVlbmN5ICovXG4gICAgICAgICkge1xuICAgICAgICAgICAgdmFyIG47XG4gICAgICAgICAgICAvKiBpdGVyYXRlcyBvdmVyIGFsbCB0cmVlIGVsZW1lbnRzICovXG4gICAgICAgICAgICB2YXIgcHJldmxlbiA9IC0xO1xuICAgICAgICAgICAgLyogbGFzdCBlbWl0dGVkIGxlbmd0aCAqL1xuICAgICAgICAgICAgdmFyIGN1cmxlbjtcbiAgICAgICAgICAgIC8qIGxlbmd0aCBvZiBjdXJyZW50IGNvZGUgKi9cbiAgICAgICAgICAgIHZhciBuZXh0bGVuID0gdHJlZVswICogMiArIDFdO1xuICAgICAgICAgICAgLyogLkxlbiAqL1xuICAgICAgICAgICAgLyogbGVuZ3RoIG9mIG5leHQgY29kZSAqL1xuICAgICAgICAgICAgdmFyIGNvdW50ID0gMDtcbiAgICAgICAgICAgIC8qIHJlcGVhdCBjb3VudCBvZiB0aGUgY3VycmVudCBjb2RlICovXG4gICAgICAgICAgICB2YXIgbWF4X2NvdW50ID0gNztcbiAgICAgICAgICAgIC8qIG1heCByZXBlYXQgY291bnQgKi9cbiAgICAgICAgICAgIHZhciBtaW5fY291bnQgPSA0O1xuICAgICAgICAgICAgLyogbWluIHJlcGVhdCBjb3VudCAqL1xuICAgICAgICAgICAgaWYgKG5leHRsZW4gPT09IDApIHtcbiAgICAgICAgICAgICAgICBtYXhfY291bnQgPSAxMzg7XG4gICAgICAgICAgICAgICAgbWluX2NvdW50ID0gMztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyZWVbKG1heF9jb2RlICsgMSkgKiAyICsgMV0gPVxuICAgICAgICAgICAgICAgIC8qIC5MZW4gKi9cbiAgICAgICAgICAgICAgICAweGZmZmY7XG4gICAgICAgICAgICAvKiBndWFyZCAqL1xuICAgICAgICAgICAgZm9yIChuID0gMDsgbiA8PSBtYXhfY29kZTsgbisrKSB7XG4gICAgICAgICAgICAgICAgY3VybGVuID0gbmV4dGxlbjtcbiAgICAgICAgICAgICAgICBuZXh0bGVuID0gdHJlZVsobiArIDEpICogMiArIDFdO1xuICAgICAgICAgICAgICAgIC8qIC5MZW4gKi9cbiAgICAgICAgICAgICAgICBpZiAoKytjb3VudCA8IG1heF9jb3VudCAmJiBjdXJsZW4gPT09IG5leHRsZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNvdW50IDwgbWluX2NvdW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHMuYmxfdHJlZVtjdXJsZW4gKiAyXSArPVxuICAgICAgICAgICAgICAgICAgICAgICAgLyogLkZyZXEgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjdXJsZW4gIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cmxlbiAhPT0gcHJldmxlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcy5ibF90cmVlW2N1cmxlbiAqIDJdIC8qIC5GcmVxICovKys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcy5ibF90cmVlW1JFUF8zXzYgKiAyXSAvKiAuRnJlcSAqLysrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjb3VudCA8PSAxMCkge1xuICAgICAgICAgICAgICAgICAgICBzLmJsX3RyZWVbUkVQWl8zXzEwICogMl0gLyogLkZyZXEgKi8rKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHMuYmxfdHJlZVtSRVBaXzExXzEzOCAqIDJdIC8qIC5GcmVxICovKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvdW50ID0gMDtcbiAgICAgICAgICAgICAgICBwcmV2bGVuID0gY3VybGVuO1xuICAgICAgICAgICAgICAgIGlmIChuZXh0bGVuID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG1heF9jb3VudCA9IDEzODtcbiAgICAgICAgICAgICAgICAgICAgbWluX2NvdW50ID0gMztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY3VybGVuID09PSBuZXh0bGVuKSB7XG4gICAgICAgICAgICAgICAgICAgIG1heF9jb3VudCA9IDY7XG4gICAgICAgICAgICAgICAgICAgIG1pbl9jb3VudCA9IDM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBtYXhfY291bnQgPSA3O1xuICAgICAgICAgICAgICAgICAgICBtaW5fY291bnQgPSA0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICAgICAqIFNlbmQgYSBsaXRlcmFsIG9yIGRpc3RhbmNlIHRyZWUgaW4gY29tcHJlc3NlZCBmb3JtLCB1c2luZyB0aGUgY29kZXMgaW5cbiAgICAgICAgICogYmxfdHJlZS5cbiAgICAgICAgICovXG4gICAgICAgIHZhciBzZW5kX3RyZWUgPSBmdW5jdGlvbiBzZW5kX3RyZWUocywgdHJlZSwgbWF4X2NvZGVcbiAgICAgICAgLy8gICAgZGVmbGF0ZV9zdGF0ZSAqcztcbiAgICAgICAgLy8gICAgY3RfZGF0YSAqdHJlZTsgLyogdGhlIHRyZWUgdG8gYmUgc2Nhbm5lZCAqL1xuICAgICAgICAvLyAgICBpbnQgbWF4X2NvZGU7ICAgICAgIC8qIGFuZCBpdHMgbGFyZ2VzdCBjb2RlIG9mIG5vbiB6ZXJvIGZyZXF1ZW5jeSAqL1xuICAgICAgICApIHtcbiAgICAgICAgICAgIHZhciBuO1xuICAgICAgICAgICAgLyogaXRlcmF0ZXMgb3ZlciBhbGwgdHJlZSBlbGVtZW50cyAqL1xuICAgICAgICAgICAgdmFyIHByZXZsZW4gPSAtMTtcbiAgICAgICAgICAgIC8qIGxhc3QgZW1pdHRlZCBsZW5ndGggKi9cbiAgICAgICAgICAgIHZhciBjdXJsZW47XG4gICAgICAgICAgICAvKiBsZW5ndGggb2YgY3VycmVudCBjb2RlICovXG4gICAgICAgICAgICB2YXIgbmV4dGxlbiA9IHRyZWVbMCAqIDIgKyAxXTtcbiAgICAgICAgICAgIC8qIC5MZW4gKi9cbiAgICAgICAgICAgIC8qIGxlbmd0aCBvZiBuZXh0IGNvZGUgKi9cbiAgICAgICAgICAgIHZhciBjb3VudCA9IDA7XG4gICAgICAgICAgICAvKiByZXBlYXQgY291bnQgb2YgdGhlIGN1cnJlbnQgY29kZSAqL1xuICAgICAgICAgICAgdmFyIG1heF9jb3VudCA9IDc7XG4gICAgICAgICAgICAvKiBtYXggcmVwZWF0IGNvdW50ICovXG4gICAgICAgICAgICB2YXIgbWluX2NvdW50ID0gNDtcbiAgICAgICAgICAgIC8qIG1pbiByZXBlYXQgY291bnQgKi9cbiAgICAgICAgICAgIC8qIHRyZWVbbWF4X2NvZGUrMV0uTGVuID0gLTE7ICovXG4gICAgICAgICAgICAvKiBndWFyZCBhbHJlYWR5IHNldCAqL1xuICAgICAgICAgICAgaWYgKG5leHRsZW4gPT09IDApIHtcbiAgICAgICAgICAgICAgICBtYXhfY291bnQgPSAxMzg7XG4gICAgICAgICAgICAgICAgbWluX2NvdW50ID0gMztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAobiA9IDA7IG4gPD0gbWF4X2NvZGU7IG4rKykge1xuICAgICAgICAgICAgICAgIGN1cmxlbiA9IG5leHRsZW47XG4gICAgICAgICAgICAgICAgbmV4dGxlbiA9IHRyZWVbKG4gKyAxKSAqIDIgKyAxXTtcbiAgICAgICAgICAgICAgICAvKiAuTGVuICovXG4gICAgICAgICAgICAgICAgaWYgKCsrY291bnQgPCBtYXhfY291bnQgJiYgY3VybGVuID09PSBuZXh0bGVuKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjb3VudCA8IG1pbl9jb3VudCkge1xuICAgICAgICAgICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZW5kX2NvZGUocywgY3VybGVuLCBzLmJsX3RyZWUpO1xuICAgICAgICAgICAgICAgICAgICB9IHdoaWxlICgtLWNvdW50ICE9PSAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY3VybGVuICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJsZW4gIT09IHByZXZsZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRfY29kZShzLCBjdXJsZW4sIHMuYmxfdHJlZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb3VudC0tO1xuICAgICAgICAgICAgICAgICAgICB9IC8vIEFzc2VydChjb3VudCA+PSAzICYmIGNvdW50IDw9IDYsIFwiIDNfNj9cIik7XG4gICAgICAgICAgICAgICAgICAgIHNlbmRfY29kZShzLCBSRVBfM182LCBzLmJsX3RyZWUpO1xuICAgICAgICAgICAgICAgICAgICBzZW5kX2JpdHMocywgY291bnQgLSAzLCAyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY291bnQgPD0gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgc2VuZF9jb2RlKHMsIFJFUFpfM18xMCwgcy5ibF90cmVlKTtcbiAgICAgICAgICAgICAgICAgICAgc2VuZF9iaXRzKHMsIGNvdW50IC0gMywgMyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzZW5kX2NvZGUocywgUkVQWl8xMV8xMzgsIHMuYmxfdHJlZSk7XG4gICAgICAgICAgICAgICAgICAgIHNlbmRfYml0cyhzLCBjb3VudCAtIDExLCA3KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY291bnQgPSAwO1xuICAgICAgICAgICAgICAgIHByZXZsZW4gPSBjdXJsZW47XG4gICAgICAgICAgICAgICAgaWYgKG5leHRsZW4gPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgbWF4X2NvdW50ID0gMTM4O1xuICAgICAgICAgICAgICAgICAgICBtaW5fY291bnQgPSAzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjdXJsZW4gPT09IG5leHRsZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgbWF4X2NvdW50ID0gNjtcbiAgICAgICAgICAgICAgICAgICAgbWluX2NvdW50ID0gMztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG1heF9jb3VudCA9IDc7XG4gICAgICAgICAgICAgICAgICAgIG1pbl9jb3VudCA9IDQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgICAgICogQ29uc3RydWN0IHRoZSBIdWZmbWFuIHRyZWUgZm9yIHRoZSBiaXQgbGVuZ3RocyBhbmQgcmV0dXJuIHRoZSBpbmRleCBpblxuICAgICAgICAgKiBibF9vcmRlciBvZiB0aGUgbGFzdCBiaXQgbGVuZ3RoIGNvZGUgdG8gc2VuZC5cbiAgICAgICAgICovXG4gICAgICAgIHZhciBidWlsZF9ibF90cmVlID0gZnVuY3Rpb24gYnVpbGRfYmxfdHJlZShzKSB7XG4gICAgICAgICAgICB2YXIgbWF4X2JsaW5kZXg7XG4gICAgICAgICAgICAvKiBpbmRleCBvZiBsYXN0IGJpdCBsZW5ndGggY29kZSBvZiBub24gemVybyBmcmVxICovXG4gICAgICAgICAgICAvKiBEZXRlcm1pbmUgdGhlIGJpdCBsZW5ndGggZnJlcXVlbmNpZXMgZm9yIGxpdGVyYWwgYW5kIGRpc3RhbmNlIHRyZWVzICovXG4gICAgICAgICAgICBzY2FuX3RyZWUocywgcy5keW5fbHRyZWUsIHMubF9kZXNjLm1heF9jb2RlKTtcbiAgICAgICAgICAgIHNjYW5fdHJlZShzLCBzLmR5bl9kdHJlZSwgcy5kX2Rlc2MubWF4X2NvZGUpO1xuICAgICAgICAgICAgLyogQnVpbGQgdGhlIGJpdCBsZW5ndGggdHJlZTogKi9cbiAgICAgICAgICAgIGJ1aWxkX3RyZWUocywgcy5ibF9kZXNjKTtcbiAgICAgICAgICAgIC8qIG9wdF9sZW4gbm93IGluY2x1ZGVzIHRoZSBsZW5ndGggb2YgdGhlIHRyZWUgcmVwcmVzZW50YXRpb25zLCBleGNlcHRcbiAgICAgICAgICAgICAqIHRoZSBsZW5ndGhzIG9mIHRoZSBiaXQgbGVuZ3RocyBjb2RlcyBhbmQgdGhlIDUrNSs0IGJpdHMgZm9yIHRoZSBjb3VudHMuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC8qIERldGVybWluZSB0aGUgbnVtYmVyIG9mIGJpdCBsZW5ndGggY29kZXMgdG8gc2VuZC4gVGhlIHBremlwIGZvcm1hdFxuICAgICAgICAgICAgICogcmVxdWlyZXMgdGhhdCBhdCBsZWFzdCA0IGJpdCBsZW5ndGggY29kZXMgYmUgc2VudC4gKGFwcG5vdGUudHh0IHNheXNcbiAgICAgICAgICAgICAqIDMgYnV0IHRoZSBhY3R1YWwgdmFsdWUgdXNlZCBpcyA0LilcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgZm9yIChtYXhfYmxpbmRleCA9IEJMX0NPREVTIC0gMTsgbWF4X2JsaW5kZXggPj0gMzsgbWF4X2JsaW5kZXgtLSkge1xuICAgICAgICAgICAgICAgIGlmIChzLmJsX3RyZWVbYmxfb3JkZXJbbWF4X2JsaW5kZXhdICogMiArIDFdICE9PVxuICAgICAgICAgICAgICAgICAgICAvKiAuTGVuICovXG4gICAgICAgICAgICAgICAgICAgIDApIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyogVXBkYXRlIG9wdF9sZW4gdG8gaW5jbHVkZSB0aGUgYml0IGxlbmd0aCB0cmVlIGFuZCBjb3VudHMgKi9cbiAgICAgICAgICAgIHMub3B0X2xlbiArPSAzICogKG1heF9ibGluZGV4ICsgMSkgKyA1ICsgNSArIDQ7IC8vIFRyYWNldigoc3RkZXJyLCBcIlxcbmR5biB0cmVlczogZHluICVsZCwgc3RhdCAlbGRcIixcbiAgICAgICAgICAgIC8vICAgICAgICBzLT5vcHRfbGVuLCBzLT5zdGF0aWNfbGVuKSk7XG4gICAgICAgICAgICByZXR1cm4gbWF4X2JsaW5kZXg7XG4gICAgICAgIH07XG4gICAgICAgIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgICAgKiBTZW5kIHRoZSBoZWFkZXIgZm9yIGEgYmxvY2sgdXNpbmcgZHluYW1pYyBIdWZmbWFuIHRyZWVzOiB0aGUgY291bnRzLCB0aGVcbiAgICAgICAgICogbGVuZ3RocyBvZiB0aGUgYml0IGxlbmd0aCBjb2RlcywgdGhlIGxpdGVyYWwgdHJlZSBhbmQgdGhlIGRpc3RhbmNlIHRyZWUuXG4gICAgICAgICAqIElOIGFzc2VydGlvbjogbGNvZGVzID49IDI1NywgZGNvZGVzID49IDEsIGJsY29kZXMgPj0gNC5cbiAgICAgICAgICovXG4gICAgICAgIHZhciBzZW5kX2FsbF90cmVlcyA9IGZ1bmN0aW9uIHNlbmRfYWxsX3RyZWVzKHMsIGxjb2RlcywgZGNvZGVzLCBibGNvZGVzIC8vICAgIGRlZmxhdGVfc3RhdGUgKnM7IC8vICAgIGludCBsY29kZXMsIGRjb2RlcywgYmxjb2RlczsgLyogbnVtYmVyIG9mIGNvZGVzIGZvciBlYWNoIHRyZWUgKi9cbiAgICAgICAgKSB7XG4gICAgICAgICAgICB2YXIgcmFuaztcbiAgICAgICAgICAgIC8qIGluZGV4IGluIGJsX29yZGVyICovXG4gICAgICAgICAgICAvLyBBc3NlcnQgKGxjb2RlcyA+PSAyNTcgJiYgZGNvZGVzID49IDEgJiYgYmxjb2RlcyA+PSA0LCBcIm5vdCBlbm91Z2ggY29kZXNcIik7XG4gICAgICAgICAgICAvLyBBc3NlcnQgKGxjb2RlcyA8PSBMX0NPREVTICYmIGRjb2RlcyA8PSBEX0NPREVTICYmIGJsY29kZXMgPD0gQkxfQ09ERVMsXG4gICAgICAgICAgICAvLyAgICAgICAgXCJ0b28gbWFueSBjb2Rlc1wiKTtcbiAgICAgICAgICAgIC8vIFRyYWNldigoc3RkZXJyLCBcIlxcbmJsIGNvdW50czogXCIpKTtcbiAgICAgICAgICAgIHNlbmRfYml0cyhzLCBsY29kZXMgLSAyNTcsIDUpO1xuICAgICAgICAgICAgLyogbm90ICsyNTUgYXMgc3RhdGVkIGluIGFwcG5vdGUudHh0ICovXG4gICAgICAgICAgICBzZW5kX2JpdHMocywgZGNvZGVzIC0gMSwgNSk7XG4gICAgICAgICAgICBzZW5kX2JpdHMocywgYmxjb2RlcyAtIDQsIDQpO1xuICAgICAgICAgICAgLyogbm90IC0zIGFzIHN0YXRlZCBpbiBhcHBub3RlLnR4dCAqL1xuICAgICAgICAgICAgZm9yIChyYW5rID0gMDsgcmFuayA8IGJsY29kZXM7IHJhbmsrKykge1xuICAgICAgICAgICAgICAgIC8vIFRyYWNldigoc3RkZXJyLCBcIlxcbmJsIGNvZGUgJTJkIFwiLCBibF9vcmRlcltyYW5rXSkpO1xuICAgICAgICAgICAgICAgIHNlbmRfYml0cyhzLCBzLmJsX3RyZWVbYmxfb3JkZXJbcmFua10gKiAyICsgMV0sIFxuICAgICAgICAgICAgICAgIC8qIC5MZW4gKi9cbiAgICAgICAgICAgICAgICAzKTtcbiAgICAgICAgICAgIH0gLy8gVHJhY2V2KChzdGRlcnIsIFwiXFxuYmwgdHJlZTogc2VudCAlbGRcIiwgcy0+Yml0c19zZW50KSk7XG4gICAgICAgICAgICBzZW5kX3RyZWUocywgcy5keW5fbHRyZWUsIGxjb2RlcyAtIDEpO1xuICAgICAgICAgICAgLyogbGl0ZXJhbCB0cmVlICovXG4gICAgICAgICAgICAvLyBUcmFjZXYoKHN0ZGVyciwgXCJcXG5saXQgdHJlZTogc2VudCAlbGRcIiwgcy0+Yml0c19zZW50KSk7XG4gICAgICAgICAgICBzZW5kX3RyZWUocywgcy5keW5fZHRyZWUsIGRjb2RlcyAtIDEpO1xuICAgICAgICAgICAgLyogZGlzdGFuY2UgdHJlZSAqL1xuICAgICAgICAgICAgLy8gVHJhY2V2KChzdGRlcnIsIFwiXFxuZGlzdCB0cmVlOiBzZW50ICVsZFwiLCBzLT5iaXRzX3NlbnQpKTtcbiAgICAgICAgfTtcbiAgICAgICAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICAgICAqIENoZWNrIGlmIHRoZSBkYXRhIHR5cGUgaXMgVEVYVCBvciBCSU5BUlksIHVzaW5nIHRoZSBmb2xsb3dpbmcgYWxnb3JpdGhtOlxuICAgICAgICAgKiAtIFRFWFQgaWYgdGhlIHR3byBjb25kaXRpb25zIGJlbG93IGFyZSBzYXRpc2ZpZWQ6XG4gICAgICAgICAqICAgIGEpIFRoZXJlIGFyZSBubyBub24tcG9ydGFibGUgY29udHJvbCBjaGFyYWN0ZXJzIGJlbG9uZ2luZyB0byB0aGVcbiAgICAgICAgICogICAgICAgXCJibGFjayBsaXN0XCIgKDAuLjYsIDE0Li4yNSwgMjguLjMxKS5cbiAgICAgICAgICogICAgYikgVGhlcmUgaXMgYXQgbGVhc3Qgb25lIHByaW50YWJsZSBjaGFyYWN0ZXIgYmVsb25naW5nIHRvIHRoZVxuICAgICAgICAgKiAgICAgICBcIndoaXRlIGxpc3RcIiAoOSB7VEFCfSwgMTAge0xGfSwgMTMge0NSfSwgMzIuLjI1NSkuXG4gICAgICAgICAqIC0gQklOQVJZIG90aGVyd2lzZS5cbiAgICAgICAgICogLSBUaGUgZm9sbG93aW5nIHBhcnRpYWxseS1wb3J0YWJsZSBjb250cm9sIGNoYXJhY3RlcnMgZm9ybSBhXG4gICAgICAgICAqICAgXCJncmF5IGxpc3RcIiB0aGF0IGlzIGlnbm9yZWQgaW4gdGhpcyBkZXRlY3Rpb24gYWxnb3JpdGhtOlxuICAgICAgICAgKiAgICg3IHtCRUx9LCA4IHtCU30sIDExIHtWVH0sIDEyIHtGRn0sIDI2IHtTVUJ9LCAyNyB7RVNDfSkuXG4gICAgICAgICAqIElOIGFzc2VydGlvbjogdGhlIGZpZWxkcyBGcmVxIG9mIGR5bl9sdHJlZSBhcmUgc2V0LlxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIGRldGVjdF9kYXRhX3R5cGUgPSBmdW5jdGlvbiBkZXRlY3RfZGF0YV90eXBlKHMpIHtcbiAgICAgICAgICAgIC8qIGJsYWNrX21hc2sgaXMgdGhlIGJpdCBtYXNrIG9mIGJsYWNrLWxpc3RlZCBieXRlc1xuICAgICAgICAgICAgICogc2V0IGJpdHMgMC4uNiwgMTQuLjI1LCBhbmQgMjguLjMxXG4gICAgICAgICAgICAgKiAweGYzZmZjMDdmID0gYmluYXJ5IDExMTEwMDExMTExMTExMTExMTAwMDAwMDAxMTExMTExXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHZhciBibGFja19tYXNrID0gMHhmM2ZmYzA3ZjtcbiAgICAgICAgICAgIHZhciBuO1xuICAgICAgICAgICAgLyogQ2hlY2sgZm9yIG5vbi10ZXh0dWFsIChcImJsYWNrLWxpc3RlZFwiKSBieXRlcy4gKi9cbiAgICAgICAgICAgIGZvciAobiA9IDA7IG4gPD0gMzE7IG4rKywgYmxhY2tfbWFzayA+Pj49IDEpIHtcbiAgICAgICAgICAgICAgICBpZiAoYmxhY2tfbWFzayAmIDEgJiZcbiAgICAgICAgICAgICAgICAgICAgcy5keW5fbHRyZWVbbiAqIDJdICE9PVxuICAgICAgICAgICAgICAgICAgICAgICAgLyogLkZyZXEgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFpfQklOQVJZO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qIENoZWNrIGZvciB0ZXh0dWFsIChcIndoaXRlLWxpc3RlZFwiKSBieXRlcy4gKi9cbiAgICAgICAgICAgIGlmIChzLmR5bl9sdHJlZVs5ICogMl0gIT09XG4gICAgICAgICAgICAgICAgLyogLkZyZXEgKi9cbiAgICAgICAgICAgICAgICAwIHx8XG4gICAgICAgICAgICAgICAgcy5keW5fbHRyZWVbMTAgKiAyXSAhPT1cbiAgICAgICAgICAgICAgICAgICAgLyogLkZyZXEgKi9cbiAgICAgICAgICAgICAgICAgICAgMCB8fFxuICAgICAgICAgICAgICAgIHMuZHluX2x0cmVlWzEzICogMl0gIT09XG4gICAgICAgICAgICAgICAgICAgIC8qIC5GcmVxICovXG4gICAgICAgICAgICAgICAgICAgIDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gWl9URVhUO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChuID0gMzI7IG4gPCBMSVRFUkFMUzsgbisrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHMuZHluX2x0cmVlW24gKiAyXSAhPT1cbiAgICAgICAgICAgICAgICAgICAgLyogLkZyZXEgKi9cbiAgICAgICAgICAgICAgICAgICAgMCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWl9URVhUO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qIFRoZXJlIGFyZSBubyBcImJsYWNrLWxpc3RlZFwiIG9yIFwid2hpdGUtbGlzdGVkXCIgYnl0ZXM6XG4gICAgICAgICAgICAgKiB0aGlzIHN0cmVhbSBlaXRoZXIgaXMgZW1wdHkgb3IgaGFzIHRvbGVyYXRlZCAoXCJncmF5LWxpc3RlZFwiKSBieXRlcyBvbmx5LlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICByZXR1cm4gWl9CSU5BUlk7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBzdGF0aWNfaW5pdF9kb25lID0gZmFsc2U7XG4gICAgICAgIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgICAgKiBJbml0aWFsaXplIHRoZSB0cmVlIGRhdGEgc3RydWN0dXJlcyBmb3IgYSBuZXcgemxpYiBzdHJlYW0uXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgX3RyX2luaXQgPSBmdW5jdGlvbiBfdHJfaW5pdChzKSB7XG4gICAgICAgICAgICBpZiAoIXN0YXRpY19pbml0X2RvbmUpIHtcbiAgICAgICAgICAgICAgICB0cl9zdGF0aWNfaW5pdCgpO1xuICAgICAgICAgICAgICAgIHN0YXRpY19pbml0X2RvbmUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcy5sX2Rlc2MgPSBuZXcgVHJlZURlc2Mocy5keW5fbHRyZWUsIHN0YXRpY19sX2Rlc2MpO1xuICAgICAgICAgICAgcy5kX2Rlc2MgPSBuZXcgVHJlZURlc2Mocy5keW5fZHRyZWUsIHN0YXRpY19kX2Rlc2MpO1xuICAgICAgICAgICAgcy5ibF9kZXNjID0gbmV3IFRyZWVEZXNjKHMuYmxfdHJlZSwgc3RhdGljX2JsX2Rlc2MpO1xuICAgICAgICAgICAgcy5iaV9idWYgPSAwO1xuICAgICAgICAgICAgcy5iaV92YWxpZCA9IDA7XG4gICAgICAgICAgICAvKiBJbml0aWFsaXplIHRoZSBmaXJzdCBibG9jayBvZiB0aGUgZmlyc3QgZmlsZTogKi9cbiAgICAgICAgICAgIGluaXRfYmxvY2socyk7XG4gICAgICAgIH07XG4gICAgICAgIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgICAgKiBTZW5kIGEgc3RvcmVkIGJsb2NrXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgX3RyX3N0b3JlZF9ibG9jayA9IGZ1bmN0aW9uIF90cl9zdG9yZWRfYmxvY2socywgYnVmLCBzdG9yZWRfbGVuLCBsYXN0XG4gICAgICAgIC8vIERlZmxhdGVTdGF0ZSAqcztcbiAgICAgICAgLy8gY2hhcmYgKmJ1ZjsgICAgICAgLyogaW5wdXQgYmxvY2sgKi9cbiAgICAgICAgLy8gdWxnIHN0b3JlZF9sZW47ICAgLyogbGVuZ3RoIG9mIGlucHV0IGJsb2NrICovXG4gICAgICAgIC8vIGludCBsYXN0OyAgICAgICAgIC8qIG9uZSBpZiB0aGlzIGlzIHRoZSBsYXN0IGJsb2NrIGZvciBhIGZpbGUgKi9cbiAgICAgICAgKSB7XG4gICAgICAgICAgICBzZW5kX2JpdHMocywgKFNUT1JFRF9CTE9DSyA8PCAxKSArIChsYXN0ID8gMSA6IDApLCAzKTtcbiAgICAgICAgICAgIC8qIHNlbmQgYmxvY2sgdHlwZSAqL1xuICAgICAgICAgICAgY29weV9ibG9jayhzLCBidWYsIHN0b3JlZF9sZW4sIHRydWUpO1xuICAgICAgICAgICAgLyogd2l0aCBoZWFkZXIgKi9cbiAgICAgICAgfTtcbiAgICAgICAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICAgICAqIFNlbmQgb25lIGVtcHR5IHN0YXRpYyBibG9jayB0byBnaXZlIGVub3VnaCBsb29rYWhlYWQgZm9yIGluZmxhdGUuXG4gICAgICAgICAqIFRoaXMgdGFrZXMgMTAgYml0cywgb2Ygd2hpY2ggNyBtYXkgcmVtYWluIGluIHRoZSBiaXQgYnVmZmVyLlxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIF90cl9hbGlnbiA9IGZ1bmN0aW9uIF90cl9hbGlnbihzKSB7XG4gICAgICAgICAgICBzZW5kX2JpdHMocywgU1RBVElDX1RSRUVTIDw8IDEsIDMpO1xuICAgICAgICAgICAgc2VuZF9jb2RlKHMsIEVORF9CTE9DSywgc3RhdGljX2x0cmVlKTtcbiAgICAgICAgICAgIGJpX2ZsdXNoKHMpO1xuICAgICAgICB9O1xuICAgICAgICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgICAgICogRGV0ZXJtaW5lIHRoZSBiZXN0IGVuY29kaW5nIGZvciB0aGUgY3VycmVudCBibG9jazogZHluYW1pYyB0cmVlcywgc3RhdGljXG4gICAgICAgICAqIHRyZWVzIG9yIHN0b3JlLCBhbmQgb3V0cHV0IHRoZSBlbmNvZGVkIGJsb2NrIHRvIHRoZSB6aXAgZmlsZS5cbiAgICAgICAgICovXG4gICAgICAgIHZhciBfdHJfZmx1c2hfYmxvY2sgPSBmdW5jdGlvbiBfdHJfZmx1c2hfYmxvY2socywgYnVmLCBzdG9yZWRfbGVuLCBsYXN0XG4gICAgICAgIC8vIERlZmxhdGVTdGF0ZSAqcztcbiAgICAgICAgLy8gY2hhcmYgKmJ1ZjsgICAgICAgLyogaW5wdXQgYmxvY2ssIG9yIE5VTEwgaWYgdG9vIG9sZCAqL1xuICAgICAgICAvLyB1bGcgc3RvcmVkX2xlbjsgICAvKiBsZW5ndGggb2YgaW5wdXQgYmxvY2sgKi9cbiAgICAgICAgLy8gaW50IGxhc3Q7ICAgICAgICAgLyogb25lIGlmIHRoaXMgaXMgdGhlIGxhc3QgYmxvY2sgZm9yIGEgZmlsZSAqL1xuICAgICAgICApIHtcbiAgICAgICAgICAgIHZhciBvcHRfbGVuYjtcbiAgICAgICAgICAgIHZhciBzdGF0aWNfbGVuYjtcbiAgICAgICAgICAgIC8qIG9wdF9sZW4gYW5kIHN0YXRpY19sZW4gaW4gYnl0ZXMgKi9cbiAgICAgICAgICAgIHZhciBtYXhfYmxpbmRleCA9IDA7XG4gICAgICAgICAgICAvKiBpbmRleCBvZiBsYXN0IGJpdCBsZW5ndGggY29kZSBvZiBub24gemVybyBmcmVxICovXG4gICAgICAgICAgICAvKiBCdWlsZCB0aGUgSHVmZm1hbiB0cmVlcyB1bmxlc3MgYSBzdG9yZWQgYmxvY2sgaXMgZm9yY2VkICovXG4gICAgICAgICAgICBpZiAocy5sZXZlbCA+IDApIHtcbiAgICAgICAgICAgICAgICAvKiBDaGVjayBpZiB0aGUgZmlsZSBpcyBiaW5hcnkgb3IgdGV4dCAqL1xuICAgICAgICAgICAgICAgIGlmIChzLnN0cm0uZGF0YV90eXBlID09PSBaX1VOS05PV04pIHtcbiAgICAgICAgICAgICAgICAgICAgcy5zdHJtLmRhdGFfdHlwZSA9IGRldGVjdF9kYXRhX3R5cGUocyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8qIENvbnN0cnVjdCB0aGUgbGl0ZXJhbCBhbmQgZGlzdGFuY2UgdHJlZXMgKi9cbiAgICAgICAgICAgICAgICBidWlsZF90cmVlKHMsIHMubF9kZXNjKTsgLy8gVHJhY2V2KChzdGRlcnIsIFwiXFxubGl0IGRhdGE6IGR5biAlbGQsIHN0YXQgJWxkXCIsIHMtPm9wdF9sZW4sXG4gICAgICAgICAgICAgICAgLy8gICAgICAgIHMtPnN0YXRpY19sZW4pKTtcbiAgICAgICAgICAgICAgICBidWlsZF90cmVlKHMsIHMuZF9kZXNjKTsgLy8gVHJhY2V2KChzdGRlcnIsIFwiXFxuZGlzdCBkYXRhOiBkeW4gJWxkLCBzdGF0ICVsZFwiLCBzLT5vcHRfbGVuLFxuICAgICAgICAgICAgICAgIC8vICAgICAgICBzLT5zdGF0aWNfbGVuKSk7XG4gICAgICAgICAgICAgICAgLyogQXQgdGhpcyBwb2ludCwgb3B0X2xlbiBhbmQgc3RhdGljX2xlbiBhcmUgdGhlIHRvdGFsIGJpdCBsZW5ndGhzIG9mXG4gICAgICAgICAgICAgICAgICogdGhlIGNvbXByZXNzZWQgYmxvY2sgZGF0YSwgZXhjbHVkaW5nIHRoZSB0cmVlIHJlcHJlc2VudGF0aW9ucy5cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAvKiBCdWlsZCB0aGUgYml0IGxlbmd0aCB0cmVlIGZvciB0aGUgYWJvdmUgdHdvIHRyZWVzLCBhbmQgZ2V0IHRoZSBpbmRleFxuICAgICAgICAgICAgICAgICAqIGluIGJsX29yZGVyIG9mIHRoZSBsYXN0IGJpdCBsZW5ndGggY29kZSB0byBzZW5kLlxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIG1heF9ibGluZGV4ID0gYnVpbGRfYmxfdHJlZShzKTtcbiAgICAgICAgICAgICAgICAvKiBEZXRlcm1pbmUgdGhlIGJlc3QgZW5jb2RpbmcuIENvbXB1dGUgdGhlIGJsb2NrIGxlbmd0aHMgaW4gYnl0ZXMuICovXG4gICAgICAgICAgICAgICAgb3B0X2xlbmIgPSAocy5vcHRfbGVuICsgMyArIDcpID4+PiAzO1xuICAgICAgICAgICAgICAgIHN0YXRpY19sZW5iID0gKHMuc3RhdGljX2xlbiArIDMgKyA3KSA+Pj4gMzsgLy8gVHJhY2V2KChzdGRlcnIsIFwiXFxub3B0ICVsdSglbHUpIHN0YXQgJWx1KCVsdSkgc3RvcmVkICVsdSBsaXQgJXUgXCIsXG4gICAgICAgICAgICAgICAgLy8gICAgICAgIG9wdF9sZW5iLCBzLT5vcHRfbGVuLCBzdGF0aWNfbGVuYiwgcy0+c3RhdGljX2xlbiwgc3RvcmVkX2xlbixcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgcy0+bGFzdF9saXQpKTtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdGljX2xlbmIgPD0gb3B0X2xlbmIpIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0X2xlbmIgPSBzdGF0aWNfbGVuYjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBBc3NlcnQoYnVmICE9IChjaGFyKikwLCBcImxvc3QgYnVmXCIpO1xuICAgICAgICAgICAgICAgIG9wdF9sZW5iID0gc3RhdGljX2xlbmIgPSBzdG9yZWRfbGVuICsgNTtcbiAgICAgICAgICAgICAgICAvKiBmb3JjZSBhIHN0b3JlZCBibG9jayAqL1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHN0b3JlZF9sZW4gKyA0IDw9IG9wdF9sZW5iICYmIGJ1ZiAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAvKiA0OiB0d28gd29yZHMgZm9yIHRoZSBsZW5ndGhzICovXG4gICAgICAgICAgICAgICAgLyogVGhlIHRlc3QgYnVmICE9IE5VTEwgaXMgb25seSBuZWNlc3NhcnkgaWYgTElUX0JVRlNJWkUgPiBXU0laRS5cbiAgICAgICAgICAgICAgICAgKiBPdGhlcndpc2Ugd2UgY2FuJ3QgaGF2ZSBwcm9jZXNzZWQgbW9yZSB0aGFuIFdTSVpFIGlucHV0IGJ5dGVzIHNpbmNlXG4gICAgICAgICAgICAgICAgICogdGhlIGxhc3QgYmxvY2sgZmx1c2gsIGJlY2F1c2UgY29tcHJlc3Npb24gd291bGQgaGF2ZSBiZWVuXG4gICAgICAgICAgICAgICAgICogc3VjY2Vzc2Z1bC4gSWYgTElUX0JVRlNJWkUgPD0gV1NJWkUsIGl0IGlzIG5ldmVyIHRvbyBsYXRlIHRvXG4gICAgICAgICAgICAgICAgICogdHJhbnNmb3JtIGEgYmxvY2sgaW50byBhIHN0b3JlZCBibG9jay5cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBfdHJfc3RvcmVkX2Jsb2NrKHMsIGJ1Ziwgc3RvcmVkX2xlbiwgbGFzdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChzLnN0cmF0ZWd5ID09PSBaX0ZJWEVEIHx8IHN0YXRpY19sZW5iID09PSBvcHRfbGVuYikge1xuICAgICAgICAgICAgICAgIHNlbmRfYml0cyhzLCAoU1RBVElDX1RSRUVTIDw8IDEpICsgKGxhc3QgPyAxIDogMCksIDMpO1xuICAgICAgICAgICAgICAgIGNvbXByZXNzX2Jsb2NrKHMsIHN0YXRpY19sdHJlZSwgc3RhdGljX2R0cmVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHNlbmRfYml0cyhzLCAoRFlOX1RSRUVTIDw8IDEpICsgKGxhc3QgPyAxIDogMCksIDMpO1xuICAgICAgICAgICAgICAgIHNlbmRfYWxsX3RyZWVzKHMsIHMubF9kZXNjLm1heF9jb2RlICsgMSwgcy5kX2Rlc2MubWF4X2NvZGUgKyAxLCBtYXhfYmxpbmRleCArIDEpO1xuICAgICAgICAgICAgICAgIGNvbXByZXNzX2Jsb2NrKHMsIHMuZHluX2x0cmVlLCBzLmR5bl9kdHJlZSk7XG4gICAgICAgICAgICB9IC8vIEFzc2VydCAocy0+Y29tcHJlc3NlZF9sZW4gPT0gcy0+Yml0c19zZW50LCBcImJhZCBjb21wcmVzc2VkIHNpemVcIik7XG4gICAgICAgICAgICAvKiBUaGUgYWJvdmUgY2hlY2sgaXMgbWFkZSBtb2QgMl4zMiwgZm9yIGZpbGVzIGxhcmdlciB0aGFuIDUxMiBNQlxuICAgICAgICAgICAgICogYW5kIHVMb25nIGltcGxlbWVudGVkIG9uIDMyIGJpdHMuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGluaXRfYmxvY2socyk7XG4gICAgICAgICAgICBpZiAobGFzdCkge1xuICAgICAgICAgICAgICAgIGJpX3dpbmR1cChzKTtcbiAgICAgICAgICAgIH0gLy8gVHJhY2V2KChzdGRlcnIsXCJcXG5jb21wcmxlbiAlbHUoJWx1KSBcIiwgcy0+Y29tcHJlc3NlZF9sZW4+PjMsXG4gICAgICAgICAgICAvLyAgICAgICBzLT5jb21wcmVzc2VkX2xlbi03Kmxhc3QpKTtcbiAgICAgICAgfTtcbiAgICAgICAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICAgICAqIFNhdmUgdGhlIG1hdGNoIGluZm8gYW5kIHRhbGx5IHRoZSBmcmVxdWVuY3kgY291bnRzLiBSZXR1cm4gdHJ1ZSBpZlxuICAgICAgICAgKiB0aGUgY3VycmVudCBibG9jayBtdXN0IGJlIGZsdXNoZWQuXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgX3RyX3RhbGx5ID0gZnVuY3Rpb24gX3RyX3RhbGx5KHMsIGRpc3QsIGxjXG4gICAgICAgIC8vICAgIGRlZmxhdGVfc3RhdGUgKnM7XG4gICAgICAgIC8vICAgIHVuc2lnbmVkIGRpc3Q7ICAvKiBkaXN0YW5jZSBvZiBtYXRjaGVkIHN0cmluZyAqL1xuICAgICAgICAvLyAgICB1bnNpZ25lZCBsYzsgICAgLyogbWF0Y2ggbGVuZ3RoLU1JTl9NQVRDSCBvciB1bm1hdGNoZWQgY2hhciAoaWYgZGlzdD09MCkgKi9cbiAgICAgICAgKSB7XG4gICAgICAgICAgICAvLyBsZXQgb3V0X2xlbmd0aCwgaW5fbGVuZ3RoLCBkY29kZTtcbiAgICAgICAgICAgIHMucGVuZGluZ19idWZbcy5kX2J1ZiArIHMubGFzdF9saXQgKiAyXSA9IChkaXN0ID4+PiA4KSAmIDB4ZmY7XG4gICAgICAgICAgICBzLnBlbmRpbmdfYnVmW3MuZF9idWYgKyBzLmxhc3RfbGl0ICogMiArIDFdID0gZGlzdCAmIDB4ZmY7XG4gICAgICAgICAgICBzLnBlbmRpbmdfYnVmW3MubF9idWYgKyBzLmxhc3RfbGl0XSA9IGxjICYgMHhmZjtcbiAgICAgICAgICAgIHMubGFzdF9saXQrKztcbiAgICAgICAgICAgIGlmIChkaXN0ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgLyogbGMgaXMgdGhlIHVubWF0Y2hlZCBjaGFyICovXG4gICAgICAgICAgICAgICAgcy5keW5fbHRyZWVbbGMgKiAyXSAvKiAuRnJlcSAqLysrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcy5tYXRjaGVzKys7XG4gICAgICAgICAgICAgICAgLyogSGVyZSwgbGMgaXMgdGhlIG1hdGNoIGxlbmd0aCAtIE1JTl9NQVRDSCAqL1xuICAgICAgICAgICAgICAgIGRpc3QtLTtcbiAgICAgICAgICAgICAgICAvKiBkaXN0ID0gbWF0Y2ggZGlzdGFuY2UgLSAxICovXG4gICAgICAgICAgICAgICAgLy8gQXNzZXJ0KCh1c2gpZGlzdCA8ICh1c2gpTUFYX0RJU1QocykgJiZcbiAgICAgICAgICAgICAgICAvLyAgICAgICAodXNoKWxjIDw9ICh1c2gpKE1BWF9NQVRDSC1NSU5fTUFUQ0gpICYmXG4gICAgICAgICAgICAgICAgLy8gICAgICAgKHVzaClkX2NvZGUoZGlzdCkgPCAodXNoKURfQ09ERVMsICBcIl90cl90YWxseTogYmFkIG1hdGNoXCIpO1xuICAgICAgICAgICAgICAgIHMuZHluX2x0cmVlWyhfbGVuZ3RoX2NvZGVbbGNdICsgTElURVJBTFMgKyAxKSAqIDJdIC8qIC5GcmVxICovKys7XG4gICAgICAgICAgICAgICAgcy5keW5fZHRyZWVbZF9jb2RlKGRpc3QpICogMl0gLyogLkZyZXEgKi8rKztcbiAgICAgICAgICAgIH0gLy8gKCEpIFRoaXMgYmxvY2sgaXMgZGlzYWJsZWQgaW4gemxpYiBkZWZhdWx0cyxcbiAgICAgICAgICAgIC8vIGRvbid0IGVuYWJsZSBpdCBmb3IgYmluYXJ5IGNvbXBhdGliaWxpdHlcbiAgICAgICAgICAgIC8vICNpZmRlZiBUUlVOQ0FURV9CTE9DS1xuICAgICAgICAgICAgLy8gIC8qIFRyeSB0byBndWVzcyBpZiBpdCBpcyBwcm9maXRhYmxlIHRvIHN0b3AgdGhlIGN1cnJlbnQgYmxvY2sgaGVyZSAqL1xuICAgICAgICAgICAgLy8gIGlmICgocy5sYXN0X2xpdCAmIDB4MWZmZikgPT09IDAgJiYgcy5sZXZlbCA+IDIpIHtcbiAgICAgICAgICAgIC8vICAgIC8qIENvbXB1dGUgYW4gdXBwZXIgYm91bmQgZm9yIHRoZSBjb21wcmVzc2VkIGxlbmd0aCAqL1xuICAgICAgICAgICAgLy8gICAgb3V0X2xlbmd0aCA9IHMubGFzdF9saXQqODtcbiAgICAgICAgICAgIC8vICAgIGluX2xlbmd0aCA9IHMuc3Ryc3RhcnQgLSBzLmJsb2NrX3N0YXJ0O1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vICAgIGZvciAoZGNvZGUgPSAwOyBkY29kZSA8IERfQ09ERVM7IGRjb2RlKyspIHtcbiAgICAgICAgICAgIC8vICAgICAgb3V0X2xlbmd0aCArPSBzLmR5bl9kdHJlZVtkY29kZSoyXS8qLkZyZXEqLyAqICg1ICsgZXh0cmFfZGJpdHNbZGNvZGVdKTtcbiAgICAgICAgICAgIC8vICAgIH1cbiAgICAgICAgICAgIC8vICAgIG91dF9sZW5ndGggPj4+PSAzO1xuICAgICAgICAgICAgLy8gICAgLy9UcmFjZXYoKHN0ZGVycixcIlxcbmxhc3RfbGl0ICV1LCBpbiAlbGQsIG91dCB+JWxkKCVsZCUlKSBcIixcbiAgICAgICAgICAgIC8vICAgIC8vICAgICAgIHMtPmxhc3RfbGl0LCBpbl9sZW5ndGgsIG91dF9sZW5ndGgsXG4gICAgICAgICAgICAvLyAgICAvLyAgICAgICAxMDBMIC0gb3V0X2xlbmd0aCoxMDBML2luX2xlbmd0aCkpO1xuICAgICAgICAgICAgLy8gICAgaWYgKHMubWF0Y2hlcyA8IChzLmxhc3RfbGl0Pj4xKS8qaW50IC8yKi8gJiYgb3V0X2xlbmd0aCA8IChpbl9sZW5ndGg+PjEpLyppbnQgLzIqLykge1xuICAgICAgICAgICAgLy8gICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIC8vICAgIH1cbiAgICAgICAgICAgIC8vICB9XG4gICAgICAgICAgICAvLyAjZW5kaWZcbiAgICAgICAgICAgIHJldHVybiBzLmxhc3RfbGl0ID09PSBzLmxpdF9idWZzaXplIC0gMTtcbiAgICAgICAgICAgIC8qIFdlIGF2b2lkIGVxdWFsaXR5IHdpdGggbGl0X2J1ZnNpemUgYmVjYXVzZSBvZiB3cmFwYXJvdW5kIGF0IDY0S1xuICAgICAgICAgICAgICogb24gMTYgYml0IG1hY2hpbmVzIGFuZCBiZWNhdXNlIHN0b3JlZCBibG9ja3MgYXJlIHJlc3RyaWN0ZWQgdG9cbiAgICAgICAgICAgICAqIDY0Sy0xIGJ5dGVzLlxuICAgICAgICAgICAgICovXG4gICAgICAgIH07XG4gICAgICAgIHZhciBfdHJfaW5pdF8xID0gX3RyX2luaXQ7XG4gICAgICAgIHZhciBfdHJfc3RvcmVkX2Jsb2NrXzEgPSBfdHJfc3RvcmVkX2Jsb2NrO1xuICAgICAgICB2YXIgX3RyX2ZsdXNoX2Jsb2NrXzEgPSBfdHJfZmx1c2hfYmxvY2s7XG4gICAgICAgIHZhciBfdHJfdGFsbHlfMSA9IF90cl90YWxseTtcbiAgICAgICAgdmFyIF90cl9hbGlnbl8xID0gX3RyX2FsaWduO1xuICAgICAgICB2YXIgdHJlZXMgPSB7XG4gICAgICAgICAgICBfdHJfaW5pdDogX3RyX2luaXRfMSxcbiAgICAgICAgICAgIF90cl9zdG9yZWRfYmxvY2s6IF90cl9zdG9yZWRfYmxvY2tfMSxcbiAgICAgICAgICAgIF90cl9mbHVzaF9ibG9jazogX3RyX2ZsdXNoX2Jsb2NrXzEsXG4gICAgICAgICAgICBfdHJfdGFsbHk6IF90cl90YWxseV8xLFxuICAgICAgICAgICAgX3RyX2FsaWduOiBfdHJfYWxpZ25fMSxcbiAgICAgICAgfTtcbiAgICAgICAgLy8gSXQgaXNuJ3Qgd29ydGggaXQgdG8gbWFrZSBhZGRpdGlvbmFsIG9wdGltaXphdGlvbnMgYXMgaW4gb3JpZ2luYWwuXG4gICAgICAgIC8vIFNtYWxsIHNpemUgaXMgcHJlZmVyYWJsZS5cbiAgICAgICAgLy8gKEMpIDE5OTUtMjAxMyBKZWFuLWxvdXAgR2FpbGx5IGFuZCBNYXJrIEFkbGVyXG4gICAgICAgIC8vIChDKSAyMDE0LTIwMTcgVml0YWx5IFB1enJpbiBhbmQgQW5kcmV5IFR1cGl0c2luXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFRoaXMgc29mdHdhcmUgaXMgcHJvdmlkZWQgJ2FzLWlzJywgd2l0aG91dCBhbnkgZXhwcmVzcyBvciBpbXBsaWVkXG4gICAgICAgIC8vIHdhcnJhbnR5LiBJbiBubyBldmVudCB3aWxsIHRoZSBhdXRob3JzIGJlIGhlbGQgbGlhYmxlIGZvciBhbnkgZGFtYWdlc1xuICAgICAgICAvLyBhcmlzaW5nIGZyb20gdGhlIHVzZSBvZiB0aGlzIHNvZnR3YXJlLlxuICAgICAgICAvL1xuICAgICAgICAvLyBQZXJtaXNzaW9uIGlzIGdyYW50ZWQgdG8gYW55b25lIHRvIHVzZSB0aGlzIHNvZnR3YXJlIGZvciBhbnkgcHVycG9zZSxcbiAgICAgICAgLy8gaW5jbHVkaW5nIGNvbW1lcmNpYWwgYXBwbGljYXRpb25zLCBhbmQgdG8gYWx0ZXIgaXQgYW5kIHJlZGlzdHJpYnV0ZSBpdFxuICAgICAgICAvLyBmcmVlbHksIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyByZXN0cmljdGlvbnM6XG4gICAgICAgIC8vXG4gICAgICAgIC8vIDEuIFRoZSBvcmlnaW4gb2YgdGhpcyBzb2Z0d2FyZSBtdXN0IG5vdCBiZSBtaXNyZXByZXNlbnRlZDsgeW91IG11c3Qgbm90XG4gICAgICAgIC8vICAgY2xhaW0gdGhhdCB5b3Ugd3JvdGUgdGhlIG9yaWdpbmFsIHNvZnR3YXJlLiBJZiB5b3UgdXNlIHRoaXMgc29mdHdhcmVcbiAgICAgICAgLy8gICBpbiBhIHByb2R1Y3QsIGFuIGFja25vd2xlZGdtZW50IGluIHRoZSBwcm9kdWN0IGRvY3VtZW50YXRpb24gd291bGQgYmVcbiAgICAgICAgLy8gICBhcHByZWNpYXRlZCBidXQgaXMgbm90IHJlcXVpcmVkLlxuICAgICAgICAvLyAyLiBBbHRlcmVkIHNvdXJjZSB2ZXJzaW9ucyBtdXN0IGJlIHBsYWlubHkgbWFya2VkIGFzIHN1Y2gsIGFuZCBtdXN0IG5vdCBiZVxuICAgICAgICAvLyAgIG1pc3JlcHJlc2VudGVkIGFzIGJlaW5nIHRoZSBvcmlnaW5hbCBzb2Z0d2FyZS5cbiAgICAgICAgLy8gMy4gVGhpcyBub3RpY2UgbWF5IG5vdCBiZSByZW1vdmVkIG9yIGFsdGVyZWQgZnJvbSBhbnkgc291cmNlIGRpc3RyaWJ1dGlvbi5cbiAgICAgICAgdmFyIGFkbGVyMzIgPSBmdW5jdGlvbiBhZGxlcjMyKGFkbGVyLCBidWYsIGxlbiwgcG9zKSB7XG4gICAgICAgICAgICB2YXIgczEgPSAoYWRsZXIgJiAweGZmZmYpIHwgMDtcbiAgICAgICAgICAgIHZhciBzMiA9ICgoYWRsZXIgPj4+IDE2KSAmIDB4ZmZmZikgfCAwO1xuICAgICAgICAgICAgdmFyIG4gPSAwO1xuICAgICAgICAgICAgd2hpbGUgKGxlbiAhPT0gMCkge1xuICAgICAgICAgICAgICAgIC8vIFNldCBsaW1pdCB+IHR3aWNlIGxlc3MgdGhhbiA1NTUyLCB0byBrZWVwXG4gICAgICAgICAgICAgICAgLy8gczIgaW4gMzEtYml0cywgYmVjYXVzZSB3ZSBmb3JjZSBzaWduZWQgaW50cy5cbiAgICAgICAgICAgICAgICAvLyBpbiBvdGhlciBjYXNlICU9IHdpbGwgZmFpbC5cbiAgICAgICAgICAgICAgICBuID0gbGVuID4gMjAwMCA/IDIwMDAgOiBsZW47XG4gICAgICAgICAgICAgICAgbGVuIC09IG47XG4gICAgICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgICAgICBzMSA9IChzMSArIGJ1Zltwb3MrK10pIHwgMDtcbiAgICAgICAgICAgICAgICAgICAgczIgPSAoczIgKyBzMSkgfCAwO1xuICAgICAgICAgICAgICAgIH0gd2hpbGUgKC0tbik7XG4gICAgICAgICAgICAgICAgczEgJT0gNjU1MjE7XG4gICAgICAgICAgICAgICAgczIgJT0gNjU1MjE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gczEgfCAoczIgPDwgMTYpIHwgMDtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGFkbGVyMzJfMSA9IGFkbGVyMzI7XG4gICAgICAgIC8vIFNvIHdyaXRlIGNvZGUgdG8gbWluaW1pemUgc2l6ZSAtIG5vIHByZWdlbmVyYXRlZCB0YWJsZXNcbiAgICAgICAgLy8gYW5kIGFycmF5IHRvb2xzIGRlcGVuZGVuY2llcy5cbiAgICAgICAgLy8gKEMpIDE5OTUtMjAxMyBKZWFuLWxvdXAgR2FpbGx5IGFuZCBNYXJrIEFkbGVyXG4gICAgICAgIC8vIChDKSAyMDE0LTIwMTcgVml0YWx5IFB1enJpbiBhbmQgQW5kcmV5IFR1cGl0c2luXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFRoaXMgc29mdHdhcmUgaXMgcHJvdmlkZWQgJ2FzLWlzJywgd2l0aG91dCBhbnkgZXhwcmVzcyBvciBpbXBsaWVkXG4gICAgICAgIC8vIHdhcnJhbnR5LiBJbiBubyBldmVudCB3aWxsIHRoZSBhdXRob3JzIGJlIGhlbGQgbGlhYmxlIGZvciBhbnkgZGFtYWdlc1xuICAgICAgICAvLyBhcmlzaW5nIGZyb20gdGhlIHVzZSBvZiB0aGlzIHNvZnR3YXJlLlxuICAgICAgICAvL1xuICAgICAgICAvLyBQZXJtaXNzaW9uIGlzIGdyYW50ZWQgdG8gYW55b25lIHRvIHVzZSB0aGlzIHNvZnR3YXJlIGZvciBhbnkgcHVycG9zZSxcbiAgICAgICAgLy8gaW5jbHVkaW5nIGNvbW1lcmNpYWwgYXBwbGljYXRpb25zLCBhbmQgdG8gYWx0ZXIgaXQgYW5kIHJlZGlzdHJpYnV0ZSBpdFxuICAgICAgICAvLyBmcmVlbHksIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyByZXN0cmljdGlvbnM6XG4gICAgICAgIC8vXG4gICAgICAgIC8vIDEuIFRoZSBvcmlnaW4gb2YgdGhpcyBzb2Z0d2FyZSBtdXN0IG5vdCBiZSBtaXNyZXByZXNlbnRlZDsgeW91IG11c3Qgbm90XG4gICAgICAgIC8vICAgY2xhaW0gdGhhdCB5b3Ugd3JvdGUgdGhlIG9yaWdpbmFsIHNvZnR3YXJlLiBJZiB5b3UgdXNlIHRoaXMgc29mdHdhcmVcbiAgICAgICAgLy8gICBpbiBhIHByb2R1Y3QsIGFuIGFja25vd2xlZGdtZW50IGluIHRoZSBwcm9kdWN0IGRvY3VtZW50YXRpb24gd291bGQgYmVcbiAgICAgICAgLy8gICBhcHByZWNpYXRlZCBidXQgaXMgbm90IHJlcXVpcmVkLlxuICAgICAgICAvLyAyLiBBbHRlcmVkIHNvdXJjZSB2ZXJzaW9ucyBtdXN0IGJlIHBsYWlubHkgbWFya2VkIGFzIHN1Y2gsIGFuZCBtdXN0IG5vdCBiZVxuICAgICAgICAvLyAgIG1pc3JlcHJlc2VudGVkIGFzIGJlaW5nIHRoZSBvcmlnaW5hbCBzb2Z0d2FyZS5cbiAgICAgICAgLy8gMy4gVGhpcyBub3RpY2UgbWF5IG5vdCBiZSByZW1vdmVkIG9yIGFsdGVyZWQgZnJvbSBhbnkgc291cmNlIGRpc3RyaWJ1dGlvbi5cbiAgICAgICAgLy8gVXNlIG9yZGluYXJ5IGFycmF5LCBzaW5jZSB1bnR5cGVkIG1ha2VzIG5vIGJvb3N0IGhlcmVcbiAgICAgICAgdmFyIG1ha2VUYWJsZSA9IGZ1bmN0aW9uIG1ha2VUYWJsZSgpIHtcbiAgICAgICAgICAgIHZhciBjO1xuICAgICAgICAgICAgdmFyIHRhYmxlID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBuID0gMDsgbiA8IDI1NjsgbisrKSB7XG4gICAgICAgICAgICAgICAgYyA9IG47XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCA4OyBrKyspIHtcbiAgICAgICAgICAgICAgICAgICAgYyA9IGMgJiAxID8gMHhlZGI4ODMyMCBeIChjID4+PiAxKSA6IGMgPj4+IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRhYmxlW25dID0gYztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0YWJsZTtcbiAgICAgICAgfTsgLy8gQ3JlYXRlIHRhYmxlIG9uIGxvYWQuIEp1c3QgMjU1IHNpZ25lZCBsb25ncy4gTm90IGEgcHJvYmxlbS5cbiAgICAgICAgdmFyIGNyY1RhYmxlID0gbmV3IFVpbnQzMkFycmF5KG1ha2VUYWJsZSgpKTtcbiAgICAgICAgdmFyIGNyYzMyID0gZnVuY3Rpb24gY3JjMzIoY3JjLCBidWYsIGxlbiwgcG9zKSB7XG4gICAgICAgICAgICB2YXIgdCA9IGNyY1RhYmxlO1xuICAgICAgICAgICAgdmFyIGVuZCA9IHBvcyArIGxlbjtcbiAgICAgICAgICAgIGNyYyBePSAtMTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSBwb3M7IGkgPCBlbmQ7IGkrKykge1xuICAgICAgICAgICAgICAgIGNyYyA9IChjcmMgPj4+IDgpIF4gdFsoY3JjIF4gYnVmW2ldKSAmIDB4ZmZdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNyYyBeIC0xOyAvLyA+Pj4gMDtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGNyYzMyXzEgPSBjcmMzMjtcbiAgICAgICAgLy8gKEMpIDIwMTQtMjAxNyBWaXRhbHkgUHV6cmluIGFuZCBBbmRyZXkgVHVwaXRzaW5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gVGhpcyBzb2Z0d2FyZSBpcyBwcm92aWRlZCAnYXMtaXMnLCB3aXRob3V0IGFueSBleHByZXNzIG9yIGltcGxpZWRcbiAgICAgICAgLy8gd2FycmFudHkuIEluIG5vIGV2ZW50IHdpbGwgdGhlIGF1dGhvcnMgYmUgaGVsZCBsaWFibGUgZm9yIGFueSBkYW1hZ2VzXG4gICAgICAgIC8vIGFyaXNpbmcgZnJvbSB0aGUgdXNlIG9mIHRoaXMgc29mdHdhcmUuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFBlcm1pc3Npb24gaXMgZ3JhbnRlZCB0byBhbnlvbmUgdG8gdXNlIHRoaXMgc29mdHdhcmUgZm9yIGFueSBwdXJwb3NlLFxuICAgICAgICAvLyBpbmNsdWRpbmcgY29tbWVyY2lhbCBhcHBsaWNhdGlvbnMsIGFuZCB0byBhbHRlciBpdCBhbmQgcmVkaXN0cmlidXRlIGl0XG4gICAgICAgIC8vIGZyZWVseSwgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIHJlc3RyaWN0aW9uczpcbiAgICAgICAgLy9cbiAgICAgICAgLy8gMS4gVGhlIG9yaWdpbiBvZiB0aGlzIHNvZnR3YXJlIG11c3Qgbm90IGJlIG1pc3JlcHJlc2VudGVkOyB5b3UgbXVzdCBub3RcbiAgICAgICAgLy8gICBjbGFpbSB0aGF0IHlvdSB3cm90ZSB0aGUgb3JpZ2luYWwgc29mdHdhcmUuIElmIHlvdSB1c2UgdGhpcyBzb2Z0d2FyZVxuICAgICAgICAvLyAgIGluIGEgcHJvZHVjdCwgYW4gYWNrbm93bGVkZ21lbnQgaW4gdGhlIHByb2R1Y3QgZG9jdW1lbnRhdGlvbiB3b3VsZCBiZVxuICAgICAgICAvLyAgIGFwcHJlY2lhdGVkIGJ1dCBpcyBub3QgcmVxdWlyZWQuXG4gICAgICAgIC8vIDIuIEFsdGVyZWQgc291cmNlIHZlcnNpb25zIG11c3QgYmUgcGxhaW5seSBtYXJrZWQgYXMgc3VjaCwgYW5kIG11c3Qgbm90IGJlXG4gICAgICAgIC8vICAgbWlzcmVwcmVzZW50ZWQgYXMgYmVpbmcgdGhlIG9yaWdpbmFsIHNvZnR3YXJlLlxuICAgICAgICAvLyAzLiBUaGlzIG5vdGljZSBtYXkgbm90IGJlIHJlbW92ZWQgb3IgYWx0ZXJlZCBmcm9tIGFueSBzb3VyY2UgZGlzdHJpYnV0aW9uLlxuICAgICAgICB2YXIgbWVzc2FnZXMgPSB7XG4gICAgICAgICAgICAyOiAnbmVlZCBkaWN0aW9uYXJ5JyxcbiAgICAgICAgICAgIC8qIFpfTkVFRF9ESUNUICAgICAgIDIgICovXG4gICAgICAgICAgICAxOiAnc3RyZWFtIGVuZCcsXG4gICAgICAgICAgICAvKiBaX1NUUkVBTV9FTkQgICAgICAxICAqL1xuICAgICAgICAgICAgMDogJycsXG4gICAgICAgICAgICAvKiBaX09LICAgICAgICAgICAgICAwICAqL1xuICAgICAgICAgICAgJy0xJzogJ2ZpbGUgZXJyb3InLFxuICAgICAgICAgICAgLyogWl9FUlJOTyAgICAgICAgICgtMSkgKi9cbiAgICAgICAgICAgICctMic6ICdzdHJlYW0gZXJyb3InLFxuICAgICAgICAgICAgLyogWl9TVFJFQU1fRVJST1IgICgtMikgKi9cbiAgICAgICAgICAgICctMyc6ICdkYXRhIGVycm9yJyxcbiAgICAgICAgICAgIC8qIFpfREFUQV9FUlJPUiAgICAoLTMpICovXG4gICAgICAgICAgICAnLTQnOiAnaW5zdWZmaWNpZW50IG1lbW9yeScsXG4gICAgICAgICAgICAvKiBaX01FTV9FUlJPUiAgICAgKC00KSAqL1xuICAgICAgICAgICAgJy01JzogJ2J1ZmZlciBlcnJvcicsXG4gICAgICAgICAgICAvKiBaX0JVRl9FUlJPUiAgICAgKC01KSAqL1xuICAgICAgICAgICAgJy02JzogJ2luY29tcGF0aWJsZSB2ZXJzaW9uJyxcbiAgICAgICAgICAgIC8qIFpfVkVSU0lPTl9FUlJPUiAoLTYpICovXG4gICAgICAgIH07XG4gICAgICAgIC8vIChDKSAyMDE0LTIwMTcgVml0YWx5IFB1enJpbiBhbmQgQW5kcmV5IFR1cGl0c2luXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFRoaXMgc29mdHdhcmUgaXMgcHJvdmlkZWQgJ2FzLWlzJywgd2l0aG91dCBhbnkgZXhwcmVzcyBvciBpbXBsaWVkXG4gICAgICAgIC8vIHdhcnJhbnR5LiBJbiBubyBldmVudCB3aWxsIHRoZSBhdXRob3JzIGJlIGhlbGQgbGlhYmxlIGZvciBhbnkgZGFtYWdlc1xuICAgICAgICAvLyBhcmlzaW5nIGZyb20gdGhlIHVzZSBvZiB0aGlzIHNvZnR3YXJlLlxuICAgICAgICAvL1xuICAgICAgICAvLyBQZXJtaXNzaW9uIGlzIGdyYW50ZWQgdG8gYW55b25lIHRvIHVzZSB0aGlzIHNvZnR3YXJlIGZvciBhbnkgcHVycG9zZSxcbiAgICAgICAgLy8gaW5jbHVkaW5nIGNvbW1lcmNpYWwgYXBwbGljYXRpb25zLCBhbmQgdG8gYWx0ZXIgaXQgYW5kIHJlZGlzdHJpYnV0ZSBpdFxuICAgICAgICAvLyBmcmVlbHksIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyByZXN0cmljdGlvbnM6XG4gICAgICAgIC8vXG4gICAgICAgIC8vIDEuIFRoZSBvcmlnaW4gb2YgdGhpcyBzb2Z0d2FyZSBtdXN0IG5vdCBiZSBtaXNyZXByZXNlbnRlZDsgeW91IG11c3Qgbm90XG4gICAgICAgIC8vICAgY2xhaW0gdGhhdCB5b3Ugd3JvdGUgdGhlIG9yaWdpbmFsIHNvZnR3YXJlLiBJZiB5b3UgdXNlIHRoaXMgc29mdHdhcmVcbiAgICAgICAgLy8gICBpbiBhIHByb2R1Y3QsIGFuIGFja25vd2xlZGdtZW50IGluIHRoZSBwcm9kdWN0IGRvY3VtZW50YXRpb24gd291bGQgYmVcbiAgICAgICAgLy8gICBhcHByZWNpYXRlZCBidXQgaXMgbm90IHJlcXVpcmVkLlxuICAgICAgICAvLyAyLiBBbHRlcmVkIHNvdXJjZSB2ZXJzaW9ucyBtdXN0IGJlIHBsYWlubHkgbWFya2VkIGFzIHN1Y2gsIGFuZCBtdXN0IG5vdCBiZVxuICAgICAgICAvLyAgIG1pc3JlcHJlc2VudGVkIGFzIGJlaW5nIHRoZSBvcmlnaW5hbCBzb2Z0d2FyZS5cbiAgICAgICAgLy8gMy4gVGhpcyBub3RpY2UgbWF5IG5vdCBiZSByZW1vdmVkIG9yIGFsdGVyZWQgZnJvbSBhbnkgc291cmNlIGRpc3RyaWJ1dGlvbi5cbiAgICAgICAgdmFyIGNvbnN0YW50cyA9IHtcbiAgICAgICAgICAgIC8qIEFsbG93ZWQgZmx1c2ggdmFsdWVzOyBzZWUgZGVmbGF0ZSgpIGFuZCBpbmZsYXRlKCkgYmVsb3cgZm9yIGRldGFpbHMgKi9cbiAgICAgICAgICAgIFpfTk9fRkxVU0g6IDAsXG4gICAgICAgICAgICBaX1BBUlRJQUxfRkxVU0g6IDEsXG4gICAgICAgICAgICBaX1NZTkNfRkxVU0g6IDIsXG4gICAgICAgICAgICBaX0ZVTExfRkxVU0g6IDMsXG4gICAgICAgICAgICBaX0ZJTklTSDogNCxcbiAgICAgICAgICAgIFpfQkxPQ0s6IDUsXG4gICAgICAgICAgICBaX1RSRUVTOiA2LFxuICAgICAgICAgICAgLyogUmV0dXJuIGNvZGVzIGZvciB0aGUgY29tcHJlc3Npb24vZGVjb21wcmVzc2lvbiBmdW5jdGlvbnMuIE5lZ2F0aXZlIHZhbHVlc1xuICAgICAgICAgICAgICogYXJlIGVycm9ycywgcG9zaXRpdmUgdmFsdWVzIGFyZSB1c2VkIGZvciBzcGVjaWFsIGJ1dCBub3JtYWwgZXZlbnRzLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBaX09LOiAwLFxuICAgICAgICAgICAgWl9TVFJFQU1fRU5EOiAxLFxuICAgICAgICAgICAgWl9ORUVEX0RJQ1Q6IDIsXG4gICAgICAgICAgICBaX0VSUk5POiAtMSxcbiAgICAgICAgICAgIFpfU1RSRUFNX0VSUk9SOiAtMixcbiAgICAgICAgICAgIFpfREFUQV9FUlJPUjogLTMsXG4gICAgICAgICAgICBaX01FTV9FUlJPUjogLTQsXG4gICAgICAgICAgICBaX0JVRl9FUlJPUjogLTUsXG4gICAgICAgICAgICAvLyBaX1ZFUlNJT05fRVJST1I6IC02LFxuICAgICAgICAgICAgLyogY29tcHJlc3Npb24gbGV2ZWxzICovXG4gICAgICAgICAgICBaX05PX0NPTVBSRVNTSU9OOiAwLFxuICAgICAgICAgICAgWl9CRVNUX1NQRUVEOiAxLFxuICAgICAgICAgICAgWl9CRVNUX0NPTVBSRVNTSU9OOiA5LFxuICAgICAgICAgICAgWl9ERUZBVUxUX0NPTVBSRVNTSU9OOiAtMSxcbiAgICAgICAgICAgIFpfRklMVEVSRUQ6IDEsXG4gICAgICAgICAgICBaX0hVRkZNQU5fT05MWTogMixcbiAgICAgICAgICAgIFpfUkxFOiAzLFxuICAgICAgICAgICAgWl9GSVhFRDogNCxcbiAgICAgICAgICAgIFpfREVGQVVMVF9TVFJBVEVHWTogMCxcbiAgICAgICAgICAgIC8qIFBvc3NpYmxlIHZhbHVlcyBvZiB0aGUgZGF0YV90eXBlIGZpZWxkICh0aG91Z2ggc2VlIGluZmxhdGUoKSkgKi9cbiAgICAgICAgICAgIFpfQklOQVJZOiAwLFxuICAgICAgICAgICAgWl9URVhUOiAxLFxuICAgICAgICAgICAgLy8gWl9BU0NJSTogICAgICAgICAgICAgICAgMSwgLy8gPSBaX1RFWFQgKGRlcHJlY2F0ZWQpXG4gICAgICAgICAgICBaX1VOS05PV046IDIsXG4gICAgICAgICAgICAvKiBUaGUgZGVmbGF0ZSBjb21wcmVzc2lvbiBtZXRob2QgKi9cbiAgICAgICAgICAgIFpfREVGTEFURUQ6IDgsIC8vIFpfTlVMTDogICAgICAgICAgICAgICAgIG51bGwgLy8gVXNlIC0xIG9yIG51bGwgaW5saW5lLCBkZXBlbmRpbmcgb24gdmFyIHR5cGVcbiAgICAgICAgfTtcbiAgICAgICAgLy8gKEMpIDIwMTQtMjAxNyBWaXRhbHkgUHV6cmluIGFuZCBBbmRyZXkgVHVwaXRzaW5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gVGhpcyBzb2Z0d2FyZSBpcyBwcm92aWRlZCAnYXMtaXMnLCB3aXRob3V0IGFueSBleHByZXNzIG9yIGltcGxpZWRcbiAgICAgICAgLy8gd2FycmFudHkuIEluIG5vIGV2ZW50IHdpbGwgdGhlIGF1dGhvcnMgYmUgaGVsZCBsaWFibGUgZm9yIGFueSBkYW1hZ2VzXG4gICAgICAgIC8vIGFyaXNpbmcgZnJvbSB0aGUgdXNlIG9mIHRoaXMgc29mdHdhcmUuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFBlcm1pc3Npb24gaXMgZ3JhbnRlZCB0byBhbnlvbmUgdG8gdXNlIHRoaXMgc29mdHdhcmUgZm9yIGFueSBwdXJwb3NlLFxuICAgICAgICAvLyBpbmNsdWRpbmcgY29tbWVyY2lhbCBhcHBsaWNhdGlvbnMsIGFuZCB0byBhbHRlciBpdCBhbmQgcmVkaXN0cmlidXRlIGl0XG4gICAgICAgIC8vIGZyZWVseSwgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIHJlc3RyaWN0aW9uczpcbiAgICAgICAgLy9cbiAgICAgICAgLy8gMS4gVGhlIG9yaWdpbiBvZiB0aGlzIHNvZnR3YXJlIG11c3Qgbm90IGJlIG1pc3JlcHJlc2VudGVkOyB5b3UgbXVzdCBub3RcbiAgICAgICAgLy8gICBjbGFpbSB0aGF0IHlvdSB3cm90ZSB0aGUgb3JpZ2luYWwgc29mdHdhcmUuIElmIHlvdSB1c2UgdGhpcyBzb2Z0d2FyZVxuICAgICAgICAvLyAgIGluIGEgcHJvZHVjdCwgYW4gYWNrbm93bGVkZ21lbnQgaW4gdGhlIHByb2R1Y3QgZG9jdW1lbnRhdGlvbiB3b3VsZCBiZVxuICAgICAgICAvLyAgIGFwcHJlY2lhdGVkIGJ1dCBpcyBub3QgcmVxdWlyZWQuXG4gICAgICAgIC8vIDIuIEFsdGVyZWQgc291cmNlIHZlcnNpb25zIG11c3QgYmUgcGxhaW5seSBtYXJrZWQgYXMgc3VjaCwgYW5kIG11c3Qgbm90IGJlXG4gICAgICAgIC8vICAgbWlzcmVwcmVzZW50ZWQgYXMgYmVpbmcgdGhlIG9yaWdpbmFsIHNvZnR3YXJlLlxuICAgICAgICAvLyAzLiBUaGlzIG5vdGljZSBtYXkgbm90IGJlIHJlbW92ZWQgb3IgYWx0ZXJlZCBmcm9tIGFueSBzb3VyY2UgZGlzdHJpYnV0aW9uLlxuICAgICAgICB2YXIgX3RyX2luaXQkMSA9IHRyZWVzLl90cl9pbml0O1xuICAgICAgICB2YXIgX3RyX3N0b3JlZF9ibG9jayQxID0gdHJlZXMuX3RyX3N0b3JlZF9ibG9jaztcbiAgICAgICAgdmFyIF90cl9mbHVzaF9ibG9jayQxID0gdHJlZXMuX3RyX2ZsdXNoX2Jsb2NrO1xuICAgICAgICB2YXIgX3RyX3RhbGx5JDEgPSB0cmVlcy5fdHJfdGFsbHk7XG4gICAgICAgIHZhciBfdHJfYWxpZ24kMSA9IHRyZWVzLl90cl9hbGlnbjtcbiAgICAgICAgLyogUHVibGljIGNvbnN0YW50cyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG4gICAgICAgIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuICAgICAgICB2YXIgWl9OT19GTFVTSCA9IGNvbnN0YW50cy5aX05PX0ZMVVNIO1xuICAgICAgICB2YXIgWl9QQVJUSUFMX0ZMVVNIID0gY29uc3RhbnRzLlpfUEFSVElBTF9GTFVTSDtcbiAgICAgICAgdmFyIFpfRlVMTF9GTFVTSCA9IGNvbnN0YW50cy5aX0ZVTExfRkxVU0g7XG4gICAgICAgIHZhciBaX0ZJTklTSCA9IGNvbnN0YW50cy5aX0ZJTklTSDtcbiAgICAgICAgdmFyIFpfQkxPQ0sgPSBjb25zdGFudHMuWl9CTE9DSztcbiAgICAgICAgdmFyIFpfT0sgPSBjb25zdGFudHMuWl9PSztcbiAgICAgICAgdmFyIFpfU1RSRUFNX0VORCA9IGNvbnN0YW50cy5aX1NUUkVBTV9FTkQ7XG4gICAgICAgIHZhciBaX1NUUkVBTV9FUlJPUiA9IGNvbnN0YW50cy5aX1NUUkVBTV9FUlJPUjtcbiAgICAgICAgdmFyIFpfREFUQV9FUlJPUiA9IGNvbnN0YW50cy5aX0RBVEFfRVJST1I7XG4gICAgICAgIHZhciBaX0JVRl9FUlJPUiA9IGNvbnN0YW50cy5aX0JVRl9FUlJPUjtcbiAgICAgICAgdmFyIFpfREVGQVVMVF9DT01QUkVTU0lPTiA9IGNvbnN0YW50cy5aX0RFRkFVTFRfQ09NUFJFU1NJT047XG4gICAgICAgIHZhciBaX0ZJTFRFUkVEID0gY29uc3RhbnRzLlpfRklMVEVSRUQ7XG4gICAgICAgIHZhciBaX0hVRkZNQU5fT05MWSA9IGNvbnN0YW50cy5aX0hVRkZNQU5fT05MWTtcbiAgICAgICAgdmFyIFpfUkxFID0gY29uc3RhbnRzLlpfUkxFO1xuICAgICAgICB2YXIgWl9GSVhFRCQxID0gY29uc3RhbnRzLlpfRklYRUQ7XG4gICAgICAgIHZhciBaX0RFRkFVTFRfU1RSQVRFR1kgPSBjb25zdGFudHMuWl9ERUZBVUxUX1NUUkFURUdZO1xuICAgICAgICB2YXIgWl9VTktOT1dOJDEgPSBjb25zdGFudHMuWl9VTktOT1dOO1xuICAgICAgICB2YXIgWl9ERUZMQVRFRCA9IGNvbnN0YW50cy5aX0RFRkxBVEVEO1xuICAgICAgICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG4gICAgICAgIHZhciBNQVhfTUVNX0xFVkVMID0gOTtcbiAgICAgICAgLyogTWF4aW11bSB2YWx1ZSBmb3IgbWVtTGV2ZWwgaW4gZGVmbGF0ZUluaXQyICovXG4gICAgICAgIHZhciBNQVhfV0JJVFMgPSAxNTtcbiAgICAgICAgLyogMzJLIExaNzcgd2luZG93ICovXG4gICAgICAgIHZhciBERUZfTUVNX0xFVkVMID0gODtcbiAgICAgICAgdmFyIExFTkdUSF9DT0RFUyQxID0gMjk7XG4gICAgICAgIC8qIG51bWJlciBvZiBsZW5ndGggY29kZXMsIG5vdCBjb3VudGluZyB0aGUgc3BlY2lhbCBFTkRfQkxPQ0sgY29kZSAqL1xuICAgICAgICB2YXIgTElURVJBTFMkMSA9IDI1NjtcbiAgICAgICAgLyogbnVtYmVyIG9mIGxpdGVyYWwgYnl0ZXMgMC4uMjU1ICovXG4gICAgICAgIHZhciBMX0NPREVTJDEgPSBMSVRFUkFMUyQxICsgMSArIExFTkdUSF9DT0RFUyQxO1xuICAgICAgICAvKiBudW1iZXIgb2YgTGl0ZXJhbCBvciBMZW5ndGggY29kZXMsIGluY2x1ZGluZyB0aGUgRU5EX0JMT0NLIGNvZGUgKi9cbiAgICAgICAgdmFyIERfQ09ERVMkMSA9IDMwO1xuICAgICAgICAvKiBudW1iZXIgb2YgZGlzdGFuY2UgY29kZXMgKi9cbiAgICAgICAgdmFyIEJMX0NPREVTJDEgPSAxOTtcbiAgICAgICAgLyogbnVtYmVyIG9mIGNvZGVzIHVzZWQgdG8gdHJhbnNmZXIgdGhlIGJpdCBsZW5ndGhzICovXG4gICAgICAgIHZhciBIRUFQX1NJWkUkMSA9IDIgKiBMX0NPREVTJDEgKyAxO1xuICAgICAgICAvKiBtYXhpbXVtIGhlYXAgc2l6ZSAqL1xuICAgICAgICB2YXIgTUFYX0JJVFMkMSA9IDE1O1xuICAgICAgICAvKiBBbGwgY29kZXMgbXVzdCBub3QgZXhjZWVkIE1BWF9CSVRTIGJpdHMgKi9cbiAgICAgICAgdmFyIE1JTl9NQVRDSCQxID0gMztcbiAgICAgICAgdmFyIE1BWF9NQVRDSCQxID0gMjU4O1xuICAgICAgICB2YXIgTUlOX0xPT0tBSEVBRCA9IE1BWF9NQVRDSCQxICsgTUlOX01BVENIJDEgKyAxO1xuICAgICAgICB2YXIgUFJFU0VUX0RJQ1QgPSAweDIwO1xuICAgICAgICB2YXIgSU5JVF9TVEFURSA9IDQyO1xuICAgICAgICB2YXIgRVhUUkFfU1RBVEUgPSA2OTtcbiAgICAgICAgdmFyIE5BTUVfU1RBVEUgPSA3MztcbiAgICAgICAgdmFyIENPTU1FTlRfU1RBVEUgPSA5MTtcbiAgICAgICAgdmFyIEhDUkNfU1RBVEUgPSAxMDM7XG4gICAgICAgIHZhciBCVVNZX1NUQVRFID0gMTEzO1xuICAgICAgICB2YXIgRklOSVNIX1NUQVRFID0gNjY2O1xuICAgICAgICB2YXIgQlNfTkVFRF9NT1JFID0gMTtcbiAgICAgICAgLyogYmxvY2sgbm90IGNvbXBsZXRlZCwgbmVlZCBtb3JlIGlucHV0IG9yIG1vcmUgb3V0cHV0ICovXG4gICAgICAgIHZhciBCU19CTE9DS19ET05FID0gMjtcbiAgICAgICAgLyogYmxvY2sgZmx1c2ggcGVyZm9ybWVkICovXG4gICAgICAgIHZhciBCU19GSU5JU0hfU1RBUlRFRCA9IDM7XG4gICAgICAgIC8qIGZpbmlzaCBzdGFydGVkLCBuZWVkIG9ubHkgbW9yZSBvdXRwdXQgYXQgbmV4dCBkZWZsYXRlICovXG4gICAgICAgIHZhciBCU19GSU5JU0hfRE9ORSA9IDQ7XG4gICAgICAgIC8qIGZpbmlzaCBkb25lLCBhY2NlcHQgbm8gbW9yZSBpbnB1dCBvciBvdXRwdXQgKi9cbiAgICAgICAgdmFyIE9TX0NPREUgPSAweDAzOyAvLyBVbml4IDopIC4gRG9uJ3QgZGV0ZWN0LCB1c2UgdGhpcyBkZWZhdWx0LlxuICAgICAgICB2YXIgZXJyID0gZnVuY3Rpb24gZXJyKHN0cm0sIGVycm9yQ29kZSkge1xuICAgICAgICAgICAgc3RybS5tc2cgPSBtZXNzYWdlc1tlcnJvckNvZGVdO1xuICAgICAgICAgICAgcmV0dXJuIGVycm9yQ29kZTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHJhbmsgPSBmdW5jdGlvbiByYW5rKGYpIHtcbiAgICAgICAgICAgIHJldHVybiAoZiA8PCAxKSAtIChmID4gNCA/IDkgOiAwKTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHplcm8kMSA9IGZ1bmN0aW9uIHplcm8oYnVmKSB7XG4gICAgICAgICAgICB2YXIgbGVuID0gYnVmLmxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlICgtLWxlbiA+PSAwKSB7XG4gICAgICAgICAgICAgICAgYnVmW2xlbl0gPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB2YXIgSEFTSF9aTElCID0gZnVuY3Rpb24gSEFTSF9aTElCKHMsIHByZXYsIGRhdGEpIHtcbiAgICAgICAgICAgIHJldHVybiAoKHByZXYgPDwgcy5oYXNoX3NoaWZ0KSBeIGRhdGEpICYgcy5oYXNoX21hc2s7XG4gICAgICAgIH07IC8vIFRoaXMgaGFzaCBjYXVzZXMgbGVzcyBjb2xsaXNpb25zLCBodHRwczovL2dpdGh1Yi5jb20vbm9kZWNhL3Bha28vaXNzdWVzLzEzNVxuICAgICAgICAvLyBCdXQgYnJlYWtzIGJpbmFyeSBjb21wYXRpYmlsaXR5XG4gICAgICAgIC8vIGxldCBIQVNIX0ZBU1QgPSAocywgcHJldiwgZGF0YSkgPT4gKChwcmV2IDw8IDgpICsgKHByZXYgPj4gOCkgKyAoZGF0YSA8PCA0KSkgJiBzLmhhc2hfbWFzaztcbiAgICAgICAgdmFyIEhBU0ggPSBIQVNIX1pMSUI7XG4gICAgICAgIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgICAgICogRmx1c2ggYXMgbXVjaCBwZW5kaW5nIG91dHB1dCBhcyBwb3NzaWJsZS4gQWxsIGRlZmxhdGUoKSBvdXRwdXQgZ29lc1xuICAgICAgICAgKiB0aHJvdWdoIHRoaXMgZnVuY3Rpb24gc28gc29tZSBhcHBsaWNhdGlvbnMgbWF5IHdpc2ggdG8gbW9kaWZ5IGl0XG4gICAgICAgICAqIHRvIGF2b2lkIGFsbG9jYXRpbmcgYSBsYXJnZSBzdHJtLT5vdXRwdXQgYnVmZmVyIGFuZCBjb3B5aW5nIGludG8gaXQuXG4gICAgICAgICAqIChTZWUgYWxzbyByZWFkX2J1ZigpKS5cbiAgICAgICAgICovXG4gICAgICAgIHZhciBmbHVzaF9wZW5kaW5nID0gZnVuY3Rpb24gZmx1c2hfcGVuZGluZyhzdHJtKSB7XG4gICAgICAgICAgICB2YXIgcyA9IHN0cm0uc3RhdGU7IC8vIF90cl9mbHVzaF9iaXRzKHMpO1xuICAgICAgICAgICAgdmFyIGxlbiA9IHMucGVuZGluZztcbiAgICAgICAgICAgIGlmIChsZW4gPiBzdHJtLmF2YWlsX291dCkge1xuICAgICAgICAgICAgICAgIGxlbiA9IHN0cm0uYXZhaWxfb3V0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGxlbiA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0cm0ub3V0cHV0LnNldChzLnBlbmRpbmdfYnVmLnN1YmFycmF5KHMucGVuZGluZ19vdXQsIHMucGVuZGluZ19vdXQgKyBsZW4pLCBzdHJtLm5leHRfb3V0KTtcbiAgICAgICAgICAgIHN0cm0ubmV4dF9vdXQgKz0gbGVuO1xuICAgICAgICAgICAgcy5wZW5kaW5nX291dCArPSBsZW47XG4gICAgICAgICAgICBzdHJtLnRvdGFsX291dCArPSBsZW47XG4gICAgICAgICAgICBzdHJtLmF2YWlsX291dCAtPSBsZW47XG4gICAgICAgICAgICBzLnBlbmRpbmcgLT0gbGVuO1xuICAgICAgICAgICAgaWYgKHMucGVuZGluZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHMucGVuZGluZ19vdXQgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB2YXIgZmx1c2hfYmxvY2tfb25seSA9IGZ1bmN0aW9uIGZsdXNoX2Jsb2NrX29ubHkocywgbGFzdCkge1xuICAgICAgICAgICAgX3RyX2ZsdXNoX2Jsb2NrJDEocywgcy5ibG9ja19zdGFydCA+PSAwID8gcy5ibG9ja19zdGFydCA6IC0xLCBzLnN0cnN0YXJ0IC0gcy5ibG9ja19zdGFydCwgbGFzdCk7XG4gICAgICAgICAgICBzLmJsb2NrX3N0YXJ0ID0gcy5zdHJzdGFydDtcbiAgICAgICAgICAgIGZsdXNoX3BlbmRpbmcocy5zdHJtKTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHB1dF9ieXRlID0gZnVuY3Rpb24gcHV0X2J5dGUocywgYikge1xuICAgICAgICAgICAgcy5wZW5kaW5nX2J1ZltzLnBlbmRpbmcrK10gPSBiO1xuICAgICAgICB9O1xuICAgICAgICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICAgICAqIFB1dCBhIHNob3J0IGluIHRoZSBwZW5kaW5nIGJ1ZmZlci4gVGhlIDE2LWJpdCB2YWx1ZSBpcyBwdXQgaW4gTVNCIG9yZGVyLlxuICAgICAgICAgKiBJTiBhc3NlcnRpb246IHRoZSBzdHJlYW0gc3RhdGUgaXMgY29ycmVjdCBhbmQgdGhlcmUgaXMgZW5vdWdoIHJvb20gaW5cbiAgICAgICAgICogcGVuZGluZ19idWYuXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgcHV0U2hvcnRNU0IgPSBmdW5jdGlvbiBwdXRTaG9ydE1TQihzLCBiKSB7XG4gICAgICAgICAgICAvLyAgcHV0X2J5dGUocywgKEJ5dGUpKGIgPj4gOCkpO1xuICAgICAgICAgICAgLy8gIHB1dF9ieXRlKHMsIChCeXRlKShiICYgMHhmZikpO1xuICAgICAgICAgICAgcy5wZW5kaW5nX2J1ZltzLnBlbmRpbmcrK10gPSAoYiA+Pj4gOCkgJiAweGZmO1xuICAgICAgICAgICAgcy5wZW5kaW5nX2J1ZltzLnBlbmRpbmcrK10gPSBiICYgMHhmZjtcbiAgICAgICAgfTtcbiAgICAgICAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICAgICAqIFJlYWQgYSBuZXcgYnVmZmVyIGZyb20gdGhlIGN1cnJlbnQgaW5wdXQgc3RyZWFtLCB1cGRhdGUgdGhlIGFkbGVyMzJcbiAgICAgICAgICogYW5kIHRvdGFsIG51bWJlciBvZiBieXRlcyByZWFkLiAgQWxsIGRlZmxhdGUoKSBpbnB1dCBnb2VzIHRocm91Z2hcbiAgICAgICAgICogdGhpcyBmdW5jdGlvbiBzbyBzb21lIGFwcGxpY2F0aW9ucyBtYXkgd2lzaCB0byBtb2RpZnkgaXQgdG8gYXZvaWRcbiAgICAgICAgICogYWxsb2NhdGluZyBhIGxhcmdlIHN0cm0tPmlucHV0IGJ1ZmZlciBhbmQgY29weWluZyBmcm9tIGl0LlxuICAgICAgICAgKiAoU2VlIGFsc28gZmx1c2hfcGVuZGluZygpKS5cbiAgICAgICAgICovXG4gICAgICAgIHZhciByZWFkX2J1ZiA9IGZ1bmN0aW9uIHJlYWRfYnVmKHN0cm0sIGJ1Ziwgc3RhcnQsIHNpemUpIHtcbiAgICAgICAgICAgIHZhciBsZW4gPSBzdHJtLmF2YWlsX2luO1xuICAgICAgICAgICAgaWYgKGxlbiA+IHNpemUpIHtcbiAgICAgICAgICAgICAgICBsZW4gPSBzaXplO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGxlbiA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RybS5hdmFpbF9pbiAtPSBsZW47IC8vIHptZW1jcHkoYnVmLCBzdHJtLT5uZXh0X2luLCBsZW4pO1xuICAgICAgICAgICAgYnVmLnNldChzdHJtLmlucHV0LnN1YmFycmF5KHN0cm0ubmV4dF9pbiwgc3RybS5uZXh0X2luICsgbGVuKSwgc3RhcnQpO1xuICAgICAgICAgICAgaWYgKHN0cm0uc3RhdGUud3JhcCA9PT0gMSkge1xuICAgICAgICAgICAgICAgIHN0cm0uYWRsZXIgPSBhZGxlcjMyXzEoc3RybS5hZGxlciwgYnVmLCBsZW4sIHN0YXJ0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHN0cm0uc3RhdGUud3JhcCA9PT0gMikge1xuICAgICAgICAgICAgICAgIHN0cm0uYWRsZXIgPSBjcmMzMl8xKHN0cm0uYWRsZXIsIGJ1ZiwgbGVuLCBzdGFydCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdHJtLm5leHRfaW4gKz0gbGVuO1xuICAgICAgICAgICAgc3RybS50b3RhbF9pbiArPSBsZW47XG4gICAgICAgICAgICByZXR1cm4gbGVuO1xuICAgICAgICB9O1xuICAgICAgICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgICAgICogU2V0IG1hdGNoX3N0YXJ0IHRvIHRoZSBsb25nZXN0IG1hdGNoIHN0YXJ0aW5nIGF0IHRoZSBnaXZlbiBzdHJpbmcgYW5kXG4gICAgICAgICAqIHJldHVybiBpdHMgbGVuZ3RoLiBNYXRjaGVzIHNob3J0ZXIgb3IgZXF1YWwgdG8gcHJldl9sZW5ndGggYXJlIGRpc2NhcmRlZCxcbiAgICAgICAgICogaW4gd2hpY2ggY2FzZSB0aGUgcmVzdWx0IGlzIGVxdWFsIHRvIHByZXZfbGVuZ3RoIGFuZCBtYXRjaF9zdGFydCBpc1xuICAgICAgICAgKiBnYXJiYWdlLlxuICAgICAgICAgKiBJTiBhc3NlcnRpb25zOiBjdXJfbWF0Y2ggaXMgdGhlIGhlYWQgb2YgdGhlIGhhc2ggY2hhaW4gZm9yIHRoZSBjdXJyZW50XG4gICAgICAgICAqICAgc3RyaW5nIChzdHJzdGFydCkgYW5kIGl0cyBkaXN0YW5jZSBpcyA8PSBNQVhfRElTVCwgYW5kIHByZXZfbGVuZ3RoID49IDFcbiAgICAgICAgICogT1VUIGFzc2VydGlvbjogdGhlIG1hdGNoIGxlbmd0aCBpcyBub3QgZ3JlYXRlciB0aGFuIHMtPmxvb2thaGVhZC5cbiAgICAgICAgICovXG4gICAgICAgIHZhciBsb25nZXN0X21hdGNoID0gZnVuY3Rpb24gbG9uZ2VzdF9tYXRjaChzLCBjdXJfbWF0Y2gpIHtcbiAgICAgICAgICAgIHZhciBjaGFpbl9sZW5ndGggPSBzLm1heF9jaGFpbl9sZW5ndGg7XG4gICAgICAgICAgICAvKiBtYXggaGFzaCBjaGFpbiBsZW5ndGggKi9cbiAgICAgICAgICAgIHZhciBzY2FuID0gcy5zdHJzdGFydDtcbiAgICAgICAgICAgIC8qIGN1cnJlbnQgc3RyaW5nICovXG4gICAgICAgICAgICB2YXIgbWF0Y2g7XG4gICAgICAgICAgICAvKiBtYXRjaGVkIHN0cmluZyAqL1xuICAgICAgICAgICAgdmFyIGxlbjtcbiAgICAgICAgICAgIC8qIGxlbmd0aCBvZiBjdXJyZW50IG1hdGNoICovXG4gICAgICAgICAgICB2YXIgYmVzdF9sZW4gPSBzLnByZXZfbGVuZ3RoO1xuICAgICAgICAgICAgLyogYmVzdCBtYXRjaCBsZW5ndGggc28gZmFyICovXG4gICAgICAgICAgICB2YXIgbmljZV9tYXRjaCA9IHMubmljZV9tYXRjaDtcbiAgICAgICAgICAgIC8qIHN0b3AgaWYgbWF0Y2ggbG9uZyBlbm91Z2ggKi9cbiAgICAgICAgICAgIHZhciBsaW1pdCA9IHMuc3Ryc3RhcnQgPiBzLndfc2l6ZSAtIE1JTl9MT09LQUhFQUQgPyBzLnN0cnN0YXJ0IC0gKHMud19zaXplIC0gTUlOX0xPT0tBSEVBRCkgOiAwO1xuICAgICAgICAgICAgLyogTklMICovXG4gICAgICAgICAgICB2YXIgX3dpbiA9IHMud2luZG93OyAvLyBzaG9ydGN1dFxuICAgICAgICAgICAgdmFyIHdtYXNrID0gcy53X21hc2s7XG4gICAgICAgICAgICB2YXIgcHJldiA9IHMucHJldjtcbiAgICAgICAgICAgIC8qIFN0b3Agd2hlbiBjdXJfbWF0Y2ggYmVjb21lcyA8PSBsaW1pdC4gVG8gc2ltcGxpZnkgdGhlIGNvZGUsXG4gICAgICAgICAgICAgKiB3ZSBwcmV2ZW50IG1hdGNoZXMgd2l0aCB0aGUgc3RyaW5nIG9mIHdpbmRvdyBpbmRleCAwLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB2YXIgc3RyZW5kID0gcy5zdHJzdGFydCArIE1BWF9NQVRDSCQxO1xuICAgICAgICAgICAgdmFyIHNjYW5fZW5kMSA9IF93aW5bc2NhbiArIGJlc3RfbGVuIC0gMV07XG4gICAgICAgICAgICB2YXIgc2Nhbl9lbmQgPSBfd2luW3NjYW4gKyBiZXN0X2xlbl07XG4gICAgICAgICAgICAvKiBUaGUgY29kZSBpcyBvcHRpbWl6ZWQgZm9yIEhBU0hfQklUUyA+PSA4IGFuZCBNQVhfTUFUQ0gtMiBtdWx0aXBsZSBvZiAxNi5cbiAgICAgICAgICAgICAqIEl0IGlzIGVhc3kgdG8gZ2V0IHJpZCBvZiB0aGlzIG9wdGltaXphdGlvbiBpZiBuZWNlc3NhcnkuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC8vIEFzc2VydChzLT5oYXNoX2JpdHMgPj0gOCAmJiBNQVhfTUFUQ0ggPT0gMjU4LCBcIkNvZGUgdG9vIGNsZXZlclwiKTtcbiAgICAgICAgICAgIC8qIERvIG5vdCB3YXN0ZSB0b28gbXVjaCB0aW1lIGlmIHdlIGFscmVhZHkgaGF2ZSBhIGdvb2QgbWF0Y2g6ICovXG4gICAgICAgICAgICBpZiAocy5wcmV2X2xlbmd0aCA+PSBzLmdvb2RfbWF0Y2gpIHtcbiAgICAgICAgICAgICAgICBjaGFpbl9sZW5ndGggPj49IDI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKiBEbyBub3QgbG9vayBmb3IgbWF0Y2hlcyBiZXlvbmQgdGhlIGVuZCBvZiB0aGUgaW5wdXQuIFRoaXMgaXMgbmVjZXNzYXJ5XG4gICAgICAgICAgICAgKiB0byBtYWtlIGRlZmxhdGUgZGV0ZXJtaW5pc3RpYy5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYgKG5pY2VfbWF0Y2ggPiBzLmxvb2thaGVhZCkge1xuICAgICAgICAgICAgICAgIG5pY2VfbWF0Y2ggPSBzLmxvb2thaGVhZDtcbiAgICAgICAgICAgIH0gLy8gQXNzZXJ0KCh1bGcpcy0+c3Ryc3RhcnQgPD0gcy0+d2luZG93X3NpemUtTUlOX0xPT0tBSEVBRCwgXCJuZWVkIGxvb2thaGVhZFwiKTtcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICAvLyBBc3NlcnQoY3VyX21hdGNoIDwgcy0+c3Ryc3RhcnQsIFwibm8gZnV0dXJlXCIpO1xuICAgICAgICAgICAgICAgIG1hdGNoID0gY3VyX21hdGNoO1xuICAgICAgICAgICAgICAgIC8qIFNraXAgdG8gbmV4dCBtYXRjaCBpZiB0aGUgbWF0Y2ggbGVuZ3RoIGNhbm5vdCBpbmNyZWFzZVxuICAgICAgICAgICAgICAgICAqIG9yIGlmIHRoZSBtYXRjaCBsZW5ndGggaXMgbGVzcyB0aGFuIDIuICBOb3RlIHRoYXQgdGhlIGNoZWNrcyBiZWxvd1xuICAgICAgICAgICAgICAgICAqIGZvciBpbnN1ZmZpY2llbnQgbG9va2FoZWFkIG9ubHkgb2NjdXIgb2NjYXNpb25hbGx5IGZvciBwZXJmb3JtYW5jZVxuICAgICAgICAgICAgICAgICAqIHJlYXNvbnMuICBUaGVyZWZvcmUgdW5pbml0aWFsaXplZCBtZW1vcnkgd2lsbCBiZSBhY2Nlc3NlZCwgYW5kXG4gICAgICAgICAgICAgICAgICogY29uZGl0aW9uYWwganVtcHMgd2lsbCBiZSBtYWRlIHRoYXQgZGVwZW5kIG9uIHRob3NlIHZhbHVlcy5cbiAgICAgICAgICAgICAgICAgKiBIb3dldmVyIHRoZSBsZW5ndGggb2YgdGhlIG1hdGNoIGlzIGxpbWl0ZWQgdG8gdGhlIGxvb2thaGVhZCwgc29cbiAgICAgICAgICAgICAgICAgKiB0aGUgb3V0cHV0IG9mIGRlZmxhdGUgaXMgbm90IGFmZmVjdGVkIGJ5IHRoZSB1bmluaXRpYWxpemVkIHZhbHVlcy5cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBpZiAoX3dpblttYXRjaCArIGJlc3RfbGVuXSAhPT0gc2Nhbl9lbmQgfHxcbiAgICAgICAgICAgICAgICAgICAgX3dpblttYXRjaCArIGJlc3RfbGVuIC0gMV0gIT09IHNjYW5fZW5kMSB8fFxuICAgICAgICAgICAgICAgICAgICBfd2luW21hdGNoXSAhPT0gX3dpbltzY2FuXSB8fFxuICAgICAgICAgICAgICAgICAgICBfd2luWysrbWF0Y2hdICE9PSBfd2luW3NjYW4gKyAxXSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyogVGhlIGNoZWNrIGF0IGJlc3RfbGVuLTEgY2FuIGJlIHJlbW92ZWQgYmVjYXVzZSBpdCB3aWxsIGJlIG1hZGVcbiAgICAgICAgICAgICAgICAgKiBhZ2FpbiBsYXRlci4gKFRoaXMgaGV1cmlzdGljIGlzIG5vdCBhbHdheXMgYSB3aW4uKVxuICAgICAgICAgICAgICAgICAqIEl0IGlzIG5vdCBuZWNlc3NhcnkgdG8gY29tcGFyZSBzY2FuWzJdIGFuZCBtYXRjaFsyXSBzaW5jZSB0aGV5XG4gICAgICAgICAgICAgICAgICogYXJlIGFsd2F5cyBlcXVhbCB3aGVuIHRoZSBvdGhlciBieXRlcyBtYXRjaCwgZ2l2ZW4gdGhhdFxuICAgICAgICAgICAgICAgICAqIHRoZSBoYXNoIGtleXMgYXJlIGVxdWFsIGFuZCB0aGF0IEhBU0hfQklUUyA+PSA4LlxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHNjYW4gKz0gMjtcbiAgICAgICAgICAgICAgICBtYXRjaCsrOyAvLyBBc3NlcnQoKnNjYW4gPT0gKm1hdGNoLCBcIm1hdGNoWzJdP1wiKTtcbiAgICAgICAgICAgICAgICAvKiBXZSBjaGVjayBmb3IgaW5zdWZmaWNpZW50IGxvb2thaGVhZCBvbmx5IGV2ZXJ5IDh0aCBjb21wYXJpc29uO1xuICAgICAgICAgICAgICAgICAqIHRoZSAyNTZ0aCBjaGVjayB3aWxsIGJlIG1hZGUgYXQgc3Ryc3RhcnQrMjU4LlxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICAgICAgLyoganNoaW50IG5vZW1wdHk6ZmFsc2UgKi9cbiAgICAgICAgICAgICAgICB9IHdoaWxlIChfd2luWysrc2Nhbl0gPT09IF93aW5bKyttYXRjaF0gJiZcbiAgICAgICAgICAgICAgICAgICAgX3dpblsrK3NjYW5dID09PSBfd2luWysrbWF0Y2hdICYmXG4gICAgICAgICAgICAgICAgICAgIF93aW5bKytzY2FuXSA9PT0gX3dpblsrK21hdGNoXSAmJlxuICAgICAgICAgICAgICAgICAgICBfd2luWysrc2Nhbl0gPT09IF93aW5bKyttYXRjaF0gJiZcbiAgICAgICAgICAgICAgICAgICAgX3dpblsrK3NjYW5dID09PSBfd2luWysrbWF0Y2hdICYmXG4gICAgICAgICAgICAgICAgICAgIF93aW5bKytzY2FuXSA9PT0gX3dpblsrK21hdGNoXSAmJlxuICAgICAgICAgICAgICAgICAgICBfd2luWysrc2Nhbl0gPT09IF93aW5bKyttYXRjaF0gJiZcbiAgICAgICAgICAgICAgICAgICAgX3dpblsrK3NjYW5dID09PSBfd2luWysrbWF0Y2hdICYmXG4gICAgICAgICAgICAgICAgICAgIHNjYW4gPCBzdHJlbmQpOyAvLyBBc3NlcnQoc2NhbiA8PSBzLT53aW5kb3crKHVuc2lnbmVkKShzLT53aW5kb3dfc2l6ZS0xKSwgXCJ3aWxkIHNjYW5cIik7XG4gICAgICAgICAgICAgICAgbGVuID0gTUFYX01BVENIJDEgLSAoc3RyZW5kIC0gc2Nhbik7XG4gICAgICAgICAgICAgICAgc2NhbiA9IHN0cmVuZCAtIE1BWF9NQVRDSCQxO1xuICAgICAgICAgICAgICAgIGlmIChsZW4gPiBiZXN0X2xlbikge1xuICAgICAgICAgICAgICAgICAgICBzLm1hdGNoX3N0YXJ0ID0gY3VyX21hdGNoO1xuICAgICAgICAgICAgICAgICAgICBiZXN0X2xlbiA9IGxlbjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxlbiA+PSBuaWNlX21hdGNoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzY2FuX2VuZDEgPSBfd2luW3NjYW4gKyBiZXN0X2xlbiAtIDFdO1xuICAgICAgICAgICAgICAgICAgICBzY2FuX2VuZCA9IF93aW5bc2NhbiArIGJlc3RfbGVuXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IHdoaWxlICgoY3VyX21hdGNoID0gcHJldltjdXJfbWF0Y2ggJiB3bWFza10pID4gbGltaXQgJiYgLS1jaGFpbl9sZW5ndGggIT09IDApO1xuICAgICAgICAgICAgaWYgKGJlc3RfbGVuIDw9IHMubG9va2FoZWFkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJlc3RfbGVuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHMubG9va2FoZWFkO1xuICAgICAgICB9O1xuICAgICAgICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgICAgICogRmlsbCB0aGUgd2luZG93IHdoZW4gdGhlIGxvb2thaGVhZCBiZWNvbWVzIGluc3VmZmljaWVudC5cbiAgICAgICAgICogVXBkYXRlcyBzdHJzdGFydCBhbmQgbG9va2FoZWFkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBJTiBhc3NlcnRpb246IGxvb2thaGVhZCA8IE1JTl9MT09LQUhFQURcbiAgICAgICAgICogT1VUIGFzc2VydGlvbnM6IHN0cnN0YXJ0IDw9IHdpbmRvd19zaXplLU1JTl9MT09LQUhFQURcbiAgICAgICAgICogICAgQXQgbGVhc3Qgb25lIGJ5dGUgaGFzIGJlZW4gcmVhZCwgb3IgYXZhaWxfaW4gPT0gMDsgcmVhZHMgYXJlXG4gICAgICAgICAqICAgIHBlcmZvcm1lZCBmb3IgYXQgbGVhc3QgdHdvIGJ5dGVzIChyZXF1aXJlZCBmb3IgdGhlIHppcCB0cmFuc2xhdGVfZW9sXG4gICAgICAgICAqICAgIG9wdGlvbiAtLSBub3Qgc3VwcG9ydGVkIGhlcmUpLlxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIGZpbGxfd2luZG93ID0gZnVuY3Rpb24gZmlsbF93aW5kb3cocykge1xuICAgICAgICAgICAgdmFyIF93X3NpemUgPSBzLndfc2l6ZTtcbiAgICAgICAgICAgIHZhciBwO1xuICAgICAgICAgICAgdmFyIG47XG4gICAgICAgICAgICB2YXIgbTtcbiAgICAgICAgICAgIHZhciBtb3JlO1xuICAgICAgICAgICAgdmFyIHN0cjsgLy8gQXNzZXJ0KHMtPmxvb2thaGVhZCA8IE1JTl9MT09LQUhFQUQsIFwiYWxyZWFkeSBlbm91Z2ggbG9va2FoZWFkXCIpO1xuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgIG1vcmUgPSBzLndpbmRvd19zaXplIC0gcy5sb29rYWhlYWQgLSBzLnN0cnN0YXJ0OyAvLyBKUyBpbnRzIGhhdmUgMzIgYml0LCBibG9jayBiZWxvdyBub3QgbmVlZGVkXG4gICAgICAgICAgICAgICAgLyogRGVhbCB3aXRoICFAIyQlIDY0SyBsaW1pdDogKi9cbiAgICAgICAgICAgICAgICAvLyBpZiAoc2l6ZW9mKGludCkgPD0gMikge1xuICAgICAgICAgICAgICAgIC8vICAgIGlmIChtb3JlID09IDAgJiYgcy0+c3Ryc3RhcnQgPT0gMCAmJiBzLT5sb29rYWhlYWQgPT0gMCkge1xuICAgICAgICAgICAgICAgIC8vICAgICAgICBtb3JlID0gd3NpemU7XG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvLyAgfSBlbHNlIGlmIChtb3JlID09ICh1bnNpZ25lZCkoLTEpKSB7XG4gICAgICAgICAgICAgICAgLy8gICAgICAgIC8qIFZlcnkgdW5saWtlbHksIGJ1dCBwb3NzaWJsZSBvbiAxNiBiaXQgbWFjaGluZSBpZlxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgKiBzdHJzdGFydCA9PSAwICYmIGxvb2thaGVhZCA9PSAxIChpbnB1dCBkb25lIGEgYnl0ZSBhdCB0aW1lKVxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAvLyAgICAgICAgbW9yZS0tO1xuICAgICAgICAgICAgICAgIC8vICAgIH1cbiAgICAgICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAgICAgLyogSWYgdGhlIHdpbmRvdyBpcyBhbG1vc3QgZnVsbCBhbmQgdGhlcmUgaXMgaW5zdWZmaWNpZW50IGxvb2thaGVhZCxcbiAgICAgICAgICAgICAgICAgKiBtb3ZlIHRoZSB1cHBlciBoYWxmIHRvIHRoZSBsb3dlciBvbmUgdG8gbWFrZSByb29tIGluIHRoZSB1cHBlciBoYWxmLlxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGlmIChzLnN0cnN0YXJ0ID49IF93X3NpemUgKyAoX3dfc2l6ZSAtIE1JTl9MT09LQUhFQUQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHMud2luZG93LnNldChzLndpbmRvdy5zdWJhcnJheShfd19zaXplLCBfd19zaXplICsgX3dfc2l6ZSksIDApO1xuICAgICAgICAgICAgICAgICAgICBzLm1hdGNoX3N0YXJ0IC09IF93X3NpemU7XG4gICAgICAgICAgICAgICAgICAgIHMuc3Ryc3RhcnQgLT0gX3dfc2l6ZTtcbiAgICAgICAgICAgICAgICAgICAgLyogd2Ugbm93IGhhdmUgc3Ryc3RhcnQgPj0gTUFYX0RJU1QgKi9cbiAgICAgICAgICAgICAgICAgICAgcy5ibG9ja19zdGFydCAtPSBfd19zaXplO1xuICAgICAgICAgICAgICAgICAgICAvKiBTbGlkZSB0aGUgaGFzaCB0YWJsZSAoY291bGQgYmUgYXZvaWRlZCB3aXRoIDMyIGJpdCB2YWx1ZXNcbiAgICAgICAgICAgICAgICAgICBhdCB0aGUgZXhwZW5zZSBvZiBtZW1vcnkgdXNhZ2UpLiBXZSBzbGlkZSBldmVuIHdoZW4gbGV2ZWwgPT0gMFxuICAgICAgICAgICAgICAgICAgIHRvIGtlZXAgdGhlIGhhc2ggdGFibGUgY29uc2lzdGVudCBpZiB3ZSBzd2l0Y2ggYmFjayB0byBsZXZlbCA+IDBcbiAgICAgICAgICAgICAgICAgICBsYXRlci4gKFVzaW5nIGxldmVsIDAgcGVybWFuZW50bHkgaXMgbm90IGFuIG9wdGltYWwgdXNhZ2Ugb2ZcbiAgICAgICAgICAgICAgICAgICB6bGliLCBzbyB3ZSBkb24ndCBjYXJlIGFib3V0IHRoaXMgcGF0aG9sb2dpY2FsIGNhc2UuKVxuICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIG4gPSBzLmhhc2hfc2l6ZTtcbiAgICAgICAgICAgICAgICAgICAgcCA9IG47XG4gICAgICAgICAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG0gPSBzLmhlYWRbLS1wXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHMuaGVhZFtwXSA9IG0gPj0gX3dfc2l6ZSA/IG0gLSBfd19zaXplIDogMDtcbiAgICAgICAgICAgICAgICAgICAgfSB3aGlsZSAoLS1uKTtcbiAgICAgICAgICAgICAgICAgICAgbiA9IF93X3NpemU7XG4gICAgICAgICAgICAgICAgICAgIHAgPSBuO1xuICAgICAgICAgICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtID0gcy5wcmV2Wy0tcF07XG4gICAgICAgICAgICAgICAgICAgICAgICBzLnByZXZbcF0gPSBtID49IF93X3NpemUgPyBtIC0gX3dfc2l6ZSA6IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAvKiBJZiBuIGlzIG5vdCBvbiBhbnkgaGFzaCBjaGFpbiwgcHJldltuXSBpcyBnYXJiYWdlIGJ1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICogaXRzIHZhbHVlIHdpbGwgbmV2ZXIgYmUgdXNlZC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICB9IHdoaWxlICgtLW4pO1xuICAgICAgICAgICAgICAgICAgICBtb3JlICs9IF93X3NpemU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzLnN0cm0uYXZhaWxfaW4gPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8qIElmIHRoZXJlIHdhcyBubyBzbGlkaW5nOlxuICAgICAgICAgICAgICAgICAqICAgIHN0cnN0YXJ0IDw9IFdTSVpFK01BWF9ESVNULTEgJiYgbG9va2FoZWFkIDw9IE1JTl9MT09LQUhFQUQgLSAxICYmXG4gICAgICAgICAgICAgICAgICogICAgbW9yZSA9PSB3aW5kb3dfc2l6ZSAtIGxvb2thaGVhZCAtIHN0cnN0YXJ0XG4gICAgICAgICAgICAgICAgICogPT4gbW9yZSA+PSB3aW5kb3dfc2l6ZSAtIChNSU5fTE9PS0FIRUFELTEgKyBXU0laRSArIE1BWF9ESVNULTEpXG4gICAgICAgICAgICAgICAgICogPT4gbW9yZSA+PSB3aW5kb3dfc2l6ZSAtIDIqV1NJWkUgKyAyXG4gICAgICAgICAgICAgICAgICogSW4gdGhlIEJJR19NRU0gb3IgTU1BUCBjYXNlIChub3QgeWV0IHN1cHBvcnRlZCksXG4gICAgICAgICAgICAgICAgICogICB3aW5kb3dfc2l6ZSA9PSBpbnB1dF9zaXplICsgTUlOX0xPT0tBSEVBRCAgJiZcbiAgICAgICAgICAgICAgICAgKiAgIHN0cnN0YXJ0ICsgcy0+bG9va2FoZWFkIDw9IGlucHV0X3NpemUgPT4gbW9yZSA+PSBNSU5fTE9PS0FIRUFELlxuICAgICAgICAgICAgICAgICAqIE90aGVyd2lzZSwgd2luZG93X3NpemUgPT0gMipXU0laRSBzbyBtb3JlID49IDIuXG4gICAgICAgICAgICAgICAgICogSWYgdGhlcmUgd2FzIHNsaWRpbmcsIG1vcmUgPj0gV1NJWkUuIFNvIGluIGFsbCBjYXNlcywgbW9yZSA+PSAyLlxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIC8vIEFzc2VydChtb3JlID49IDIsIFwibW9yZSA8IDJcIik7XG4gICAgICAgICAgICAgICAgbiA9IHJlYWRfYnVmKHMuc3RybSwgcy53aW5kb3csIHMuc3Ryc3RhcnQgKyBzLmxvb2thaGVhZCwgbW9yZSk7XG4gICAgICAgICAgICAgICAgcy5sb29rYWhlYWQgKz0gbjtcbiAgICAgICAgICAgICAgICAvKiBJbml0aWFsaXplIHRoZSBoYXNoIHZhbHVlIG5vdyB0aGF0IHdlIGhhdmUgc29tZSBpbnB1dDogKi9cbiAgICAgICAgICAgICAgICBpZiAocy5sb29rYWhlYWQgKyBzLmluc2VydCA+PSBNSU5fTUFUQ0gkMSkge1xuICAgICAgICAgICAgICAgICAgICBzdHIgPSBzLnN0cnN0YXJ0IC0gcy5pbnNlcnQ7XG4gICAgICAgICAgICAgICAgICAgIHMuaW5zX2ggPSBzLndpbmRvd1tzdHJdO1xuICAgICAgICAgICAgICAgICAgICAvKiBVUERBVEVfSEFTSChzLCBzLT5pbnNfaCwgcy0+d2luZG93W3N0ciArIDFdKTsgKi9cbiAgICAgICAgICAgICAgICAgICAgcy5pbnNfaCA9IEhBU0gocywgcy5pbnNfaCwgcy53aW5kb3dbc3RyICsgMV0pOyAvLyAjaWYgTUlOX01BVENIICE9IDNcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgIENhbGwgdXBkYXRlX2hhc2goKSBNSU5fTUFUQ0gtMyBtb3JlIHRpbWVzXG4gICAgICAgICAgICAgICAgICAgIC8vICNlbmRpZlxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAocy5pbnNlcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIFVQREFURV9IQVNIKHMsIHMtPmluc19oLCBzLT53aW5kb3dbc3RyICsgTUlOX01BVENILTFdKTsgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIHMuaW5zX2ggPSBIQVNIKHMsIHMuaW5zX2gsIHMud2luZG93W3N0ciArIE1JTl9NQVRDSCQxIC0gMV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcy5wcmV2W3N0ciAmIHMud19tYXNrXSA9IHMuaGVhZFtzLmluc19oXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHMuaGVhZFtzLmluc19oXSA9IHN0cjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cisrO1xuICAgICAgICAgICAgICAgICAgICAgICAgcy5pbnNlcnQtLTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzLmxvb2thaGVhZCArIHMuaW5zZXJ0IDwgTUlOX01BVENIJDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKiBJZiB0aGUgd2hvbGUgaW5wdXQgaGFzIGxlc3MgdGhhbiBNSU5fTUFUQ0ggYnl0ZXMsIGluc19oIGlzIGdhcmJhZ2UsXG4gICAgICAgICAgICAgICAgICogYnV0IHRoaXMgaXMgbm90IGltcG9ydGFudCBzaW5jZSBvbmx5IGxpdGVyYWwgYnl0ZXMgd2lsbCBiZSBlbWl0dGVkLlxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgfSB3aGlsZSAocy5sb29rYWhlYWQgPCBNSU5fTE9PS0FIRUFEICYmIHMuc3RybS5hdmFpbF9pbiAhPT0gMCk7XG4gICAgICAgICAgICAvKiBJZiB0aGUgV0lOX0lOSVQgYnl0ZXMgYWZ0ZXIgdGhlIGVuZCBvZiB0aGUgY3VycmVudCBkYXRhIGhhdmUgbmV2ZXIgYmVlblxuICAgICAgICAgICAgICogd3JpdHRlbiwgdGhlbiB6ZXJvIHRob3NlIGJ5dGVzIGluIG9yZGVyIHRvIGF2b2lkIG1lbW9yeSBjaGVjayByZXBvcnRzIG9mXG4gICAgICAgICAgICAgKiB0aGUgdXNlIG9mIHVuaW5pdGlhbGl6ZWQgKG9yIHVuaW5pdGlhbGlzZWQgYXMgSnVsaWFuIHdyaXRlcykgYnl0ZXMgYnlcbiAgICAgICAgICAgICAqIHRoZSBsb25nZXN0IG1hdGNoIHJvdXRpbmVzLiAgVXBkYXRlIHRoZSBoaWdoIHdhdGVyIG1hcmsgZm9yIHRoZSBuZXh0XG4gICAgICAgICAgICAgKiB0aW1lIHRocm91Z2ggaGVyZS4gIFdJTl9JTklUIGlzIHNldCB0byBNQVhfTUFUQ0ggc2luY2UgdGhlIGxvbmdlc3QgbWF0Y2hcbiAgICAgICAgICAgICAqIHJvdXRpbmVzIGFsbG93IHNjYW5uaW5nIHRvIHN0cnN0YXJ0ICsgTUFYX01BVENILCBpZ25vcmluZyBsb29rYWhlYWQuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC8vICBpZiAocy5oaWdoX3dhdGVyIDwgcy53aW5kb3dfc2l6ZSkge1xuICAgICAgICAgICAgLy8gICAgY29uc3QgY3VyciA9IHMuc3Ryc3RhcnQgKyBzLmxvb2thaGVhZDtcbiAgICAgICAgICAgIC8vICAgIGxldCBpbml0ID0gMDtcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyAgICBpZiAocy5oaWdoX3dhdGVyIDwgY3Vycikge1xuICAgICAgICAgICAgLy8gICAgICAvKiBQcmV2aW91cyBoaWdoIHdhdGVyIG1hcmsgYmVsb3cgY3VycmVudCBkYXRhIC0tIHplcm8gV0lOX0lOSVRcbiAgICAgICAgICAgIC8vICAgICAgICogYnl0ZXMgb3IgdXAgdG8gZW5kIG9mIHdpbmRvdywgd2hpY2hldmVyIGlzIGxlc3MuXG4gICAgICAgICAgICAvLyAgICAgICAqL1xuICAgICAgICAgICAgLy8gICAgICBpbml0ID0gcy53aW5kb3dfc2l6ZSAtIGN1cnI7XG4gICAgICAgICAgICAvLyAgICAgIGlmIChpbml0ID4gV0lOX0lOSVQpXG4gICAgICAgICAgICAvLyAgICAgICAgaW5pdCA9IFdJTl9JTklUO1xuICAgICAgICAgICAgLy8gICAgICB6bWVtemVybyhzLT53aW5kb3cgKyBjdXJyLCAodW5zaWduZWQpaW5pdCk7XG4gICAgICAgICAgICAvLyAgICAgIHMtPmhpZ2hfd2F0ZXIgPSBjdXJyICsgaW5pdDtcbiAgICAgICAgICAgIC8vICAgIH1cbiAgICAgICAgICAgIC8vICAgIGVsc2UgaWYgKHMtPmhpZ2hfd2F0ZXIgPCAodWxnKWN1cnIgKyBXSU5fSU5JVCkge1xuICAgICAgICAgICAgLy8gICAgICAvKiBIaWdoIHdhdGVyIG1hcmsgYXQgb3IgYWJvdmUgY3VycmVudCBkYXRhLCBidXQgYmVsb3cgY3VycmVudCBkYXRhXG4gICAgICAgICAgICAvLyAgICAgICAqIHBsdXMgV0lOX0lOSVQgLS0gemVybyBvdXQgdG8gY3VycmVudCBkYXRhIHBsdXMgV0lOX0lOSVQsIG9yIHVwXG4gICAgICAgICAgICAvLyAgICAgICAqIHRvIGVuZCBvZiB3aW5kb3csIHdoaWNoZXZlciBpcyBsZXNzLlxuICAgICAgICAgICAgLy8gICAgICAgKi9cbiAgICAgICAgICAgIC8vICAgICAgaW5pdCA9ICh1bGcpY3VyciArIFdJTl9JTklUIC0gcy0+aGlnaF93YXRlcjtcbiAgICAgICAgICAgIC8vICAgICAgaWYgKGluaXQgPiBzLT53aW5kb3dfc2l6ZSAtIHMtPmhpZ2hfd2F0ZXIpXG4gICAgICAgICAgICAvLyAgICAgICAgaW5pdCA9IHMtPndpbmRvd19zaXplIC0gcy0+aGlnaF93YXRlcjtcbiAgICAgICAgICAgIC8vICAgICAgem1lbXplcm8ocy0+d2luZG93ICsgcy0+aGlnaF93YXRlciwgKHVuc2lnbmVkKWluaXQpO1xuICAgICAgICAgICAgLy8gICAgICBzLT5oaWdoX3dhdGVyICs9IGluaXQ7XG4gICAgICAgICAgICAvLyAgICB9XG4gICAgICAgICAgICAvLyAgfVxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vICBBc3NlcnQoKHVsZylzLT5zdHJzdGFydCA8PSBzLT53aW5kb3dfc2l6ZSAtIE1JTl9MT09LQUhFQUQsXG4gICAgICAgICAgICAvLyAgICBcIm5vdCBlbm91Z2ggcm9vbSBmb3Igc2VhcmNoXCIpO1xuICAgICAgICB9O1xuICAgICAgICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgICAgICogQ29weSB3aXRob3V0IGNvbXByZXNzaW9uIGFzIG11Y2ggYXMgcG9zc2libGUgZnJvbSB0aGUgaW5wdXQgc3RyZWFtLCByZXR1cm5cbiAgICAgICAgICogdGhlIGN1cnJlbnQgYmxvY2sgc3RhdGUuXG4gICAgICAgICAqIFRoaXMgZnVuY3Rpb24gZG9lcyBub3QgaW5zZXJ0IG5ldyBzdHJpbmdzIGluIHRoZSBkaWN0aW9uYXJ5IHNpbmNlXG4gICAgICAgICAqIHVuY29tcHJlc3NpYmxlIGRhdGEgaXMgcHJvYmFibHkgbm90IHVzZWZ1bC4gVGhpcyBmdW5jdGlvbiBpcyB1c2VkXG4gICAgICAgICAqIG9ubHkgZm9yIHRoZSBsZXZlbD0wIGNvbXByZXNzaW9uIG9wdGlvbi5cbiAgICAgICAgICogTk9URTogdGhpcyBmdW5jdGlvbiBzaG91bGQgYmUgb3B0aW1pemVkIHRvIGF2b2lkIGV4dHJhIGNvcHlpbmcgZnJvbVxuICAgICAgICAgKiB3aW5kb3cgdG8gcGVuZGluZ19idWYuXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgZGVmbGF0ZV9zdG9yZWQgPSBmdW5jdGlvbiBkZWZsYXRlX3N0b3JlZChzLCBmbHVzaCkge1xuICAgICAgICAgICAgLyogU3RvcmVkIGJsb2NrcyBhcmUgbGltaXRlZCB0byAweGZmZmYgYnl0ZXMsIHBlbmRpbmdfYnVmIGlzIGxpbWl0ZWRcbiAgICAgICAgICAgICAqIHRvIHBlbmRpbmdfYnVmX3NpemUsIGFuZCBlYWNoIHN0b3JlZCBibG9jayBoYXMgYSA1IGJ5dGUgaGVhZGVyOlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB2YXIgbWF4X2Jsb2NrX3NpemUgPSAweGZmZmY7XG4gICAgICAgICAgICBpZiAobWF4X2Jsb2NrX3NpemUgPiBzLnBlbmRpbmdfYnVmX3NpemUgLSA1KSB7XG4gICAgICAgICAgICAgICAgbWF4X2Jsb2NrX3NpemUgPSBzLnBlbmRpbmdfYnVmX3NpemUgLSA1O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyogQ29weSBhcyBtdWNoIGFzIHBvc3NpYmxlIGZyb20gaW5wdXQgdG8gb3V0cHV0OiAqL1xuICAgICAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgICAgIC8qIEZpbGwgdGhlIHdpbmRvdyBhcyBtdWNoIGFzIHBvc3NpYmxlOiAqL1xuICAgICAgICAgICAgICAgIGlmIChzLmxvb2thaGVhZCA8PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEFzc2VydChzLT5zdHJzdGFydCA8IHMtPndfc2l6ZStNQVhfRElTVChzKSB8fFxuICAgICAgICAgICAgICAgICAgICAvLyAgcy0+YmxvY2tfc3RhcnQgPj0gKGxvbmcpcy0+d19zaXplLCBcInNsaWRlIHRvbyBsYXRlXCIpO1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgIGlmICghKHMuc3Ryc3RhcnQgPCBzLndfc2l6ZSArIChzLndfc2l6ZSAtIE1JTl9MT09LQUhFQUQpIHx8XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICBzLmJsb2NrX3N0YXJ0ID49IHMud19zaXplKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgdGhyb3cgIG5ldyBFcnJvcihcInNsaWRlIHRvbyBsYXRlXCIpO1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZmlsbF93aW5kb3cocyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzLmxvb2thaGVhZCA9PT0gMCAmJiBmbHVzaCA9PT0gWl9OT19GTFVTSCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEJTX05FRURfTU9SRTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAocy5sb29rYWhlYWQgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8qIGZsdXNoIHRoZSBjdXJyZW50IGJsb2NrICovXG4gICAgICAgICAgICAgICAgfSAvLyBBc3NlcnQocy0+YmxvY2tfc3RhcnQgPj0gMEwsIFwiYmxvY2sgZ29uZVwiKTtcbiAgICAgICAgICAgICAgICAvLyAgICBpZiAocy5ibG9ja19zdGFydCA8IDApIHRocm93IG5ldyBFcnJvcihcImJsb2NrIGdvbmVcIik7XG4gICAgICAgICAgICAgICAgcy5zdHJzdGFydCArPSBzLmxvb2thaGVhZDtcbiAgICAgICAgICAgICAgICBzLmxvb2thaGVhZCA9IDA7XG4gICAgICAgICAgICAgICAgLyogRW1pdCBhIHN0b3JlZCBibG9jayBpZiBwZW5kaW5nX2J1ZiB3aWxsIGJlIGZ1bGw6ICovXG4gICAgICAgICAgICAgICAgdmFyIG1heF9zdGFydCA9IHMuYmxvY2tfc3RhcnQgKyBtYXhfYmxvY2tfc2l6ZTtcbiAgICAgICAgICAgICAgICBpZiAocy5zdHJzdGFydCA9PT0gMCB8fCBzLnN0cnN0YXJ0ID49IG1heF9zdGFydCkge1xuICAgICAgICAgICAgICAgICAgICAvKiBzdHJzdGFydCA9PSAwIGlzIHBvc3NpYmxlIHdoZW4gd3JhcGFyb3VuZCBvbiAxNi1iaXQgbWFjaGluZSAqL1xuICAgICAgICAgICAgICAgICAgICBzLmxvb2thaGVhZCA9IHMuc3Ryc3RhcnQgLSBtYXhfc3RhcnQ7XG4gICAgICAgICAgICAgICAgICAgIHMuc3Ryc3RhcnQgPSBtYXhfc3RhcnQ7XG4gICAgICAgICAgICAgICAgICAgIC8qKiAqIEZMVVNIX0JMT0NLKHMsIDApOyAqKiAqL1xuICAgICAgICAgICAgICAgICAgICBmbHVzaF9ibG9ja19vbmx5KHMsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHMuc3RybS5hdmFpbF9vdXQgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBCU19ORUVEX01PUkU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLyoqKi9cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyogRmx1c2ggaWYgd2UgbWF5IGhhdmUgdG8gc2xpZGUsIG90aGVyd2lzZSBibG9ja19zdGFydCBtYXkgYmVjb21lXG4gICAgICAgICAgICAgICAgICogbmVnYXRpdmUgYW5kIHRoZSBkYXRhIHdpbGwgYmUgZ29uZTpcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBpZiAocy5zdHJzdGFydCAtIHMuYmxvY2tfc3RhcnQgPj0gcy53X3NpemUgLSBNSU5fTE9PS0FIRUFEKSB7XG4gICAgICAgICAgICAgICAgICAgIC8qKiAqIEZMVVNIX0JMT0NLKHMsIDApOyAqKiAqL1xuICAgICAgICAgICAgICAgICAgICBmbHVzaF9ibG9ja19vbmx5KHMsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHMuc3RybS5hdmFpbF9vdXQgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBCU19ORUVEX01PUkU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLyoqKi9cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzLmluc2VydCA9IDA7XG4gICAgICAgICAgICBpZiAoZmx1c2ggPT09IFpfRklOSVNIKSB7XG4gICAgICAgICAgICAgICAgLyoqICogRkxVU0hfQkxPQ0socywgMSk7ICoqICovXG4gICAgICAgICAgICAgICAgZmx1c2hfYmxvY2tfb25seShzLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBpZiAocy5zdHJtLmF2YWlsX291dCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gQlNfRklOSVNIX1NUQVJURUQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8qKiovXG4gICAgICAgICAgICAgICAgcmV0dXJuIEJTX0ZJTklTSF9ET05FO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHMuc3Ryc3RhcnQgPiBzLmJsb2NrX3N0YXJ0KSB7XG4gICAgICAgICAgICAgICAgLyoqICogRkxVU0hfQkxPQ0socywgMCk7ICoqICovXG4gICAgICAgICAgICAgICAgZmx1c2hfYmxvY2tfb25seShzLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgaWYgKHMuc3RybS5hdmFpbF9vdXQgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEJTX05FRURfTU9SRTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyoqKi9cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBCU19ORUVEX01PUkU7XG4gICAgICAgIH07XG4gICAgICAgIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgICAgKiBDb21wcmVzcyBhcyBtdWNoIGFzIHBvc3NpYmxlIGZyb20gdGhlIGlucHV0IHN0cmVhbSwgcmV0dXJuIHRoZSBjdXJyZW50XG4gICAgICAgICAqIGJsb2NrIHN0YXRlLlxuICAgICAgICAgKiBUaGlzIGZ1bmN0aW9uIGRvZXMgbm90IHBlcmZvcm0gbGF6eSBldmFsdWF0aW9uIG9mIG1hdGNoZXMgYW5kIGluc2VydHNcbiAgICAgICAgICogbmV3IHN0cmluZ3MgaW4gdGhlIGRpY3Rpb25hcnkgb25seSBmb3IgdW5tYXRjaGVkIHN0cmluZ3Mgb3IgZm9yIHNob3J0XG4gICAgICAgICAqIG1hdGNoZXMuIEl0IGlzIHVzZWQgb25seSBmb3IgdGhlIGZhc3QgY29tcHJlc3Npb24gb3B0aW9ucy5cbiAgICAgICAgICovXG4gICAgICAgIHZhciBkZWZsYXRlX2Zhc3QgPSBmdW5jdGlvbiBkZWZsYXRlX2Zhc3QocywgZmx1c2gpIHtcbiAgICAgICAgICAgIHZhciBoYXNoX2hlYWQ7XG4gICAgICAgICAgICAvKiBoZWFkIG9mIHRoZSBoYXNoIGNoYWluICovXG4gICAgICAgICAgICB2YXIgYmZsdXNoO1xuICAgICAgICAgICAgLyogc2V0IGlmIGN1cnJlbnQgYmxvY2sgbXVzdCBiZSBmbHVzaGVkICovXG4gICAgICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgICAgICAgLyogTWFrZSBzdXJlIHRoYXQgd2UgYWx3YXlzIGhhdmUgZW5vdWdoIGxvb2thaGVhZCwgZXhjZXB0XG4gICAgICAgICAgICAgICAgICogYXQgdGhlIGVuZCBvZiB0aGUgaW5wdXQgZmlsZS4gV2UgbmVlZCBNQVhfTUFUQ0ggYnl0ZXNcbiAgICAgICAgICAgICAgICAgKiBmb3IgdGhlIG5leHQgbWF0Y2gsIHBsdXMgTUlOX01BVENIIGJ5dGVzIHRvIGluc2VydCB0aGVcbiAgICAgICAgICAgICAgICAgKiBzdHJpbmcgZm9sbG93aW5nIHRoZSBuZXh0IG1hdGNoLlxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGlmIChzLmxvb2thaGVhZCA8IE1JTl9MT09LQUhFQUQpIHtcbiAgICAgICAgICAgICAgICAgICAgZmlsbF93aW5kb3cocyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzLmxvb2thaGVhZCA8IE1JTl9MT09LQUhFQUQgJiYgZmx1c2ggPT09IFpfTk9fRkxVU0gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBCU19ORUVEX01PUkU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHMubG9va2FoZWFkID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIGZsdXNoIHRoZSBjdXJyZW50IGJsb2NrICovXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyogSW5zZXJ0IHRoZSBzdHJpbmcgd2luZG93W3N0cnN0YXJ0IC4uIHN0cnN0YXJ0KzJdIGluIHRoZVxuICAgICAgICAgICAgICAgICAqIGRpY3Rpb25hcnksIGFuZCBzZXQgaGFzaF9oZWFkIHRvIHRoZSBoZWFkIG9mIHRoZSBoYXNoIGNoYWluOlxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGhhc2hfaGVhZCA9IDA7XG4gICAgICAgICAgICAgICAgLyogTklMICovXG4gICAgICAgICAgICAgICAgaWYgKHMubG9va2FoZWFkID49IE1JTl9NQVRDSCQxKSB7XG4gICAgICAgICAgICAgICAgICAgIC8qKiAqIElOU0VSVF9TVFJJTkcocywgcy5zdHJzdGFydCwgaGFzaF9oZWFkKTsgKiogKi9cbiAgICAgICAgICAgICAgICAgICAgcy5pbnNfaCA9IEhBU0gocywgcy5pbnNfaCwgcy53aW5kb3dbcy5zdHJzdGFydCArIE1JTl9NQVRDSCQxIC0gMV0pO1xuICAgICAgICAgICAgICAgICAgICBoYXNoX2hlYWQgPSBzLnByZXZbcy5zdHJzdGFydCAmIHMud19tYXNrXSA9IHMuaGVhZFtzLmluc19oXTtcbiAgICAgICAgICAgICAgICAgICAgcy5oZWFkW3MuaW5zX2hdID0gcy5zdHJzdGFydDtcbiAgICAgICAgICAgICAgICAgICAgLyoqKi9cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyogRmluZCB0aGUgbG9uZ2VzdCBtYXRjaCwgZGlzY2FyZGluZyB0aG9zZSA8PSBwcmV2X2xlbmd0aC5cbiAgICAgICAgICAgICAgICAgKiBBdCB0aGlzIHBvaW50IHdlIGhhdmUgYWx3YXlzIG1hdGNoX2xlbmd0aCA8IE1JTl9NQVRDSFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGlmIChoYXNoX2hlYWQgIT09IDAgJiZcbiAgICAgICAgICAgICAgICAgICAgLyogTklMICovXG4gICAgICAgICAgICAgICAgICAgIHMuc3Ryc3RhcnQgLSBoYXNoX2hlYWQgPD0gcy53X3NpemUgLSBNSU5fTE9PS0FIRUFEKSB7XG4gICAgICAgICAgICAgICAgICAgIC8qIFRvIHNpbXBsaWZ5IHRoZSBjb2RlLCB3ZSBwcmV2ZW50IG1hdGNoZXMgd2l0aCB0aGUgc3RyaW5nXG4gICAgICAgICAgICAgICAgICAgICAqIG9mIHdpbmRvdyBpbmRleCAwIChpbiBwYXJ0aWN1bGFyIHdlIGhhdmUgdG8gYXZvaWQgYSBtYXRjaFxuICAgICAgICAgICAgICAgICAgICAgKiBvZiB0aGUgc3RyaW5nIHdpdGggaXRzZWxmIGF0IHRoZSBzdGFydCBvZiB0aGUgaW5wdXQgZmlsZSkuXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBzLm1hdGNoX2xlbmd0aCA9IGxvbmdlc3RfbWF0Y2gocywgaGFzaF9oZWFkKTtcbiAgICAgICAgICAgICAgICAgICAgLyogbG9uZ2VzdF9tYXRjaCgpIHNldHMgbWF0Y2hfc3RhcnQgKi9cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHMubWF0Y2hfbGVuZ3RoID49IE1JTl9NQVRDSCQxKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNoZWNrX21hdGNoKHMsIHMuc3Ryc3RhcnQsIHMubWF0Y2hfc3RhcnQsIHMubWF0Y2hfbGVuZ3RoKTsgLy8gZm9yIGRlYnVnIG9ubHlcbiAgICAgICAgICAgICAgICAgICAgLyoqICogX3RyX3RhbGx5X2Rpc3Qocywgcy5zdHJzdGFydCAtIHMubWF0Y2hfc3RhcnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzLm1hdGNoX2xlbmd0aCAtIE1JTl9NQVRDSCwgYmZsdXNoKTsgKiogKi9cbiAgICAgICAgICAgICAgICAgICAgYmZsdXNoID0gX3RyX3RhbGx5JDEocywgcy5zdHJzdGFydCAtIHMubWF0Y2hfc3RhcnQsIHMubWF0Y2hfbGVuZ3RoIC0gTUlOX01BVENIJDEpO1xuICAgICAgICAgICAgICAgICAgICBzLmxvb2thaGVhZCAtPSBzLm1hdGNoX2xlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgLyogSW5zZXJ0IG5ldyBzdHJpbmdzIGluIHRoZSBoYXNoIHRhYmxlIG9ubHkgaWYgdGhlIG1hdGNoIGxlbmd0aFxuICAgICAgICAgICAgICAgICAgICAgKiBpcyBub3QgdG9vIGxhcmdlLiBUaGlzIHNhdmVzIHRpbWUgYnV0IGRlZ3JhZGVzIGNvbXByZXNzaW9uLlxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgaWYgKHMubWF0Y2hfbGVuZ3RoIDw9IHMubWF4X2xhenlfbWF0Y2ggJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIG1heF9pbnNlcnRfbGVuZ3RoICovXG4gICAgICAgICAgICAgICAgICAgICAgICBzLmxvb2thaGVhZCA+PSBNSU5fTUFUQ0gkMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcy5tYXRjaF9sZW5ndGgtLTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIHN0cmluZyBhdCBzdHJzdGFydCBhbHJlYWR5IGluIHRhYmxlICovXG4gICAgICAgICAgICAgICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcy5zdHJzdGFydCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKiAqIElOU0VSVF9TVFJJTkcocywgcy5zdHJzdGFydCwgaGFzaF9oZWFkKTsgKiogKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzLmluc19oID0gSEFTSChzLCBzLmluc19oLCBzLndpbmRvd1tzLnN0cnN0YXJ0ICsgTUlOX01BVENIJDEgLSAxXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzaF9oZWFkID0gcy5wcmV2W3Muc3Ryc3RhcnQgJiBzLndfbWFza10gPSBzLmhlYWRbcy5pbnNfaF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcy5oZWFkW3MuaW5zX2hdID0gcy5zdHJzdGFydDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKioqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIHN0cnN0YXJ0IG5ldmVyIGV4Y2VlZHMgV1NJWkUtTUFYX01BVENILCBzbyB0aGVyZSBhcmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBhbHdheXMgTUlOX01BVENIIGJ5dGVzIGFoZWFkLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgfSB3aGlsZSAoLS1zLm1hdGNoX2xlbmd0aCAhPT0gMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzLnN0cnN0YXJ0Kys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzLnN0cnN0YXJ0ICs9IHMubWF0Y2hfbGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgcy5tYXRjaF9sZW5ndGggPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgcy5pbnNfaCA9IHMud2luZG93W3Muc3Ryc3RhcnRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgLyogVVBEQVRFX0hBU0gocywgcy5pbnNfaCwgcy53aW5kb3dbcy5zdHJzdGFydCsxXSk7ICovXG4gICAgICAgICAgICAgICAgICAgICAgICBzLmluc19oID0gSEFTSChzLCBzLmluc19oLCBzLndpbmRvd1tzLnN0cnN0YXJ0ICsgMV0pOyAvLyAjaWYgTUlOX01BVENIICE9IDNcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgIENhbGwgVVBEQVRFX0hBU0goKSBNSU5fTUFUQ0gtMyBtb3JlIHRpbWVzXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAjZW5kaWZcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIElmIGxvb2thaGVhZCA8IE1JTl9NQVRDSCwgaW5zX2ggaXMgZ2FyYmFnZSwgYnV0IGl0IGRvZXMgbm90XG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBtYXR0ZXIgc2luY2UgaXQgd2lsbCBiZSByZWNvbXB1dGVkIGF0IG5leHQgZGVmbGF0ZSBjYWxsLlxuICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8qIE5vIG1hdGNoLCBvdXRwdXQgYSBsaXRlcmFsIGJ5dGUgKi9cbiAgICAgICAgICAgICAgICAgICAgLy8gVHJhY2V2digoc3RkZXJyLFwiJWNcIiwgcy53aW5kb3dbcy5zdHJzdGFydF0pKTtcbiAgICAgICAgICAgICAgICAgICAgLyoqICogX3RyX3RhbGx5X2xpdChzLCBzLndpbmRvd1tzLnN0cnN0YXJ0XSwgYmZsdXNoKTsgKiogKi9cbiAgICAgICAgICAgICAgICAgICAgYmZsdXNoID0gX3RyX3RhbGx5JDEocywgMCwgcy53aW5kb3dbcy5zdHJzdGFydF0pO1xuICAgICAgICAgICAgICAgICAgICBzLmxvb2thaGVhZC0tO1xuICAgICAgICAgICAgICAgICAgICBzLnN0cnN0YXJ0Kys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChiZmx1c2gpIHtcbiAgICAgICAgICAgICAgICAgICAgLyoqICogRkxVU0hfQkxPQ0socywgMCk7ICoqICovXG4gICAgICAgICAgICAgICAgICAgIGZsdXNoX2Jsb2NrX29ubHkocywgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocy5zdHJtLmF2YWlsX291dCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEJTX05FRURfTU9SRTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvKioqL1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHMuaW5zZXJ0ID0gcy5zdHJzdGFydCA8IE1JTl9NQVRDSCQxIC0gMSA/IHMuc3Ryc3RhcnQgOiBNSU5fTUFUQ0gkMSAtIDE7XG4gICAgICAgICAgICBpZiAoZmx1c2ggPT09IFpfRklOSVNIKSB7XG4gICAgICAgICAgICAgICAgLyoqICogRkxVU0hfQkxPQ0socywgMSk7ICoqICovXG4gICAgICAgICAgICAgICAgZmx1c2hfYmxvY2tfb25seShzLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBpZiAocy5zdHJtLmF2YWlsX291dCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gQlNfRklOSVNIX1NUQVJURUQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8qKiovXG4gICAgICAgICAgICAgICAgcmV0dXJuIEJTX0ZJTklTSF9ET05FO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHMubGFzdF9saXQpIHtcbiAgICAgICAgICAgICAgICAvKiogKiBGTFVTSF9CTE9DSyhzLCAwKTsgKiogKi9cbiAgICAgICAgICAgICAgICBmbHVzaF9ibG9ja19vbmx5KHMsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICBpZiAocy5zdHJtLmF2YWlsX291dCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gQlNfTkVFRF9NT1JFO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKioqL1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIEJTX0JMT0NLX0RPTkU7XG4gICAgICAgIH07XG4gICAgICAgIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgICAgKiBTYW1lIGFzIGFib3ZlLCBidXQgYWNoaWV2ZXMgYmV0dGVyIGNvbXByZXNzaW9uLiBXZSB1c2UgYSBsYXp5XG4gICAgICAgICAqIGV2YWx1YXRpb24gZm9yIG1hdGNoZXM6IGEgbWF0Y2ggaXMgZmluYWxseSBhZG9wdGVkIG9ubHkgaWYgdGhlcmUgaXNcbiAgICAgICAgICogbm8gYmV0dGVyIG1hdGNoIGF0IHRoZSBuZXh0IHdpbmRvdyBwb3NpdGlvbi5cbiAgICAgICAgICovXG4gICAgICAgIHZhciBkZWZsYXRlX3Nsb3cgPSBmdW5jdGlvbiBkZWZsYXRlX3Nsb3cocywgZmx1c2gpIHtcbiAgICAgICAgICAgIHZhciBoYXNoX2hlYWQ7XG4gICAgICAgICAgICAvKiBoZWFkIG9mIGhhc2ggY2hhaW4gKi9cbiAgICAgICAgICAgIHZhciBiZmx1c2g7XG4gICAgICAgICAgICAvKiBzZXQgaWYgY3VycmVudCBibG9jayBtdXN0IGJlIGZsdXNoZWQgKi9cbiAgICAgICAgICAgIHZhciBtYXhfaW5zZXJ0O1xuICAgICAgICAgICAgLyogUHJvY2VzcyB0aGUgaW5wdXQgYmxvY2suICovXG4gICAgICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgICAgICAgLyogTWFrZSBzdXJlIHRoYXQgd2UgYWx3YXlzIGhhdmUgZW5vdWdoIGxvb2thaGVhZCwgZXhjZXB0XG4gICAgICAgICAgICAgICAgICogYXQgdGhlIGVuZCBvZiB0aGUgaW5wdXQgZmlsZS4gV2UgbmVlZCBNQVhfTUFUQ0ggYnl0ZXNcbiAgICAgICAgICAgICAgICAgKiBmb3IgdGhlIG5leHQgbWF0Y2gsIHBsdXMgTUlOX01BVENIIGJ5dGVzIHRvIGluc2VydCB0aGVcbiAgICAgICAgICAgICAgICAgKiBzdHJpbmcgZm9sbG93aW5nIHRoZSBuZXh0IG1hdGNoLlxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGlmIChzLmxvb2thaGVhZCA8IE1JTl9MT09LQUhFQUQpIHtcbiAgICAgICAgICAgICAgICAgICAgZmlsbF93aW5kb3cocyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzLmxvb2thaGVhZCA8IE1JTl9MT09LQUhFQUQgJiYgZmx1c2ggPT09IFpfTk9fRkxVU0gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBCU19ORUVEX01PUkU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHMubG9va2FoZWFkID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvKiBmbHVzaCB0aGUgY3VycmVudCBibG9jayAqL1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKiBJbnNlcnQgdGhlIHN0cmluZyB3aW5kb3dbc3Ryc3RhcnQgLi4gc3Ryc3RhcnQrMl0gaW4gdGhlXG4gICAgICAgICAgICAgICAgICogZGljdGlvbmFyeSwgYW5kIHNldCBoYXNoX2hlYWQgdG8gdGhlIGhlYWQgb2YgdGhlIGhhc2ggY2hhaW46XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgaGFzaF9oZWFkID0gMDtcbiAgICAgICAgICAgICAgICAvKiBOSUwgKi9cbiAgICAgICAgICAgICAgICBpZiAocy5sb29rYWhlYWQgPj0gTUlOX01BVENIJDEpIHtcbiAgICAgICAgICAgICAgICAgICAgLyoqICogSU5TRVJUX1NUUklORyhzLCBzLnN0cnN0YXJ0LCBoYXNoX2hlYWQpOyAqKiAqL1xuICAgICAgICAgICAgICAgICAgICBzLmluc19oID0gSEFTSChzLCBzLmluc19oLCBzLndpbmRvd1tzLnN0cnN0YXJ0ICsgTUlOX01BVENIJDEgLSAxXSk7XG4gICAgICAgICAgICAgICAgICAgIGhhc2hfaGVhZCA9IHMucHJldltzLnN0cnN0YXJ0ICYgcy53X21hc2tdID0gcy5oZWFkW3MuaW5zX2hdO1xuICAgICAgICAgICAgICAgICAgICBzLmhlYWRbcy5pbnNfaF0gPSBzLnN0cnN0YXJ0O1xuICAgICAgICAgICAgICAgICAgICAvKioqL1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKiBGaW5kIHRoZSBsb25nZXN0IG1hdGNoLCBkaXNjYXJkaW5nIHRob3NlIDw9IHByZXZfbGVuZ3RoLlxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHMucHJldl9sZW5ndGggPSBzLm1hdGNoX2xlbmd0aDtcbiAgICAgICAgICAgICAgICBzLnByZXZfbWF0Y2ggPSBzLm1hdGNoX3N0YXJ0O1xuICAgICAgICAgICAgICAgIHMubWF0Y2hfbGVuZ3RoID0gTUlOX01BVENIJDEgLSAxO1xuICAgICAgICAgICAgICAgIGlmIChoYXNoX2hlYWQgIT09IDAgJiZcbiAgICAgICAgICAgICAgICAgICAgLyogTklMICovXG4gICAgICAgICAgICAgICAgICAgIHMucHJldl9sZW5ndGggPCBzLm1heF9sYXp5X21hdGNoICYmXG4gICAgICAgICAgICAgICAgICAgIHMuc3Ryc3RhcnQgLSBoYXNoX2hlYWQgPD0gcy53X3NpemUgLSBNSU5fTE9PS0FIRUFEXG4gICAgICAgICAgICAgICAgLyogTUFYX0RJU1QocykgKi9cbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgLyogVG8gc2ltcGxpZnkgdGhlIGNvZGUsIHdlIHByZXZlbnQgbWF0Y2hlcyB3aXRoIHRoZSBzdHJpbmdcbiAgICAgICAgICAgICAgICAgICAgICogb2Ygd2luZG93IGluZGV4IDAgKGluIHBhcnRpY3VsYXIgd2UgaGF2ZSB0byBhdm9pZCBhIG1hdGNoXG4gICAgICAgICAgICAgICAgICAgICAqIG9mIHRoZSBzdHJpbmcgd2l0aCBpdHNlbGYgYXQgdGhlIHN0YXJ0IG9mIHRoZSBpbnB1dCBmaWxlKS5cbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIHMubWF0Y2hfbGVuZ3RoID0gbG9uZ2VzdF9tYXRjaChzLCBoYXNoX2hlYWQpO1xuICAgICAgICAgICAgICAgICAgICAvKiBsb25nZXN0X21hdGNoKCkgc2V0cyBtYXRjaF9zdGFydCAqL1xuICAgICAgICAgICAgICAgICAgICBpZiAocy5tYXRjaF9sZW5ndGggPD0gNSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgKHMuc3RyYXRlZ3kgPT09IFpfRklMVEVSRUQgfHwgKHMubWF0Y2hfbGVuZ3RoID09PSBNSU5fTUFUQ0gkMSAmJiBzLnN0cnN0YXJ0IC0gcy5tYXRjaF9zdGFydCA+IDQwOTYpKVxuICAgICAgICAgICAgICAgICAgICAvKiBUT09fRkFSICovXG4gICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLyogSWYgcHJldl9tYXRjaCBpcyBhbHNvIE1JTl9NQVRDSCwgbWF0Y2hfc3RhcnQgaXMgZ2FyYmFnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICogYnV0IHdlIHdpbGwgaWdub3JlIHRoZSBjdXJyZW50IG1hdGNoIGFueXdheS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgcy5tYXRjaF9sZW5ndGggPSBNSU5fTUFUQ0gkMSAtIDE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyogSWYgdGhlcmUgd2FzIGEgbWF0Y2ggYXQgdGhlIHByZXZpb3VzIHN0ZXAgYW5kIHRoZSBjdXJyZW50XG4gICAgICAgICAgICAgICAgICogbWF0Y2ggaXMgbm90IGJldHRlciwgb3V0cHV0IHRoZSBwcmV2aW91cyBtYXRjaDpcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBpZiAocy5wcmV2X2xlbmd0aCA+PSBNSU5fTUFUQ0gkMSAmJiBzLm1hdGNoX2xlbmd0aCA8PSBzLnByZXZfbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIG1heF9pbnNlcnQgPSBzLnN0cnN0YXJ0ICsgcy5sb29rYWhlYWQgLSBNSU5fTUFUQ0gkMTtcbiAgICAgICAgICAgICAgICAgICAgLyogRG8gbm90IGluc2VydCBzdHJpbmdzIGluIGhhc2ggdGFibGUgYmV5b25kIHRoaXMuICovXG4gICAgICAgICAgICAgICAgICAgIC8vIGNoZWNrX21hdGNoKHMsIHMuc3Ryc3RhcnQtMSwgcy5wcmV2X21hdGNoLCBzLnByZXZfbGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgLyoqICpfdHJfdGFsbHlfZGlzdChzLCBzLnN0cnN0YXJ0IC0gMSAtIHMucHJldl9tYXRjaCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMucHJldl9sZW5ndGggLSBNSU5fTUFUQ0gsIGJmbHVzaCk7KiogKi9cbiAgICAgICAgICAgICAgICAgICAgYmZsdXNoID0gX3RyX3RhbGx5JDEocywgcy5zdHJzdGFydCAtIDEgLSBzLnByZXZfbWF0Y2gsIHMucHJldl9sZW5ndGggLSBNSU5fTUFUQ0gkMSk7XG4gICAgICAgICAgICAgICAgICAgIC8qIEluc2VydCBpbiBoYXNoIHRhYmxlIGFsbCBzdHJpbmdzIHVwIHRvIHRoZSBlbmQgb2YgdGhlIG1hdGNoLlxuICAgICAgICAgICAgICAgICAgICAgKiBzdHJzdGFydC0xIGFuZCBzdHJzdGFydCBhcmUgYWxyZWFkeSBpbnNlcnRlZC4gSWYgdGhlcmUgaXMgbm90XG4gICAgICAgICAgICAgICAgICAgICAqIGVub3VnaCBsb29rYWhlYWQsIHRoZSBsYXN0IHR3byBzdHJpbmdzIGFyZSBub3QgaW5zZXJ0ZWQgaW5cbiAgICAgICAgICAgICAgICAgICAgICogdGhlIGhhc2ggdGFibGUuXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBzLmxvb2thaGVhZCAtPSBzLnByZXZfbGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgcy5wcmV2X2xlbmd0aCAtPSAyO1xuICAgICAgICAgICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKytzLnN0cnN0YXJ0IDw9IG1heF9pbnNlcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiogKiBJTlNFUlRfU1RSSU5HKHMsIHMuc3Ryc3RhcnQsIGhhc2hfaGVhZCk7ICoqICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcy5pbnNfaCA9IEhBU0gocywgcy5pbnNfaCwgcy53aW5kb3dbcy5zdHJzdGFydCArIE1JTl9NQVRDSCQxIC0gMV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc2hfaGVhZCA9IHMucHJldltzLnN0cnN0YXJ0ICYgcy53X21hc2tdID0gcy5oZWFkW3MuaW5zX2hdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMuaGVhZFtzLmluc19oXSA9IHMuc3Ryc3RhcnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyoqKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSB3aGlsZSAoLS1zLnByZXZfbGVuZ3RoICE9PSAwKTtcbiAgICAgICAgICAgICAgICAgICAgcy5tYXRjaF9hdmFpbGFibGUgPSAwO1xuICAgICAgICAgICAgICAgICAgICBzLm1hdGNoX2xlbmd0aCA9IE1JTl9NQVRDSCQxIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgcy5zdHJzdGFydCsrO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYmZsdXNoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvKiogKiBGTFVTSF9CTE9DSyhzLCAwKTsgKiogKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIGZsdXNoX2Jsb2NrX29ubHkocywgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMuc3RybS5hdmFpbF9vdXQgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gQlNfTkVFRF9NT1JFO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLyoqKi9cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChzLm1hdGNoX2F2YWlsYWJsZSkge1xuICAgICAgICAgICAgICAgICAgICAvKiBJZiB0aGVyZSB3YXMgbm8gbWF0Y2ggYXQgdGhlIHByZXZpb3VzIHBvc2l0aW9uLCBvdXRwdXQgYVxuICAgICAgICAgICAgICAgICAgICAgKiBzaW5nbGUgbGl0ZXJhbC4gSWYgdGhlcmUgd2FzIGEgbWF0Y2ggYnV0IHRoZSBjdXJyZW50IG1hdGNoXG4gICAgICAgICAgICAgICAgICAgICAqIGlzIGxvbmdlciwgdHJ1bmNhdGUgdGhlIHByZXZpb3VzIG1hdGNoIHRvIGEgc2luZ2xlIGxpdGVyYWwuXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAvLyBUcmFjZXZ2KChzdGRlcnIsXCIlY1wiLCBzLT53aW5kb3dbcy0+c3Ryc3RhcnQtMV0pKTtcbiAgICAgICAgICAgICAgICAgICAgLyoqICogX3RyX3RhbGx5X2xpdChzLCBzLndpbmRvd1tzLnN0cnN0YXJ0LTFdLCBiZmx1c2gpOyAqKiAqL1xuICAgICAgICAgICAgICAgICAgICBiZmx1c2ggPSBfdHJfdGFsbHkkMShzLCAwLCBzLndpbmRvd1tzLnN0cnN0YXJ0IC0gMV0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYmZsdXNoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvKiogKiBGTFVTSF9CTE9DS19PTkxZKHMsIDApICoqICovXG4gICAgICAgICAgICAgICAgICAgICAgICBmbHVzaF9ibG9ja19vbmx5KHMsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKiovXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcy5zdHJzdGFydCsrO1xuICAgICAgICAgICAgICAgICAgICBzLmxvb2thaGVhZC0tO1xuICAgICAgICAgICAgICAgICAgICBpZiAocy5zdHJtLmF2YWlsX291dCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEJTX05FRURfTU9SRTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLyogVGhlcmUgaXMgbm8gcHJldmlvdXMgbWF0Y2ggdG8gY29tcGFyZSB3aXRoLCB3YWl0IGZvclxuICAgICAgICAgICAgICAgICAgICAgKiB0aGUgbmV4dCBzdGVwIHRvIGRlY2lkZS5cbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIHMubWF0Y2hfYXZhaWxhYmxlID0gMTtcbiAgICAgICAgICAgICAgICAgICAgcy5zdHJzdGFydCsrO1xuICAgICAgICAgICAgICAgICAgICBzLmxvb2thaGVhZC0tO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gLy8gQXNzZXJ0IChmbHVzaCAhPSBaX05PX0ZMVVNILCBcIm5vIGZsdXNoP1wiKTtcbiAgICAgICAgICAgIGlmIChzLm1hdGNoX2F2YWlsYWJsZSkge1xuICAgICAgICAgICAgICAgIC8vIFRyYWNldnYoKHN0ZGVycixcIiVjXCIsIHMtPndpbmRvd1tzLT5zdHJzdGFydC0xXSkpO1xuICAgICAgICAgICAgICAgIC8qKiAqIF90cl90YWxseV9saXQocywgcy53aW5kb3dbcy5zdHJzdGFydC0xXSwgYmZsdXNoKTsgKiogKi9cbiAgICAgICAgICAgICAgICBiZmx1c2ggPSBfdHJfdGFsbHkkMShzLCAwLCBzLndpbmRvd1tzLnN0cnN0YXJ0IC0gMV0pO1xuICAgICAgICAgICAgICAgIHMubWF0Y2hfYXZhaWxhYmxlID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHMuaW5zZXJ0ID0gcy5zdHJzdGFydCA8IE1JTl9NQVRDSCQxIC0gMSA/IHMuc3Ryc3RhcnQgOiBNSU5fTUFUQ0gkMSAtIDE7XG4gICAgICAgICAgICBpZiAoZmx1c2ggPT09IFpfRklOSVNIKSB7XG4gICAgICAgICAgICAgICAgLyoqICogRkxVU0hfQkxPQ0socywgMSk7ICoqICovXG4gICAgICAgICAgICAgICAgZmx1c2hfYmxvY2tfb25seShzLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBpZiAocy5zdHJtLmF2YWlsX291dCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gQlNfRklOSVNIX1NUQVJURUQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8qKiovXG4gICAgICAgICAgICAgICAgcmV0dXJuIEJTX0ZJTklTSF9ET05FO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHMubGFzdF9saXQpIHtcbiAgICAgICAgICAgICAgICAvKiogKiBGTFVTSF9CTE9DSyhzLCAwKTsgKiogKi9cbiAgICAgICAgICAgICAgICBmbHVzaF9ibG9ja19vbmx5KHMsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICBpZiAocy5zdHJtLmF2YWlsX291dCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gQlNfTkVFRF9NT1JFO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKioqL1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIEJTX0JMT0NLX0RPTkU7XG4gICAgICAgIH07XG4gICAgICAgIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgICAgKiBGb3IgWl9STEUsIHNpbXBseSBsb29rIGZvciBydW5zIG9mIGJ5dGVzLCBnZW5lcmF0ZSBtYXRjaGVzIG9ubHkgb2YgZGlzdGFuY2VcbiAgICAgICAgICogb25lLiAgRG8gbm90IG1haW50YWluIGEgaGFzaCB0YWJsZS4gIChJdCB3aWxsIGJlIHJlZ2VuZXJhdGVkIGlmIHRoaXMgcnVuIG9mXG4gICAgICAgICAqIGRlZmxhdGUgc3dpdGNoZXMgYXdheSBmcm9tIFpfUkxFLilcbiAgICAgICAgICovXG4gICAgICAgIHZhciBkZWZsYXRlX3JsZSA9IGZ1bmN0aW9uIGRlZmxhdGVfcmxlKHMsIGZsdXNoKSB7XG4gICAgICAgICAgICB2YXIgYmZsdXNoO1xuICAgICAgICAgICAgLyogc2V0IGlmIGN1cnJlbnQgYmxvY2sgbXVzdCBiZSBmbHVzaGVkICovXG4gICAgICAgICAgICB2YXIgcHJldjtcbiAgICAgICAgICAgIC8qIGJ5dGUgYXQgZGlzdGFuY2Ugb25lIHRvIG1hdGNoICovXG4gICAgICAgICAgICB2YXIgc2NhbjtcbiAgICAgICAgICAgIHZhciBzdHJlbmQ7XG4gICAgICAgICAgICAvKiBzY2FuIGdvZXMgdXAgdG8gc3RyZW5kIGZvciBsZW5ndGggb2YgcnVuICovXG4gICAgICAgICAgICB2YXIgX3dpbiA9IHMud2luZG93O1xuICAgICAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgICAgIC8qIE1ha2Ugc3VyZSB0aGF0IHdlIGFsd2F5cyBoYXZlIGVub3VnaCBsb29rYWhlYWQsIGV4Y2VwdFxuICAgICAgICAgICAgICAgICAqIGF0IHRoZSBlbmQgb2YgdGhlIGlucHV0IGZpbGUuIFdlIG5lZWQgTUFYX01BVENIIGJ5dGVzXG4gICAgICAgICAgICAgICAgICogZm9yIHRoZSBsb25nZXN0IHJ1biwgcGx1cyBvbmUgZm9yIHRoZSB1bnJvbGxlZCBsb29wLlxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGlmIChzLmxvb2thaGVhZCA8PSBNQVhfTUFUQ0gkMSkge1xuICAgICAgICAgICAgICAgICAgICBmaWxsX3dpbmRvdyhzKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHMubG9va2FoZWFkIDw9IE1BWF9NQVRDSCQxICYmIGZsdXNoID09PSBaX05PX0ZMVVNIKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gQlNfTkVFRF9NT1JFO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChzLmxvb2thaGVhZCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLyogZmx1c2ggdGhlIGN1cnJlbnQgYmxvY2sgKi9cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyogU2VlIGhvdyBtYW55IHRpbWVzIHRoZSBwcmV2aW91cyBieXRlIHJlcGVhdHMgKi9cbiAgICAgICAgICAgICAgICBzLm1hdGNoX2xlbmd0aCA9IDA7XG4gICAgICAgICAgICAgICAgaWYgKHMubG9va2FoZWFkID49IE1JTl9NQVRDSCQxICYmIHMuc3Ryc3RhcnQgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHNjYW4gPSBzLnN0cnN0YXJ0IC0gMTtcbiAgICAgICAgICAgICAgICAgICAgcHJldiA9IF93aW5bc2Nhbl07XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcmV2ID09PSBfd2luWysrc2Nhbl0gJiYgcHJldiA9PT0gX3dpblsrK3NjYW5dICYmIHByZXYgPT09IF93aW5bKytzY2FuXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RyZW5kID0gcy5zdHJzdGFydCArIE1BWF9NQVRDSCQxO1xuICAgICAgICAgICAgICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIGpzaGludCBub2VtcHR5OmZhbHNlICovXG4gICAgICAgICAgICAgICAgICAgICAgICB9IHdoaWxlIChwcmV2ID09PSBfd2luWysrc2Nhbl0gJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2ID09PSBfd2luWysrc2Nhbl0gJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2ID09PSBfd2luWysrc2Nhbl0gJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2ID09PSBfd2luWysrc2Nhbl0gJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2ID09PSBfd2luWysrc2Nhbl0gJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2ID09PSBfd2luWysrc2Nhbl0gJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2ID09PSBfd2luWysrc2Nhbl0gJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2ID09PSBfd2luWysrc2Nhbl0gJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY2FuIDwgc3RyZW5kKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHMubWF0Y2hfbGVuZ3RoID0gTUFYX01BVENIJDEgLSAoc3RyZW5kIC0gc2Nhbik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocy5tYXRjaF9sZW5ndGggPiBzLmxvb2thaGVhZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMubWF0Y2hfbGVuZ3RoID0gcy5sb29rYWhlYWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gLy8gQXNzZXJ0KHNjYW4gPD0gcy0+d2luZG93Kyh1SW50KShzLT53aW5kb3dfc2l6ZS0xKSwgXCJ3aWxkIHNjYW5cIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8qIEVtaXQgbWF0Y2ggaWYgaGF2ZSBydW4gb2YgTUlOX01BVENIIG9yIGxvbmdlciwgZWxzZSBlbWl0IGxpdGVyYWwgKi9cbiAgICAgICAgICAgICAgICBpZiAocy5tYXRjaF9sZW5ndGggPj0gTUlOX01BVENIJDEpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gY2hlY2tfbWF0Y2gocywgcy5zdHJzdGFydCwgcy5zdHJzdGFydCAtIDEsIHMubWF0Y2hfbGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgLyoqICogX3RyX3RhbGx5X2Rpc3QocywgMSwgcy5tYXRjaF9sZW5ndGggLSBNSU5fTUFUQ0gsIGJmbHVzaCk7ICoqICovXG4gICAgICAgICAgICAgICAgICAgIGJmbHVzaCA9IF90cl90YWxseSQxKHMsIDEsIHMubWF0Y2hfbGVuZ3RoIC0gTUlOX01BVENIJDEpO1xuICAgICAgICAgICAgICAgICAgICBzLmxvb2thaGVhZCAtPSBzLm1hdGNoX2xlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgcy5zdHJzdGFydCArPSBzLm1hdGNoX2xlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgcy5tYXRjaF9sZW5ndGggPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLyogTm8gbWF0Y2gsIG91dHB1dCBhIGxpdGVyYWwgYnl0ZSAqL1xuICAgICAgICAgICAgICAgICAgICAvLyBUcmFjZXZ2KChzdGRlcnIsXCIlY1wiLCBzLT53aW5kb3dbcy0+c3Ryc3RhcnRdKSk7XG4gICAgICAgICAgICAgICAgICAgIC8qKiAqIF90cl90YWxseV9saXQocywgcy53aW5kb3dbcy5zdHJzdGFydF0sIGJmbHVzaCk7ICoqICovXG4gICAgICAgICAgICAgICAgICAgIGJmbHVzaCA9IF90cl90YWxseSQxKHMsIDAsIHMud2luZG93W3Muc3Ryc3RhcnRdKTtcbiAgICAgICAgICAgICAgICAgICAgcy5sb29rYWhlYWQtLTtcbiAgICAgICAgICAgICAgICAgICAgcy5zdHJzdGFydCsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoYmZsdXNoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8qKiAqIEZMVVNIX0JMT0NLKHMsIDApOyAqKiAqL1xuICAgICAgICAgICAgICAgICAgICBmbHVzaF9ibG9ja19vbmx5KHMsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHMuc3RybS5hdmFpbF9vdXQgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBCU19ORUVEX01PUkU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLyoqKi9cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzLmluc2VydCA9IDA7XG4gICAgICAgICAgICBpZiAoZmx1c2ggPT09IFpfRklOSVNIKSB7XG4gICAgICAgICAgICAgICAgLyoqICogRkxVU0hfQkxPQ0socywgMSk7ICoqICovXG4gICAgICAgICAgICAgICAgZmx1c2hfYmxvY2tfb25seShzLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBpZiAocy5zdHJtLmF2YWlsX291dCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gQlNfRklOSVNIX1NUQVJURUQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8qKiovXG4gICAgICAgICAgICAgICAgcmV0dXJuIEJTX0ZJTklTSF9ET05FO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHMubGFzdF9saXQpIHtcbiAgICAgICAgICAgICAgICAvKiogKiBGTFVTSF9CTE9DSyhzLCAwKTsgKiogKi9cbiAgICAgICAgICAgICAgICBmbHVzaF9ibG9ja19vbmx5KHMsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICBpZiAocy5zdHJtLmF2YWlsX291dCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gQlNfTkVFRF9NT1JFO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKioqL1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIEJTX0JMT0NLX0RPTkU7XG4gICAgICAgIH07XG4gICAgICAgIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgICAgKiBGb3IgWl9IVUZGTUFOX09OTFksIGRvIG5vdCBsb29rIGZvciBtYXRjaGVzLiAgRG8gbm90IG1haW50YWluIGEgaGFzaCB0YWJsZS5cbiAgICAgICAgICogKEl0IHdpbGwgYmUgcmVnZW5lcmF0ZWQgaWYgdGhpcyBydW4gb2YgZGVmbGF0ZSBzd2l0Y2hlcyBhd2F5IGZyb20gSHVmZm1hbi4pXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgZGVmbGF0ZV9odWZmID0gZnVuY3Rpb24gZGVmbGF0ZV9odWZmKHMsIGZsdXNoKSB7XG4gICAgICAgICAgICB2YXIgYmZsdXNoO1xuICAgICAgICAgICAgLyogc2V0IGlmIGN1cnJlbnQgYmxvY2sgbXVzdCBiZSBmbHVzaGVkICovXG4gICAgICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgICAgICAgLyogTWFrZSBzdXJlIHRoYXQgd2UgaGF2ZSBhIGxpdGVyYWwgdG8gd3JpdGUuICovXG4gICAgICAgICAgICAgICAgaWYgKHMubG9va2FoZWFkID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGZpbGxfd2luZG93KHMpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocy5sb29rYWhlYWQgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmbHVzaCA9PT0gWl9OT19GTFVTSCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBCU19ORUVEX01PUkU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIGZsdXNoIHRoZSBjdXJyZW50IGJsb2NrICovXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyogT3V0cHV0IGEgbGl0ZXJhbCBieXRlICovXG4gICAgICAgICAgICAgICAgcy5tYXRjaF9sZW5ndGggPSAwOyAvLyBUcmFjZXZ2KChzdGRlcnIsXCIlY1wiLCBzLT53aW5kb3dbcy0+c3Ryc3RhcnRdKSk7XG4gICAgICAgICAgICAgICAgLyoqICogX3RyX3RhbGx5X2xpdChzLCBzLndpbmRvd1tzLnN0cnN0YXJ0XSwgYmZsdXNoKTsgKiogKi9cbiAgICAgICAgICAgICAgICBiZmx1c2ggPSBfdHJfdGFsbHkkMShzLCAwLCBzLndpbmRvd1tzLnN0cnN0YXJ0XSk7XG4gICAgICAgICAgICAgICAgcy5sb29rYWhlYWQtLTtcbiAgICAgICAgICAgICAgICBzLnN0cnN0YXJ0Kys7XG4gICAgICAgICAgICAgICAgaWYgKGJmbHVzaCkge1xuICAgICAgICAgICAgICAgICAgICAvKiogKiBGTFVTSF9CTE9DSyhzLCAwKTsgKiogKi9cbiAgICAgICAgICAgICAgICAgICAgZmx1c2hfYmxvY2tfb25seShzLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzLnN0cm0uYXZhaWxfb3V0ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gQlNfTkVFRF9NT1JFO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8qKiovXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcy5pbnNlcnQgPSAwO1xuICAgICAgICAgICAgaWYgKGZsdXNoID09PSBaX0ZJTklTSCkge1xuICAgICAgICAgICAgICAgIC8qKiAqIEZMVVNIX0JMT0NLKHMsIDEpOyAqKiAqL1xuICAgICAgICAgICAgICAgIGZsdXNoX2Jsb2NrX29ubHkocywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgaWYgKHMuc3RybS5hdmFpbF9vdXQgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEJTX0ZJTklTSF9TVEFSVEVEO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKioqL1xuICAgICAgICAgICAgICAgIHJldHVybiBCU19GSU5JU0hfRE9ORTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzLmxhc3RfbGl0KSB7XG4gICAgICAgICAgICAgICAgLyoqICogRkxVU0hfQkxPQ0socywgMCk7ICoqICovXG4gICAgICAgICAgICAgICAgZmx1c2hfYmxvY2tfb25seShzLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgaWYgKHMuc3RybS5hdmFpbF9vdXQgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEJTX05FRURfTU9SRTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyoqKi9cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBCU19CTE9DS19ET05FO1xuICAgICAgICB9O1xuICAgICAgICAvKiBWYWx1ZXMgZm9yIG1heF9sYXp5X21hdGNoLCBnb29kX21hdGNoIGFuZCBtYXhfY2hhaW5fbGVuZ3RoLCBkZXBlbmRpbmcgb25cbiAgICAgICAgICogdGhlIGRlc2lyZWQgcGFjayBsZXZlbCAoMC4uOSkuIFRoZSB2YWx1ZXMgZ2l2ZW4gYmVsb3cgaGF2ZSBiZWVuIHR1bmVkIHRvXG4gICAgICAgICAqIGV4Y2x1ZGUgd29yc3QgY2FzZSBwZXJmb3JtYW5jZSBmb3IgcGF0aG9sb2dpY2FsIGZpbGVzLiBCZXR0ZXIgdmFsdWVzIG1heSBiZVxuICAgICAgICAgKiBmb3VuZCBmb3Igc3BlY2lmaWMgZmlsZXMuXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBDb25maWcoZ29vZF9sZW5ndGgsIG1heF9sYXp5LCBuaWNlX2xlbmd0aCwgbWF4X2NoYWluLCBmdW5jKSB7XG4gICAgICAgICAgICB0aGlzLmdvb2RfbGVuZ3RoID0gZ29vZF9sZW5ndGg7XG4gICAgICAgICAgICB0aGlzLm1heF9sYXp5ID0gbWF4X2xhenk7XG4gICAgICAgICAgICB0aGlzLm5pY2VfbGVuZ3RoID0gbmljZV9sZW5ndGg7XG4gICAgICAgICAgICB0aGlzLm1heF9jaGFpbiA9IG1heF9jaGFpbjtcbiAgICAgICAgICAgIHRoaXMuZnVuYyA9IGZ1bmM7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNvbmZpZ3VyYXRpb25fdGFibGUgPSBbXG4gICAgICAgICAgICAvKiAgICAgIGdvb2QgbGF6eSBuaWNlIGNoYWluICovXG4gICAgICAgICAgICBuZXcgQ29uZmlnKDAsIDAsIDAsIDAsIGRlZmxhdGVfc3RvcmVkKSxcbiAgICAgICAgICAgIC8qIDAgc3RvcmUgb25seSAqL1xuICAgICAgICAgICAgbmV3IENvbmZpZyg0LCA0LCA4LCA0LCBkZWZsYXRlX2Zhc3QpLFxuICAgICAgICAgICAgLyogMSBtYXggc3BlZWQsIG5vIGxhenkgbWF0Y2hlcyAqL1xuICAgICAgICAgICAgbmV3IENvbmZpZyg0LCA1LCAxNiwgOCwgZGVmbGF0ZV9mYXN0KSxcbiAgICAgICAgICAgIC8qIDIgKi9cbiAgICAgICAgICAgIG5ldyBDb25maWcoNCwgNiwgMzIsIDMyLCBkZWZsYXRlX2Zhc3QpLFxuICAgICAgICAgICAgLyogMyAqL1xuICAgICAgICAgICAgbmV3IENvbmZpZyg0LCA0LCAxNiwgMTYsIGRlZmxhdGVfc2xvdyksXG4gICAgICAgICAgICAvKiA0IGxhenkgbWF0Y2hlcyAqL1xuICAgICAgICAgICAgbmV3IENvbmZpZyg4LCAxNiwgMzIsIDMyLCBkZWZsYXRlX3Nsb3cpLFxuICAgICAgICAgICAgLyogNSAqL1xuICAgICAgICAgICAgbmV3IENvbmZpZyg4LCAxNiwgMTI4LCAxMjgsIGRlZmxhdGVfc2xvdyksXG4gICAgICAgICAgICAvKiA2ICovXG4gICAgICAgICAgICBuZXcgQ29uZmlnKDgsIDMyLCAxMjgsIDI1NiwgZGVmbGF0ZV9zbG93KSxcbiAgICAgICAgICAgIC8qIDcgKi9cbiAgICAgICAgICAgIG5ldyBDb25maWcoMzIsIDEyOCwgMjU4LCAxMDI0LCBkZWZsYXRlX3Nsb3cpLFxuICAgICAgICAgICAgLyogOCAqL1xuICAgICAgICAgICAgbmV3IENvbmZpZygzMiwgMjU4LCAyNTgsIDQwOTYsIGRlZmxhdGVfc2xvdyksXG4gICAgICAgICAgICAvKiA5IG1heCBjb21wcmVzc2lvbiAqL1xuICAgICAgICBdO1xuICAgICAgICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgICAgICogSW5pdGlhbGl6ZSB0aGUgXCJsb25nZXN0IG1hdGNoXCIgcm91dGluZXMgZm9yIGEgbmV3IHpsaWIgc3RyZWFtXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgbG1faW5pdCA9IGZ1bmN0aW9uIGxtX2luaXQocykge1xuICAgICAgICAgICAgcy53aW5kb3dfc2l6ZSA9IDIgKiBzLndfc2l6ZTtcbiAgICAgICAgICAgIC8qKiAqIENMRUFSX0hBU0gocyk7ICoqICovXG4gICAgICAgICAgICB6ZXJvJDEocy5oZWFkKTsgLy8gRmlsbCB3aXRoIE5JTCAoPSAwKTtcbiAgICAgICAgICAgIC8qIFNldCB0aGUgZGVmYXVsdCBjb25maWd1cmF0aW9uIHBhcmFtZXRlcnM6XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHMubWF4X2xhenlfbWF0Y2ggPSBjb25maWd1cmF0aW9uX3RhYmxlW3MubGV2ZWxdLm1heF9sYXp5O1xuICAgICAgICAgICAgcy5nb29kX21hdGNoID0gY29uZmlndXJhdGlvbl90YWJsZVtzLmxldmVsXS5nb29kX2xlbmd0aDtcbiAgICAgICAgICAgIHMubmljZV9tYXRjaCA9IGNvbmZpZ3VyYXRpb25fdGFibGVbcy5sZXZlbF0ubmljZV9sZW5ndGg7XG4gICAgICAgICAgICBzLm1heF9jaGFpbl9sZW5ndGggPSBjb25maWd1cmF0aW9uX3RhYmxlW3MubGV2ZWxdLm1heF9jaGFpbjtcbiAgICAgICAgICAgIHMuc3Ryc3RhcnQgPSAwO1xuICAgICAgICAgICAgcy5ibG9ja19zdGFydCA9IDA7XG4gICAgICAgICAgICBzLmxvb2thaGVhZCA9IDA7XG4gICAgICAgICAgICBzLmluc2VydCA9IDA7XG4gICAgICAgICAgICBzLm1hdGNoX2xlbmd0aCA9IHMucHJldl9sZW5ndGggPSBNSU5fTUFUQ0gkMSAtIDE7XG4gICAgICAgICAgICBzLm1hdGNoX2F2YWlsYWJsZSA9IDA7XG4gICAgICAgICAgICBzLmluc19oID0gMDtcbiAgICAgICAgfTtcbiAgICAgICAgZnVuY3Rpb24gRGVmbGF0ZVN0YXRlKCkge1xuICAgICAgICAgICAgdGhpcy5zdHJtID0gbnVsbDtcbiAgICAgICAgICAgIC8qIHBvaW50ZXIgYmFjayB0byB0aGlzIHpsaWIgc3RyZWFtICovXG4gICAgICAgICAgICB0aGlzLnN0YXR1cyA9IDA7XG4gICAgICAgICAgICAvKiBhcyB0aGUgbmFtZSBpbXBsaWVzICovXG4gICAgICAgICAgICB0aGlzLnBlbmRpbmdfYnVmID0gbnVsbDtcbiAgICAgICAgICAgIC8qIG91dHB1dCBzdGlsbCBwZW5kaW5nICovXG4gICAgICAgICAgICB0aGlzLnBlbmRpbmdfYnVmX3NpemUgPSAwO1xuICAgICAgICAgICAgLyogc2l6ZSBvZiBwZW5kaW5nX2J1ZiAqL1xuICAgICAgICAgICAgdGhpcy5wZW5kaW5nX291dCA9IDA7XG4gICAgICAgICAgICAvKiBuZXh0IHBlbmRpbmcgYnl0ZSB0byBvdXRwdXQgdG8gdGhlIHN0cmVhbSAqL1xuICAgICAgICAgICAgdGhpcy5wZW5kaW5nID0gMDtcbiAgICAgICAgICAgIC8qIG5iIG9mIGJ5dGVzIGluIHRoZSBwZW5kaW5nIGJ1ZmZlciAqL1xuICAgICAgICAgICAgdGhpcy53cmFwID0gMDtcbiAgICAgICAgICAgIC8qIGJpdCAwIHRydWUgZm9yIHpsaWIsIGJpdCAxIHRydWUgZm9yIGd6aXAgKi9cbiAgICAgICAgICAgIHRoaXMuZ3poZWFkID0gbnVsbDtcbiAgICAgICAgICAgIC8qIGd6aXAgaGVhZGVyIGluZm9ybWF0aW9uIHRvIHdyaXRlICovXG4gICAgICAgICAgICB0aGlzLmd6aW5kZXggPSAwO1xuICAgICAgICAgICAgLyogd2hlcmUgaW4gZXh0cmEsIG5hbWUsIG9yIGNvbW1lbnQgKi9cbiAgICAgICAgICAgIHRoaXMubWV0aG9kID0gWl9ERUZMQVRFRDtcbiAgICAgICAgICAgIC8qIGNhbiBvbmx5IGJlIERFRkxBVEVEICovXG4gICAgICAgICAgICB0aGlzLmxhc3RfZmx1c2ggPSAtMTtcbiAgICAgICAgICAgIC8qIHZhbHVlIG9mIGZsdXNoIHBhcmFtIGZvciBwcmV2aW91cyBkZWZsYXRlIGNhbGwgKi9cbiAgICAgICAgICAgIHRoaXMud19zaXplID0gMDtcbiAgICAgICAgICAgIC8qIExaNzcgd2luZG93IHNpemUgKDMySyBieSBkZWZhdWx0KSAqL1xuICAgICAgICAgICAgdGhpcy53X2JpdHMgPSAwO1xuICAgICAgICAgICAgLyogbG9nMih3X3NpemUpICAoOC4uMTYpICovXG4gICAgICAgICAgICB0aGlzLndfbWFzayA9IDA7XG4gICAgICAgICAgICAvKiB3X3NpemUgLSAxICovXG4gICAgICAgICAgICB0aGlzLndpbmRvdyA9IG51bGw7XG4gICAgICAgICAgICAvKiBTbGlkaW5nIHdpbmRvdy4gSW5wdXQgYnl0ZXMgYXJlIHJlYWQgaW50byB0aGUgc2Vjb25kIGhhbGYgb2YgdGhlIHdpbmRvdyxcbiAgICAgICAgICAgICAqIGFuZCBtb3ZlIHRvIHRoZSBmaXJzdCBoYWxmIGxhdGVyIHRvIGtlZXAgYSBkaWN0aW9uYXJ5IG9mIGF0IGxlYXN0IHdTaXplXG4gICAgICAgICAgICAgKiBieXRlcy4gV2l0aCB0aGlzIG9yZ2FuaXphdGlvbiwgbWF0Y2hlcyBhcmUgbGltaXRlZCB0byBhIGRpc3RhbmNlIG9mXG4gICAgICAgICAgICAgKiB3U2l6ZS1NQVhfTUFUQ0ggYnl0ZXMsIGJ1dCB0aGlzIGVuc3VyZXMgdGhhdCBJTyBpcyBhbHdheXNcbiAgICAgICAgICAgICAqIHBlcmZvcm1lZCB3aXRoIGEgbGVuZ3RoIG11bHRpcGxlIG9mIHRoZSBibG9jayBzaXplLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLndpbmRvd19zaXplID0gMDtcbiAgICAgICAgICAgIC8qIEFjdHVhbCBzaXplIG9mIHdpbmRvdzogMip3U2l6ZSwgZXhjZXB0IHdoZW4gdGhlIHVzZXIgaW5wdXQgYnVmZmVyXG4gICAgICAgICAgICAgKiBpcyBkaXJlY3RseSB1c2VkIGFzIHNsaWRpbmcgd2luZG93LlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLnByZXYgPSBudWxsO1xuICAgICAgICAgICAgLyogTGluayB0byBvbGRlciBzdHJpbmcgd2l0aCBzYW1lIGhhc2ggaW5kZXguIFRvIGxpbWl0IHRoZSBzaXplIG9mIHRoaXNcbiAgICAgICAgICAgICAqIGFycmF5IHRvIDY0SywgdGhpcyBsaW5rIGlzIG1haW50YWluZWQgb25seSBmb3IgdGhlIGxhc3QgMzJLIHN0cmluZ3MuXG4gICAgICAgICAgICAgKiBBbiBpbmRleCBpbiB0aGlzIGFycmF5IGlzIHRodXMgYSB3aW5kb3cgaW5kZXggbW9kdWxvIDMySy5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5oZWFkID0gbnVsbDtcbiAgICAgICAgICAgIC8qIEhlYWRzIG9mIHRoZSBoYXNoIGNoYWlucyBvciBOSUwuICovXG4gICAgICAgICAgICB0aGlzLmluc19oID0gMDtcbiAgICAgICAgICAgIC8qIGhhc2ggaW5kZXggb2Ygc3RyaW5nIHRvIGJlIGluc2VydGVkICovXG4gICAgICAgICAgICB0aGlzLmhhc2hfc2l6ZSA9IDA7XG4gICAgICAgICAgICAvKiBudW1iZXIgb2YgZWxlbWVudHMgaW4gaGFzaCB0YWJsZSAqL1xuICAgICAgICAgICAgdGhpcy5oYXNoX2JpdHMgPSAwO1xuICAgICAgICAgICAgLyogbG9nMihoYXNoX3NpemUpICovXG4gICAgICAgICAgICB0aGlzLmhhc2hfbWFzayA9IDA7XG4gICAgICAgICAgICAvKiBoYXNoX3NpemUtMSAqL1xuICAgICAgICAgICAgdGhpcy5oYXNoX3NoaWZ0ID0gMDtcbiAgICAgICAgICAgIC8qIE51bWJlciBvZiBiaXRzIGJ5IHdoaWNoIGluc19oIG11c3QgYmUgc2hpZnRlZCBhdCBlYWNoIGlucHV0XG4gICAgICAgICAgICAgKiBzdGVwLiBJdCBtdXN0IGJlIHN1Y2ggdGhhdCBhZnRlciBNSU5fTUFUQ0ggc3RlcHMsIHRoZSBvbGRlc3RcbiAgICAgICAgICAgICAqIGJ5dGUgbm8gbG9uZ2VyIHRha2VzIHBhcnQgaW4gdGhlIGhhc2gga2V5LCB0aGF0IGlzOlxuICAgICAgICAgICAgICogICBoYXNoX3NoaWZ0ICogTUlOX01BVENIID49IGhhc2hfYml0c1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLmJsb2NrX3N0YXJ0ID0gMDtcbiAgICAgICAgICAgIC8qIFdpbmRvdyBwb3NpdGlvbiBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBjdXJyZW50IG91dHB1dCBibG9jay4gR2V0c1xuICAgICAgICAgICAgICogbmVnYXRpdmUgd2hlbiB0aGUgd2luZG93IGlzIG1vdmVkIGJhY2t3YXJkcy5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5tYXRjaF9sZW5ndGggPSAwO1xuICAgICAgICAgICAgLyogbGVuZ3RoIG9mIGJlc3QgbWF0Y2ggKi9cbiAgICAgICAgICAgIHRoaXMucHJldl9tYXRjaCA9IDA7XG4gICAgICAgICAgICAvKiBwcmV2aW91cyBtYXRjaCAqL1xuICAgICAgICAgICAgdGhpcy5tYXRjaF9hdmFpbGFibGUgPSAwO1xuICAgICAgICAgICAgLyogc2V0IGlmIHByZXZpb3VzIG1hdGNoIGV4aXN0cyAqL1xuICAgICAgICAgICAgdGhpcy5zdHJzdGFydCA9IDA7XG4gICAgICAgICAgICAvKiBzdGFydCBvZiBzdHJpbmcgdG8gaW5zZXJ0ICovXG4gICAgICAgICAgICB0aGlzLm1hdGNoX3N0YXJ0ID0gMDtcbiAgICAgICAgICAgIC8qIHN0YXJ0IG9mIG1hdGNoaW5nIHN0cmluZyAqL1xuICAgICAgICAgICAgdGhpcy5sb29rYWhlYWQgPSAwO1xuICAgICAgICAgICAgLyogbnVtYmVyIG9mIHZhbGlkIGJ5dGVzIGFoZWFkIGluIHdpbmRvdyAqL1xuICAgICAgICAgICAgdGhpcy5wcmV2X2xlbmd0aCA9IDA7XG4gICAgICAgICAgICAvKiBMZW5ndGggb2YgdGhlIGJlc3QgbWF0Y2ggYXQgcHJldmlvdXMgc3RlcC4gTWF0Y2hlcyBub3QgZ3JlYXRlciB0aGFuIHRoaXNcbiAgICAgICAgICAgICAqIGFyZSBkaXNjYXJkZWQuIFRoaXMgaXMgdXNlZCBpbiB0aGUgbGF6eSBtYXRjaCBldmFsdWF0aW9uLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLm1heF9jaGFpbl9sZW5ndGggPSAwO1xuICAgICAgICAgICAgLyogVG8gc3BlZWQgdXAgZGVmbGF0aW9uLCBoYXNoIGNoYWlucyBhcmUgbmV2ZXIgc2VhcmNoZWQgYmV5b25kIHRoaXNcbiAgICAgICAgICAgICAqIGxlbmd0aC4gIEEgaGlnaGVyIGxpbWl0IGltcHJvdmVzIGNvbXByZXNzaW9uIHJhdGlvIGJ1dCBkZWdyYWRlcyB0aGVcbiAgICAgICAgICAgICAqIHNwZWVkLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLm1heF9sYXp5X21hdGNoID0gMDtcbiAgICAgICAgICAgIC8qIEF0dGVtcHQgdG8gZmluZCBhIGJldHRlciBtYXRjaCBvbmx5IHdoZW4gdGhlIGN1cnJlbnQgbWF0Y2ggaXMgc3RyaWN0bHlcbiAgICAgICAgICAgICAqIHNtYWxsZXIgdGhhbiB0aGlzIHZhbHVlLiBUaGlzIG1lY2hhbmlzbSBpcyB1c2VkIG9ubHkgZm9yIGNvbXByZXNzaW9uXG4gICAgICAgICAgICAgKiBsZXZlbHMgPj0gNC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLy8gVGhhdCdzIGFsaWFzIHRvIG1heF9sYXp5X21hdGNoLCBkb24ndCB1c2UgZGlyZWN0bHlcbiAgICAgICAgICAgIC8vIHRoaXMubWF4X2luc2VydF9sZW5ndGggPSAwO1xuICAgICAgICAgICAgLyogSW5zZXJ0IG5ldyBzdHJpbmdzIGluIHRoZSBoYXNoIHRhYmxlIG9ubHkgaWYgdGhlIG1hdGNoIGxlbmd0aCBpcyBub3RcbiAgICAgICAgICAgICAqIGdyZWF0ZXIgdGhhbiB0aGlzIGxlbmd0aC4gVGhpcyBzYXZlcyB0aW1lIGJ1dCBkZWdyYWRlcyBjb21wcmVzc2lvbi5cbiAgICAgICAgICAgICAqIG1heF9pbnNlcnRfbGVuZ3RoIGlzIHVzZWQgb25seSBmb3IgY29tcHJlc3Npb24gbGV2ZWxzIDw9IDMuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMubGV2ZWwgPSAwO1xuICAgICAgICAgICAgLyogY29tcHJlc3Npb24gbGV2ZWwgKDEuLjkpICovXG4gICAgICAgICAgICB0aGlzLnN0cmF0ZWd5ID0gMDtcbiAgICAgICAgICAgIC8qIGZhdm9yIG9yIGZvcmNlIEh1ZmZtYW4gY29kaW5nICovXG4gICAgICAgICAgICB0aGlzLmdvb2RfbWF0Y2ggPSAwO1xuICAgICAgICAgICAgLyogVXNlIGEgZmFzdGVyIHNlYXJjaCB3aGVuIHRoZSBwcmV2aW91cyBtYXRjaCBpcyBsb25nZXIgdGhhbiB0aGlzICovXG4gICAgICAgICAgICB0aGlzLm5pY2VfbWF0Y2ggPSAwO1xuICAgICAgICAgICAgLyogU3RvcCBzZWFyY2hpbmcgd2hlbiBjdXJyZW50IG1hdGNoIGV4Y2VlZHMgdGhpcyAqL1xuICAgICAgICAgICAgLyogdXNlZCBieSB0cmVlcy5jOiAqL1xuICAgICAgICAgICAgLyogRGlkbid0IHVzZSBjdF9kYXRhIHR5cGVkZWYgYmVsb3cgdG8gc3VwcHJlc3MgY29tcGlsZXIgd2FybmluZyAqL1xuICAgICAgICAgICAgLy8gc3RydWN0IGN0X2RhdGFfcyBkeW5fbHRyZWVbSEVBUF9TSVpFXTsgICAvKiBsaXRlcmFsIGFuZCBsZW5ndGggdHJlZSAqL1xuICAgICAgICAgICAgLy8gc3RydWN0IGN0X2RhdGFfcyBkeW5fZHRyZWVbMipEX0NPREVTKzFdOyAvKiBkaXN0YW5jZSB0cmVlICovXG4gICAgICAgICAgICAvLyBzdHJ1Y3QgY3RfZGF0YV9zIGJsX3RyZWVbMipCTF9DT0RFUysxXTsgIC8qIEh1ZmZtYW4gdHJlZSBmb3IgYml0IGxlbmd0aHMgKi9cbiAgICAgICAgICAgIC8vIFVzZSBmbGF0IGFycmF5IG9mIERPVUJMRSBzaXplLCB3aXRoIGludGVybGVhdmVkIGZhdGEsXG4gICAgICAgICAgICAvLyBiZWNhdXNlIEpTIGRvZXMgbm90IHN1cHBvcnQgZWZmZWN0aXZlXG4gICAgICAgICAgICB0aGlzLmR5bl9sdHJlZSA9IG5ldyBVaW50MTZBcnJheShIRUFQX1NJWkUkMSAqIDIpO1xuICAgICAgICAgICAgdGhpcy5keW5fZHRyZWUgPSBuZXcgVWludDE2QXJyYXkoKDIgKiBEX0NPREVTJDEgKyAxKSAqIDIpO1xuICAgICAgICAgICAgdGhpcy5ibF90cmVlID0gbmV3IFVpbnQxNkFycmF5KCgyICogQkxfQ09ERVMkMSArIDEpICogMik7XG4gICAgICAgICAgICB6ZXJvJDEodGhpcy5keW5fbHRyZWUpO1xuICAgICAgICAgICAgemVybyQxKHRoaXMuZHluX2R0cmVlKTtcbiAgICAgICAgICAgIHplcm8kMSh0aGlzLmJsX3RyZWUpO1xuICAgICAgICAgICAgdGhpcy5sX2Rlc2MgPSBudWxsO1xuICAgICAgICAgICAgLyogZGVzYy4gZm9yIGxpdGVyYWwgdHJlZSAqL1xuICAgICAgICAgICAgdGhpcy5kX2Rlc2MgPSBudWxsO1xuICAgICAgICAgICAgLyogZGVzYy4gZm9yIGRpc3RhbmNlIHRyZWUgKi9cbiAgICAgICAgICAgIHRoaXMuYmxfZGVzYyA9IG51bGw7XG4gICAgICAgICAgICAvKiBkZXNjLiBmb3IgYml0IGxlbmd0aCB0cmVlICovXG4gICAgICAgICAgICAvLyB1c2ggYmxfY291bnRbTUFYX0JJVFMrMV07XG4gICAgICAgICAgICB0aGlzLmJsX2NvdW50ID0gbmV3IFVpbnQxNkFycmF5KE1BWF9CSVRTJDEgKyAxKTtcbiAgICAgICAgICAgIC8qIG51bWJlciBvZiBjb2RlcyBhdCBlYWNoIGJpdCBsZW5ndGggZm9yIGFuIG9wdGltYWwgdHJlZSAqL1xuICAgICAgICAgICAgLy8gaW50IGhlYXBbMipMX0NPREVTKzFdOyAgICAgIC8qIGhlYXAgdXNlZCB0byBidWlsZCB0aGUgSHVmZm1hbiB0cmVlcyAqL1xuICAgICAgICAgICAgdGhpcy5oZWFwID0gbmV3IFVpbnQxNkFycmF5KDIgKiBMX0NPREVTJDEgKyAxKTtcbiAgICAgICAgICAgIC8qIGhlYXAgdXNlZCB0byBidWlsZCB0aGUgSHVmZm1hbiB0cmVlcyAqL1xuICAgICAgICAgICAgemVybyQxKHRoaXMuaGVhcCk7XG4gICAgICAgICAgICB0aGlzLmhlYXBfbGVuID0gMDtcbiAgICAgICAgICAgIC8qIG51bWJlciBvZiBlbGVtZW50cyBpbiB0aGUgaGVhcCAqL1xuICAgICAgICAgICAgdGhpcy5oZWFwX21heCA9IDA7XG4gICAgICAgICAgICAvKiBlbGVtZW50IG9mIGxhcmdlc3QgZnJlcXVlbmN5ICovXG4gICAgICAgICAgICAvKiBUaGUgc29ucyBvZiBoZWFwW25dIGFyZSBoZWFwWzIqbl0gYW5kIGhlYXBbMipuKzFdLiBoZWFwWzBdIGlzIG5vdCB1c2VkLlxuICAgICAgICAgICAgICogVGhlIHNhbWUgaGVhcCBhcnJheSBpcyB1c2VkIHRvIGJ1aWxkIGFsbCB0cmVlcy5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5kZXB0aCA9IG5ldyBVaW50MTZBcnJheSgyICogTF9DT0RFUyQxICsgMSk7IC8vIHVjaCBkZXB0aFsyKkxfQ09ERVMrMV07XG4gICAgICAgICAgICB6ZXJvJDEodGhpcy5kZXB0aCk7XG4gICAgICAgICAgICAvKiBEZXB0aCBvZiBlYWNoIHN1YnRyZWUgdXNlZCBhcyB0aWUgYnJlYWtlciBmb3IgdHJlZXMgb2YgZXF1YWwgZnJlcXVlbmN5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMubF9idWYgPSAwO1xuICAgICAgICAgICAgLyogYnVmZmVyIGluZGV4IGZvciBsaXRlcmFscyBvciBsZW5ndGhzICovXG4gICAgICAgICAgICB0aGlzLmxpdF9idWZzaXplID0gMDtcbiAgICAgICAgICAgIC8qIFNpemUgb2YgbWF0Y2ggYnVmZmVyIGZvciBsaXRlcmFscy9sZW5ndGhzLiAgVGhlcmUgYXJlIDQgcmVhc29ucyBmb3JcbiAgICAgICAgICAgICAqIGxpbWl0aW5nIGxpdF9idWZzaXplIHRvIDY0SzpcbiAgICAgICAgICAgICAqICAgLSBmcmVxdWVuY2llcyBjYW4gYmUga2VwdCBpbiAxNiBiaXQgY291bnRlcnNcbiAgICAgICAgICAgICAqICAgLSBpZiBjb21wcmVzc2lvbiBpcyBub3Qgc3VjY2Vzc2Z1bCBmb3IgdGhlIGZpcnN0IGJsb2NrLCBhbGwgaW5wdXRcbiAgICAgICAgICAgICAqICAgICBkYXRhIGlzIHN0aWxsIGluIHRoZSB3aW5kb3cgc28gd2UgY2FuIHN0aWxsIGVtaXQgYSBzdG9yZWQgYmxvY2sgZXZlblxuICAgICAgICAgICAgICogICAgIHdoZW4gaW5wdXQgY29tZXMgZnJvbSBzdGFuZGFyZCBpbnB1dC4gIChUaGlzIGNhbiBhbHNvIGJlIGRvbmUgZm9yXG4gICAgICAgICAgICAgKiAgICAgYWxsIGJsb2NrcyBpZiBsaXRfYnVmc2l6ZSBpcyBub3QgZ3JlYXRlciB0aGFuIDMySy4pXG4gICAgICAgICAgICAgKiAgIC0gaWYgY29tcHJlc3Npb24gaXMgbm90IHN1Y2Nlc3NmdWwgZm9yIGEgZmlsZSBzbWFsbGVyIHRoYW4gNjRLLCB3ZSBjYW5cbiAgICAgICAgICAgICAqICAgICBldmVuIGVtaXQgYSBzdG9yZWQgZmlsZSBpbnN0ZWFkIG9mIGEgc3RvcmVkIGJsb2NrIChzYXZpbmcgNSBieXRlcykuXG4gICAgICAgICAgICAgKiAgICAgVGhpcyBpcyBhcHBsaWNhYmxlIG9ubHkgZm9yIHppcCAobm90IGd6aXAgb3IgemxpYikuXG4gICAgICAgICAgICAgKiAgIC0gY3JlYXRpbmcgbmV3IEh1ZmZtYW4gdHJlZXMgbGVzcyBmcmVxdWVudGx5IG1heSBub3QgcHJvdmlkZSBmYXN0XG4gICAgICAgICAgICAgKiAgICAgYWRhcHRhdGlvbiB0byBjaGFuZ2VzIGluIHRoZSBpbnB1dCBkYXRhIHN0YXRpc3RpY3MuIChUYWtlIGZvclxuICAgICAgICAgICAgICogICAgIGV4YW1wbGUgYSBiaW5hcnkgZmlsZSB3aXRoIHBvb3JseSBjb21wcmVzc2libGUgY29kZSBmb2xsb3dlZCBieVxuICAgICAgICAgICAgICogICAgIGEgaGlnaGx5IGNvbXByZXNzaWJsZSBzdHJpbmcgdGFibGUuKSBTbWFsbGVyIGJ1ZmZlciBzaXplcyBnaXZlXG4gICAgICAgICAgICAgKiAgICAgZmFzdCBhZGFwdGF0aW9uIGJ1dCBoYXZlIG9mIGNvdXJzZSB0aGUgb3ZlcmhlYWQgb2YgdHJhbnNtaXR0aW5nXG4gICAgICAgICAgICAgKiAgICAgdHJlZXMgbW9yZSBmcmVxdWVudGx5LlxuICAgICAgICAgICAgICogICAtIEkgY2FuJ3QgY291bnQgYWJvdmUgNFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLmxhc3RfbGl0ID0gMDtcbiAgICAgICAgICAgIC8qIHJ1bm5pbmcgaW5kZXggaW4gbF9idWYgKi9cbiAgICAgICAgICAgIHRoaXMuZF9idWYgPSAwO1xuICAgICAgICAgICAgLyogQnVmZmVyIGluZGV4IGZvciBkaXN0YW5jZXMuIFRvIHNpbXBsaWZ5IHRoZSBjb2RlLCBkX2J1ZiBhbmQgbF9idWYgaGF2ZVxuICAgICAgICAgICAgICogdGhlIHNhbWUgbnVtYmVyIG9mIGVsZW1lbnRzLiBUbyB1c2UgZGlmZmVyZW50IGxlbmd0aHMsIGFuIGV4dHJhIGZsYWdcbiAgICAgICAgICAgICAqIGFycmF5IHdvdWxkIGJlIG5lY2Vzc2FyeS5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5vcHRfbGVuID0gMDtcbiAgICAgICAgICAgIC8qIGJpdCBsZW5ndGggb2YgY3VycmVudCBibG9jayB3aXRoIG9wdGltYWwgdHJlZXMgKi9cbiAgICAgICAgICAgIHRoaXMuc3RhdGljX2xlbiA9IDA7XG4gICAgICAgICAgICAvKiBiaXQgbGVuZ3RoIG9mIGN1cnJlbnQgYmxvY2sgd2l0aCBzdGF0aWMgdHJlZXMgKi9cbiAgICAgICAgICAgIHRoaXMubWF0Y2hlcyA9IDA7XG4gICAgICAgICAgICAvKiBudW1iZXIgb2Ygc3RyaW5nIG1hdGNoZXMgaW4gY3VycmVudCBibG9jayAqL1xuICAgICAgICAgICAgdGhpcy5pbnNlcnQgPSAwO1xuICAgICAgICAgICAgLyogYnl0ZXMgYXQgZW5kIG9mIHdpbmRvdyBsZWZ0IHRvIGluc2VydCAqL1xuICAgICAgICAgICAgdGhpcy5iaV9idWYgPSAwO1xuICAgICAgICAgICAgLyogT3V0cHV0IGJ1ZmZlci4gYml0cyBhcmUgaW5zZXJ0ZWQgc3RhcnRpbmcgYXQgdGhlIGJvdHRvbSAobGVhc3RcbiAgICAgICAgICAgICAqIHNpZ25pZmljYW50IGJpdHMpLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLmJpX3ZhbGlkID0gMDtcbiAgICAgICAgICAgIC8qIE51bWJlciBvZiB2YWxpZCBiaXRzIGluIGJpX2J1Zi4gIEFsbCBiaXRzIGFib3ZlIHRoZSBsYXN0IHZhbGlkIGJpdFxuICAgICAgICAgICAgICogYXJlIGFsd2F5cyB6ZXJvLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAvLyBVc2VkIGZvciB3aW5kb3cgbWVtb3J5IGluaXQuIFdlIHNhZmVseSBpZ25vcmUgaXQgZm9yIEpTLiBUaGF0IG1ha2VzXG4gICAgICAgICAgICAvLyBzZW5zZSBvbmx5IGZvciBwb2ludGVycyBhbmQgbWVtb3J5IGNoZWNrIHRvb2xzLlxuICAgICAgICAgICAgLy8gdGhpcy5oaWdoX3dhdGVyID0gMDtcbiAgICAgICAgICAgIC8qIEhpZ2ggd2F0ZXIgbWFyayBvZmZzZXQgaW4gd2luZG93IGZvciBpbml0aWFsaXplZCBieXRlcyAtLSBieXRlcyBhYm92ZVxuICAgICAgICAgICAgICogdGhpcyBhcmUgc2V0IHRvIHplcm8gaW4gb3JkZXIgdG8gYXZvaWQgbWVtb3J5IGNoZWNrIHdhcm5pbmdzIHdoZW5cbiAgICAgICAgICAgICAqIGxvbmdlc3QgbWF0Y2ggcm91dGluZXMgYWNjZXNzIGJ5dGVzIHBhc3QgdGhlIGlucHV0LiAgVGhpcyBpcyB0aGVuXG4gICAgICAgICAgICAgKiB1cGRhdGVkIHRvIHRoZSBuZXcgaGlnaCB3YXRlciBtYXJrLlxuICAgICAgICAgICAgICovXG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRlZmxhdGVSZXNldEtlZXAgPSBmdW5jdGlvbiBkZWZsYXRlUmVzZXRLZWVwKHN0cm0pIHtcbiAgICAgICAgICAgIGlmICghc3RybSB8fCAhc3RybS5zdGF0ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBlcnIoc3RybSwgWl9TVFJFQU1fRVJST1IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RybS50b3RhbF9pbiA9IHN0cm0udG90YWxfb3V0ID0gMDtcbiAgICAgICAgICAgIHN0cm0uZGF0YV90eXBlID0gWl9VTktOT1dOJDE7XG4gICAgICAgICAgICB2YXIgcyA9IHN0cm0uc3RhdGU7XG4gICAgICAgICAgICBzLnBlbmRpbmcgPSAwO1xuICAgICAgICAgICAgcy5wZW5kaW5nX291dCA9IDA7XG4gICAgICAgICAgICBpZiAocy53cmFwIDwgMCkge1xuICAgICAgICAgICAgICAgIHMud3JhcCA9IC1zLndyYXA7XG4gICAgICAgICAgICAgICAgLyogd2FzIG1hZGUgbmVnYXRpdmUgYnkgZGVmbGF0ZSguLi4sIFpfRklOSVNIKTsgKi9cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHMuc3RhdHVzID0gcy53cmFwID8gSU5JVF9TVEFURSA6IEJVU1lfU1RBVEU7XG4gICAgICAgICAgICBzdHJtLmFkbGVyID1cbiAgICAgICAgICAgICAgICBzLndyYXAgPT09IDJcbiAgICAgICAgICAgICAgICAgICAgPyAwIC8vIGNyYzMyKDAsIFpfTlVMTCwgMClcbiAgICAgICAgICAgICAgICAgICAgOiAxOyAvLyBhZGxlcjMyKDAsIFpfTlVMTCwgMClcbiAgICAgICAgICAgIHMubGFzdF9mbHVzaCA9IFpfTk9fRkxVU0g7XG4gICAgICAgICAgICBfdHJfaW5pdCQxKHMpO1xuICAgICAgICAgICAgcmV0dXJuIFpfT0s7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBkZWZsYXRlUmVzZXQgPSBmdW5jdGlvbiBkZWZsYXRlUmVzZXQoc3RybSkge1xuICAgICAgICAgICAgdmFyIHJldCA9IGRlZmxhdGVSZXNldEtlZXAoc3RybSk7XG4gICAgICAgICAgICBpZiAocmV0ID09PSBaX09LKSB7XG4gICAgICAgICAgICAgICAgbG1faW5pdChzdHJtLnN0YXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBkZWZsYXRlU2V0SGVhZGVyID0gZnVuY3Rpb24gZGVmbGF0ZVNldEhlYWRlcihzdHJtLCBoZWFkKSB7XG4gICAgICAgICAgICBpZiAoIXN0cm0gfHwgIXN0cm0uc3RhdGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gWl9TVFJFQU1fRVJST1I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc3RybS5zdGF0ZS53cmFwICE9PSAyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFpfU1RSRUFNX0VSUk9SO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RybS5zdGF0ZS5nemhlYWQgPSBoZWFkO1xuICAgICAgICAgICAgcmV0dXJuIFpfT0s7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBkZWZsYXRlSW5pdDIgPSBmdW5jdGlvbiBkZWZsYXRlSW5pdDIoc3RybSwgbGV2ZWwsIG1ldGhvZCwgd2luZG93Qml0cywgbWVtTGV2ZWwsIHN0cmF0ZWd5KSB7XG4gICAgICAgICAgICBpZiAoIXN0cm0pIHtcbiAgICAgICAgICAgICAgICAvLyA9PT0gWl9OVUxMXG4gICAgICAgICAgICAgICAgcmV0dXJuIFpfU1RSRUFNX0VSUk9SO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHdyYXAgPSAxO1xuICAgICAgICAgICAgaWYgKGxldmVsID09PSBaX0RFRkFVTFRfQ09NUFJFU1NJT04pIHtcbiAgICAgICAgICAgICAgICBsZXZlbCA9IDY7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAod2luZG93Qml0cyA8IDApIHtcbiAgICAgICAgICAgICAgICAvKiBzdXBwcmVzcyB6bGliIHdyYXBwZXIgKi9cbiAgICAgICAgICAgICAgICB3cmFwID0gMDtcbiAgICAgICAgICAgICAgICB3aW5kb3dCaXRzID0gLXdpbmRvd0JpdHM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh3aW5kb3dCaXRzID4gMTUpIHtcbiAgICAgICAgICAgICAgICB3cmFwID0gMjtcbiAgICAgICAgICAgICAgICAvKiB3cml0ZSBnemlwIHdyYXBwZXIgaW5zdGVhZCAqL1xuICAgICAgICAgICAgICAgIHdpbmRvd0JpdHMgLT0gMTY7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobWVtTGV2ZWwgPCAxIHx8XG4gICAgICAgICAgICAgICAgbWVtTGV2ZWwgPiBNQVhfTUVNX0xFVkVMIHx8XG4gICAgICAgICAgICAgICAgbWV0aG9kICE9PSBaX0RFRkxBVEVEIHx8XG4gICAgICAgICAgICAgICAgd2luZG93Qml0cyA8IDggfHxcbiAgICAgICAgICAgICAgICB3aW5kb3dCaXRzID4gMTUgfHxcbiAgICAgICAgICAgICAgICBsZXZlbCA8IDAgfHxcbiAgICAgICAgICAgICAgICBsZXZlbCA+IDkgfHxcbiAgICAgICAgICAgICAgICBzdHJhdGVneSA8IDAgfHxcbiAgICAgICAgICAgICAgICBzdHJhdGVneSA+IFpfRklYRUQkMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBlcnIoc3RybSwgWl9TVFJFQU1fRVJST1IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHdpbmRvd0JpdHMgPT09IDgpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3dCaXRzID0gOTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qIHVudGlsIDI1Ni1ieXRlIHdpbmRvdyBidWcgZml4ZWQgKi9cbiAgICAgICAgICAgIHZhciBzID0gbmV3IERlZmxhdGVTdGF0ZSgpO1xuICAgICAgICAgICAgc3RybS5zdGF0ZSA9IHM7XG4gICAgICAgICAgICBzLnN0cm0gPSBzdHJtO1xuICAgICAgICAgICAgcy53cmFwID0gd3JhcDtcbiAgICAgICAgICAgIHMuZ3poZWFkID0gbnVsbDtcbiAgICAgICAgICAgIHMud19iaXRzID0gd2luZG93Qml0cztcbiAgICAgICAgICAgIHMud19zaXplID0gMSA8PCBzLndfYml0cztcbiAgICAgICAgICAgIHMud19tYXNrID0gcy53X3NpemUgLSAxO1xuICAgICAgICAgICAgcy5oYXNoX2JpdHMgPSBtZW1MZXZlbCArIDc7XG4gICAgICAgICAgICBzLmhhc2hfc2l6ZSA9IDEgPDwgcy5oYXNoX2JpdHM7XG4gICAgICAgICAgICBzLmhhc2hfbWFzayA9IHMuaGFzaF9zaXplIC0gMTtcbiAgICAgICAgICAgIHMuaGFzaF9zaGlmdCA9IH5+KChzLmhhc2hfYml0cyArIE1JTl9NQVRDSCQxIC0gMSkgLyBNSU5fTUFUQ0gkMSk7XG4gICAgICAgICAgICBzLndpbmRvdyA9IG5ldyBVaW50OEFycmF5KHMud19zaXplICogMik7XG4gICAgICAgICAgICBzLmhlYWQgPSBuZXcgVWludDE2QXJyYXkocy5oYXNoX3NpemUpO1xuICAgICAgICAgICAgcy5wcmV2ID0gbmV3IFVpbnQxNkFycmF5KHMud19zaXplKTsgLy8gRG9uJ3QgbmVlZCBtZW0gaW5pdCBtYWdpYyBmb3IgSlMuXG4gICAgICAgICAgICAvLyBzLmhpZ2hfd2F0ZXIgPSAwOyAgLyogbm90aGluZyB3cml0dGVuIHRvIHMtPndpbmRvdyB5ZXQgKi9cbiAgICAgICAgICAgIHMubGl0X2J1ZnNpemUgPSAxIDw8IChtZW1MZXZlbCArIDYpO1xuICAgICAgICAgICAgLyogMTZLIGVsZW1lbnRzIGJ5IGRlZmF1bHQgKi9cbiAgICAgICAgICAgIHMucGVuZGluZ19idWZfc2l6ZSA9IHMubGl0X2J1ZnNpemUgKiA0O1xuICAgICAgICAgICAgLy8gb3ZlcmxheSA9ICh1c2hmICopIFpBTExPQyhzdHJtLCBzLT5saXRfYnVmc2l6ZSwgc2l6ZW9mKHVzaCkrMik7XG4gICAgICAgICAgICAvLyBzLT5wZW5kaW5nX2J1ZiA9ICh1Y2hmICopIG92ZXJsYXk7XG4gICAgICAgICAgICAvLyBJdCBpcyBvZmZzZXQgZnJvbSBgcy5wZW5kaW5nX2J1ZmAgKHNpemUgaXMgYHMubGl0X2J1ZnNpemUgKiAyYClcbiAgICAgICAgICAgIHMucGVuZGluZ19idWYgPSBuZXcgVWludDhBcnJheShzLnBlbmRpbmdfYnVmX3NpemUpO1xuICAgICAgICAgICAgLy8gcy0+ZF9idWYgPSBvdmVybGF5ICsgcy0+bGl0X2J1ZnNpemUvc2l6ZW9mKHVzaCk7XG4gICAgICAgICAgICBzLmRfYnVmID0gMSAqIHMubGl0X2J1ZnNpemU7IC8vIHMtPmxfYnVmID0gcy0+cGVuZGluZ19idWYgKyAoMStzaXplb2YodXNoKSkqcy0+bGl0X2J1ZnNpemU7XG4gICAgICAgICAgICBzLmxfYnVmID0gKDEgKyAyKSAqIHMubGl0X2J1ZnNpemU7XG4gICAgICAgICAgICBzLmxldmVsID0gbGV2ZWw7XG4gICAgICAgICAgICBzLnN0cmF0ZWd5ID0gc3RyYXRlZ3k7XG4gICAgICAgICAgICBzLm1ldGhvZCA9IG1ldGhvZDtcbiAgICAgICAgICAgIHJldHVybiBkZWZsYXRlUmVzZXQoc3RybSk7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBkZWZsYXRlSW5pdCA9IGZ1bmN0aW9uIGRlZmxhdGVJbml0KHN0cm0sIGxldmVsKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVmbGF0ZUluaXQyKHN0cm0sIGxldmVsLCBaX0RFRkxBVEVELCBNQVhfV0JJVFMsIERFRl9NRU1fTEVWRUwsIFpfREVGQVVMVF9TVFJBVEVHWSk7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBkZWZsYXRlID0gZnVuY3Rpb24gZGVmbGF0ZShzdHJtLCBmbHVzaCkge1xuICAgICAgICAgICAgdmFyIGJlZztcbiAgICAgICAgICAgIHZhciB2YWw7IC8vIGZvciBnemlwIGhlYWRlciB3cml0ZSBvbmx5XG4gICAgICAgICAgICBpZiAoIXN0cm0gfHwgIXN0cm0uc3RhdGUgfHwgZmx1c2ggPiBaX0JMT0NLIHx8IGZsdXNoIDwgMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdHJtID8gZXJyKHN0cm0sIFpfU1RSRUFNX0VSUk9SKSA6IFpfU1RSRUFNX0VSUk9SO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHMgPSBzdHJtLnN0YXRlO1xuICAgICAgICAgICAgaWYgKCFzdHJtLm91dHB1dCB8fCAoIXN0cm0uaW5wdXQgJiYgc3RybS5hdmFpbF9pbiAhPT0gMCkgfHwgKHMuc3RhdHVzID09PSBGSU5JU0hfU1RBVEUgJiYgZmx1c2ggIT09IFpfRklOSVNIKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBlcnIoc3RybSwgc3RybS5hdmFpbF9vdXQgPT09IDAgPyBaX0JVRl9FUlJPUiA6IFpfU1RSRUFNX0VSUk9SKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHMuc3RybSA9IHN0cm07XG4gICAgICAgICAgICAvKiBqdXN0IGluIGNhc2UgKi9cbiAgICAgICAgICAgIHZhciBvbGRfZmx1c2ggPSBzLmxhc3RfZmx1c2g7XG4gICAgICAgICAgICBzLmxhc3RfZmx1c2ggPSBmbHVzaDtcbiAgICAgICAgICAgIC8qIFdyaXRlIHRoZSBoZWFkZXIgKi9cbiAgICAgICAgICAgIGlmIChzLnN0YXR1cyA9PT0gSU5JVF9TVEFURSkge1xuICAgICAgICAgICAgICAgIGlmIChzLndyYXAgPT09IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gR1pJUCBoZWFkZXJcbiAgICAgICAgICAgICAgICAgICAgc3RybS5hZGxlciA9IDA7IC8vIGNyYzMyKDBMLCBaX05VTEwsIDApO1xuICAgICAgICAgICAgICAgICAgICBwdXRfYnl0ZShzLCAzMSk7XG4gICAgICAgICAgICAgICAgICAgIHB1dF9ieXRlKHMsIDEzOSk7XG4gICAgICAgICAgICAgICAgICAgIHB1dF9ieXRlKHMsIDgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXMuZ3poZWFkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzLT5nemhlYWQgPT0gWl9OVUxMXG4gICAgICAgICAgICAgICAgICAgICAgICBwdXRfYnl0ZShzLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHB1dF9ieXRlKHMsIDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHV0X2J5dGUocywgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwdXRfYnl0ZShzLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHB1dF9ieXRlKHMsIDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHV0X2J5dGUocywgcy5sZXZlbCA9PT0gOSA/IDIgOiBzLnN0cmF0ZWd5ID49IFpfSFVGRk1BTl9PTkxZIHx8IHMubGV2ZWwgPCAyID8gNCA6IDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHV0X2J5dGUocywgT1NfQ09ERSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzLnN0YXR1cyA9IEJVU1lfU1RBVEU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwdXRfYnl0ZShzLCAocy5nemhlYWQudGV4dCA/IDEgOiAwKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKHMuZ3poZWFkLmhjcmMgPyAyIDogMCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICghcy5nemhlYWQuZXh0cmEgPyAwIDogNCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICghcy5nemhlYWQubmFtZSA/IDAgOiA4KSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKCFzLmd6aGVhZC5jb21tZW50ID8gMCA6IDE2KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwdXRfYnl0ZShzLCBzLmd6aGVhZC50aW1lICYgMHhmZik7XG4gICAgICAgICAgICAgICAgICAgICAgICBwdXRfYnl0ZShzLCAocy5nemhlYWQudGltZSA+PiA4KSAmIDB4ZmYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHV0X2J5dGUocywgKHMuZ3poZWFkLnRpbWUgPj4gMTYpICYgMHhmZik7XG4gICAgICAgICAgICAgICAgICAgICAgICBwdXRfYnl0ZShzLCAocy5nemhlYWQudGltZSA+PiAyNCkgJiAweGZmKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHB1dF9ieXRlKHMsIHMubGV2ZWwgPT09IDkgPyAyIDogcy5zdHJhdGVneSA+PSBaX0hVRkZNQU5fT05MWSB8fCBzLmxldmVsIDwgMiA/IDQgOiAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHB1dF9ieXRlKHMsIHMuZ3poZWFkLm9zICYgMHhmZik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocy5nemhlYWQuZXh0cmEgJiYgcy5nemhlYWQuZXh0cmEubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHV0X2J5dGUocywgcy5nemhlYWQuZXh0cmEubGVuZ3RoICYgMHhmZik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHV0X2J5dGUocywgKHMuZ3poZWFkLmV4dHJhLmxlbmd0aCA+PiA4KSAmIDB4ZmYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMuZ3poZWFkLmhjcmMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJtLmFkbGVyID0gY3JjMzJfMShzdHJtLmFkbGVyLCBzLnBlbmRpbmdfYnVmLCBzLnBlbmRpbmcsIDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcy5nemluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHMuc3RhdHVzID0gRVhUUkFfU1RBVEU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IC8vIERFRkxBVEUgaGVhZGVyXG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBoZWFkZXIgPSAoWl9ERUZMQVRFRCArICgocy53X2JpdHMgLSA4KSA8PCA0KSkgPDwgODtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxldmVsX2ZsYWdzID0gLTE7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzLnN0cmF0ZWd5ID49IFpfSFVGRk1BTl9PTkxZIHx8IHMubGV2ZWwgPCAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXZlbF9mbGFncyA9IDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocy5sZXZlbCA8IDYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldmVsX2ZsYWdzID0gMTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzLmxldmVsID09PSA2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXZlbF9mbGFncyA9IDI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXZlbF9mbGFncyA9IDM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyIHw9IGxldmVsX2ZsYWdzIDw8IDY7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzLnN0cnN0YXJ0ICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXIgfD0gUFJFU0VUX0RJQ1Q7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyICs9IDMxIC0gKGhlYWRlciAlIDMxKTtcbiAgICAgICAgICAgICAgICAgICAgcy5zdGF0dXMgPSBCVVNZX1NUQVRFO1xuICAgICAgICAgICAgICAgICAgICBwdXRTaG9ydE1TQihzLCBoZWFkZXIpO1xuICAgICAgICAgICAgICAgICAgICAvKiBTYXZlIHRoZSBhZGxlcjMyIG9mIHRoZSBwcmVzZXQgZGljdGlvbmFyeTogKi9cbiAgICAgICAgICAgICAgICAgICAgaWYgKHMuc3Ryc3RhcnQgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHB1dFNob3J0TVNCKHMsIHN0cm0uYWRsZXIgPj4+IDE2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHB1dFNob3J0TVNCKHMsIHN0cm0uYWRsZXIgJiAweGZmZmYpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHN0cm0uYWRsZXIgPSAxOyAvLyBhZGxlcjMyKDBMLCBaX05VTEwsIDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gLy8gI2lmZGVmIEdaSVBcbiAgICAgICAgICAgIGlmIChzLnN0YXR1cyA9PT0gRVhUUkFfU1RBVEUpIHtcbiAgICAgICAgICAgICAgICBpZiAocy5nemhlYWQuZXh0cmFcbiAgICAgICAgICAgICAgICAvKiAhPSBaX05VTEwgKi9cbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgYmVnID0gcy5wZW5kaW5nO1xuICAgICAgICAgICAgICAgICAgICAvKiBzdGFydCBvZiBieXRlcyB0byB1cGRhdGUgY3JjICovXG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChzLmd6aW5kZXggPCAocy5nemhlYWQuZXh0cmEubGVuZ3RoICYgMHhmZmZmKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMucGVuZGluZyA9PT0gcy5wZW5kaW5nX2J1Zl9zaXplKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMuZ3poZWFkLmhjcmMgJiYgcy5wZW5kaW5nID4gYmVnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cm0uYWRsZXIgPSBjcmMzMl8xKHN0cm0uYWRsZXIsIHMucGVuZGluZ19idWYsIHMucGVuZGluZyAtIGJlZywgYmVnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmx1c2hfcGVuZGluZyhzdHJtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZWcgPSBzLnBlbmRpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMucGVuZGluZyA9PT0gcy5wZW5kaW5nX2J1Zl9zaXplKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHB1dF9ieXRlKHMsIHMuZ3poZWFkLmV4dHJhW3MuZ3ppbmRleF0gJiAweGZmKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHMuZ3ppbmRleCsrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChzLmd6aGVhZC5oY3JjICYmIHMucGVuZGluZyA+IGJlZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RybS5hZGxlciA9IGNyYzMyXzEoc3RybS5hZGxlciwgcy5wZW5kaW5nX2J1Ziwgcy5wZW5kaW5nIC0gYmVnLCBiZWcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChzLmd6aW5kZXggPT09IHMuZ3poZWFkLmV4dHJhLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcy5nemluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHMuc3RhdHVzID0gTkFNRV9TVEFURTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcy5zdGF0dXMgPSBOQU1FX1NUQVRFO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzLnN0YXR1cyA9PT0gTkFNRV9TVEFURSkge1xuICAgICAgICAgICAgICAgIGlmIChzLmd6aGVhZC5uYW1lXG4gICAgICAgICAgICAgICAgLyogIT0gWl9OVUxMICovXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIGJlZyA9IHMucGVuZGluZztcbiAgICAgICAgICAgICAgICAgICAgLyogc3RhcnQgb2YgYnl0ZXMgdG8gdXBkYXRlIGNyYyAqL1xuICAgICAgICAgICAgICAgICAgICAvLyBpbnQgdmFsO1xuICAgICAgICAgICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocy5wZW5kaW5nID09PSBzLnBlbmRpbmdfYnVmX3NpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocy5nemhlYWQuaGNyYyAmJiBzLnBlbmRpbmcgPiBiZWcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RybS5hZGxlciA9IGNyYzMyXzEoc3RybS5hZGxlciwgcy5wZW5kaW5nX2J1Ziwgcy5wZW5kaW5nIC0gYmVnLCBiZWcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbHVzaF9wZW5kaW5nKHN0cm0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJlZyA9IHMucGVuZGluZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocy5wZW5kaW5nID09PSBzLnBlbmRpbmdfYnVmX3NpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSAvLyBKUyBzcGVjaWZpYzogbGl0dGxlIG1hZ2ljIHRvIGFkZCB6ZXJvIHRlcm1pbmF0b3IgdG8gZW5kIG9mIHN0cmluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMuZ3ppbmRleCA8IHMuZ3poZWFkLm5hbWUubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsID0gcy5nemhlYWQubmFtZS5jaGFyQ29kZUF0KHMuZ3ppbmRleCsrKSAmIDB4ZmY7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWwgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcHV0X2J5dGUocywgdmFsKTtcbiAgICAgICAgICAgICAgICAgICAgfSB3aGlsZSAodmFsICE9PSAwKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHMuZ3poZWFkLmhjcmMgJiYgcy5wZW5kaW5nID4gYmVnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJtLmFkbGVyID0gY3JjMzJfMShzdHJtLmFkbGVyLCBzLnBlbmRpbmdfYnVmLCBzLnBlbmRpbmcgLSBiZWcsIGJlZyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcy5nemluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHMuc3RhdHVzID0gQ09NTUVOVF9TVEFURTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcy5zdGF0dXMgPSBDT01NRU5UX1NUQVRFO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzLnN0YXR1cyA9PT0gQ09NTUVOVF9TVEFURSkge1xuICAgICAgICAgICAgICAgIGlmIChzLmd6aGVhZC5jb21tZW50XG4gICAgICAgICAgICAgICAgLyogIT0gWl9OVUxMICovXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIGJlZyA9IHMucGVuZGluZztcbiAgICAgICAgICAgICAgICAgICAgLyogc3RhcnQgb2YgYnl0ZXMgdG8gdXBkYXRlIGNyYyAqL1xuICAgICAgICAgICAgICAgICAgICAvLyBpbnQgdmFsO1xuICAgICAgICAgICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocy5wZW5kaW5nID09PSBzLnBlbmRpbmdfYnVmX3NpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocy5nemhlYWQuaGNyYyAmJiBzLnBlbmRpbmcgPiBiZWcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RybS5hZGxlciA9IGNyYzMyXzEoc3RybS5hZGxlciwgcy5wZW5kaW5nX2J1Ziwgcy5wZW5kaW5nIC0gYmVnLCBiZWcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbHVzaF9wZW5kaW5nKHN0cm0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJlZyA9IHMucGVuZGluZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocy5wZW5kaW5nID09PSBzLnBlbmRpbmdfYnVmX3NpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSAvLyBKUyBzcGVjaWZpYzogbGl0dGxlIG1hZ2ljIHRvIGFkZCB6ZXJvIHRlcm1pbmF0b3IgdG8gZW5kIG9mIHN0cmluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMuZ3ppbmRleCA8IHMuZ3poZWFkLmNvbW1lbnQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsID0gcy5nemhlYWQuY29tbWVudC5jaGFyQ29kZUF0KHMuZ3ppbmRleCsrKSAmIDB4ZmY7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWwgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcHV0X2J5dGUocywgdmFsKTtcbiAgICAgICAgICAgICAgICAgICAgfSB3aGlsZSAodmFsICE9PSAwKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHMuZ3poZWFkLmhjcmMgJiYgcy5wZW5kaW5nID4gYmVnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJtLmFkbGVyID0gY3JjMzJfMShzdHJtLmFkbGVyLCBzLnBlbmRpbmdfYnVmLCBzLnBlbmRpbmcgLSBiZWcsIGJlZyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcy5zdGF0dXMgPSBIQ1JDX1NUQVRFO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzLnN0YXR1cyA9IEhDUkNfU1RBVEU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHMuc3RhdHVzID09PSBIQ1JDX1NUQVRFKSB7XG4gICAgICAgICAgICAgICAgaWYgKHMuZ3poZWFkLmhjcmMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHMucGVuZGluZyArIDIgPiBzLnBlbmRpbmdfYnVmX3NpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsdXNoX3BlbmRpbmcoc3RybSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHMucGVuZGluZyArIDIgPD0gcy5wZW5kaW5nX2J1Zl9zaXplKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwdXRfYnl0ZShzLCBzdHJtLmFkbGVyICYgMHhmZik7XG4gICAgICAgICAgICAgICAgICAgICAgICBwdXRfYnl0ZShzLCAoc3RybS5hZGxlciA+PiA4KSAmIDB4ZmYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RybS5hZGxlciA9IDA7IC8vIGNyYzMyKDBMLCBaX05VTEwsIDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgcy5zdGF0dXMgPSBCVVNZX1NUQVRFO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzLnN0YXR1cyA9IEJVU1lfU1RBVEU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSAvLyAjZW5kaWZcbiAgICAgICAgICAgIC8qIEZsdXNoIGFzIG11Y2ggcGVuZGluZyBvdXRwdXQgYXMgcG9zc2libGUgKi9cbiAgICAgICAgICAgIGlmIChzLnBlbmRpbmcgIT09IDApIHtcbiAgICAgICAgICAgICAgICBmbHVzaF9wZW5kaW5nKHN0cm0pO1xuICAgICAgICAgICAgICAgIGlmIChzdHJtLmF2YWlsX291dCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAvKiBTaW5jZSBhdmFpbF9vdXQgaXMgMCwgZGVmbGF0ZSB3aWxsIGJlIGNhbGxlZCBhZ2FpbiB3aXRoXG4gICAgICAgICAgICAgICAgICAgICAqIG1vcmUgb3V0cHV0IHNwYWNlLCBidXQgcG9zc2libHkgd2l0aCBib3RoIHBlbmRpbmcgYW5kXG4gICAgICAgICAgICAgICAgICAgICAqIGF2YWlsX2luIGVxdWFsIHRvIHplcm8uIFRoZXJlIHdvbid0IGJlIGFueXRoaW5nIHRvIGRvLFxuICAgICAgICAgICAgICAgICAgICAgKiBidXQgdGhpcyBpcyBub3QgYW4gZXJyb3Igc2l0dWF0aW9uIHNvIG1ha2Ugc3VyZSB3ZVxuICAgICAgICAgICAgICAgICAgICAgKiByZXR1cm4gT0sgaW5zdGVhZCBvZiBCVUZfRVJST1IgYXQgbmV4dCBjYWxsIG9mIGRlZmxhdGU6XG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBzLmxhc3RfZmx1c2ggPSAtMTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFpfT0s7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8qIE1ha2Ugc3VyZSB0aGVyZSBpcyBzb21ldGhpbmcgdG8gZG8gYW5kIGF2b2lkIGR1cGxpY2F0ZSBjb25zZWN1dGl2ZVxuICAgICAgICAgICAgICAgICAqIGZsdXNoZXMuIEZvciByZXBlYXRlZCBhbmQgdXNlbGVzcyBjYWxscyB3aXRoIFpfRklOSVNILCB3ZSBrZWVwXG4gICAgICAgICAgICAgICAgICogcmV0dXJuaW5nIFpfU1RSRUFNX0VORCBpbnN0ZWFkIG9mIFpfQlVGX0VSUk9SLlxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc3RybS5hdmFpbF9pbiA9PT0gMCAmJiByYW5rKGZsdXNoKSA8PSByYW5rKG9sZF9mbHVzaCkgJiYgZmx1c2ggIT09IFpfRklOSVNIKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycihzdHJtLCBaX0JVRl9FUlJPUik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKiBVc2VyIG11c3Qgbm90IHByb3ZpZGUgbW9yZSBpbnB1dCBhZnRlciB0aGUgZmlyc3QgRklOSVNIOiAqL1xuICAgICAgICAgICAgaWYgKHMuc3RhdHVzID09PSBGSU5JU0hfU1RBVEUgJiYgc3RybS5hdmFpbF9pbiAhPT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBlcnIoc3RybSwgWl9CVUZfRVJST1IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyogU3RhcnQgYSBuZXcgYmxvY2sgb3IgY29udGludWUgdGhlIGN1cnJlbnQgb25lLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZiAoc3RybS5hdmFpbF9pbiAhPT0gMCB8fCBzLmxvb2thaGVhZCAhPT0gMCB8fCAoZmx1c2ggIT09IFpfTk9fRkxVU0ggJiYgcy5zdGF0dXMgIT09IEZJTklTSF9TVEFURSkpIHtcbiAgICAgICAgICAgICAgICB2YXIgYnN0YXRlID0gcy5zdHJhdGVneSA9PT0gWl9IVUZGTUFOX09OTFlcbiAgICAgICAgICAgICAgICAgICAgPyBkZWZsYXRlX2h1ZmYocywgZmx1c2gpXG4gICAgICAgICAgICAgICAgICAgIDogcy5zdHJhdGVneSA9PT0gWl9STEVcbiAgICAgICAgICAgICAgICAgICAgICAgID8gZGVmbGF0ZV9ybGUocywgZmx1c2gpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGNvbmZpZ3VyYXRpb25fdGFibGVbcy5sZXZlbF0uZnVuYyhzLCBmbHVzaCk7XG4gICAgICAgICAgICAgICAgaWYgKGJzdGF0ZSA9PT0gQlNfRklOSVNIX1NUQVJURUQgfHwgYnN0YXRlID09PSBCU19GSU5JU0hfRE9ORSkge1xuICAgICAgICAgICAgICAgICAgICBzLnN0YXR1cyA9IEZJTklTSF9TVEFURTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGJzdGF0ZSA9PT0gQlNfTkVFRF9NT1JFIHx8IGJzdGF0ZSA9PT0gQlNfRklOSVNIX1NUQVJURUQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0cm0uYXZhaWxfb3V0ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzLmxhc3RfZmx1c2ggPSAtMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIGF2b2lkIEJVRl9FUlJPUiBuZXh0IGNhbGwsIHNlZSBhYm92ZSAqL1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBaX09LO1xuICAgICAgICAgICAgICAgICAgICAvKiBJZiBmbHVzaCAhPSBaX05PX0ZMVVNIICYmIGF2YWlsX291dCA9PSAwLCB0aGUgbmV4dCBjYWxsXG4gICAgICAgICAgICAgICAgICAgICAqIG9mIGRlZmxhdGUgc2hvdWxkIHVzZSB0aGUgc2FtZSBmbHVzaCBwYXJhbWV0ZXIgdG8gbWFrZSBzdXJlXG4gICAgICAgICAgICAgICAgICAgICAqIHRoYXQgdGhlIGZsdXNoIGlzIGNvbXBsZXRlLiBTbyB3ZSBkb24ndCBoYXZlIHRvIG91dHB1dCBhblxuICAgICAgICAgICAgICAgICAgICAgKiBlbXB0eSBibG9jayBoZXJlLCB0aGlzIHdpbGwgYmUgZG9uZSBhdCBuZXh0IGNhbGwuIFRoaXMgYWxzb1xuICAgICAgICAgICAgICAgICAgICAgKiBlbnN1cmVzIHRoYXQgZm9yIGEgdmVyeSBzbWFsbCBvdXRwdXQgYnVmZmVyLCB3ZSBlbWl0IGF0IG1vc3RcbiAgICAgICAgICAgICAgICAgICAgICogb25lIGVtcHR5IGJsb2NrLlxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGJzdGF0ZSA9PT0gQlNfQkxPQ0tfRE9ORSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmx1c2ggPT09IFpfUEFSVElBTF9GTFVTSCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RyX2FsaWduJDEocyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZmx1c2ggIT09IFpfQkxPQ0spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIEZVTExfRkxVU0ggb3IgU1lOQ19GTFVTSCAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RyX3N0b3JlZF9ibG9jayQxKHMsIDAsIDAsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIEZvciBhIGZ1bGwgZmx1c2gsIHRoaXMgZW1wdHkgYmxvY2sgd2lsbCBiZSByZWNvZ25pemVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBhcyBhIHNwZWNpYWwgbWFya2VyIGJ5IGluZmxhdGVfc3luYygpLlxuICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmx1c2ggPT09IFpfRlVMTF9GTFVTSCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKiAqIENMRUFSX0hBU0gocyk7ICoqICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogZm9yZ2V0IGhpc3RvcnkgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB6ZXJvJDEocy5oZWFkKTsgLy8gRmlsbCB3aXRoIE5JTCAoPSAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocy5sb29rYWhlYWQgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcy5zdHJzdGFydCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMuYmxvY2tfc3RhcnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzLmluc2VydCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGZsdXNoX3BlbmRpbmcoc3RybSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdHJtLmF2YWlsX291dCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcy5sYXN0X2ZsdXNoID0gLTE7XG4gICAgICAgICAgICAgICAgICAgICAgICAvKiBhdm9pZCBCVUZfRVJST1IgYXQgbmV4dCBjYWxsLCBzZWUgYWJvdmUgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBaX09LO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSAvLyBBc3NlcnQoc3RybS0+YXZhaWxfb3V0ID4gMCwgXCJidWcyXCIpO1xuICAgICAgICAgICAgLy8gaWYgKHN0cm0uYXZhaWxfb3V0IDw9IDApIHsgdGhyb3cgbmV3IEVycm9yKFwiYnVnMlwiKTt9XG4gICAgICAgICAgICBpZiAoZmx1c2ggIT09IFpfRklOSVNIKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFpfT0s7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocy53cmFwIDw9IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gWl9TVFJFQU1fRU5EO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyogV3JpdGUgdGhlIHRyYWlsZXIgKi9cbiAgICAgICAgICAgIGlmIChzLndyYXAgPT09IDIpIHtcbiAgICAgICAgICAgICAgICBwdXRfYnl0ZShzLCBzdHJtLmFkbGVyICYgMHhmZik7XG4gICAgICAgICAgICAgICAgcHV0X2J5dGUocywgKHN0cm0uYWRsZXIgPj4gOCkgJiAweGZmKTtcbiAgICAgICAgICAgICAgICBwdXRfYnl0ZShzLCAoc3RybS5hZGxlciA+PiAxNikgJiAweGZmKTtcbiAgICAgICAgICAgICAgICBwdXRfYnl0ZShzLCAoc3RybS5hZGxlciA+PiAyNCkgJiAweGZmKTtcbiAgICAgICAgICAgICAgICBwdXRfYnl0ZShzLCBzdHJtLnRvdGFsX2luICYgMHhmZik7XG4gICAgICAgICAgICAgICAgcHV0X2J5dGUocywgKHN0cm0udG90YWxfaW4gPj4gOCkgJiAweGZmKTtcbiAgICAgICAgICAgICAgICBwdXRfYnl0ZShzLCAoc3RybS50b3RhbF9pbiA+PiAxNikgJiAweGZmKTtcbiAgICAgICAgICAgICAgICBwdXRfYnl0ZShzLCAoc3RybS50b3RhbF9pbiA+PiAyNCkgJiAweGZmKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHB1dFNob3J0TVNCKHMsIHN0cm0uYWRsZXIgPj4+IDE2KTtcbiAgICAgICAgICAgICAgICBwdXRTaG9ydE1TQihzLCBzdHJtLmFkbGVyICYgMHhmZmZmKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZsdXNoX3BlbmRpbmcoc3RybSk7XG4gICAgICAgICAgICAvKiBJZiBhdmFpbF9vdXQgaXMgemVybywgdGhlIGFwcGxpY2F0aW9uIHdpbGwgY2FsbCBkZWZsYXRlIGFnYWluXG4gICAgICAgICAgICAgKiB0byBmbHVzaCB0aGUgcmVzdC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYgKHMud3JhcCA+IDApIHtcbiAgICAgICAgICAgICAgICBzLndyYXAgPSAtcy53cmFwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyogd3JpdGUgdGhlIHRyYWlsZXIgb25seSBvbmNlISAqL1xuICAgICAgICAgICAgcmV0dXJuIHMucGVuZGluZyAhPT0gMCA/IFpfT0sgOiBaX1NUUkVBTV9FTkQ7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBkZWZsYXRlRW5kID0gZnVuY3Rpb24gZGVmbGF0ZUVuZChzdHJtKSB7XG4gICAgICAgICAgICBpZiAoIXN0cm0gfHxcbiAgICAgICAgICAgICAgICAvKiA9PSBaX05VTEwgKi9cbiAgICAgICAgICAgICAgICAhc3RybS5zdGF0ZVxuICAgICAgICAgICAgLyogPT0gWl9OVUxMICovXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gWl9TVFJFQU1fRVJST1I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgc3RhdHVzID0gc3RybS5zdGF0ZS5zdGF0dXM7XG4gICAgICAgICAgICBpZiAoc3RhdHVzICE9PSBJTklUX1NUQVRFICYmXG4gICAgICAgICAgICAgICAgc3RhdHVzICE9PSBFWFRSQV9TVEFURSAmJlxuICAgICAgICAgICAgICAgIHN0YXR1cyAhPT0gTkFNRV9TVEFURSAmJlxuICAgICAgICAgICAgICAgIHN0YXR1cyAhPT0gQ09NTUVOVF9TVEFURSAmJlxuICAgICAgICAgICAgICAgIHN0YXR1cyAhPT0gSENSQ19TVEFURSAmJlxuICAgICAgICAgICAgICAgIHN0YXR1cyAhPT0gQlVTWV9TVEFURSAmJlxuICAgICAgICAgICAgICAgIHN0YXR1cyAhPT0gRklOSVNIX1NUQVRFKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycihzdHJtLCBaX1NUUkVBTV9FUlJPUik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdHJtLnN0YXRlID0gbnVsbDtcbiAgICAgICAgICAgIHJldHVybiBzdGF0dXMgPT09IEJVU1lfU1RBVEUgPyBlcnIoc3RybSwgWl9EQVRBX0VSUk9SKSA6IFpfT0s7XG4gICAgICAgIH07XG4gICAgICAgIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgICAgICogSW5pdGlhbGl6ZXMgdGhlIGNvbXByZXNzaW9uIGRpY3Rpb25hcnkgZnJvbSB0aGUgZ2l2ZW4gYnl0ZVxuICAgICAgICAgKiBzZXF1ZW5jZSB3aXRob3V0IHByb2R1Y2luZyBhbnkgY29tcHJlc3NlZCBvdXRwdXQuXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgZGVmbGF0ZVNldERpY3Rpb25hcnkgPSBmdW5jdGlvbiBkZWZsYXRlU2V0RGljdGlvbmFyeShzdHJtLCBkaWN0aW9uYXJ5KSB7XG4gICAgICAgICAgICB2YXIgZGljdExlbmd0aCA9IGRpY3Rpb25hcnkubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKCFzdHJtIHx8XG4gICAgICAgICAgICAgICAgLyogPT0gWl9OVUxMICovXG4gICAgICAgICAgICAgICAgIXN0cm0uc3RhdGVcbiAgICAgICAgICAgIC8qID09IFpfTlVMTCAqL1xuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFpfU1RSRUFNX0VSUk9SO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHMgPSBzdHJtLnN0YXRlO1xuICAgICAgICAgICAgdmFyIHdyYXAgPSBzLndyYXA7XG4gICAgICAgICAgICBpZiAod3JhcCA9PT0gMiB8fCAod3JhcCA9PT0gMSAmJiBzLnN0YXR1cyAhPT0gSU5JVF9TVEFURSkgfHwgcy5sb29rYWhlYWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gWl9TVFJFQU1fRVJST1I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKiB3aGVuIHVzaW5nIHpsaWIgd3JhcHBlcnMsIGNvbXB1dGUgQWRsZXItMzIgZm9yIHByb3ZpZGVkIGRpY3Rpb25hcnkgKi9cbiAgICAgICAgICAgIGlmICh3cmFwID09PSAxKSB7XG4gICAgICAgICAgICAgICAgLyogYWRsZXIzMihzdHJtLT5hZGxlciwgZGljdGlvbmFyeSwgZGljdExlbmd0aCk7ICovXG4gICAgICAgICAgICAgICAgc3RybS5hZGxlciA9IGFkbGVyMzJfMShzdHJtLmFkbGVyLCBkaWN0aW9uYXJ5LCBkaWN0TGVuZ3RoLCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHMud3JhcCA9IDA7XG4gICAgICAgICAgICAvKiBhdm9pZCBjb21wdXRpbmcgQWRsZXItMzIgaW4gcmVhZF9idWYgKi9cbiAgICAgICAgICAgIC8qIGlmIGRpY3Rpb25hcnkgd291bGQgZmlsbCB3aW5kb3csIGp1c3QgcmVwbGFjZSB0aGUgaGlzdG9yeSAqL1xuICAgICAgICAgICAgaWYgKGRpY3RMZW5ndGggPj0gcy53X3NpemUpIHtcbiAgICAgICAgICAgICAgICBpZiAod3JhcCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAvKiBhbHJlYWR5IGVtcHR5IG90aGVyd2lzZSAqL1xuICAgICAgICAgICAgICAgICAgICAvKiogKiBDTEVBUl9IQVNIKHMpOyAqKiAqL1xuICAgICAgICAgICAgICAgICAgICB6ZXJvJDEocy5oZWFkKTsgLy8gRmlsbCB3aXRoIE5JTCAoPSAwKTtcbiAgICAgICAgICAgICAgICAgICAgcy5zdHJzdGFydCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHMuYmxvY2tfc3RhcnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICBzLmluc2VydCA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8qIHVzZSB0aGUgdGFpbCAqL1xuICAgICAgICAgICAgICAgIC8vIGRpY3Rpb25hcnkgPSBkaWN0aW9uYXJ5LnNsaWNlKGRpY3RMZW5ndGggLSBzLndfc2l6ZSk7XG4gICAgICAgICAgICAgICAgdmFyIHRtcERpY3QgPSBuZXcgVWludDhBcnJheShzLndfc2l6ZSk7XG4gICAgICAgICAgICAgICAgdG1wRGljdC5zZXQoZGljdGlvbmFyeS5zdWJhcnJheShkaWN0TGVuZ3RoIC0gcy53X3NpemUsIGRpY3RMZW5ndGgpLCAwKTtcbiAgICAgICAgICAgICAgICBkaWN0aW9uYXJ5ID0gdG1wRGljdDtcbiAgICAgICAgICAgICAgICBkaWN0TGVuZ3RoID0gcy53X3NpemU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKiBpbnNlcnQgZGljdGlvbmFyeSBpbnRvIHdpbmRvdyBhbmQgaGFzaCAqL1xuICAgICAgICAgICAgdmFyIGF2YWlsID0gc3RybS5hdmFpbF9pbjtcbiAgICAgICAgICAgIHZhciBuZXh0ID0gc3RybS5uZXh0X2luO1xuICAgICAgICAgICAgdmFyIGlucHV0ID0gc3RybS5pbnB1dDtcbiAgICAgICAgICAgIHN0cm0uYXZhaWxfaW4gPSBkaWN0TGVuZ3RoO1xuICAgICAgICAgICAgc3RybS5uZXh0X2luID0gMDtcbiAgICAgICAgICAgIHN0cm0uaW5wdXQgPSBkaWN0aW9uYXJ5O1xuICAgICAgICAgICAgZmlsbF93aW5kb3cocyk7XG4gICAgICAgICAgICB3aGlsZSAocy5sb29rYWhlYWQgPj0gTUlOX01BVENIJDEpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3RyID0gcy5zdHJzdGFydDtcbiAgICAgICAgICAgICAgICB2YXIgbiA9IHMubG9va2FoZWFkIC0gKE1JTl9NQVRDSCQxIC0gMSk7XG4gICAgICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgICAgICAvKiBVUERBVEVfSEFTSChzLCBzLT5pbnNfaCwgcy0+d2luZG93W3N0ciArIE1JTl9NQVRDSC0xXSk7ICovXG4gICAgICAgICAgICAgICAgICAgIHMuaW5zX2ggPSBIQVNIKHMsIHMuaW5zX2gsIHMud2luZG93W3N0ciArIE1JTl9NQVRDSCQxIC0gMV0pO1xuICAgICAgICAgICAgICAgICAgICBzLnByZXZbc3RyICYgcy53X21hc2tdID0gcy5oZWFkW3MuaW5zX2hdO1xuICAgICAgICAgICAgICAgICAgICBzLmhlYWRbcy5pbnNfaF0gPSBzdHI7XG4gICAgICAgICAgICAgICAgICAgIHN0cisrO1xuICAgICAgICAgICAgICAgIH0gd2hpbGUgKC0tbik7XG4gICAgICAgICAgICAgICAgcy5zdHJzdGFydCA9IHN0cjtcbiAgICAgICAgICAgICAgICBzLmxvb2thaGVhZCA9IE1JTl9NQVRDSCQxIC0gMTtcbiAgICAgICAgICAgICAgICBmaWxsX3dpbmRvdyhzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHMuc3Ryc3RhcnQgKz0gcy5sb29rYWhlYWQ7XG4gICAgICAgICAgICBzLmJsb2NrX3N0YXJ0ID0gcy5zdHJzdGFydDtcbiAgICAgICAgICAgIHMuaW5zZXJ0ID0gcy5sb29rYWhlYWQ7XG4gICAgICAgICAgICBzLmxvb2thaGVhZCA9IDA7XG4gICAgICAgICAgICBzLm1hdGNoX2xlbmd0aCA9IHMucHJldl9sZW5ndGggPSBNSU5fTUFUQ0gkMSAtIDE7XG4gICAgICAgICAgICBzLm1hdGNoX2F2YWlsYWJsZSA9IDA7XG4gICAgICAgICAgICBzdHJtLm5leHRfaW4gPSBuZXh0O1xuICAgICAgICAgICAgc3RybS5pbnB1dCA9IGlucHV0O1xuICAgICAgICAgICAgc3RybS5hdmFpbF9pbiA9IGF2YWlsO1xuICAgICAgICAgICAgcy53cmFwID0gd3JhcDtcbiAgICAgICAgICAgIHJldHVybiBaX09LO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgZGVmbGF0ZUluaXRfMSA9IGRlZmxhdGVJbml0O1xuICAgICAgICB2YXIgZGVmbGF0ZUluaXQyXzEgPSBkZWZsYXRlSW5pdDI7XG4gICAgICAgIHZhciBkZWZsYXRlUmVzZXRfMSA9IGRlZmxhdGVSZXNldDtcbiAgICAgICAgdmFyIGRlZmxhdGVSZXNldEtlZXBfMSA9IGRlZmxhdGVSZXNldEtlZXA7XG4gICAgICAgIHZhciBkZWZsYXRlU2V0SGVhZGVyXzEgPSBkZWZsYXRlU2V0SGVhZGVyO1xuICAgICAgICB2YXIgZGVmbGF0ZV8yID0gZGVmbGF0ZTtcbiAgICAgICAgdmFyIGRlZmxhdGVFbmRfMSA9IGRlZmxhdGVFbmQ7XG4gICAgICAgIHZhciBkZWZsYXRlU2V0RGljdGlvbmFyeV8xID0gZGVmbGF0ZVNldERpY3Rpb25hcnk7XG4gICAgICAgIHZhciBkZWZsYXRlSW5mbyA9ICdwYWtvIGRlZmxhdGUgKGZyb20gTm9kZWNhIHByb2plY3QpJztcbiAgICAgICAgLyogTm90IGltcGxlbWVudGVkXG4gICAgICBtb2R1bGUuZXhwb3J0cy5kZWZsYXRlQm91bmQgPSBkZWZsYXRlQm91bmQ7XG4gICAgICBtb2R1bGUuZXhwb3J0cy5kZWZsYXRlQ29weSA9IGRlZmxhdGVDb3B5O1xuICAgICAgbW9kdWxlLmV4cG9ydHMuZGVmbGF0ZVBhcmFtcyA9IGRlZmxhdGVQYXJhbXM7XG4gICAgICBtb2R1bGUuZXhwb3J0cy5kZWZsYXRlUGVuZGluZyA9IGRlZmxhdGVQZW5kaW5nO1xuICAgICAgbW9kdWxlLmV4cG9ydHMuZGVmbGF0ZVByaW1lID0gZGVmbGF0ZVByaW1lO1xuICAgICAgbW9kdWxlLmV4cG9ydHMuZGVmbGF0ZVR1bmUgPSBkZWZsYXRlVHVuZTtcbiAgICAgICovXG4gICAgICAgIHZhciBkZWZsYXRlXzEgPSB7XG4gICAgICAgICAgICBkZWZsYXRlSW5pdDogZGVmbGF0ZUluaXRfMSxcbiAgICAgICAgICAgIGRlZmxhdGVJbml0MjogZGVmbGF0ZUluaXQyXzEsXG4gICAgICAgICAgICBkZWZsYXRlUmVzZXQ6IGRlZmxhdGVSZXNldF8xLFxuICAgICAgICAgICAgZGVmbGF0ZVJlc2V0S2VlcDogZGVmbGF0ZVJlc2V0S2VlcF8xLFxuICAgICAgICAgICAgZGVmbGF0ZVNldEhlYWRlcjogZGVmbGF0ZVNldEhlYWRlcl8xLFxuICAgICAgICAgICAgZGVmbGF0ZTogZGVmbGF0ZV8yLFxuICAgICAgICAgICAgZGVmbGF0ZUVuZDogZGVmbGF0ZUVuZF8xLFxuICAgICAgICAgICAgZGVmbGF0ZVNldERpY3Rpb25hcnk6IGRlZmxhdGVTZXREaWN0aW9uYXJ5XzEsXG4gICAgICAgICAgICBkZWZsYXRlSW5mbzogZGVmbGF0ZUluZm8sXG4gICAgICAgIH07XG4gICAgICAgIC8vIEpvaW4gYXJyYXkgb2YgY2h1bmtzIHRvIHNpbmdsZSBhcnJheS5cbiAgICAgICAgZnVuY3Rpb24gZmxhdHRlbkNodW5rcyhjaHVua3MpIHtcbiAgICAgICAgICAgIC8vIGNhbGN1bGF0ZSBkYXRhIGxlbmd0aFxuICAgICAgICAgICAgdmFyIGxlbiA9IDA7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGNodW5rcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsZW4gKz0gY2h1bmtzW2ldLmxlbmd0aDtcbiAgICAgICAgICAgIH0gLy8gam9pbiBjaHVua3NcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBuZXcgVWludDhBcnJheShsZW4pO1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBwb3MgPSAwLCBfbCA9IGNodW5rcy5sZW5ndGg7IF9pIDwgX2w7IF9pKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgY2h1bmsgPSBjaHVua3NbX2ldO1xuICAgICAgICAgICAgICAgIHJlc3VsdC5zZXQoY2h1bmssIHBvcyk7XG4gICAgICAgICAgICAgICAgcG9zICs9IGNodW5rLmxlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU3RyaW5nIGVuY29kZS9kZWNvZGUgaGVscGVyc1xuICAgICAgICAvL1xuICAgICAgICAvLyAtIGFwcGx5KEFycmF5KSBjYW4gZmFpbCBvbiBBbmRyb2lkIDIuMlxuICAgICAgICAvLyAtIGFwcGx5KFVpbnQ4QXJyYXkpIGNhbiBmYWlsIG9uIGlPUyA1LjEgU2FmYXJpXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFRhYmxlIHdpdGggdXRmOCBsZW5ndGhzIChjYWxjdWxhdGVkIGJ5IGZpcnN0IGJ5dGUgb2Ygc2VxdWVuY2UpXG4gICAgICAgIC8vIE5vdGUsIHRoYXQgNSAmIDYtYnl0ZSB2YWx1ZXMgYW5kIHNvbWUgNC1ieXRlIHZhbHVlcyBjYW4gbm90IGJlIHJlcHJlc2VudGVkIGluIEpTLFxuICAgICAgICAvLyBiZWNhdXNlIG1heCBwb3NzaWJsZSBjb2RlcG9pbnQgaXMgMHgxMGZmZmZcbiAgICAgICAgdmFyIF91dGY4bGVuID0gbmV3IFVpbnQ4QXJyYXkoMjU2KTtcbiAgICAgICAgZm9yICh2YXIgcSA9IDA7IHEgPCAyNTY7IHErKykge1xuICAgICAgICAgICAgX3V0ZjhsZW5bcV0gPSBxID49IDI1MiA/IDYgOiBxID49IDI0OCA/IDUgOiBxID49IDI0MCA/IDQgOiBxID49IDIyNCA/IDMgOiBxID49IDE5MiA/IDIgOiAxO1xuICAgICAgICB9XG4gICAgICAgIF91dGY4bGVuWzI1NF0gPSBfdXRmOGxlblsyNTRdID0gMTsgLy8gSW52YWxpZCBzZXF1ZW5jZSBzdGFydFxuICAgICAgICAvLyBjb252ZXJ0IHN0cmluZyB0byBhcnJheSAodHlwZWQsIHdoZW4gcG9zc2libGUpXG4gICAgICAgIC8vIChDKSAyMDE0LTIwMTcgVml0YWx5IFB1enJpbiBhbmQgQW5kcmV5IFR1cGl0c2luXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFRoaXMgc29mdHdhcmUgaXMgcHJvdmlkZWQgJ2FzLWlzJywgd2l0aG91dCBhbnkgZXhwcmVzcyBvciBpbXBsaWVkXG4gICAgICAgIC8vIHdhcnJhbnR5LiBJbiBubyBldmVudCB3aWxsIHRoZSBhdXRob3JzIGJlIGhlbGQgbGlhYmxlIGZvciBhbnkgZGFtYWdlc1xuICAgICAgICAvLyBhcmlzaW5nIGZyb20gdGhlIHVzZSBvZiB0aGlzIHNvZnR3YXJlLlxuICAgICAgICAvL1xuICAgICAgICAvLyBQZXJtaXNzaW9uIGlzIGdyYW50ZWQgdG8gYW55b25lIHRvIHVzZSB0aGlzIHNvZnR3YXJlIGZvciBhbnkgcHVycG9zZSxcbiAgICAgICAgLy8gaW5jbHVkaW5nIGNvbW1lcmNpYWwgYXBwbGljYXRpb25zLCBhbmQgdG8gYWx0ZXIgaXQgYW5kIHJlZGlzdHJpYnV0ZSBpdFxuICAgICAgICAvLyBmcmVlbHksIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyByZXN0cmljdGlvbnM6XG4gICAgICAgIC8vXG4gICAgICAgIC8vIDEuIFRoZSBvcmlnaW4gb2YgdGhpcyBzb2Z0d2FyZSBtdXN0IG5vdCBiZSBtaXNyZXByZXNlbnRlZDsgeW91IG11c3Qgbm90XG4gICAgICAgIC8vICAgY2xhaW0gdGhhdCB5b3Ugd3JvdGUgdGhlIG9yaWdpbmFsIHNvZnR3YXJlLiBJZiB5b3UgdXNlIHRoaXMgc29mdHdhcmVcbiAgICAgICAgLy8gICBpbiBhIHByb2R1Y3QsIGFuIGFja25vd2xlZGdtZW50IGluIHRoZSBwcm9kdWN0IGRvY3VtZW50YXRpb24gd291bGQgYmVcbiAgICAgICAgLy8gICBhcHByZWNpYXRlZCBidXQgaXMgbm90IHJlcXVpcmVkLlxuICAgICAgICAvLyAyLiBBbHRlcmVkIHNvdXJjZSB2ZXJzaW9ucyBtdXN0IGJlIHBsYWlubHkgbWFya2VkIGFzIHN1Y2gsIGFuZCBtdXN0IG5vdCBiZVxuICAgICAgICAvLyAgIG1pc3JlcHJlc2VudGVkIGFzIGJlaW5nIHRoZSBvcmlnaW5hbCBzb2Z0d2FyZS5cbiAgICAgICAgLy8gMy4gVGhpcyBub3RpY2UgbWF5IG5vdCBiZSByZW1vdmVkIG9yIGFsdGVyZWQgZnJvbSBhbnkgc291cmNlIGRpc3RyaWJ1dGlvbi5cbiAgICAgICAgZnVuY3Rpb24gWlN0cmVhbSgpIHtcbiAgICAgICAgICAgIC8qIG5leHQgaW5wdXQgYnl0ZSAqL1xuICAgICAgICAgICAgdGhpcy5pbnB1dCA9IG51bGw7IC8vIEpTIHNwZWNpZmljLCBiZWNhdXNlIHdlIGhhdmUgbm8gcG9pbnRlcnNcbiAgICAgICAgICAgIHRoaXMubmV4dF9pbiA9IDA7XG4gICAgICAgICAgICAvKiBudW1iZXIgb2YgYnl0ZXMgYXZhaWxhYmxlIGF0IGlucHV0ICovXG4gICAgICAgICAgICB0aGlzLmF2YWlsX2luID0gMDtcbiAgICAgICAgICAgIC8qIHRvdGFsIG51bWJlciBvZiBpbnB1dCBieXRlcyByZWFkIHNvIGZhciAqL1xuICAgICAgICAgICAgdGhpcy50b3RhbF9pbiA9IDA7XG4gICAgICAgICAgICAvKiBuZXh0IG91dHB1dCBieXRlIHNob3VsZCBiZSBwdXQgdGhlcmUgKi9cbiAgICAgICAgICAgIHRoaXMub3V0cHV0ID0gbnVsbDsgLy8gSlMgc3BlY2lmaWMsIGJlY2F1c2Ugd2UgaGF2ZSBubyBwb2ludGVyc1xuICAgICAgICAgICAgdGhpcy5uZXh0X291dCA9IDA7XG4gICAgICAgICAgICAvKiByZW1haW5pbmcgZnJlZSBzcGFjZSBhdCBvdXRwdXQgKi9cbiAgICAgICAgICAgIHRoaXMuYXZhaWxfb3V0ID0gMDtcbiAgICAgICAgICAgIC8qIHRvdGFsIG51bWJlciBvZiBieXRlcyBvdXRwdXQgc28gZmFyICovXG4gICAgICAgICAgICB0aGlzLnRvdGFsX291dCA9IDA7XG4gICAgICAgICAgICAvKiBsYXN0IGVycm9yIG1lc3NhZ2UsIE5VTEwgaWYgbm8gZXJyb3IgKi9cbiAgICAgICAgICAgIHRoaXMubXNnID0gJyc7XG4gICAgICAgICAgICAvKiBaX05VTEwgKi9cbiAgICAgICAgICAgIC8qIG5vdCB2aXNpYmxlIGJ5IGFwcGxpY2F0aW9ucyAqL1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IG51bGw7XG4gICAgICAgICAgICAvKiBiZXN0IGd1ZXNzIGFib3V0IHRoZSBkYXRhIHR5cGU6IGJpbmFyeSBvciB0ZXh0ICovXG4gICAgICAgICAgICB0aGlzLmRhdGFfdHlwZSA9IDI7XG4gICAgICAgICAgICAvKiBaX1VOS05PV04gKi9cbiAgICAgICAgICAgIC8qIGFkbGVyMzIgdmFsdWUgb2YgdGhlIHVuY29tcHJlc3NlZCBkYXRhICovXG4gICAgICAgICAgICB0aGlzLmFkbGVyID0gMDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgenN0cmVhbSA9IFpTdHJlYW07XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvdW5ib3VuZC1tZXRob2RcbiAgICAgICAgdmFyIHRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcbiAgICAgICAgLyogUHVibGljIGNvbnN0YW50cyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG4gICAgICAgIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuICAgICAgICB2YXIgWl9OT19GTFVTSCQxID0gY29uc3RhbnRzLlpfTk9fRkxVU0g7XG4gICAgICAgIHZhciBaX1NZTkNfRkxVU0ggPSBjb25zdGFudHMuWl9TWU5DX0ZMVVNIO1xuICAgICAgICB2YXIgWl9GVUxMX0ZMVVNIJDEgPSBjb25zdGFudHMuWl9GVUxMX0ZMVVNIO1xuICAgICAgICB2YXIgWl9GSU5JU0gkMSA9IGNvbnN0YW50cy5aX0ZJTklTSDtcbiAgICAgICAgdmFyIFpfT0skMSA9IGNvbnN0YW50cy5aX09LO1xuICAgICAgICB2YXIgWl9TVFJFQU1fRU5EJDEgPSBjb25zdGFudHMuWl9TVFJFQU1fRU5EO1xuICAgICAgICB2YXIgWl9ERUZBVUxUX0NPTVBSRVNTSU9OJDEgPSBjb25zdGFudHMuWl9ERUZBVUxUX0NPTVBSRVNTSU9OO1xuICAgICAgICB2YXIgWl9ERUZBVUxUX1NUUkFURUdZJDEgPSBjb25zdGFudHMuWl9ERUZBVUxUX1NUUkFURUdZO1xuICAgICAgICB2YXIgWl9ERUZMQVRFRCQxID0gY29uc3RhbnRzLlpfREVGTEFURUQ7XG4gICAgICAgIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogY2xhc3MgRGVmbGF0ZVxuICAgICAgICAgKlxuICAgICAgICAgKiBHZW5lcmljIEpTLXN0eWxlIHdyYXBwZXIgZm9yIHpsaWIgY2FsbHMuIElmIHlvdSBkb24ndCBuZWVkXG4gICAgICAgICAqIHN0cmVhbWluZyBiZWhhdmlvdXIgLSB1c2UgbW9yZSBzaW1wbGUgZnVuY3Rpb25zOiBbW2RlZmxhdGVdXSxcbiAgICAgICAgICogW1tkZWZsYXRlUmF3XV0gYW5kIFtbZ3ppcF1dLlxuICAgICAgICAgKiAqL1xuICAgICAgICAvKiBpbnRlcm5hbFxuICAgICAgICAgKiBEZWZsYXRlLmNodW5rcyAtPiBBcnJheVxuICAgICAgICAgKlxuICAgICAgICAgKiBDaHVua3Mgb2Ygb3V0cHV0IGRhdGEsIGlmIFtbRGVmbGF0ZSNvbkRhdGFdXSBub3Qgb3ZlcnJpZGRlbi5cbiAgICAgICAgICogKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlZmxhdGUucmVzdWx0IC0+IFVpbnQ4QXJyYXlcbiAgICAgICAgICpcbiAgICAgICAgICogQ29tcHJlc3NlZCByZXN1bHQsIGdlbmVyYXRlZCBieSBkZWZhdWx0IFtbRGVmbGF0ZSNvbkRhdGFdXVxuICAgICAgICAgKiBhbmQgW1tEZWZsYXRlI29uRW5kXV0gaGFuZGxlcnMuIEZpbGxlZCBhZnRlciB5b3UgcHVzaCBsYXN0IGNodW5rXG4gICAgICAgICAqIChjYWxsIFtbRGVmbGF0ZSNwdXNoXV0gd2l0aCBgWl9GSU5JU0hgIC8gYHRydWVgIHBhcmFtKS5cbiAgICAgICAgICogKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlZmxhdGUuZXJyIC0+IE51bWJlclxuICAgICAgICAgKlxuICAgICAgICAgKiBFcnJvciBjb2RlIGFmdGVyIGRlZmxhdGUgZmluaXNoZWQuIDAgKFpfT0spIG9uIHN1Y2Nlc3MuXG4gICAgICAgICAqIFlvdSB3aWxsIG5vdCBuZWVkIGl0IGluIHJlYWwgbGlmZSwgYmVjYXVzZSBkZWZsYXRlIGVycm9yc1xuICAgICAgICAgKiBhcmUgcG9zc2libGUgb25seSBvbiB3cm9uZyBvcHRpb25zIG9yIGJhZCBgb25EYXRhYCAvIGBvbkVuZGBcbiAgICAgICAgICogY3VzdG9tIGhhbmRsZXJzLlxuICAgICAgICAgKiAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRGVmbGF0ZS5tc2cgLT4gU3RyaW5nXG4gICAgICAgICAqXG4gICAgICAgICAqIEVycm9yIG1lc3NhZ2UsIGlmIFtbRGVmbGF0ZS5lcnJdXSAhPSAwXG4gICAgICAgICAqICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBuZXcgRGVmbGF0ZShvcHRpb25zKVxuICAgICAgICAgKiAtIG9wdGlvbnMgKE9iamVjdCk6IHpsaWIgZGVmbGF0ZSBvcHRpb25zLlxuICAgICAgICAgKlxuICAgICAgICAgKiBDcmVhdGVzIG5ldyBkZWZsYXRvciBpbnN0YW5jZSB3aXRoIHNwZWNpZmllZCBwYXJhbXMuIFRocm93cyBleGNlcHRpb25cbiAgICAgICAgICogb24gYmFkIHBhcmFtcy4gU3VwcG9ydGVkIG9wdGlvbnM6XG4gICAgICAgICAqXG4gICAgICAgICAqIC0gYGxldmVsYFxuICAgICAgICAgKiAtIGB3aW5kb3dCaXRzYFxuICAgICAgICAgKiAtIGBtZW1MZXZlbGBcbiAgICAgICAgICogLSBgc3RyYXRlZ3lgXG4gICAgICAgICAqIC0gYGRpY3Rpb25hcnlgXG4gICAgICAgICAqXG4gICAgICAgICAqIFtodHRwOi8vemxpYi5uZXQvbWFudWFsLmh0bWwjQWR2YW5jZWRdKGh0dHA6Ly96bGliLm5ldC9tYW51YWwuaHRtbCNBZHZhbmNlZClcbiAgICAgICAgICogZm9yIG1vcmUgaW5mb3JtYXRpb24gb24gdGhlc2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEFkZGl0aW9uYWwgb3B0aW9ucywgZm9yIGludGVybmFsIG5lZWRzOlxuICAgICAgICAgKlxuICAgICAgICAgKiAqIGBjaHVua1NpemVgIC0gc2l6ZSBvZiBnZW5lcmF0ZWQgZGF0YSBjaHVua3MgKDE2SyBieSBkZWZhdWx0KVxuICAgICAgICAgKiAqIGByYXdgIChCb29sZWFuKSAtIGRvIHJhdyBkZWZsYXRlXG4gICAgICAgICAqICogYGd6aXBgIChCb29sZWFuKSAtIGNyZWF0ZSBnemlwIHdyYXBwZXJcbiAgICAgICAgICogKiBgaGVhZGVyYCAoT2JqZWN0KSAtIGN1c3RvbSBoZWFkZXIgZm9yIGd6aXBcbiAgICAgICAgICogKiogYHRleHRgIChCb29sZWFuKSAtIHRydWUgaWYgY29tcHJlc3NlZCBkYXRhIGJlbGlldmVkIHRvIGJlIHRleHRcbiAgICAgICAgICogKiogYHRpbWVgIChOdW1iZXIpIC0gbW9kaWZpY2F0aW9uIHRpbWUsIHVuaXggdGltZXN0YW1wXG4gICAgICAgICAqICoqIGBvc2AgKE51bWJlcikgLSBvcGVyYXRpb24gc3lzdGVtIGNvZGVcbiAgICAgICAgICogKiogYGV4dHJhYCAoQXJyYXkpIC0gYXJyYXkgb2YgYnl0ZXMgd2l0aCBleHRyYSBkYXRhIChtYXggNjU1MzYpXG4gICAgICAgICAqICoqIGBuYW1lYCAoU3RyaW5nKSAtIGZpbGUgbmFtZSAoYmluYXJ5IHN0cmluZylcbiAgICAgICAgICogKiogYGNvbW1lbnRgIChTdHJpbmcpIC0gY29tbWVudCAoYmluYXJ5IHN0cmluZylcbiAgICAgICAgICogKiogYGhjcmNgIChCb29sZWFuKSAtIHRydWUgaWYgaGVhZGVyIGNyYyBzaG91bGQgYmUgYWRkZWRcbiAgICAgICAgICpcbiAgICAgICAgICogIyMjIyMgRXhhbXBsZTpcbiAgICAgICAgICpcbiAgICAgICAgICogYGBgamF2YXNjcmlwdFxuICAgICAgICAgKiBjb25zdCBwYWtvID0gcmVxdWlyZSgncGFrbycpXG4gICAgICAgICAqICAgLCBjaHVuazEgPSBuZXcgVWludDhBcnJheShbMSwyLDMsNCw1LDYsNyw4LDldKVxuICAgICAgICAgKiAgICwgY2h1bmsyID0gbmV3IFVpbnQ4QXJyYXkoWzEwLDExLDEyLDEzLDE0LDE1LDE2LDE3LDE4LDE5XSk7XG4gICAgICAgICAqXG4gICAgICAgICAqIGNvbnN0IGRlZmxhdGUgPSBuZXcgcGFrby5EZWZsYXRlKHsgbGV2ZWw6IDN9KTtcbiAgICAgICAgICpcbiAgICAgICAgICogZGVmbGF0ZS5wdXNoKGNodW5rMSwgZmFsc2UpO1xuICAgICAgICAgKiBkZWZsYXRlLnB1c2goY2h1bmsyLCB0cnVlKTsgIC8vIHRydWUgLT4gbGFzdCBjaHVua1xuICAgICAgICAgKlxuICAgICAgICAgKiBpZiAoZGVmbGF0ZS5lcnIpIHsgdGhyb3cgbmV3IEVycm9yKGRlZmxhdGUuZXJyKTsgfVxuICAgICAgICAgKlxuICAgICAgICAgKiBjb25zb2xlLmxvZyhkZWZsYXRlLnJlc3VsdCk7XG4gICAgICAgICAqIGBgYFxuICAgICAgICAgKiAqL1xuICAgICAgICBmdW5jdGlvbiBEZWZsYXRlKCkge1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIGxldmVsOiBaX0RFRkFVTFRfQ09NUFJFU1NJT04kMSxcbiAgICAgICAgICAgICAgICBtZXRob2Q6IFpfREVGTEFURUQkMSxcbiAgICAgICAgICAgICAgICBjaHVua1NpemU6IDE2Mzg0LFxuICAgICAgICAgICAgICAgIHdpbmRvd0JpdHM6IDE1LFxuICAgICAgICAgICAgICAgIG1lbUxldmVsOiA4LFxuICAgICAgICAgICAgICAgIHN0cmF0ZWd5OiBaX0RFRkFVTFRfU1RSQVRFR1kkMSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgb3B0ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICAgICAgaWYgKG9wdC5yYXcgJiYgb3B0LndpbmRvd0JpdHMgPiAwKSB7XG4gICAgICAgICAgICAgICAgb3B0LndpbmRvd0JpdHMgPSAtb3B0LndpbmRvd0JpdHM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChvcHQuZ3ppcCAmJiBvcHQud2luZG93Qml0cyA+IDAgJiYgb3B0LndpbmRvd0JpdHMgPCAxNikge1xuICAgICAgICAgICAgICAgIG9wdC53aW5kb3dCaXRzICs9IDE2O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5lcnIgPSAwOyAvLyBlcnJvciBjb2RlLCBpZiBoYXBwZW5zICgwID0gWl9PSylcbiAgICAgICAgICAgIHRoaXMubXNnID0gJyc7IC8vIGVycm9yIG1lc3NhZ2VcbiAgICAgICAgICAgIHRoaXMuZW5kZWQgPSBmYWxzZTsgLy8gdXNlZCB0byBhdm9pZCBtdWx0aXBsZSBvbkVuZCgpIGNhbGxzXG4gICAgICAgICAgICB0aGlzLmNodW5rcyA9IFtdOyAvLyBjaHVua3Mgb2YgY29tcHJlc3NlZCBkYXRhXG4gICAgICAgICAgICB0aGlzLnN0cm0gPSBuZXcgenN0cmVhbSgpO1xuICAgICAgICAgICAgdGhpcy5zdHJtLmF2YWlsX291dCA9IDA7XG4gICAgICAgICAgICB2YXIgc3RhdHVzID0gZGVmbGF0ZV8xLmRlZmxhdGVJbml0Mih0aGlzLnN0cm0sIG9wdC5sZXZlbCwgb3B0Lm1ldGhvZCwgb3B0LndpbmRvd0JpdHMsIG9wdC5tZW1MZXZlbCwgb3B0LnN0cmF0ZWd5KTtcbiAgICAgICAgICAgIGlmIChzdGF0dXMgIT09IFpfT0skMSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlc1tzdGF0dXNdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHQuaGVhZGVyKSB7XG4gICAgICAgICAgICAgICAgZGVmbGF0ZV8xLmRlZmxhdGVTZXRIZWFkZXIodGhpcy5zdHJtLCBvcHQuaGVhZGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHQuZGljdGlvbmFyeSkge1xuICAgICAgICAgICAgICAgIHZhciBkaWN0OyAvLyBDb252ZXJ0IGRhdGEgaWYgbmVlZGVkXG4gICAgICAgICAgICAgICAgaWYgKHRvU3RyaW5nLmNhbGwob3B0LmRpY3Rpb25hcnkpID09PSAnW29iamVjdCBBcnJheUJ1ZmZlcl0nKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpY3QgPSBuZXcgVWludDhBcnJheShvcHQuZGljdGlvbmFyeSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkaWN0ID0gb3B0LmRpY3Rpb25hcnk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHN0YXR1cyA9IGRlZmxhdGVfMS5kZWZsYXRlU2V0RGljdGlvbmFyeSh0aGlzLnN0cm0sIGRpY3QpO1xuICAgICAgICAgICAgICAgIGlmIChzdGF0dXMgIT09IFpfT0skMSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZXNbc3RhdHVzXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX2RpY3Rfc2V0ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogRGVmbGF0ZSNwdXNoKGRhdGFbLCBmbHVzaF9tb2RlXSkgLT4gQm9vbGVhblxuICAgICAgICAgKiAtIGRhdGEgKFVpbnQ4QXJyYXl8QXJyYXlCdWZmZXJ8U3RyaW5nKTogaW5wdXQgZGF0YS4gU3RyaW5ncyB3aWxsIGJlXG4gICAgICAgICAqIGNvbnZlcnRlZCB0byB1dGY4IGJ5dGUgc2VxdWVuY2UuXG4gICAgICAgICAqIC0gZmx1c2hfbW9kZSAoTnVtYmVyfEJvb2xlYW4pOiAwLi42IGZvciBjb3JyZXNwb25kaW5nIFpfTk9fRkxVU0guLlpfVFJFRSBtb2Rlcy5cbiAgICAgICAgICogU2VlIGNvbnN0YW50cy4gU2tpcHBlZCBvciBgZmFsc2VgIG1lYW5zIFpfTk9fRkxVU0gsIGB0cnVlYCBtZWFucyBaX0ZJTklTSC5cbiAgICAgICAgICpcbiAgICAgICAgICogU2VuZHMgaW5wdXQgZGF0YSB0byBkZWZsYXRlIHBpcGUsIGdlbmVyYXRpbmcgW1tEZWZsYXRlI29uRGF0YV1dIGNhbGxzIHdpdGhcbiAgICAgICAgICogbmV3IGNvbXByZXNzZWQgY2h1bmtzLiBSZXR1cm5zIGB0cnVlYCBvbiBzdWNjZXNzLiBUaGUgbGFzdCBkYXRhIGJsb2NrIG11c3RcbiAgICAgICAgICogaGF2ZSBgZmx1c2hfbW9kZWAgWl9GSU5JU0ggKG9yIGB0cnVlYCkuIFRoYXQgd2lsbCBmbHVzaCBpbnRlcm5hbCBwZW5kaW5nXG4gICAgICAgICAqIGJ1ZmZlcnMgYW5kIGNhbGwgW1tEZWZsYXRlI29uRW5kXV0uXG4gICAgICAgICAqXG4gICAgICAgICAqIE9uIGZhaWwgY2FsbCBbW0RlZmxhdGUjb25FbmRdXSB3aXRoIGVycm9yIGNvZGUgYW5kIHJldHVybiBmYWxzZS5cbiAgICAgICAgICpcbiAgICAgICAgICogIyMjIyMgRXhhbXBsZVxuICAgICAgICAgKlxuICAgICAgICAgKiBgYGBqYXZhc2NyaXB0XG4gICAgICAgICAqIHB1c2goY2h1bmssIGZhbHNlKTsgLy8gcHVzaCBvbmUgb2YgZGF0YSBjaHVua3NcbiAgICAgICAgICogLi4uXG4gICAgICAgICAqIHB1c2goY2h1bmssIHRydWUpOyAgLy8gcHVzaCBsYXN0IGNodW5rXG4gICAgICAgICAqIGBgYFxuICAgICAgICAgKiAqL1xuICAgICAgICBEZWZsYXRlLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKGRhdGEsIGZsdXNoX21vZGUpIHtcbiAgICAgICAgICAgIHZhciBzdHJtID0gdGhpcy5zdHJtO1xuICAgICAgICAgICAgdmFyIGNodW5rU2l6ZSA9IHRoaXMub3B0aW9ucy5jaHVua1NpemU7XG4gICAgICAgICAgICB2YXIgc3RhdHVzO1xuICAgICAgICAgICAgdmFyIF9mbHVzaF9tb2RlO1xuICAgICAgICAgICAgaWYgKHRoaXMuZW5kZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZmx1c2hfbW9kZSA9PT0gfn5mbHVzaF9tb2RlKSB7XG4gICAgICAgICAgICAgICAgX2ZsdXNoX21vZGUgPSBmbHVzaF9tb2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgX2ZsdXNoX21vZGUgPSBmbHVzaF9tb2RlID09PSB0cnVlID8gWl9GSU5JU0gkMSA6IFpfTk9fRkxVU0gkMTtcbiAgICAgICAgICAgIH0gLy8gQ29udmVydCBkYXRhIGlmIG5lZWRlZFxuICAgICAgICAgICAgaWYgKHRvU3RyaW5nLmNhbGwoZGF0YSkgPT09ICdbb2JqZWN0IEFycmF5QnVmZmVyXScpIHtcbiAgICAgICAgICAgICAgICBzdHJtLmlucHV0ID0gbmV3IFVpbnQ4QXJyYXkoZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdHJtLmlucHV0ID0gZGF0YTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0cm0ubmV4dF9pbiA9IDA7XG4gICAgICAgICAgICBzdHJtLmF2YWlsX2luID0gc3RybS5pbnB1dC5sZW5ndGg7XG4gICAgICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0cm0uYXZhaWxfb3V0ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0cm0ub3V0cHV0ID0gbmV3IFVpbnQ4QXJyYXkoY2h1bmtTaXplKTtcbiAgICAgICAgICAgICAgICAgICAgc3RybS5uZXh0X291dCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHN0cm0uYXZhaWxfb3V0ID0gY2h1bmtTaXplO1xuICAgICAgICAgICAgICAgIH0gLy8gTWFrZSBzdXJlIGF2YWlsX291dCA+IDYgdG8gYXZvaWQgcmVwZWF0aW5nIG1hcmtlcnNcbiAgICAgICAgICAgICAgICBpZiAoKF9mbHVzaF9tb2RlID09PSBaX1NZTkNfRkxVU0ggfHwgX2ZsdXNoX21vZGUgPT09IFpfRlVMTF9GTFVTSCQxKSAmJiBzdHJtLmF2YWlsX291dCA8PSA2KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25EYXRhKHN0cm0ub3V0cHV0LnN1YmFycmF5KDAsIHN0cm0ubmV4dF9vdXQpKTtcbiAgICAgICAgICAgICAgICAgICAgc3RybS5hdmFpbF9vdXQgPSAwO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3RhdHVzID0gZGVmbGF0ZV8xLmRlZmxhdGUoc3RybSwgX2ZsdXNoX21vZGUpOyAvLyBFbmRlZCA9PiBmbHVzaCBhbmQgZmluaXNoXG4gICAgICAgICAgICAgICAgaWYgKHN0YXR1cyA9PT0gWl9TVFJFQU1fRU5EJDEpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0cm0ubmV4dF9vdXQgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uRGF0YShzdHJtLm91dHB1dC5zdWJhcnJheSgwLCBzdHJtLm5leHRfb3V0KSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzID0gZGVmbGF0ZV8xLmRlZmxhdGVFbmQodGhpcy5zdHJtKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkVuZChzdGF0dXMpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVuZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0YXR1cyA9PT0gWl9PSyQxO1xuICAgICAgICAgICAgICAgIH0gLy8gRmx1c2ggaWYgb3V0IGJ1ZmZlciBmdWxsXG4gICAgICAgICAgICAgICAgaWYgKHN0cm0uYXZhaWxfb3V0ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25EYXRhKHN0cm0ub3V0cHV0KTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfSAvLyBGbHVzaCBpZiByZXF1ZXN0ZWQgYW5kIGhhcyBkYXRhXG4gICAgICAgICAgICAgICAgaWYgKF9mbHVzaF9tb2RlID4gMCAmJiBzdHJtLm5leHRfb3V0ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uRGF0YShzdHJtLm91dHB1dC5zdWJhcnJheSgwLCBzdHJtLm5leHRfb3V0KSk7XG4gICAgICAgICAgICAgICAgICAgIHN0cm0uYXZhaWxfb3V0ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzdHJtLmF2YWlsX2luID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogRGVmbGF0ZSNvbkRhdGEoY2h1bmspIC0+IFZvaWRcbiAgICAgICAgICogLSBjaHVuayAoVWludDhBcnJheSk6IG91dHB1dCBkYXRhLlxuICAgICAgICAgKlxuICAgICAgICAgKiBCeSBkZWZhdWx0LCBzdG9yZXMgZGF0YSBibG9ja3MgaW4gYGNodW5rc1tdYCBwcm9wZXJ0eSBhbmQgZ2x1ZVxuICAgICAgICAgKiB0aG9zZSBpbiBgb25FbmRgLiBPdmVycmlkZSB0aGlzIGhhbmRsZXIsIGlmIHlvdSBuZWVkIGFub3RoZXIgYmVoYXZpb3VyLlxuICAgICAgICAgKiAqL1xuICAgICAgICBEZWZsYXRlLnByb3RvdHlwZS5vbkRhdGEgPSBmdW5jdGlvbiAoY2h1bmspIHtcbiAgICAgICAgICAgIHRoaXMuY2h1bmtzLnB1c2goY2h1bmspO1xuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogRGVmbGF0ZSNvbkVuZChzdGF0dXMpIC0+IFZvaWRcbiAgICAgICAgICogLSBzdGF0dXMgKE51bWJlcik6IGRlZmxhdGUgc3RhdHVzLiAwIChaX09LKSBvbiBzdWNjZXNzLFxuICAgICAgICAgKiBvdGhlciBpZiBub3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIENhbGxlZCBvbmNlIGFmdGVyIHlvdSB0ZWxsIGRlZmxhdGUgdGhhdCB0aGUgaW5wdXQgc3RyZWFtIGlzXG4gICAgICAgICAqIGNvbXBsZXRlIChaX0ZJTklTSCkuIEJ5IGRlZmF1bHQgLSBqb2luIGNvbGxlY3RlZCBjaHVua3MsXG4gICAgICAgICAqIGZyZWUgbWVtb3J5IGFuZCBmaWxsIGByZXN1bHRzYCAvIGBlcnJgIHByb3BlcnRpZXMuXG4gICAgICAgICAqICovXG4gICAgICAgIERlZmxhdGUucHJvdG90eXBlLm9uRW5kID0gZnVuY3Rpb24gKHN0YXR1cykge1xuICAgICAgICAgICAgLy8gT24gc3VjY2VzcyAtIGpvaW5cbiAgICAgICAgICAgIGlmIChzdGF0dXMgPT09IFpfT0skMSkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVzdWx0ID0gZmxhdHRlbkNodW5rcyh0aGlzLmNodW5rcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmNodW5rcyA9IFtdO1xuICAgICAgICAgICAgdGhpcy5lcnIgPSBzdGF0dXM7XG4gICAgICAgICAgICB0aGlzLm1zZyA9IHRoaXMuc3RybS5tc2c7XG4gICAgICAgIH07XG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9ub2RlY2EvcGFrby9ibG9iLzI2ZGZmNGZiMzQ3MmM1NTMyYjNiZDg4NTY0MjExNDZkMzVhYjc1OTIvbGliL3V0aWxzL3N0cmluZ3MuanMjTDI2XG4gICAgICAgIGZ1bmN0aW9uIHN0cmluZzJidWYoc3RyKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIFRleHRFbmNvZGVyID09PSAnZnVuY3Rpb24nICYmIFRleHRFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKHN0cik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgYnVmO1xuICAgICAgICAgICAgdmFyIGM7XG4gICAgICAgICAgICB2YXIgYzI7XG4gICAgICAgICAgICB2YXIgbV9wb3M7XG4gICAgICAgICAgICB2YXIgaTtcbiAgICAgICAgICAgIHZhciBzdHJfbGVuID0gc3RyLmxlbmd0aDtcbiAgICAgICAgICAgIHZhciBidWZfbGVuID0gMDtcbiAgICAgICAgICAgIC8vIGNvdW50IGJpbmFyeSBzaXplXG4gICAgICAgICAgICBmb3IgKG1fcG9zID0gMDsgbV9wb3MgPCBzdHJfbGVuOyBtX3BvcysrKSB7XG4gICAgICAgICAgICAgICAgYyA9IHN0ci5jaGFyQ29kZUF0KG1fcG9zKTtcbiAgICAgICAgICAgICAgICBpZiAoKGMgJiAweGZjMDApID09PSAweGQ4MDAgJiYgbV9wb3MgKyAxIDwgc3RyX2xlbikge1xuICAgICAgICAgICAgICAgICAgICBjMiA9IHN0ci5jaGFyQ29kZUF0KG1fcG9zICsgMSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICgoYzIgJiAweGZjMDApID09PSAweGRjMDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGMgPSAweDEwMDAwICsgKChjIC0gMHhkODAwKSA8PCAxMCkgKyAoYzIgLSAweGRjMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgbV9wb3MrKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBidWZfbGVuICs9IGMgPCAweDgwID8gMSA6IGMgPCAweDgwMCA/IDIgOiBjIDwgMHgxMDAwMCA/IDMgOiA0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gYWxsb2NhdGUgYnVmZmVyXG4gICAgICAgICAgICBidWYgPSBuZXcgVWludDhBcnJheShidWZfbGVuKTtcbiAgICAgICAgICAgIC8vIGNvbnZlcnRcbiAgICAgICAgICAgIGZvciAoaSA9IDAsIG1fcG9zID0gMDsgaSA8IGJ1Zl9sZW47IG1fcG9zKyspIHtcbiAgICAgICAgICAgICAgICBjID0gc3RyLmNoYXJDb2RlQXQobV9wb3MpO1xuICAgICAgICAgICAgICAgIGlmICgoYyAmIDB4ZmMwMCkgPT09IDB4ZDgwMCAmJiBtX3BvcyArIDEgPCBzdHJfbGVuKSB7XG4gICAgICAgICAgICAgICAgICAgIGMyID0gc3RyLmNoYXJDb2RlQXQobV9wb3MgKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKChjMiAmIDB4ZmMwMCkgPT09IDB4ZGMwMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYyA9IDB4MTAwMDAgKyAoKGMgLSAweGQ4MDApIDw8IDEwKSArIChjMiAtIDB4ZGMwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBtX3BvcysrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjIDwgMHg4MCkge1xuICAgICAgICAgICAgICAgICAgICAvKiBvbmUgYnl0ZSAqL1xuICAgICAgICAgICAgICAgICAgICBidWZbaSsrXSA9IGM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGMgPCAweDgwMCkge1xuICAgICAgICAgICAgICAgICAgICAvKiB0d28gYnl0ZXMgKi9cbiAgICAgICAgICAgICAgICAgICAgYnVmW2krK10gPSAweGMwIHwgKGMgPj4+IDYpO1xuICAgICAgICAgICAgICAgICAgICBidWZbaSsrXSA9IDB4ODAgfCAoYyAmIDB4M2YpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjIDwgMHgxMDAwMCkge1xuICAgICAgICAgICAgICAgICAgICAvKiB0aHJlZSBieXRlcyAqL1xuICAgICAgICAgICAgICAgICAgICBidWZbaSsrXSA9IDB4ZTAgfCAoYyA+Pj4gMTIpO1xuICAgICAgICAgICAgICAgICAgICBidWZbaSsrXSA9IDB4ODAgfCAoKGMgPj4+IDYpICYgMHgzZik7XG4gICAgICAgICAgICAgICAgICAgIGJ1ZltpKytdID0gMHg4MCB8IChjICYgMHgzZik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvKiBmb3VyIGJ5dGVzICovXG4gICAgICAgICAgICAgICAgICAgIGJ1ZltpKytdID0gMHhmMCB8IChjID4+PiAxOCk7XG4gICAgICAgICAgICAgICAgICAgIGJ1ZltpKytdID0gMHg4MCB8ICgoYyA+Pj4gMTIpICYgMHgzZik7XG4gICAgICAgICAgICAgICAgICAgIGJ1ZltpKytdID0gMHg4MCB8ICgoYyA+Pj4gNikgJiAweDNmKTtcbiAgICAgICAgICAgICAgICAgICAgYnVmW2krK10gPSAweDgwIHwgKGMgJiAweDNmKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYnVmO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IERlZmxhdGU6IERlZmxhdGUsIGNvbnN0YW50czogY29uc3RhbnRzLCBzdHJpbmcyYnVmOiBzdHJpbmcyYnVmIH07XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVmbGF0ZVdvcmtlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/segmentCollection/deflateWorker.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/segmentCollection/index.js":
/*!*************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum/esm/domain/segmentCollection/index.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SEGMENT_BYTES_LIMIT: () => (/* reexport safe */ _segmentCollection__WEBPACK_IMPORTED_MODULE_0__.SEGMENT_BYTES_LIMIT),\n/* harmony export */   setSegmentBytesLimit: () => (/* reexport safe */ _segmentCollection__WEBPACK_IMPORTED_MODULE_0__.setSegmentBytesLimit),\n/* harmony export */   startDeflateWorker: () => (/* reexport safe */ _startDeflateWorker__WEBPACK_IMPORTED_MODULE_1__.startDeflateWorker),\n/* harmony export */   startSegmentCollection: () => (/* reexport safe */ _segmentCollection__WEBPACK_IMPORTED_MODULE_0__.startSegmentCollection)\n/* harmony export */ });\n/* harmony import */ var _segmentCollection__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./segmentCollection */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/segmentCollection/segmentCollection.js\");\n/* harmony import */ var _startDeflateWorker__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./startDeflateWorker */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/segmentCollection/startDeflateWorker.js\");\n\n\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtL2VzbS9kb21haW4vc2VnbWVudENvbGxlY3Rpb24vaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQW1GO0FBQ3pCO0FBQ0E7QUFDMUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYXJjYXN0ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtL2VzbS9kb21haW4vc2VnbWVudENvbGxlY3Rpb24vaW5kZXguanM/MzRjYiJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgeyBzdGFydFNlZ21lbnRDb2xsZWN0aW9uLCBzZXRTZWdtZW50Qnl0ZXNMaW1pdCB9IGZyb20gJy4vc2VnbWVudENvbGxlY3Rpb24nO1xuZXhwb3J0IHsgc3RhcnREZWZsYXRlV29ya2VyIH0gZnJvbSAnLi9zdGFydERlZmxhdGVXb3JrZXInO1xuZXhwb3J0IHsgU0VHTUVOVF9CWVRFU19MSU1JVCB9IGZyb20gJy4vc2VnbWVudENvbGxlY3Rpb24nO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/segmentCollection/index.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/segmentCollection/segment.js":
/*!***************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum/esm/domain/segmentCollection/segment.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Segment: () => (/* binding */ Segment)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/polyfills.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/browser/addEventListener.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/telemetry/telemetry.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/sendToExtension.js\");\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../types */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/types/index.js\");\n/* harmony import */ var _replayStats__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../replayStats */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/replayStats.js\");\n\n\n\nvar nextId = 0;\nvar Segment = /** @class */ (function () {\n    function Segment(worker, context, creationReason, initialRecord, onWrote, onFlushed) {\n        var _this = this;\n        this.worker = worker;\n        this.id = nextId++;\n        var viewId = context.view.id;\n        this.metadata = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.assign)({\n            start: initialRecord.timestamp,\n            end: initialRecord.timestamp,\n            creation_reason: creationReason,\n            records_count: 1,\n            has_full_snapshot: initialRecord.type === _types__WEBPACK_IMPORTED_MODULE_0__.RecordType.FullSnapshot,\n            index_in_view: _replayStats__WEBPACK_IMPORTED_MODULE_1__.getSegmentsCount(viewId),\n            source: 'browser',\n        }, context);\n        _replayStats__WEBPACK_IMPORTED_MODULE_1__.addSegment(viewId);\n        _replayStats__WEBPACK_IMPORTED_MODULE_1__.addRecord(viewId);\n        var removeMessageListener = (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.addEventListener)(worker, 'message', function (_a) {\n            var data = _a.data;\n            if (data.type === 'errored' || data.type === 'initialized') {\n                return;\n            }\n            if (data.id === _this.id) {\n                _replayStats__WEBPACK_IMPORTED_MODULE_1__.addWroteData(viewId, data.additionalBytesCount);\n                if (data.type === 'flushed') {\n                    onFlushed(data.result, data.rawBytesCount);\n                    removeMessageListener();\n                }\n                else {\n                    onWrote(data.compressedBytesCount);\n                }\n            }\n            else if (data.id > _this.id) {\n                // Messages should be received in the same order as they are sent, so if we receive a\n                // message with an id superior to this Segment instance id, we know that another, more\n                // recent Segment instance is being used.\n                //\n                // In theory, a \"flush\" response should have been received at this point, so the listener\n                // should already have been removed. But if something goes wrong and we didn't receive a\n                // \"flush\" response, remove the listener to avoid any leak, and send a monitor message to\n                // help investigate the issue.\n                removeMessageListener();\n                (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.addTelemetryDebug)(\"Segment did not receive a 'flush' response before being replaced.\");\n            }\n        }).stop;\n        (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.sendToExtension)('record', { record: initialRecord, segment: this.metadata });\n        this.worker.postMessage({ data: \"{\\\"records\\\":[\".concat(JSON.stringify(initialRecord)), id: this.id, action: 'write' });\n    }\n    Segment.prototype.addRecord = function (record) {\n        var _a;\n        this.metadata.start = Math.min(this.metadata.start, record.timestamp);\n        this.metadata.end = Math.max(this.metadata.end, record.timestamp);\n        this.metadata.records_count += 1;\n        _replayStats__WEBPACK_IMPORTED_MODULE_1__.addRecord(this.metadata.view.id);\n        (_a = this.metadata).has_full_snapshot || (_a.has_full_snapshot = record.type === _types__WEBPACK_IMPORTED_MODULE_0__.RecordType.FullSnapshot);\n        (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.sendToExtension)('record', { record: record, segment: this.metadata });\n        this.worker.postMessage({ data: \",\".concat(JSON.stringify(record)), id: this.id, action: 'write' });\n    };\n    Segment.prototype.flush = function (reason) {\n        this.worker.postMessage({\n            data: \"],\".concat(JSON.stringify(this.metadata).slice(1), \"\\n\"),\n            id: this.id,\n            action: 'flush',\n        });\n        this.flushReason = reason;\n    };\n    return Segment;\n}());\n\n//# sourceMappingURL=segment.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtL2VzbS9kb21haW4vc2VnbWVudENvbGxlY3Rpb24vc2VnbWVudC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQXFHO0FBQzVEO0FBQ0s7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsNkRBQU07QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0QsOENBQVU7QUFDaEUsMkJBQTJCLDBEQUE0QjtBQUN2RDtBQUNBLFNBQVM7QUFDVCxRQUFRLG9EQUFzQjtBQUM5QixRQUFRLG1EQUFxQjtBQUM3QixvQ0FBb0MsdUVBQWdCO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isc0RBQXdCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQix3RUFBaUI7QUFDakM7QUFDQSxTQUFTO0FBQ1QsUUFBUSxzRUFBZSxhQUFhLCtDQUErQztBQUNuRixrQ0FBa0MsUUFBUSxvRkFBb0Y7QUFDOUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxtREFBcUI7QUFDN0IsMEZBQTBGLDhDQUFVO0FBQ3BHLFFBQVEsc0VBQWUsYUFBYSx3Q0FBd0M7QUFDNUUsa0NBQWtDLHdFQUF3RTtBQUMxRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNrQjtBQUNuQiIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhcmNhc3Rlci8uLi8uLi9ub2RlX21vZHVsZXMvQGRhdGFkb2cvYnJvd3Nlci1ydW0vZXNtL2RvbWFpbi9zZWdtZW50Q29sbGVjdGlvbi9zZWdtZW50LmpzPzlhNjEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYWRkVGVsZW1ldHJ5RGVidWcsIGFzc2lnbiwgc2VuZFRvRXh0ZW5zaW9uLCBhZGRFdmVudExpc3RlbmVyIH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJztcbmltcG9ydCB7IFJlY29yZFR5cGUgfSBmcm9tICcuLi8uLi90eXBlcyc7XG5pbXBvcnQgKiBhcyByZXBsYXlTdGF0cyBmcm9tICcuLi9yZXBsYXlTdGF0cyc7XG52YXIgbmV4dElkID0gMDtcbnZhciBTZWdtZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFNlZ21lbnQod29ya2VyLCBjb250ZXh0LCBjcmVhdGlvblJlYXNvbiwgaW5pdGlhbFJlY29yZCwgb25Xcm90ZSwgb25GbHVzaGVkKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMud29ya2VyID0gd29ya2VyO1xuICAgICAgICB0aGlzLmlkID0gbmV4dElkKys7XG4gICAgICAgIHZhciB2aWV3SWQgPSBjb250ZXh0LnZpZXcuaWQ7XG4gICAgICAgIHRoaXMubWV0YWRhdGEgPSBhc3NpZ24oe1xuICAgICAgICAgICAgc3RhcnQ6IGluaXRpYWxSZWNvcmQudGltZXN0YW1wLFxuICAgICAgICAgICAgZW5kOiBpbml0aWFsUmVjb3JkLnRpbWVzdGFtcCxcbiAgICAgICAgICAgIGNyZWF0aW9uX3JlYXNvbjogY3JlYXRpb25SZWFzb24sXG4gICAgICAgICAgICByZWNvcmRzX2NvdW50OiAxLFxuICAgICAgICAgICAgaGFzX2Z1bGxfc25hcHNob3Q6IGluaXRpYWxSZWNvcmQudHlwZSA9PT0gUmVjb3JkVHlwZS5GdWxsU25hcHNob3QsXG4gICAgICAgICAgICBpbmRleF9pbl92aWV3OiByZXBsYXlTdGF0cy5nZXRTZWdtZW50c0NvdW50KHZpZXdJZCksXG4gICAgICAgICAgICBzb3VyY2U6ICdicm93c2VyJyxcbiAgICAgICAgfSwgY29udGV4dCk7XG4gICAgICAgIHJlcGxheVN0YXRzLmFkZFNlZ21lbnQodmlld0lkKTtcbiAgICAgICAgcmVwbGF5U3RhdHMuYWRkUmVjb3JkKHZpZXdJZCk7XG4gICAgICAgIHZhciByZW1vdmVNZXNzYWdlTGlzdGVuZXIgPSBhZGRFdmVudExpc3RlbmVyKHdvcmtlciwgJ21lc3NhZ2UnLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgIHZhciBkYXRhID0gX2EuZGF0YTtcbiAgICAgICAgICAgIGlmIChkYXRhLnR5cGUgPT09ICdlcnJvcmVkJyB8fCBkYXRhLnR5cGUgPT09ICdpbml0aWFsaXplZCcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGF0YS5pZCA9PT0gX3RoaXMuaWQpIHtcbiAgICAgICAgICAgICAgICByZXBsYXlTdGF0cy5hZGRXcm90ZURhdGEodmlld0lkLCBkYXRhLmFkZGl0aW9uYWxCeXRlc0NvdW50KTtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS50eXBlID09PSAnZmx1c2hlZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgb25GbHVzaGVkKGRhdGEucmVzdWx0LCBkYXRhLnJhd0J5dGVzQ291bnQpO1xuICAgICAgICAgICAgICAgICAgICByZW1vdmVNZXNzYWdlTGlzdGVuZXIoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG9uV3JvdGUoZGF0YS5jb21wcmVzc2VkQnl0ZXNDb3VudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZGF0YS5pZCA+IF90aGlzLmlkKSB7XG4gICAgICAgICAgICAgICAgLy8gTWVzc2FnZXMgc2hvdWxkIGJlIHJlY2VpdmVkIGluIHRoZSBzYW1lIG9yZGVyIGFzIHRoZXkgYXJlIHNlbnQsIHNvIGlmIHdlIHJlY2VpdmUgYVxuICAgICAgICAgICAgICAgIC8vIG1lc3NhZ2Ugd2l0aCBhbiBpZCBzdXBlcmlvciB0byB0aGlzIFNlZ21lbnQgaW5zdGFuY2UgaWQsIHdlIGtub3cgdGhhdCBhbm90aGVyLCBtb3JlXG4gICAgICAgICAgICAgICAgLy8gcmVjZW50IFNlZ21lbnQgaW5zdGFuY2UgaXMgYmVpbmcgdXNlZC5cbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vIEluIHRoZW9yeSwgYSBcImZsdXNoXCIgcmVzcG9uc2Ugc2hvdWxkIGhhdmUgYmVlbiByZWNlaXZlZCBhdCB0aGlzIHBvaW50LCBzbyB0aGUgbGlzdGVuZXJcbiAgICAgICAgICAgICAgICAvLyBzaG91bGQgYWxyZWFkeSBoYXZlIGJlZW4gcmVtb3ZlZC4gQnV0IGlmIHNvbWV0aGluZyBnb2VzIHdyb25nIGFuZCB3ZSBkaWRuJ3QgcmVjZWl2ZSBhXG4gICAgICAgICAgICAgICAgLy8gXCJmbHVzaFwiIHJlc3BvbnNlLCByZW1vdmUgdGhlIGxpc3RlbmVyIHRvIGF2b2lkIGFueSBsZWFrLCBhbmQgc2VuZCBhIG1vbml0b3IgbWVzc2FnZSB0b1xuICAgICAgICAgICAgICAgIC8vIGhlbHAgaW52ZXN0aWdhdGUgdGhlIGlzc3VlLlxuICAgICAgICAgICAgICAgIHJlbW92ZU1lc3NhZ2VMaXN0ZW5lcigpO1xuICAgICAgICAgICAgICAgIGFkZFRlbGVtZXRyeURlYnVnKFwiU2VnbWVudCBkaWQgbm90IHJlY2VpdmUgYSAnZmx1c2gnIHJlc3BvbnNlIGJlZm9yZSBiZWluZyByZXBsYWNlZC5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLnN0b3A7XG4gICAgICAgIHNlbmRUb0V4dGVuc2lvbigncmVjb3JkJywgeyByZWNvcmQ6IGluaXRpYWxSZWNvcmQsIHNlZ21lbnQ6IHRoaXMubWV0YWRhdGEgfSk7XG4gICAgICAgIHRoaXMud29ya2VyLnBvc3RNZXNzYWdlKHsgZGF0YTogXCJ7XFxcInJlY29yZHNcXFwiOltcIi5jb25jYXQoSlNPTi5zdHJpbmdpZnkoaW5pdGlhbFJlY29yZCkpLCBpZDogdGhpcy5pZCwgYWN0aW9uOiAnd3JpdGUnIH0pO1xuICAgIH1cbiAgICBTZWdtZW50LnByb3RvdHlwZS5hZGRSZWNvcmQgPSBmdW5jdGlvbiAocmVjb3JkKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdGhpcy5tZXRhZGF0YS5zdGFydCA9IE1hdGgubWluKHRoaXMubWV0YWRhdGEuc3RhcnQsIHJlY29yZC50aW1lc3RhbXApO1xuICAgICAgICB0aGlzLm1ldGFkYXRhLmVuZCA9IE1hdGgubWF4KHRoaXMubWV0YWRhdGEuZW5kLCByZWNvcmQudGltZXN0YW1wKTtcbiAgICAgICAgdGhpcy5tZXRhZGF0YS5yZWNvcmRzX2NvdW50ICs9IDE7XG4gICAgICAgIHJlcGxheVN0YXRzLmFkZFJlY29yZCh0aGlzLm1ldGFkYXRhLnZpZXcuaWQpO1xuICAgICAgICAoX2EgPSB0aGlzLm1ldGFkYXRhKS5oYXNfZnVsbF9zbmFwc2hvdCB8fCAoX2EuaGFzX2Z1bGxfc25hcHNob3QgPSByZWNvcmQudHlwZSA9PT0gUmVjb3JkVHlwZS5GdWxsU25hcHNob3QpO1xuICAgICAgICBzZW5kVG9FeHRlbnNpb24oJ3JlY29yZCcsIHsgcmVjb3JkOiByZWNvcmQsIHNlZ21lbnQ6IHRoaXMubWV0YWRhdGEgfSk7XG4gICAgICAgIHRoaXMud29ya2VyLnBvc3RNZXNzYWdlKHsgZGF0YTogXCIsXCIuY29uY2F0KEpTT04uc3RyaW5naWZ5KHJlY29yZCkpLCBpZDogdGhpcy5pZCwgYWN0aW9uOiAnd3JpdGUnIH0pO1xuICAgIH07XG4gICAgU2VnbWVudC5wcm90b3R5cGUuZmx1c2ggPSBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICAgIHRoaXMud29ya2VyLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgIGRhdGE6IFwiXSxcIi5jb25jYXQoSlNPTi5zdHJpbmdpZnkodGhpcy5tZXRhZGF0YSkuc2xpY2UoMSksIFwiXFxuXCIpLFxuICAgICAgICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICAgICAgICBhY3Rpb246ICdmbHVzaCcsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmZsdXNoUmVhc29uID0gcmVhc29uO1xuICAgIH07XG4gICAgcmV0dXJuIFNlZ21lbnQ7XG59KCkpO1xuZXhwb3J0IHsgU2VnbWVudCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2VnbWVudC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/segmentCollection/segment.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/segmentCollection/segmentCollection.js":
/*!*************************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum/esm/domain/segmentCollection/segmentCollection.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SEGMENT_BYTES_LIMIT: () => (/* binding */ SEGMENT_BYTES_LIMIT),\n/* harmony export */   SEGMENT_DURATION_LIMIT: () => (/* binding */ SEGMENT_DURATION_LIMIT),\n/* harmony export */   computeSegmentContext: () => (/* binding */ computeSegmentContext),\n/* harmony export */   doStartSegmentCollection: () => (/* binding */ doStartSegmentCollection),\n/* harmony export */   setSegmentBytesLimit: () => (/* binding */ setSegmentBytesLimit),\n/* harmony export */   startSegmentCollection: () => (/* binding */ startSegmentCollection)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/timeUtils.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/timer.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/browser/pageExitObservable.js\");\n/* harmony import */ var _buildReplayPayload__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./buildReplayPayload */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/segmentCollection/buildReplayPayload.js\");\n/* harmony import */ var _segment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./segment */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/segmentCollection/segment.js\");\n\n\n\nvar SEGMENT_DURATION_LIMIT = 30 * _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.ONE_SECOND;\n/**\n * beacon payload max queue size implementation is 64kb\n * ensure that we leave room for logs, rum and potential other users\n */\nvar SEGMENT_BYTES_LIMIT = 60000;\n// Segments are the main data structure for session replays. They contain context information used\n// for indexing or UI needs, and a list of records (RRWeb 'events', renamed to avoid confusing\n// namings). They are stored without any processing from the intake, and fetched one after the\n// other while a session is being replayed. Their encoding (deflate) are carefully crafted to allow\n// concatenating multiple segments together. Segments have a size overhead (metadata), so our goal is to\n// build segments containing as many records as possible while complying with the various flush\n// strategies to guarantee a good replay quality.\n//\n// When the recording starts, a segment is initially created.  The segment is flushed (finalized and\n// sent) based on various events (non-exhaustive list):\n//\n// * the page visibility change or becomes to unload\n// * the segment duration reaches a limit\n// * the encoded segment bytes count reaches a limit\n// * ...\n//\n// A segment cannot be created without its context.  If the RUM session ends and no session id is\n// available when creating a new segment, records will be ignored, until the session is renewed and\n// a new session id is available.\n//\n// Empty segments (segments with no record) aren't useful and should be ignored.\n//\n// To help investigate session replays issues, each segment is created with a \"creation reason\",\n// indicating why the session has been created.\nfunction startSegmentCollection(lifeCycle, applicationId, sessionManager, viewContexts, httpRequest, worker) {\n    return doStartSegmentCollection(lifeCycle, function () { return computeSegmentContext(applicationId, sessionManager, viewContexts); }, httpRequest, worker);\n}\nfunction doStartSegmentCollection(lifeCycle, getSegmentContext, httpRequest, worker) {\n    var state = {\n        status: 0 /* SegmentCollectionStatus.WaitingForInitialRecord */,\n        nextSegmentCreationReason: 'init',\n    };\n    var unsubscribeViewCreated = lifeCycle.subscribe(2 /* LifeCycleEventType.VIEW_CREATED */, function () {\n        flushSegment('view_change');\n    }).unsubscribe;\n    var unsubscribePageExited = lifeCycle.subscribe(9 /* LifeCycleEventType.PAGE_EXITED */, function (pageExitEvent) {\n        flushSegment(pageExitEvent.reason);\n    }).unsubscribe;\n    function flushSegment(flushReason) {\n        if (state.status === 1 /* SegmentCollectionStatus.SegmentPending */) {\n            state.segment.flush(flushReason);\n            (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.clearTimeout)(state.expirationTimeoutId);\n        }\n        if (flushReason !== 'stop') {\n            state = {\n                status: 0 /* SegmentCollectionStatus.WaitingForInitialRecord */,\n                nextSegmentCreationReason: flushReason,\n            };\n        }\n        else {\n            state = {\n                status: 2 /* SegmentCollectionStatus.Stopped */,\n            };\n        }\n    }\n    function createNewSegment(creationReason, initialRecord) {\n        var context = getSegmentContext();\n        if (!context) {\n            return;\n        }\n        var segment = new _segment__WEBPACK_IMPORTED_MODULE_1__.Segment(worker, context, creationReason, initialRecord, function (compressedSegmentBytesCount) {\n            if (!segment.flushReason && compressedSegmentBytesCount > SEGMENT_BYTES_LIMIT) {\n                flushSegment('segment_bytes_limit');\n            }\n        }, function (data, rawSegmentBytesCount) {\n            var payload = (0,_buildReplayPayload__WEBPACK_IMPORTED_MODULE_0__.buildReplayPayload)(data, segment.metadata, rawSegmentBytesCount);\n            if ((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.isPageExitReason)(segment.flushReason)) {\n                httpRequest.sendOnExit(payload);\n            }\n            else {\n                httpRequest.send(payload);\n            }\n        });\n        state = {\n            status: 1 /* SegmentCollectionStatus.SegmentPending */,\n            segment: segment,\n            expirationTimeoutId: (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.setTimeout)(function () {\n                flushSegment('segment_duration_limit');\n            }, SEGMENT_DURATION_LIMIT),\n        };\n    }\n    return {\n        addRecord: function (record) {\n            switch (state.status) {\n                case 0 /* SegmentCollectionStatus.WaitingForInitialRecord */:\n                    createNewSegment(state.nextSegmentCreationReason, record);\n                    break;\n                case 1 /* SegmentCollectionStatus.SegmentPending */:\n                    state.segment.addRecord(record);\n                    break;\n            }\n        },\n        stop: function () {\n            flushSegment('stop');\n            unsubscribeViewCreated();\n            unsubscribePageExited();\n        },\n    };\n}\nfunction computeSegmentContext(applicationId, sessionManager, viewContexts) {\n    var session = sessionManager.findTrackedSession();\n    var viewContext = viewContexts.findView();\n    if (!session || !viewContext) {\n        return undefined;\n    }\n    return {\n        application: {\n            id: applicationId,\n        },\n        session: {\n            id: session.id,\n        },\n        view: {\n            id: viewContext.id,\n        },\n    };\n}\nfunction setSegmentBytesLimit(newSegmentBytesLimit) {\n    if (newSegmentBytesLimit === void 0) { newSegmentBytesLimit = 60000; }\n    SEGMENT_BYTES_LIMIT = newSegmentBytesLimit;\n}\n//# sourceMappingURL=segmentCollection.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtL2VzbS9kb21haW4vc2VnbWVudENvbGxlY3Rpb24vc2VnbWVudENvbGxlY3Rpb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBK0Y7QUFDckM7QUFDdEI7QUFDN0Isa0NBQWtDLDZEQUFVO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLDZEQUE2RCw0RUFBNEU7QUFDekk7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFlBQVksbUVBQVk7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLDZDQUFPO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCwwQkFBMEIsdUVBQWtCO0FBQzVDLGdCQUFnQix1RUFBZ0I7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsaUVBQVU7QUFDM0M7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDTztBQUNQLDJDQUEyQztBQUMzQztBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYXJjYXN0ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtL2VzbS9kb21haW4vc2VnbWVudENvbGxlY3Rpb24vc2VnbWVudENvbGxlY3Rpb24uanM/NzgyNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc1BhZ2VFeGl0UmVhc29uLCBPTkVfU0VDT05ELCBjbGVhclRpbWVvdXQsIHNldFRpbWVvdXQgfSBmcm9tICdAZGF0YWRvZy9icm93c2VyLWNvcmUnO1xuaW1wb3J0IHsgYnVpbGRSZXBsYXlQYXlsb2FkIH0gZnJvbSAnLi9idWlsZFJlcGxheVBheWxvYWQnO1xuaW1wb3J0IHsgU2VnbWVudCB9IGZyb20gJy4vc2VnbWVudCc7XG5leHBvcnQgdmFyIFNFR01FTlRfRFVSQVRJT05fTElNSVQgPSAzMCAqIE9ORV9TRUNPTkQ7XG4vKipcbiAqIGJlYWNvbiBwYXlsb2FkIG1heCBxdWV1ZSBzaXplIGltcGxlbWVudGF0aW9uIGlzIDY0a2JcbiAqIGVuc3VyZSB0aGF0IHdlIGxlYXZlIHJvb20gZm9yIGxvZ3MsIHJ1bSBhbmQgcG90ZW50aWFsIG90aGVyIHVzZXJzXG4gKi9cbmV4cG9ydCB2YXIgU0VHTUVOVF9CWVRFU19MSU1JVCA9IDYwMDAwO1xuLy8gU2VnbWVudHMgYXJlIHRoZSBtYWluIGRhdGEgc3RydWN0dXJlIGZvciBzZXNzaW9uIHJlcGxheXMuIFRoZXkgY29udGFpbiBjb250ZXh0IGluZm9ybWF0aW9uIHVzZWRcbi8vIGZvciBpbmRleGluZyBvciBVSSBuZWVkcywgYW5kIGEgbGlzdCBvZiByZWNvcmRzIChSUldlYiAnZXZlbnRzJywgcmVuYW1lZCB0byBhdm9pZCBjb25mdXNpbmdcbi8vIG5hbWluZ3MpLiBUaGV5IGFyZSBzdG9yZWQgd2l0aG91dCBhbnkgcHJvY2Vzc2luZyBmcm9tIHRoZSBpbnRha2UsIGFuZCBmZXRjaGVkIG9uZSBhZnRlciB0aGVcbi8vIG90aGVyIHdoaWxlIGEgc2Vzc2lvbiBpcyBiZWluZyByZXBsYXllZC4gVGhlaXIgZW5jb2RpbmcgKGRlZmxhdGUpIGFyZSBjYXJlZnVsbHkgY3JhZnRlZCB0byBhbGxvd1xuLy8gY29uY2F0ZW5hdGluZyBtdWx0aXBsZSBzZWdtZW50cyB0b2dldGhlci4gU2VnbWVudHMgaGF2ZSBhIHNpemUgb3ZlcmhlYWQgKG1ldGFkYXRhKSwgc28gb3VyIGdvYWwgaXMgdG9cbi8vIGJ1aWxkIHNlZ21lbnRzIGNvbnRhaW5pbmcgYXMgbWFueSByZWNvcmRzIGFzIHBvc3NpYmxlIHdoaWxlIGNvbXBseWluZyB3aXRoIHRoZSB2YXJpb3VzIGZsdXNoXG4vLyBzdHJhdGVnaWVzIHRvIGd1YXJhbnRlZSBhIGdvb2QgcmVwbGF5IHF1YWxpdHkuXG4vL1xuLy8gV2hlbiB0aGUgcmVjb3JkaW5nIHN0YXJ0cywgYSBzZWdtZW50IGlzIGluaXRpYWxseSBjcmVhdGVkLiAgVGhlIHNlZ21lbnQgaXMgZmx1c2hlZCAoZmluYWxpemVkIGFuZFxuLy8gc2VudCkgYmFzZWQgb24gdmFyaW91cyBldmVudHMgKG5vbi1leGhhdXN0aXZlIGxpc3QpOlxuLy9cbi8vICogdGhlIHBhZ2UgdmlzaWJpbGl0eSBjaGFuZ2Ugb3IgYmVjb21lcyB0byB1bmxvYWRcbi8vICogdGhlIHNlZ21lbnQgZHVyYXRpb24gcmVhY2hlcyBhIGxpbWl0XG4vLyAqIHRoZSBlbmNvZGVkIHNlZ21lbnQgYnl0ZXMgY291bnQgcmVhY2hlcyBhIGxpbWl0XG4vLyAqIC4uLlxuLy9cbi8vIEEgc2VnbWVudCBjYW5ub3QgYmUgY3JlYXRlZCB3aXRob3V0IGl0cyBjb250ZXh0LiAgSWYgdGhlIFJVTSBzZXNzaW9uIGVuZHMgYW5kIG5vIHNlc3Npb24gaWQgaXNcbi8vIGF2YWlsYWJsZSB3aGVuIGNyZWF0aW5nIGEgbmV3IHNlZ21lbnQsIHJlY29yZHMgd2lsbCBiZSBpZ25vcmVkLCB1bnRpbCB0aGUgc2Vzc2lvbiBpcyByZW5ld2VkIGFuZFxuLy8gYSBuZXcgc2Vzc2lvbiBpZCBpcyBhdmFpbGFibGUuXG4vL1xuLy8gRW1wdHkgc2VnbWVudHMgKHNlZ21lbnRzIHdpdGggbm8gcmVjb3JkKSBhcmVuJ3QgdXNlZnVsIGFuZCBzaG91bGQgYmUgaWdub3JlZC5cbi8vXG4vLyBUbyBoZWxwIGludmVzdGlnYXRlIHNlc3Npb24gcmVwbGF5cyBpc3N1ZXMsIGVhY2ggc2VnbWVudCBpcyBjcmVhdGVkIHdpdGggYSBcImNyZWF0aW9uIHJlYXNvblwiLFxuLy8gaW5kaWNhdGluZyB3aHkgdGhlIHNlc3Npb24gaGFzIGJlZW4gY3JlYXRlZC5cbmV4cG9ydCBmdW5jdGlvbiBzdGFydFNlZ21lbnRDb2xsZWN0aW9uKGxpZmVDeWNsZSwgYXBwbGljYXRpb25JZCwgc2Vzc2lvbk1hbmFnZXIsIHZpZXdDb250ZXh0cywgaHR0cFJlcXVlc3QsIHdvcmtlcikge1xuICAgIHJldHVybiBkb1N0YXJ0U2VnbWVudENvbGxlY3Rpb24obGlmZUN5Y2xlLCBmdW5jdGlvbiAoKSB7IHJldHVybiBjb21wdXRlU2VnbWVudENvbnRleHQoYXBwbGljYXRpb25JZCwgc2Vzc2lvbk1hbmFnZXIsIHZpZXdDb250ZXh0cyk7IH0sIGh0dHBSZXF1ZXN0LCB3b3JrZXIpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGRvU3RhcnRTZWdtZW50Q29sbGVjdGlvbihsaWZlQ3ljbGUsIGdldFNlZ21lbnRDb250ZXh0LCBodHRwUmVxdWVzdCwgd29ya2VyKSB7XG4gICAgdmFyIHN0YXRlID0ge1xuICAgICAgICBzdGF0dXM6IDAgLyogU2VnbWVudENvbGxlY3Rpb25TdGF0dXMuV2FpdGluZ0ZvckluaXRpYWxSZWNvcmQgKi8sXG4gICAgICAgIG5leHRTZWdtZW50Q3JlYXRpb25SZWFzb246ICdpbml0JyxcbiAgICB9O1xuICAgIHZhciB1bnN1YnNjcmliZVZpZXdDcmVhdGVkID0gbGlmZUN5Y2xlLnN1YnNjcmliZSgyIC8qIExpZmVDeWNsZUV2ZW50VHlwZS5WSUVXX0NSRUFURUQgKi8sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZmx1c2hTZWdtZW50KCd2aWV3X2NoYW5nZScpO1xuICAgIH0pLnVuc3Vic2NyaWJlO1xuICAgIHZhciB1bnN1YnNjcmliZVBhZ2VFeGl0ZWQgPSBsaWZlQ3ljbGUuc3Vic2NyaWJlKDkgLyogTGlmZUN5Y2xlRXZlbnRUeXBlLlBBR0VfRVhJVEVEICovLCBmdW5jdGlvbiAocGFnZUV4aXRFdmVudCkge1xuICAgICAgICBmbHVzaFNlZ21lbnQocGFnZUV4aXRFdmVudC5yZWFzb24pO1xuICAgIH0pLnVuc3Vic2NyaWJlO1xuICAgIGZ1bmN0aW9uIGZsdXNoU2VnbWVudChmbHVzaFJlYXNvbikge1xuICAgICAgICBpZiAoc3RhdGUuc3RhdHVzID09PSAxIC8qIFNlZ21lbnRDb2xsZWN0aW9uU3RhdHVzLlNlZ21lbnRQZW5kaW5nICovKSB7XG4gICAgICAgICAgICBzdGF0ZS5zZWdtZW50LmZsdXNoKGZsdXNoUmVhc29uKTtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChzdGF0ZS5leHBpcmF0aW9uVGltZW91dElkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmx1c2hSZWFzb24gIT09ICdzdG9wJykge1xuICAgICAgICAgICAgc3RhdGUgPSB7XG4gICAgICAgICAgICAgICAgc3RhdHVzOiAwIC8qIFNlZ21lbnRDb2xsZWN0aW9uU3RhdHVzLldhaXRpbmdGb3JJbml0aWFsUmVjb3JkICovLFxuICAgICAgICAgICAgICAgIG5leHRTZWdtZW50Q3JlYXRpb25SZWFzb246IGZsdXNoUmVhc29uLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN0YXRlID0ge1xuICAgICAgICAgICAgICAgIHN0YXR1czogMiAvKiBTZWdtZW50Q29sbGVjdGlvblN0YXR1cy5TdG9wcGVkICovLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBjcmVhdGVOZXdTZWdtZW50KGNyZWF0aW9uUmVhc29uLCBpbml0aWFsUmVjb3JkKSB7XG4gICAgICAgIHZhciBjb250ZXh0ID0gZ2V0U2VnbWVudENvbnRleHQoKTtcbiAgICAgICAgaWYgKCFjb250ZXh0KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNlZ21lbnQgPSBuZXcgU2VnbWVudCh3b3JrZXIsIGNvbnRleHQsIGNyZWF0aW9uUmVhc29uLCBpbml0aWFsUmVjb3JkLCBmdW5jdGlvbiAoY29tcHJlc3NlZFNlZ21lbnRCeXRlc0NvdW50KSB7XG4gICAgICAgICAgICBpZiAoIXNlZ21lbnQuZmx1c2hSZWFzb24gJiYgY29tcHJlc3NlZFNlZ21lbnRCeXRlc0NvdW50ID4gU0VHTUVOVF9CWVRFU19MSU1JVCkge1xuICAgICAgICAgICAgICAgIGZsdXNoU2VnbWVudCgnc2VnbWVudF9ieXRlc19saW1pdCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBmdW5jdGlvbiAoZGF0YSwgcmF3U2VnbWVudEJ5dGVzQ291bnQpIHtcbiAgICAgICAgICAgIHZhciBwYXlsb2FkID0gYnVpbGRSZXBsYXlQYXlsb2FkKGRhdGEsIHNlZ21lbnQubWV0YWRhdGEsIHJhd1NlZ21lbnRCeXRlc0NvdW50KTtcbiAgICAgICAgICAgIGlmIChpc1BhZ2VFeGl0UmVhc29uKHNlZ21lbnQuZmx1c2hSZWFzb24pKSB7XG4gICAgICAgICAgICAgICAgaHR0cFJlcXVlc3Quc2VuZE9uRXhpdChwYXlsb2FkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGh0dHBSZXF1ZXN0LnNlbmQocGF5bG9hZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBzdGF0ZSA9IHtcbiAgICAgICAgICAgIHN0YXR1czogMSAvKiBTZWdtZW50Q29sbGVjdGlvblN0YXR1cy5TZWdtZW50UGVuZGluZyAqLyxcbiAgICAgICAgICAgIHNlZ21lbnQ6IHNlZ21lbnQsXG4gICAgICAgICAgICBleHBpcmF0aW9uVGltZW91dElkOiBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBmbHVzaFNlZ21lbnQoJ3NlZ21lbnRfZHVyYXRpb25fbGltaXQnKTtcbiAgICAgICAgICAgIH0sIFNFR01FTlRfRFVSQVRJT05fTElNSVQpLFxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBhZGRSZWNvcmQ6IGZ1bmN0aW9uIChyZWNvcmQpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoc3RhdGUuc3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwIC8qIFNlZ21lbnRDb2xsZWN0aW9uU3RhdHVzLldhaXRpbmdGb3JJbml0aWFsUmVjb3JkICovOlxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVOZXdTZWdtZW50KHN0YXRlLm5leHRTZWdtZW50Q3JlYXRpb25SZWFzb24sIHJlY29yZCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMSAvKiBTZWdtZW50Q29sbGVjdGlvblN0YXR1cy5TZWdtZW50UGVuZGluZyAqLzpcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuc2VnbWVudC5hZGRSZWNvcmQocmVjb3JkKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHN0b3A6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGZsdXNoU2VnbWVudCgnc3RvcCcpO1xuICAgICAgICAgICAgdW5zdWJzY3JpYmVWaWV3Q3JlYXRlZCgpO1xuICAgICAgICAgICAgdW5zdWJzY3JpYmVQYWdlRXhpdGVkKCk7XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlU2VnbWVudENvbnRleHQoYXBwbGljYXRpb25JZCwgc2Vzc2lvbk1hbmFnZXIsIHZpZXdDb250ZXh0cykge1xuICAgIHZhciBzZXNzaW9uID0gc2Vzc2lvbk1hbmFnZXIuZmluZFRyYWNrZWRTZXNzaW9uKCk7XG4gICAgdmFyIHZpZXdDb250ZXh0ID0gdmlld0NvbnRleHRzLmZpbmRWaWV3KCk7XG4gICAgaWYgKCFzZXNzaW9uIHx8ICF2aWV3Q29udGV4dCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBhcHBsaWNhdGlvbjoge1xuICAgICAgICAgICAgaWQ6IGFwcGxpY2F0aW9uSWQsXG4gICAgICAgIH0sXG4gICAgICAgIHNlc3Npb246IHtcbiAgICAgICAgICAgIGlkOiBzZXNzaW9uLmlkLFxuICAgICAgICB9LFxuICAgICAgICB2aWV3OiB7XG4gICAgICAgICAgICBpZDogdmlld0NvbnRleHQuaWQsXG4gICAgICAgIH0sXG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzZXRTZWdtZW50Qnl0ZXNMaW1pdChuZXdTZWdtZW50Qnl0ZXNMaW1pdCkge1xuICAgIGlmIChuZXdTZWdtZW50Qnl0ZXNMaW1pdCA9PT0gdm9pZCAwKSB7IG5ld1NlZ21lbnRCeXRlc0xpbWl0ID0gNjAwMDA7IH1cbiAgICBTRUdNRU5UX0JZVEVTX0xJTUlUID0gbmV3U2VnbWVudEJ5dGVzTGltaXQ7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZWdtZW50Q29sbGVjdGlvbi5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/segmentCollection/segmentCollection.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/segmentCollection/startDeflateWorker.js":
/*!**************************************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum/esm/domain/segmentCollection/startDeflateWorker.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   doStartDeflateWorker: () => (/* binding */ doStartDeflateWorker),\n/* harmony export */   resetDeflateWorkerState: () => (/* binding */ resetDeflateWorkerState),\n/* harmony export */   startDeflateWorker: () => (/* binding */ startDeflateWorker)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/browser/addEventListener.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/display.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/telemetry/telemetry.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/utils/polyfills.js\");\n/* harmony import */ var _deflateWorker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./deflateWorker */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/segmentCollection/deflateWorker.js\");\n\n\nvar state = { status: 0 /* DeflateWorkerStatus.Nil */ };\nfunction startDeflateWorker(callback, createDeflateWorkerImpl) {\n    if (createDeflateWorkerImpl === void 0) { createDeflateWorkerImpl = _deflateWorker__WEBPACK_IMPORTED_MODULE_0__.createDeflateWorker; }\n    switch (state.status) {\n        case 0 /* DeflateWorkerStatus.Nil */:\n            state = { status: 1 /* DeflateWorkerStatus.Loading */, callbacks: [callback] };\n            doStartDeflateWorker(createDeflateWorkerImpl);\n            break;\n        case 1 /* DeflateWorkerStatus.Loading */:\n            state.callbacks.push(callback);\n            break;\n        case 2 /* DeflateWorkerStatus.Error */:\n            callback();\n            break;\n        case 3 /* DeflateWorkerStatus.Initialized */:\n            callback(state.worker);\n            break;\n    }\n}\nfunction resetDeflateWorkerState() {\n    state = { status: 0 /* DeflateWorkerStatus.Nil */ };\n}\n/**\n * Starts the deflate worker and handle messages and errors\n *\n * The spec allow browsers to handle worker errors differently:\n * - Chromium throws an exception\n * - Firefox fires an error event\n *\n * more details: https://bugzilla.mozilla.org/show_bug.cgi?id=1736865#c2\n */\nfunction doStartDeflateWorker(createDeflateWorkerImpl) {\n    if (createDeflateWorkerImpl === void 0) { createDeflateWorkerImpl = _deflateWorker__WEBPACK_IMPORTED_MODULE_0__.createDeflateWorker; }\n    try {\n        var worker_1 = createDeflateWorkerImpl();\n        (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.addEventListener)(worker_1, 'error', onError);\n        (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.addEventListener)(worker_1, 'message', function (_a) {\n            var data = _a.data;\n            if (data.type === 'errored') {\n                onError(data.error);\n            }\n            else if (data.type === 'initialized') {\n                onInitialized(worker_1);\n            }\n        });\n        worker_1.postMessage({ action: 'init' });\n        return worker_1;\n    }\n    catch (error) {\n        onError(error);\n    }\n}\nfunction onInitialized(worker) {\n    if (state.status === 1 /* DeflateWorkerStatus.Loading */) {\n        state.callbacks.forEach(function (callback) { return callback(worker); });\n        state = { status: 3 /* DeflateWorkerStatus.Initialized */, worker: worker };\n    }\n}\nfunction onError(error) {\n    if (state.status === 1 /* DeflateWorkerStatus.Loading */) {\n        _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.display.error('Session Replay recording failed to start: an error occurred while creating the Worker:', error);\n        if (error instanceof Event || (error instanceof Error && isMessageCspRelated(error.message))) {\n            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.display.error('Please make sure CSP is correctly configured ' +\n                'https://docs.datadoghq.com/real_user_monitoring/faq/content_security_policy');\n        }\n        else {\n            (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.addTelemetryError)(error);\n        }\n        state.callbacks.forEach(function (callback) { return callback(); });\n        state = { status: 2 /* DeflateWorkerStatus.Error */ };\n    }\n    else {\n        (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.addTelemetryError)(error);\n    }\n}\nfunction isMessageCspRelated(message) {\n    return ((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.includes)(message, 'Content Security Policy') ||\n        // Related to `require-trusted-types-for` CSP: https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/require-trusted-types-for\n        (0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.includes)(message, \"requires 'TrustedScriptURL'\"));\n}\n//# sourceMappingURL=startDeflateWorker.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtL2VzbS9kb21haW4vc2VnbWVudENvbGxlY3Rpb24vc3RhcnREZWZsYXRlV29ya2VyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQStGO0FBQ3pDO0FBQ3RELGNBQWM7QUFDUDtBQUNQLDhDQUE4QywwQkFBMEIsK0RBQW1CO0FBQzNGO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsOENBQThDLDBCQUEwQiwrREFBbUI7QUFDM0Y7QUFDQTtBQUNBLFFBQVEsdUVBQWdCO0FBQ3hCLFFBQVEsdUVBQWdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULCtCQUErQixnQkFBZ0I7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCwwQkFBMEI7QUFDaEYsa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSwwREFBTztBQUNmO0FBQ0EsWUFBWSwwREFBTztBQUNuQjtBQUNBO0FBQ0E7QUFDQSxZQUFZLHdFQUFpQjtBQUM3QjtBQUNBLHNEQUFzRCxvQkFBb0I7QUFDMUUsa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQSxRQUFRLHdFQUFpQjtBQUN6QjtBQUNBO0FBQ0E7QUFDQSxZQUFZLCtEQUFRO0FBQ3BCO0FBQ0EsUUFBUSwrREFBUTtBQUNoQjtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFyY2FzdGVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLXJ1bS9lc20vZG9tYWluL3NlZ21lbnRDb2xsZWN0aW9uL3N0YXJ0RGVmbGF0ZVdvcmtlci5qcz9mYmRjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFkZFRlbGVtZXRyeUVycm9yLCBkaXNwbGF5LCBpbmNsdWRlcywgYWRkRXZlbnRMaXN0ZW5lciB9IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItY29yZSc7XG5pbXBvcnQgeyBjcmVhdGVEZWZsYXRlV29ya2VyIH0gZnJvbSAnLi9kZWZsYXRlV29ya2VyJztcbnZhciBzdGF0ZSA9IHsgc3RhdHVzOiAwIC8qIERlZmxhdGVXb3JrZXJTdGF0dXMuTmlsICovIH07XG5leHBvcnQgZnVuY3Rpb24gc3RhcnREZWZsYXRlV29ya2VyKGNhbGxiYWNrLCBjcmVhdGVEZWZsYXRlV29ya2VySW1wbCkge1xuICAgIGlmIChjcmVhdGVEZWZsYXRlV29ya2VySW1wbCA9PT0gdm9pZCAwKSB7IGNyZWF0ZURlZmxhdGVXb3JrZXJJbXBsID0gY3JlYXRlRGVmbGF0ZVdvcmtlcjsgfVxuICAgIHN3aXRjaCAoc3RhdGUuc3RhdHVzKSB7XG4gICAgICAgIGNhc2UgMCAvKiBEZWZsYXRlV29ya2VyU3RhdHVzLk5pbCAqLzpcbiAgICAgICAgICAgIHN0YXRlID0geyBzdGF0dXM6IDEgLyogRGVmbGF0ZVdvcmtlclN0YXR1cy5Mb2FkaW5nICovLCBjYWxsYmFja3M6IFtjYWxsYmFja10gfTtcbiAgICAgICAgICAgIGRvU3RhcnREZWZsYXRlV29ya2VyKGNyZWF0ZURlZmxhdGVXb3JrZXJJbXBsKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDEgLyogRGVmbGF0ZVdvcmtlclN0YXR1cy5Mb2FkaW5nICovOlxuICAgICAgICAgICAgc3RhdGUuY2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMiAvKiBEZWZsYXRlV29ya2VyU3RhdHVzLkVycm9yICovOlxuICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDMgLyogRGVmbGF0ZVdvcmtlclN0YXR1cy5Jbml0aWFsaXplZCAqLzpcbiAgICAgICAgICAgIGNhbGxiYWNrKHN0YXRlLndvcmtlcik7XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gcmVzZXREZWZsYXRlV29ya2VyU3RhdGUoKSB7XG4gICAgc3RhdGUgPSB7IHN0YXR1czogMCAvKiBEZWZsYXRlV29ya2VyU3RhdHVzLk5pbCAqLyB9O1xufVxuLyoqXG4gKiBTdGFydHMgdGhlIGRlZmxhdGUgd29ya2VyIGFuZCBoYW5kbGUgbWVzc2FnZXMgYW5kIGVycm9yc1xuICpcbiAqIFRoZSBzcGVjIGFsbG93IGJyb3dzZXJzIHRvIGhhbmRsZSB3b3JrZXIgZXJyb3JzIGRpZmZlcmVudGx5OlxuICogLSBDaHJvbWl1bSB0aHJvd3MgYW4gZXhjZXB0aW9uXG4gKiAtIEZpcmVmb3ggZmlyZXMgYW4gZXJyb3IgZXZlbnRcbiAqXG4gKiBtb3JlIGRldGFpbHM6IGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTE3MzY4NjUjYzJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRvU3RhcnREZWZsYXRlV29ya2VyKGNyZWF0ZURlZmxhdGVXb3JrZXJJbXBsKSB7XG4gICAgaWYgKGNyZWF0ZURlZmxhdGVXb3JrZXJJbXBsID09PSB2b2lkIDApIHsgY3JlYXRlRGVmbGF0ZVdvcmtlckltcGwgPSBjcmVhdGVEZWZsYXRlV29ya2VyOyB9XG4gICAgdHJ5IHtcbiAgICAgICAgdmFyIHdvcmtlcl8xID0gY3JlYXRlRGVmbGF0ZVdvcmtlckltcGwoKTtcbiAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcih3b3JrZXJfMSwgJ2Vycm9yJywgb25FcnJvcik7XG4gICAgICAgIGFkZEV2ZW50TGlzdGVuZXIod29ya2VyXzEsICdtZXNzYWdlJywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IF9hLmRhdGE7XG4gICAgICAgICAgICBpZiAoZGF0YS50eXBlID09PSAnZXJyb3JlZCcpIHtcbiAgICAgICAgICAgICAgICBvbkVycm9yKGRhdGEuZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZGF0YS50eXBlID09PSAnaW5pdGlhbGl6ZWQnKSB7XG4gICAgICAgICAgICAgICAgb25Jbml0aWFsaXplZCh3b3JrZXJfMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB3b3JrZXJfMS5wb3N0TWVzc2FnZSh7IGFjdGlvbjogJ2luaXQnIH0pO1xuICAgICAgICByZXR1cm4gd29ya2VyXzE7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBvbkVycm9yKGVycm9yKTtcbiAgICB9XG59XG5mdW5jdGlvbiBvbkluaXRpYWxpemVkKHdvcmtlcikge1xuICAgIGlmIChzdGF0ZS5zdGF0dXMgPT09IDEgLyogRGVmbGF0ZVdvcmtlclN0YXR1cy5Mb2FkaW5nICovKSB7XG4gICAgICAgIHN0YXRlLmNhbGxiYWNrcy5mb3JFYWNoKGZ1bmN0aW9uIChjYWxsYmFjaykgeyByZXR1cm4gY2FsbGJhY2sod29ya2VyKTsgfSk7XG4gICAgICAgIHN0YXRlID0geyBzdGF0dXM6IDMgLyogRGVmbGF0ZVdvcmtlclN0YXR1cy5Jbml0aWFsaXplZCAqLywgd29ya2VyOiB3b3JrZXIgfTtcbiAgICB9XG59XG5mdW5jdGlvbiBvbkVycm9yKGVycm9yKSB7XG4gICAgaWYgKHN0YXRlLnN0YXR1cyA9PT0gMSAvKiBEZWZsYXRlV29ya2VyU3RhdHVzLkxvYWRpbmcgKi8pIHtcbiAgICAgICAgZGlzcGxheS5lcnJvcignU2Vzc2lvbiBSZXBsYXkgcmVjb3JkaW5nIGZhaWxlZCB0byBzdGFydDogYW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgY3JlYXRpbmcgdGhlIFdvcmtlcjonLCBlcnJvcik7XG4gICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEV2ZW50IHx8IChlcnJvciBpbnN0YW5jZW9mIEVycm9yICYmIGlzTWVzc2FnZUNzcFJlbGF0ZWQoZXJyb3IubWVzc2FnZSkpKSB7XG4gICAgICAgICAgICBkaXNwbGF5LmVycm9yKCdQbGVhc2UgbWFrZSBzdXJlIENTUCBpcyBjb3JyZWN0bHkgY29uZmlndXJlZCAnICtcbiAgICAgICAgICAgICAgICAnaHR0cHM6Ly9kb2NzLmRhdGFkb2docS5jb20vcmVhbF91c2VyX21vbml0b3JpbmcvZmFxL2NvbnRlbnRfc2VjdXJpdHlfcG9saWN5Jyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhZGRUZWxlbWV0cnlFcnJvcihlcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgc3RhdGUuY2FsbGJhY2tzLmZvckVhY2goZnVuY3Rpb24gKGNhbGxiYWNrKSB7IHJldHVybiBjYWxsYmFjaygpOyB9KTtcbiAgICAgICAgc3RhdGUgPSB7IHN0YXR1czogMiAvKiBEZWZsYXRlV29ya2VyU3RhdHVzLkVycm9yICovIH07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBhZGRUZWxlbWV0cnlFcnJvcihlcnJvcik7XG4gICAgfVxufVxuZnVuY3Rpb24gaXNNZXNzYWdlQ3NwUmVsYXRlZChtZXNzYWdlKSB7XG4gICAgcmV0dXJuIChpbmNsdWRlcyhtZXNzYWdlLCAnQ29udGVudCBTZWN1cml0eSBQb2xpY3knKSB8fFxuICAgICAgICAvLyBSZWxhdGVkIHRvIGByZXF1aXJlLXRydXN0ZWQtdHlwZXMtZm9yYCBDU1A6IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUVFAvSGVhZGVycy9Db250ZW50LVNlY3VyaXR5LVBvbGljeS9yZXF1aXJlLXRydXN0ZWQtdHlwZXMtZm9yXG4gICAgICAgIGluY2x1ZGVzKG1lc3NhZ2UsIFwicmVxdWlyZXMgJ1RydXN0ZWRTY3JpcHRVUkwnXCIpKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0YXJ0RGVmbGF0ZVdvcmtlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum/esm/domain/segmentCollection/startDeflateWorker.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum/esm/entries/main.js":
/*!*******************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum/esm/entries/main.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DefaultPrivacyLevel: () => (/* reexport safe */ _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.DefaultPrivacyLevel),\n/* harmony export */   datadogRum: () => (/* binding */ datadogRum)\n/* harmony export */ });\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/boot/init.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/tools/getGlobalObject.js\");\n/* harmony import */ var _datadog_browser_rum_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @datadog/browser-rum-core */ \"(ssr)/../../node_modules/@datadog/browser-rum-core/esm/index.js\");\n/* harmony import */ var _boot_startRecording__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../boot/startRecording */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/boot/startRecording.js\");\n/* harmony import */ var _boot_recorderApi__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../boot/recorderApi */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/boot/recorderApi.js\");\n/* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @datadog/browser-core */ \"(ssr)/../../node_modules/@datadog/browser-core/esm/domain/configuration/configuration.js\");\n// Keep the following in sync with packages/rum-slim/src/entries/main.ts\n\n\n\n\n\nvar recorderApi = (0,_boot_recorderApi__WEBPACK_IMPORTED_MODULE_2__.makeRecorderApi)(_boot_startRecording__WEBPACK_IMPORTED_MODULE_1__.startRecording);\nvar datadogRum = (0,_datadog_browser_rum_core__WEBPACK_IMPORTED_MODULE_0__.makeRumPublicApi)(_datadog_browser_rum_core__WEBPACK_IMPORTED_MODULE_0__.startRum, recorderApi);\n(0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.defineGlobal)((0,_datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.getGlobalObject)(), 'DD_RUM', datadogRum);\n//# sourceMappingURL=main.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtL2VzbS9lbnRyaWVzL21haW4uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUNzRTtBQUNDO0FBQ2Y7QUFDRjtBQUNNO0FBQzVELGtCQUFrQixrRUFBZSxDQUFDLGdFQUFjO0FBQ3pDLGlCQUFpQiwyRUFBZ0IsQ0FBQywrREFBUTtBQUNqRCxtRUFBWSxDQUFDLHNFQUFlO0FBQzVCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFyY2FzdGVyLy4uLy4uL25vZGVfbW9kdWxlcy9AZGF0YWRvZy9icm93c2VyLXJ1bS9lc20vZW50cmllcy9tYWluLmpzP2U4MTAiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gS2VlcCB0aGUgZm9sbG93aW5nIGluIHN5bmMgd2l0aCBwYWNrYWdlcy9ydW0tc2xpbS9zcmMvZW50cmllcy9tYWluLnRzXG5pbXBvcnQgeyBkZWZpbmVHbG9iYWwsIGdldEdsb2JhbE9iamVjdCB9IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItY29yZSc7XG5pbXBvcnQgeyBtYWtlUnVtUHVibGljQXBpLCBzdGFydFJ1bSB9IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUnO1xuaW1wb3J0IHsgc3RhcnRSZWNvcmRpbmcgfSBmcm9tICcuLi9ib290L3N0YXJ0UmVjb3JkaW5nJztcbmltcG9ydCB7IG1ha2VSZWNvcmRlckFwaSB9IGZyb20gJy4uL2Jvb3QvcmVjb3JkZXJBcGknO1xuZXhwb3J0IHsgRGVmYXVsdFByaXZhY3lMZXZlbCB9IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItY29yZSc7XG52YXIgcmVjb3JkZXJBcGkgPSBtYWtlUmVjb3JkZXJBcGkoc3RhcnRSZWNvcmRpbmcpO1xuZXhwb3J0IHZhciBkYXRhZG9nUnVtID0gbWFrZVJ1bVB1YmxpY0FwaShzdGFydFJ1bSwgcmVjb3JkZXJBcGkpO1xuZGVmaW5lR2xvYmFsKGdldEdsb2JhbE9iamVjdCgpLCAnRERfUlVNJywgZGF0YWRvZ1J1bSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYWluLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum/esm/entries/main.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum/esm/types/index.js":
/*!******************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum/esm/types/index.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   IncrementalSource: () => (/* reexport safe */ _sessionReplayConstants__WEBPACK_IMPORTED_MODULE_1__.IncrementalSource),\n/* harmony export */   MediaInteractionType: () => (/* reexport safe */ _sessionReplayConstants__WEBPACK_IMPORTED_MODULE_1__.MediaInteractionType),\n/* harmony export */   MouseInteractionType: () => (/* reexport safe */ _sessionReplayConstants__WEBPACK_IMPORTED_MODULE_1__.MouseInteractionType),\n/* harmony export */   NodeType: () => (/* reexport safe */ _sessionReplayConstants__WEBPACK_IMPORTED_MODULE_1__.NodeType),\n/* harmony export */   RecordType: () => (/* reexport safe */ _sessionReplayConstants__WEBPACK_IMPORTED_MODULE_1__.RecordType)\n/* harmony export */ });\n/* harmony import */ var _sessionReplay__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./sessionReplay */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/types/sessionReplay.js\");\n/* harmony import */ var _sessionReplayConstants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./sessionReplayConstants */ \"(ssr)/../../node_modules/@datadog/browser-rum/esm/types/sessionReplayConstants.js\");\n\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtL2VzbS90eXBlcy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQWdDO0FBQ1M7QUFDekMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYXJjYXN0ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtL2VzbS90eXBlcy9pbmRleC5qcz84OGE0Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCAqIGZyb20gJy4vc2Vzc2lvblJlcGxheSc7XG5leHBvcnQgKiBmcm9tICcuL3Nlc3Npb25SZXBsYXlDb25zdGFudHMnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum/esm/types/index.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum/esm/types/sessionReplay.js":
/*!**************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum/esm/types/sessionReplay.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* eslint-disable */\n/**\n * DO NOT MODIFY IT BY HAND. Run `yarn rum-events-format:sync` instead.\n */\n\n//# sourceMappingURL=sessionReplay.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtL2VzbS90eXBlcy9zZXNzaW9uUmVwbGF5LmpzIiwibWFwcGluZ3MiOiI7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNVO0FBQ1YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYXJjYXN0ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtL2VzbS90eXBlcy9zZXNzaW9uUmVwbGF5LmpzPzY3YzkiXSwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgKi9cbi8qKlxuICogRE8gTk9UIE1PRElGWSBJVCBCWSBIQU5ELiBSdW4gYHlhcm4gcnVtLWV2ZW50cy1mb3JtYXQ6c3luY2AgaW5zdGVhZC5cbiAqL1xuZXhwb3J0IHt9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2Vzc2lvblJlcGxheS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum/esm/types/sessionReplay.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@datadog/browser-rum/esm/types/sessionReplayConstants.js":
/*!***********************************************************************************!*\
  !*** ../../node_modules/@datadog/browser-rum/esm/types/sessionReplayConstants.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   IncrementalSource: () => (/* binding */ IncrementalSource),\n/* harmony export */   MediaInteractionType: () => (/* binding */ MediaInteractionType),\n/* harmony export */   MouseInteractionType: () => (/* binding */ MouseInteractionType),\n/* harmony export */   NodeType: () => (/* binding */ NodeType),\n/* harmony export */   RecordType: () => (/* binding */ RecordType)\n/* harmony export */ });\nvar RecordType = {\n    FullSnapshot: 2,\n    IncrementalSnapshot: 3,\n    Meta: 4,\n    Focus: 6,\n    ViewEnd: 7,\n    VisualViewport: 8,\n    FrustrationRecord: 9,\n};\nvar NodeType = {\n    Document: 0,\n    DocumentType: 1,\n    Element: 2,\n    Text: 3,\n    CDATA: 4,\n    DocumentFragment: 11,\n};\nvar IncrementalSource = {\n    Mutation: 0,\n    MouseMove: 1,\n    MouseInteraction: 2,\n    Scroll: 3,\n    ViewportResize: 4,\n    Input: 5,\n    TouchMove: 6,\n    MediaInteraction: 7,\n    StyleSheetRule: 8,\n    // CanvasMutation : 9,\n    // Font : 10,\n};\nvar MouseInteractionType = {\n    MouseUp: 0,\n    MouseDown: 1,\n    Click: 2,\n    ContextMenu: 3,\n    DblClick: 4,\n    Focus: 5,\n    Blur: 6,\n    TouchStart: 7,\n    TouchEnd: 9,\n};\nvar MediaInteractionType = {\n    Play: 0,\n    Pause: 1,\n};\n//# sourceMappingURL=sessionReplayConstants.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtL2VzbS90eXBlcy9zZXNzaW9uUmVwbGF5Q29uc3RhbnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYXJjYXN0ZXIvLi4vLi4vbm9kZV9tb2R1bGVzL0BkYXRhZG9nL2Jyb3dzZXItcnVtL2VzbS90eXBlcy9zZXNzaW9uUmVwbGF5Q29uc3RhbnRzLmpzP2I2OTgiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHZhciBSZWNvcmRUeXBlID0ge1xuICAgIEZ1bGxTbmFwc2hvdDogMixcbiAgICBJbmNyZW1lbnRhbFNuYXBzaG90OiAzLFxuICAgIE1ldGE6IDQsXG4gICAgRm9jdXM6IDYsXG4gICAgVmlld0VuZDogNyxcbiAgICBWaXN1YWxWaWV3cG9ydDogOCxcbiAgICBGcnVzdHJhdGlvblJlY29yZDogOSxcbn07XG5leHBvcnQgdmFyIE5vZGVUeXBlID0ge1xuICAgIERvY3VtZW50OiAwLFxuICAgIERvY3VtZW50VHlwZTogMSxcbiAgICBFbGVtZW50OiAyLFxuICAgIFRleHQ6IDMsXG4gICAgQ0RBVEE6IDQsXG4gICAgRG9jdW1lbnRGcmFnbWVudDogMTEsXG59O1xuZXhwb3J0IHZhciBJbmNyZW1lbnRhbFNvdXJjZSA9IHtcbiAgICBNdXRhdGlvbjogMCxcbiAgICBNb3VzZU1vdmU6IDEsXG4gICAgTW91c2VJbnRlcmFjdGlvbjogMixcbiAgICBTY3JvbGw6IDMsXG4gICAgVmlld3BvcnRSZXNpemU6IDQsXG4gICAgSW5wdXQ6IDUsXG4gICAgVG91Y2hNb3ZlOiA2LFxuICAgIE1lZGlhSW50ZXJhY3Rpb246IDcsXG4gICAgU3R5bGVTaGVldFJ1bGU6IDgsXG4gICAgLy8gQ2FudmFzTXV0YXRpb24gOiA5LFxuICAgIC8vIEZvbnQgOiAxMCxcbn07XG5leHBvcnQgdmFyIE1vdXNlSW50ZXJhY3Rpb25UeXBlID0ge1xuICAgIE1vdXNlVXA6IDAsXG4gICAgTW91c2VEb3duOiAxLFxuICAgIENsaWNrOiAyLFxuICAgIENvbnRleHRNZW51OiAzLFxuICAgIERibENsaWNrOiA0LFxuICAgIEZvY3VzOiA1LFxuICAgIEJsdXI6IDYsXG4gICAgVG91Y2hTdGFydDogNyxcbiAgICBUb3VjaEVuZDogOSxcbn07XG5leHBvcnQgdmFyIE1lZGlhSW50ZXJhY3Rpb25UeXBlID0ge1xuICAgIFBsYXk6IDAsXG4gICAgUGF1c2U6IDEsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2Vzc2lvblJlcGxheUNvbnN0YW50cy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@datadog/browser-rum/esm/types/sessionReplayConstants.js\n");

/***/ })

};
;